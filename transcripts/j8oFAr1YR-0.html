<p class="speaker"><span class="line" data-starttime="0"><span class="speakerName">Erik Kay</span>: Hi, everyone. Welcome. I think </span><span class="line" data-startTime="0">we will have a few more people sprinkling </span><span class="line" data-startTime="3">in here, but my name is Erik Kay. </span></p>

<p class="speaker"><span class="line" data-starttime="3"><span class="speakerName">Mihai Parparita</span>: And hi, I'm Mihai Parparita, </span><span class="line" data-startTime="9">and together we work on the Chrome apps team. </span></p>

<p class="speaker"><span class="line" data-starttime="9"><span class="speakerName">Erik Kay</span>: So just a quick show of hands </span><span class="line" data-startTime="20">so I can get a feel for what the audience </span><span class="line" data-startTime="20">is here, how many people are as familiar with </span><span class="line" data-startTime="24">Chrome apps as they are today? </span><span class="line" data-startTime="24">All right, great. That makes things easier. </span> <span class="line" data-startTime="30">So why don't we dive in a little bit and just </span><span class="line" data-startTime="30">sort of do a little recap about how we got </span><span class="line" data-startTime="35">to where we're at today? </span><span class="line" data-startTime="35">So I/O last year we talked about a few things. </span> <span class="line" data-startTime="41">First off, as you know, we talked about Chrome </span><span class="line" data-startTime="41">getting to, you know, 160 million active users. </span> <span class="line" data-startTime="48">We also launched for Chrome apps in-app payments </span><span class="line" data-startTime="48">through Google Wallet. </span> <span class="line" data-startTime="53">We announced that the Web store was now localized </span><span class="line" data-startTime="53">in 42 languages. </span> <span class="line" data-startTime="60">And we had the Angry Birds exclusive promotion </span><span class="line" data-startTime="60">that really showed how that it was really </span><span class="line" data-startTime="67">possible to make great quality apps just using </span><span class="line" data-startTime="67">HTML5. </span> <span class="line" data-startTime="73">And we've kept busy over the last year since </span><span class="line" data-startTime="73">then. </span> <span class="line" data-startTime="77">The first thing, you know, to highlight, is </span><span class="line" data-startTime="77">Native Client. We launched that this fall. </span></p>

<p><span class="line" data-startTime="82">And Native Client really brought to the table </span><span class="line" data-startTime="82">a great set of games. You know, some showed </span><span class="line" data-startTime="89">that you could do high performance computing, </span><span class="line" data-startTime="89">that you could leverage native code in your </span><span class="line" data-startTime="92">browser. Things like Bastion, Mini-Ninjas, </span><span class="line" data-startTime="92">From Dust, great titles that show off the </span><span class="line" data-startTime="98">capabilities of the platform. </span> <span class="line" data-startTime="98">You saw Gaikai in the keynote today that really </span><span class="line" data-startTime="104">was another great example. </span> <span class="line" data-startTime="104">We redesigned the Web store. We have a completely </span><span class="line" data-startTime="109">new look and feel, and that really expanded </span><span class="line" data-startTime="109">the usage that we saw out from our users. </span></p>

<p><span class="line" data-startTime="117">Users were much more engaged. They come back </span><span class="line" data-startTime="117">more frequently. They install more applications. </span> <span class="line" data-startTime="123">We've announced today that we're up to 750 </span><span class="line" data-startTime="123">million app installs. Overall things are going </span><span class="line" data-startTime="128">great for the Web store. </span> <span class="line" data-startTime="128">And of course, you know that Chrome is now </span><span class="line" data-startTime="132">at 310 million active users, almost doubling </span><span class="line" data-startTime="132">last year's number. So the reach potential </span><span class="line" data-startTime="139">for apps has been going through the roof. </span> <span class="line" data-startTime="139">However, you know, that's never enough. And </span><span class="line" data-startTime="147">we want &mdash; we've been worrying about the platform </span><span class="line" data-startTime="147">itself and how to keep pushing that forward. </span> <span class="line" data-startTime="152">And so we've been thinking about, well, what </span><span class="line" data-startTime="152">do Web developers need? What are the capabilities </span><span class="line" data-startTime="157">that are missing from the platform and what </span><span class="line" data-startTime="157">can we do to move things forward? </span><span class="line" data-startTime="161">So we've been listening to your feedback and </span><span class="line" data-startTime="161">we've actually been bringing people on the </span><span class="line" data-startTime="165">team who have come from Web development backgrounds. </span> <span class="line" data-startTime="165">People who have experience building some these </span><span class="line" data-startTime="169">Web apps, like Mihai, who is our tech lead </span><span class="line" data-startTime="169">for Google Reader, which many of you may know. </span></p>

<p class="speaker"><span class="line" data-starttime="177"><span class="speakerName">Mihai Parparita</span>: Yeah. So I was on Google </span><span class="line" data-startTime="177">Reader for quite a few years. As you may know, </span><span class="line" data-startTime="183">Google Reader is an advanced HDIC application </span><span class="line" data-startTime="183">that has pushed the edge of what browsers </span><span class="line" data-startTime="187">can do. </span> <span class="line" data-startTime="187">On the other hand, we feel like the platform </span><span class="line" data-startTime="191">could do more, could provide more flexibility, </span><span class="line" data-startTime="191">more power for Reader and similar apps. </span> <span class="line" data-startTime="196">Just to give you a few examples, Reader is </span><span class="line" data-startTime="196">one of the first apps to be offline enabled, </span><span class="line" data-startTime="201">and that was a technical challenge and we </span><span class="line" data-startTime="201">fought with manifests and caches like everyone </span><span class="line" data-startTime="206">else, but even with that it wasn't the best </span><span class="line" data-startTime="206">user experience. Users had to enable offline </span><span class="line" data-startTime="212">mode. Users had to launch a browser to use </span><span class="line" data-startTime="212">the app which sort of feels like a tautology. </span> <span class="line" data-startTime="217">Why would I use a browser when I'm offline? </span><span class="line" data-startTime="217">Another issue that we faced in Reader was </span><span class="line" data-startTime="222">dealing with third-party content where feeds </span><span class="line" data-startTime="222">can have Flash, they can have iFrames, they </span><span class="line" data-startTime="227">can have arbitrary JavaScript, and we want </span><span class="line" data-startTime="227">to have the experience to be as rich as possible, </span><span class="line" data-startTime="232">but we don't want a random feed to be able </span><span class="line" data-startTime="232">to steal your Google cookies or otherwise </span><span class="line" data-startTime="236">take advantage of the fact that it's being </span><span class="line" data-startTime="236">displayed in a privileged environment. We </span><span class="line" data-startTime="240">have to jump through a lot of hoops to sanitize </span><span class="line" data-startTime="240">the content, have whitelists, blacklists, </span><span class="line" data-startTime="243">and we always lived in fear of well, what </span><span class="line" data-startTime="243">if we missed something? What if tomorrow anyone </span><span class="line" data-startTime="248">can access your Reader account and your account </span><span class="line" data-startTime="248">and all that? </span><span class="line" data-startTime="252">And finally, users wanted a lot more flexibility </span><span class="line" data-startTime="252">about how they consume feeds. Do they want </span><span class="line" data-startTime="256">to open up the item in a new tab, in a new </span><span class="line" data-startTime="256">window, in a pop-up, they want a mini browser </span><span class="line" data-startTime="261">inside of Reader? We couldn't provide any </span><span class="line" data-startTime="261">of that. We could provide a usewindow.open </span><span class="line" data-startTime="265">or target equals blank, and sort of hope for </span><span class="line" data-startTime="265">the best, hope that the pop-up blocker didn't </span><span class="line" data-startTime="269">get us, but that was about it. </span></p>

<p><span class="line" data-startTime="269">So Reader, you know, is in some ways a well-suited </span><span class="line" data-startTime="276">app for the Web environment and I'm sure others </span><span class="line" data-startTime="276">of you have run into even more issues. </span></p>

<p class="speaker"><span class="line" data-starttime="279"><span class="speakerName">Erik Kay</span>: Right. So we took feedback like </span><span class="line" data-startTime="279">that and we really started to push forward </span><span class="line" data-startTime="286">in terms of what we wanted to do. </span> <span class="line" data-startTime="286">We're evolving in four main areas. The main </span><span class="line" data-startTime="291">one that we'll start with is we're pulling </span><span class="line" data-startTime="291">apps outside of the browser. We'll dive into </span><span class="line" data-startTime="297">each of these in more detail, but just the </span><span class="line" data-startTime="297">quick overview is pulling them out of the </span><span class="line" data-startTime="301">browser. We're enhancing the user interface, </span><span class="line" data-startTime="301">giving you more control over the windows and </span><span class="line" data-startTime="306">we're making apps be offline by default, making </span><span class="line" data-startTime="306">it so it's easy to build them in a way that </span><span class="line" data-startTime="310">they behave reasonably with poor network connectivity. </span> <span class="line" data-startTime="310">And finally, we're adding a wealth of new </span><span class="line" data-startTime="316">APIs to give you access to powerful system </span><span class="line" data-startTime="316">and device capabilities. </span> <span class="line" data-startTime="320">So let's dive in a little more deeply. </span> <span class="line" data-startTime="320">So what do we mean by breaking out of the </span><span class="line" data-startTime="325">browser? Well, the first thing we mean is </span><span class="line" data-startTime="325">that you launch apps from outside the browser. </span></p>

<p><span class="line" data-startTime="330">So you'll see in a minute here that basically </span><span class="line" data-startTime="330">you'll no longer need to launch the browser, </span><span class="line" data-startTime="338">go into Chrome, go to the new tab page to </span><span class="line" data-startTime="338">find your apps. The apps will instead come </span><span class="line" data-startTime="342">from the operating system, the traditional </span><span class="line" data-startTime="342">place that you're used to finding them and </span><span class="line" data-startTime="346">launching them. </span> <span class="line" data-startTime="346">Second, the apps will act as peers to their </span><span class="line" data-startTime="350">other native applications, top level windows. </span> <span class="line" data-startTime="350">They interact alt tab to switch between applications. </span> <span class="line" data-startTime="356">Everything you would expect a native app to </span><span class="line" data-startTime="356">behave like in a user interface perspective, </span><span class="line" data-startTime="360">OS integration perspective. It will no longer </span><span class="line" data-startTime="360">be a tab in a browser. </span> <span class="line" data-startTime="367">So let's give them a demo and show them what </span><span class="line" data-startTime="367">this looks like, Mihai. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="370"><span class="speakerName">Mihai Parparita</span>: Sure. So this presentation </span><span class="line" data-startTime="370">is actually in itself an app. The demo just </span><span class="line" data-startTime="376">breaks out of the app. And if I move the window </span><span class="line" data-startTime="376">out of the way you can see that I have my </span><span class="line" data-startTime="383">top level window. It has, you know, minimal </span><span class="line" data-startTime="383">&mdash; no tab strip, no Omnibox, and there's a </span><span class="line" data-startTime="390">Chrome icon at the bottom that seems to be </span><span class="line" data-startTime="390">getting clipped. And where I can make tabs </span><span class="line" data-startTime="396">and the application itself has its own icon </span><span class="line" data-startTime="396">in the launcher. </span> <span class="line" data-startTime="401">This is the experience on Chrome OS where </span><span class="line" data-startTime="401">it is a full application launcher. On Windows </span><span class="line" data-startTime="404">there will be shortcuts on a desktop and the </span><span class="line" data-startTime="404">appropriate behavior on other platforms. </span> <span class="line" data-startTime="409">So let's switch back to the app and let's </span><span class="line" data-startTime="409">talk about UI. </span></p>

<p class="speaker"><span class="line" data-starttime="413"><span class="speakerName">Erik Kay</span>: Right. So enhanced user interface. </span><span class="line" data-startTime="413">So you already saw that it has a native level </span><span class="line" data-startTime="421">&mdash; top level window frame. There's no browser </span><span class="line" data-startTime="421">Chrome, there's no tabs, no address bar, no </span><span class="line" data-startTime="428">back button. And further, you have full control </span><span class="line" data-startTime="428">over the look and feel of that frame. </span><span class="line" data-startTime="436">Next you have &mdash; you can actually manage multi-window </span><span class="line" data-startTime="436">applications. </span><span class="line" data-startTime="439">Actually, I did this the wrong order. But </span><span class="line" data-startTime="439">multi-window applications. So that means you </span><span class="line" data-startTime="445">really will be able to cooperate between multiple </span><span class="line" data-startTime="445">windows and have them interoperate. Today </span><span class="line" data-startTime="450">in tabs it's very hard to sort of have multiple </span><span class="line" data-startTime="450">tabs that are not cooperating with each other </span><span class="line" data-startTime="455">and interacting with each other and it's hard </span><span class="line" data-startTime="455">to do things like tool bars and, you know, </span><span class="line" data-startTime="460">panels that cooperate and interact with your </span><span class="line" data-startTime="460">host window. </span><span class="line" data-startTime="466">And you know, one of the things by not having </span><span class="line" data-startTime="466">browser Chrome is, well, what do links do? </span><span class="line" data-startTime="471">Well, links behave just like they would in </span><span class="line" data-startTime="471">a normal native app. When you click on the </span><span class="line" data-startTime="475">link it opens the browser window. Let's show </span><span class="line" data-startTime="475">them. There's a link to Google.com. </span></p>

<p class="speaker"><span class="line" data-starttime="480"><span class="speakerName">Mihai Parparita</span>: I'll tab back to the application. </span></p>

<p class="speaker"><span class="line" data-starttime="480"><span class="speakerName">Erik Kay</span>: Right. So now you're back inside </span><span class="line" data-startTime="484">the application. So we've got another demo </span><span class="line" data-startTime="484">here that shows a little bit more about what </span><span class="line" data-startTime="489">windowing control can do. </span></p>

<p class="speaker"><span class="line" data-starttime="489"><span class="speakerName">Mihai Parparita</span>: This is a little toy demo </span><span class="line" data-startTime="493">showing that we have an app window. You can </span><span class="line" data-startTime="493">see the minimal Chrome. Bizarro World one </span><span class="line" data-startTime="497">is actually a full custom window where the </span><span class="line" data-startTime="497">app controls every single on it. In this case </span><span class="line" data-startTime="502">I just made it all black. We have full control </span><span class="line" data-startTime="502">over behavior so I know I can have it resize </span><span class="line" data-startTime="510">itself and certainly drag around and follows. </span><span class="line" data-startTime="510">You imagine this could be a little dog toolbar </span><span class="line" data-startTime="515">and I can control it or have the window in </span><span class="line" data-startTime="515">a minimized state. </span></p>

<p class="speaker"><span class="line" data-starttime="519"><span class="speakerName">Erik Kay</span>: Right. So offline by default. </span> <span class="line" data-startTime="519">Before we dive into the specifics of this, </span><span class="line" data-startTime="526">it's probably worth explaining what do we </span><span class="line" data-startTime="526">mean by offline. </span> <span class="line" data-startTime="530">So A lot of people think offline and they </span><span class="line" data-startTime="530">think, okay, I'm on an airplane, I have no </span><span class="line" data-startTime="534">connectivity whatsoever. That's not the only </span><span class="line" data-startTime="534">time that offline matters for applications. </span> <span class="line" data-startTime="540">Offline can mean I have got slow connectivity. </span> <span class="line" data-startTime="540">I've got spotty connectivity. For anyone who </span><span class="line" data-startTime="546">uses a cellular network, maybe in this building, </span><span class="line" data-startTime="546">the Wi-Fi, you know, you're used to not have </span><span class="line" data-startTime="552">reliable connectivity. </span> <span class="line" data-startTime="552">The speed might change as you go. Maybe you're </span><span class="line" data-startTime="556">in a hotel with a captive proxy. If your application </span><span class="line" data-startTime="556">is trying to talk over the network, it needs </span><span class="line" data-startTime="561">to be able to be robust in the face of these </span><span class="line" data-startTime="561">different network connections. </span> <span class="line" data-startTime="565">So how do we do this? Well, we're starting </span><span class="line" data-startTime="565">from a base of Chrome packaged apps. Basically </span><span class="line" data-startTime="571">for those of you who aren't familiar with </span><span class="line" data-startTime="571">Chrome apps in general, packaged apps are </span><span class="line" data-startTime="576">a zip file, a collection of HTML, JavaScript </span><span class="line" data-startTime="576">and other resources for your Web application </span><span class="line" data-startTime="584">that are downloaded, installed on the user's </span><span class="line" data-startTime="584">computer. So all the code and logic is always </span><span class="line" data-startTime="588">there ready to go. </span></p>

<p><span class="line" data-startTime="588">We take some extra steps and &mdash; to make sure </span><span class="line" data-startTime="594">that we're enforcing a strict separation between </span><span class="line" data-startTime="594">data and user interface. </span> <span class="line" data-startTime="599">By being packaged, by making sure that all </span><span class="line" data-startTime="599">the code and logic are always being &mdash; are </span><span class="line" data-startTime="605">always running from client side and not being </span><span class="line" data-startTime="605">generated server side, we mean that the app </span><span class="line" data-startTime="609">doesn't get into a broken state and it's up </span><span class="line" data-startTime="609">to you to download your data, store it locally, </span><span class="line" data-startTime="615">render your UI appropriately. </span> <span class="line" data-startTime="615">We further enforce this with &mdash; support this </span><span class="line" data-startTime="621">with building APIs that are themselves resilient </span><span class="line" data-startTime="621">to being in these poor network connectivity </span><span class="line" data-startTime="629">conditions. </span> <span class="line" data-startTime="629">And finally, this may seem like a small thing, </span><span class="line" data-startTime="634">but the fact that we've moved apps from launching </span><span class="line" data-startTime="634">outside the browser actually addresses one </span><span class="line" data-startTime="638">of the key usability issues with offline. </span> <span class="line" data-startTime="638">Today some of you may have actually gone through </span><span class="line" data-startTime="643">the effort to make your hosted Web app work </span><span class="line" data-startTime="643">offline and found that even after you went </span><span class="line" data-startTime="649">through all the effort to work with AppCache </span><span class="line" data-startTime="649">and make that do what you want it had to do </span><span class="line" data-startTime="653">that users are still not finding that functionality </span><span class="line" data-startTime="653">and they are still frustrated with using it. </span></p>

<p><span class="line" data-startTime="659">For the reasons that Mihai was pointing out </span><span class="line" data-startTime="659">before, they had to know first to launch the </span><span class="line" data-startTime="665">browser, then they had to somehow navigate </span><span class="line" data-startTime="665">to your app. Well, if they know how to bookmark </span><span class="line" data-startTime="671">it, that's about 10% of users, then they can </span><span class="line" data-startTime="671">get back to it. What about for the rest of </span><span class="line" data-startTime="675">the users? </span><span class="line" data-startTime="675">Well, for them they have to either know what </span><span class="line" data-startTime="681">the URL is ahead of time or for many of them </span><span class="line" data-startTime="681">actually what they do is they go to their </span><span class="line" data-startTime="684">favorite search engine and they try to navigate </span><span class="line" data-startTime="684">to it. And guess what? When you're offline </span><span class="line" data-startTime="688">search engines don't really work. </span> <span class="line" data-startTime="688">So people in a poor connected world are continuously </span><span class="line" data-startTime="695">reinforced that the browser doesn't work because </span><span class="line" data-startTime="695">all their tabs are broken. Even when they </span><span class="line" data-startTime="701">have an app that they know works, they don't </span><span class="line" data-startTime="701">know how to get to it. So pulling app outside </span><span class="line" data-startTime="704">the browser and making it a first class peer </span><span class="line" data-startTime="704">to their other native applications gets past </span><span class="line" data-startTime="710">all that anxiety and all the logistics of </span><span class="line" data-startTime="710">getting there. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="713"><span class="speakerName">Mihai Parparita</span>: So we're gonna demo this </span><span class="line" data-startTime="713">very quickly and we'll get the presentation </span><span class="line" data-startTime="720">out of the way. I'm going to yank the ethernet </span><span class="line" data-startTime="720">cable out of my Chromebook. </span> <span class="line" data-startTime="725">As you can see there's a little icon in the </span><span class="line" data-startTime="725">corner that says I'm offline. I can refresh </span><span class="line" data-startTime="729">Google and show that it doesn't seem to work. </span> <span class="line" data-startTime="729">And we're going to install an app. </span> <span class="line" data-startTime="734">In this case we're going to sort of do a kind </span><span class="line" data-startTime="734">of stress test where we are offline. We're </span><span class="line" data-startTime="738">going to install the app right now in developer </span><span class="line" data-startTime="738">mode, but it should process the same. And </span><span class="line" data-startTime="743">this app has never had a chance to run before. </span></p>

<p><span class="line" data-startTime="743">It's never had a chance to talk to its server, </span><span class="line" data-startTime="748">download data, but the experience should still </span><span class="line" data-startTime="748">be acceptable. </span> <span class="line" data-startTime="752">The specific app we're doing is a diff tool </span><span class="line" data-startTime="752">that lets you compare files. So when it launched </span><span class="line" data-startTime="757">it has an offline indicator that says you're </span><span class="line" data-startTime="757">currently offline, so all it can do is it </span><span class="line" data-startTime="762">can diff local files, but dash will keep working. </span> <span class="line" data-startTime="762">So let me pick a couple of files. And as you </span><span class="line" data-startTime="778">can see &mdash; I lost focus. </span> <span class="line" data-startTime="778">As you can see, the application still works. </span> <span class="line" data-startTime="780">If I manage to find the ethernet cable and </span><span class="line" data-startTime="780">plug it back in &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="783"><span class="speakerName">Erik Kay</span>: While Mihai is doing that, I'll </span><span class="line" data-startTime="783">point out that we're doing this demo on Chromebook </span><span class="line" data-startTime="792">and we're doing it with the latest Canary </span><span class="line" data-startTime="792">build of Chrome OS. So we're taunting the </span><span class="line" data-startTime="801">demo gods &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="801"><span class="speakerName">Mihai Parparita</span>: Fine in this case. We are </span><span class="line" data-startTime="804">back on line. The app has noticed that we </span><span class="line" data-startTime="804">are online. The choose URL feature has appeared, </span><span class="line" data-startTime="810">so now we can diff not just local files, but </span><span class="line" data-startTime="810">ones that live on a server. So I think I have </span><span class="line" data-startTime="821">some cuts. And as you can see &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="821"><span class="speakerName">Erik Kay</span>: This is really a tortured case </span><span class="line" data-startTime="832">for an application. It launched for the first </span><span class="line" data-startTime="832">time never having seen the network. So it </span><span class="line" data-startTime="838">was able to run robustly. Without quitting </span><span class="line" data-startTime="838">and relaunching it, it recovered. So it was </span><span class="line" data-startTime="844">able to see, you know, the fact that the network </span><span class="line" data-startTime="844">was back. You didn't have to do anything, </span><span class="line" data-startTime="849">you didn't have to refresh the page, you didn't </span><span class="line" data-startTime="849">have to take that extra step. The app was </span><span class="line" data-startTime="853">just able to proceed. </span></p>

<p class="speaker"><span class="line" data-starttime="853"><span class="speakerName">Mihai Parparita</span>: Now that the projector </span><span class="line" data-startTime="855">has been fixed you guys can see that the app </span><span class="line" data-startTime="855">launcher at the bottom is what I was referring </span><span class="line" data-startTime="859">where all these apps can be launched offline. </span></p>

<p class="speaker"><span class="line" data-starttime="859"><span class="speakerName">Erik Kay</span>: Right. All right. So new APIs. </span><span class="line" data-startTime="870">Now, this is one of the more &mdash; the area that </span><span class="line" data-startTime="870">I think most of you are going to dive into </span><span class="line" data-startTime="874">first when you start playing with Chrome packaged </span><span class="line" data-startTime="874">apps. And it's all the new APIs. We think </span><span class="line" data-startTime="880">of them in three groups. The first area are </span><span class="line" data-startTime="880">what we call system APIs. The system APIs </span><span class="line" data-startTime="886">interact with the operating system at a low </span><span class="line" data-startTime="886">level or with hardware on your device, so </span><span class="line" data-startTime="890">maybe USB or bluetooth, or as you saw in this </span><span class="line" data-startTime="890">morning's keynote, raw UDP or TCP. </span><span class="line" data-startTime="894">These will enable a wide variety of apps that </span><span class="line" data-startTime="894">you've never been able to build with Web technology </span><span class="line" data-startTime="904">before. </span><span class="line" data-startTime="904">Next we've got shared data APIs, and shared </span><span class="line" data-startTime="906">data APIs are &mdash; provide ways of interoperating </span><span class="line" data-startTime="906">with other applications on your system. Things </span><span class="line" data-startTime="912">like photos or contacts, calendar entries, </span><span class="line" data-startTime="912">things that you want to be able to access </span><span class="line" data-startTime="917">safely from multiple applications. </span><span class="line" data-startTime="917">And finally then a group of service APIs. </span><span class="line" data-startTime="922">The service APIs are your &mdash; the Web services </span><span class="line" data-startTime="922">that you all know and love, but built into </span><span class="line" data-startTime="929">Chrome, into the Chrome runtime in such a </span><span class="line" data-startTime="929">way that it's going to be resilient to poor </span><span class="line" data-startTime="934">network conditions. So things like analytics, </span><span class="line" data-startTime="934">in-app payments, things like that, will be </span><span class="line" data-startTime="942">coming to the APIs. </span><span class="line" data-startTime="942">Why don't we give a demo of one of these APIs </span><span class="line" data-startTime="945">in action? </span></p>

<p class="speaker"><span class="line" data-starttime="945"><span class="speakerName">Mihai Parparita</span>: Sure. So this demo is going </span><span class="line" data-startTime="948">to display me because I'm going to hold a </span><span class="line" data-startTime="948">physical device here. This is a little science </span><span class="line" data-startTime="956">fair kind of project that one of our engineers </span><span class="line" data-startTime="956">Mike made. It has an arduino board on the </span><span class="line" data-startTime="960">back. It has &mdash; it talks to the Chromebook </span><span class="line" data-startTime="960">via a serial port, a serial-over-bluetooth </span><span class="line" data-startTime="966">a serial-over-USB in this case, and it has </span><span class="line" data-startTime="966">a little stepper motor here that is controlled </span><span class="line" data-startTime="972">by the arduino. And the slider at the bottom </span><span class="line" data-startTime="972">of the screen controls the motor. It just </span><span class="line" data-startTime="977">sends a one-byte command saying "please rotate </span><span class="line" data-startTime="977">to my current position," and that goes over </span><span class="line" data-startTime="984">the serial wire, the arduino interprets it. </span><span class="line" data-startTime="984">The key thing here is that the Chromebook </span><span class="line" data-startTime="990">knows nothing about this particular device </span><span class="line" data-startTime="990">or about arduino in general, it just knows </span><span class="line" data-startTime="995">that there's a serial port and that in turn </span><span class="line" data-startTime="995">is exposed to the application. So all of the </span><span class="line" data-startTime="999">logic about the specific device is in the </span><span class="line" data-startTime="999">application that can be installed by any user. </span></p>

<p class="speaker"><span class="line" data-starttime="1004"><span class="speakerName">Erik Kay</span>: The other key bit is that all </span><span class="line" data-startTime="1004">this code is just JavaScript and HTML, right? </span><span class="line" data-startTime="1008">It is &mdash; no special, no device drivers, no, </span><span class="line" data-startTime="1008">like, native code that needed to be there. </span> <span class="line" data-startTime="1015">That said, we are going to be providing bindings </span><span class="line" data-startTime="1015">in addition to JavaScript, also to Dart and </span><span class="line" data-startTime="1020">to Native Client, so you will be able to access </span><span class="line" data-startTime="1020">these APIs from whatever programming environment </span><span class="line" data-startTime="1023">that you'd like. </span> <span class="line" data-startTime="1023">Speaking of the programming model, why don't </span><span class="line" data-startTime="1027">we dive in and take a look at some code. </span> <span class="line" data-startTime="1027">Before we do that, though, just a refresher </span><span class="line" data-startTime="1033">of what is behind the core bit of the programming </span><span class="line" data-startTime="1033">model. So as I said, these are packaged apps, </span><span class="line" data-startTime="1040">and that means they're a directory full of </span><span class="line" data-startTime="1040">resources. </span> <span class="line" data-startTime="1042">They have a background page that acts as a </span><span class="line" data-startTime="1042">hub, so what that means is this is what starts </span><span class="line" data-startTime="1053">up. When you launch the app, a background </span><span class="line" data-startTime="1053">page launches and it triggers an event, and </span><span class="line" data-startTime="1059">that's what &mdash; then it's up to you to decide </span><span class="line" data-startTime="1059">what to do. </span> <span class="line" data-startTime="1062">In previous incarnations of Chrome apps we </span><span class="line" data-startTime="1062">had a launch URL, basically a page that would </span><span class="line" data-startTime="1068">open up in a tab. Now you've got full control </span><span class="line" data-startTime="1068">over how your app behaves, how many windows </span><span class="line" data-startTime="1073">it opens up, if it even opens up a window </span><span class="line" data-startTime="1073">at all, or does something in the background. </span></p>

<p><span class="line" data-startTime="1079">And that last step is sort of an important </span><span class="line" data-startTime="1079">use case that we're really interested in is </span><span class="line" data-startTime="1084">being able to handle system level events and </span><span class="line" data-startTime="1084">have your app come and go based on signals </span><span class="line" data-startTime="1090">from the runtime. </span> <span class="line" data-startTime="1090">So let's take a look at some of the code that </span><span class="line" data-startTime="1094">shows this in action. </span></p>

<p class="speaker"><span class="line" data-starttime="1094"><span class="speakerName">Mihai Parparita</span>: Sure. So I'm going to call </span><span class="line" data-startTime="1098">up a Hello World demo. And incidentally, to </span><span class="line" data-startTime="1098">actually code the app I'm going to use an </span><span class="line" data-startTime="1104">app. This is a text editor that's been whipped </span><span class="line" data-startTime="1104">up by one of our other engineers. </span><span class="line" data-startTime="1110">So like Erik said, first we start with the </span><span class="line" data-startTime="1110">manifest. </span><span class="line" data-startTime="1114">So if you went to the extension talk yesterday, </span><span class="line" data-startTime="1114">you know there's a new manifest called Manifest </span><span class="line" data-startTime="1119">Version 2. </span></p>

<p class="speaker"><span class="line" data-starttime="1119"><span class="speakerName">Erik Kay</span>: Right. And Manifest 2 basically </span><span class="line" data-startTime="1124">is the trigger that we use to enforce some </span><span class="line" data-startTime="1124">of the new policies with apps and extensions, </span><span class="line" data-startTime="1129">and fork turns on CSP by default which we'll </span><span class="line" data-startTime="1129">talk about in a little bit, but it also is </span><span class="line" data-startTime="1135">one of the keys for showing off the new app </span><span class="line" data-startTime="1135">behavior. It also has a &mdash; the basics that </span><span class="line" data-startTime="1143">you're used to, a name, a version, and another </span><span class="line" data-startTime="1143">field that is &mdash; you've seen before, the app </span><span class="line" data-startTime="1153">field, but rather than a launch URL like we </span><span class="line" data-startTime="1153">said before, instead it has a designation </span><span class="line" data-startTime="1157">of the background page, as I said, the main, </span><span class="line" data-startTime="1157">the hub of the application, it uses the same </span><span class="line" data-startTime="1163">event page technology that we've just announced </span><span class="line" data-startTime="1163">with Chrome extensions which means that it </span><span class="line" data-startTime="1169">basically can come and go on demand, as the </span><span class="line" data-startTime="1169">system needs it. So we specified the app. </span> <span class="line" data-startTime="1176">The other thing actually, Mihai, you might </span><span class="line" data-startTime="1176">want to add permissions to it. So permissions </span><span class="line" data-startTime="1181">are the way of specifying in the manifest </span><span class="line" data-startTime="1181">what capabilities your app needs up front. </span> <span class="line" data-startTime="1187">This allows us to, you know, control, you </span><span class="line" data-startTime="1187">know, it's a security feature that basically </span><span class="line" data-startTime="1194">allows us to limit the damage that an application </span><span class="line" data-startTime="1194">can do if it has a bug in it. So then next, </span><span class="line" data-startTime="1199">we're diving into the actual background page </span><span class="line" data-startTime="1199">itself. This is main. As I mentioned before, </span><span class="line" data-startTime="1205">what it does is it loads, and then it fires </span><span class="line" data-startTime="1205">off a launch event. So the first thing Mihai </span><span class="line" data-startTime="1211">does in his background page is set up an event </span><span class="line" data-startTime="1211">listener in the background page, and in that, </span><span class="line" data-startTime="1217">first thing he does is to create a window, </span><span class="line" data-startTime="1217">using our new window app API. And basically </span><span class="line" data-startTime="1222">this is the Hello World, launch the app, get </span><span class="line" data-startTime="1222">a launch event, create a window, show just </span><span class="line" data-startTime="1229">an obvious snippet of HTML, so here is our </span><span class="line" data-startTime="1229">Hello World. The next step is to load into </span><span class="line" data-startTime="1237">Chrome, now again, since this is just a packaged </span><span class="line" data-startTime="1237">app directory, it's built in the same technology </span><span class="line" data-startTime="1243">as Chrome extensions and other Chrome Apps </span><span class="line" data-startTime="1243">have been built in the past, so just going </span><span class="line" data-startTime="1247">to developer mode, load and unpack extension, </span><span class="line" data-startTime="1247">and then we can just launch the app from the </span><span class="line" data-startTime="1253">app launcher directly, there you go, and we </span><span class="line" data-startTime="1253">have our Hello World, so really trivial bit </span><span class="line" data-startTime="1257">of code, as you can imagine you can do whatever </span><span class="line" data-startTime="1257">you want from that launch event and do more </span><span class="line" data-startTime="1265">advanced things, so before we do the more </span><span class="line" data-startTime="1265">advanced things, let's talk a little bit more </span><span class="line" data-startTime="1269">about some of the other features of the programming </span><span class="line" data-startTime="1269">model. So one of the things that's interesting </span><span class="line" data-startTime="1274">is that all of the windows are what we call </span><span class="line" data-startTime="1274">single page applications. There's no navigation. </span></p>

<p><span class="line" data-startTime="1281">So we think this leads to an overall better </span><span class="line" data-startTime="1281">experience and simplifies a few things, again, </span><span class="line" data-startTime="1286">the fact that we don't have a back button, </span><span class="line" data-startTime="1286">that we don't have an address bar, we don't </span><span class="line" data-startTime="1290">want to have people building apps that wind </span><span class="line" data-startTime="1290">up getting users trapped and stuck, we don't </span><span class="line" data-startTime="1294">&mdash; we want to get rid of that flash of white </span><span class="line" data-startTime="1294">repaint. And we've also actually removed a </span><span class="line" data-startTime="1301">few Web features, things that are &mdash; that </span><span class="line" data-startTime="1301">we think lead overall to bad Web performance </span><span class="line" data-startTime="1306">or have security problems with them. It turns </span><span class="line" data-startTime="1306">out that on the Web at large, it's very hard </span><span class="line" data-startTime="1310">to deprecate features. Very hard to (inaudible) </span><span class="line" data-startTime="1310">We have strict compatibility needs. As people </span><span class="line" data-startTime="1316">who are going to be building these Chrome </span><span class="line" data-startTime="1316">Apps are going to be starting from scratch, </span><span class="line" data-startTime="1320">we have the opportunity to take a few and </span><span class="line" data-startTime="1320">just eliminate them from the beginning, and </span><span class="line" data-startTime="1324">they will be things like synchronous requests </span><span class="line" data-startTime="1324">that will block the UI thread or again things </span><span class="line" data-startTime="1329">that might call security problems. Speaking </span><span class="line" data-startTime="1329">of security, let's talk a little bit about </span><span class="line" data-startTime="1334">the security model. So to start with, you </span><span class="line" data-startTime="1334">get all the things that you're used to with </span><span class="line" data-startTime="1340">Chrome, you get process isolation, Chrome </span><span class="line" data-startTime="1340">is famous for being a multi-process browser, </span><span class="line" data-startTime="1344">and apps are no different. Each app runs in </span><span class="line" data-startTime="1344">its own process, completely separate from </span><span class="line" data-startTime="1352">each other. We also Sandbox each app, so each </span><span class="line" data-startTime="1352">app has its own storage area, its own Sandbox </span><span class="line" data-startTime="1363">execution runtime Sandbox which makes it so </span><span class="line" data-startTime="1363">that even if it had a bug, the limit, the </span><span class="line" data-startTime="1369">damage to what it could do is tightly controlled </span><span class="line" data-startTime="1369">by the runtime. And part of that is the permissions </span><span class="line" data-startTime="1377">model I was talking about before. The app </span><span class="line" data-startTime="1377">has to declare up front what capabilities </span><span class="line" data-startTime="1381">it wants to use, so in this case we have our </span><span class="line" data-startTime="1381">little app that used the serial port API and </span><span class="line" data-startTime="1386">the Web cam, so if that happened to have a </span><span class="line" data-startTime="1386">bug in it, that could be exploited by an attacker </span><span class="line" data-startTime="1391">somehow, the worst that could happen is it </span><span class="line" data-startTime="1391">could do exactly what that app could do and </span><span class="line" data-startTime="1395">talk to the serial part, the Web cam. This </span><span class="line" data-startTime="1395">is very different from what you're used to </span><span class="line" data-startTime="1399">with native executables, where once you have </span><span class="line" data-startTime="1399">a security bug in the native executable, you </span><span class="line" data-startTime="1404">have access to the whole machine, everything </span><span class="line" data-startTime="1404">the user could do, attacker could do. So I </span><span class="line" data-startTime="1412">mentioned content security policy. Now, what </span><span class="line" data-startTime="1412">content security policy is is a way to protect </span><span class="line" data-startTime="1418">your app against cross-side scripting bugs. </span></p>

<p><span class="line" data-startTime="1418">For those of you who aren't familiar with </span><span class="line" data-startTime="1422">cross-side scripting, it's basically a way </span><span class="line" data-startTime="1422">that an attacker can somehow get code injected </span><span class="line" data-startTime="1428">into your page and run in the context of your </span><span class="line" data-startTime="1428">page. Now, in a Web page, this is bad enough, </span><span class="line" data-startTime="1433">because it means like &mdash; in something like </span><span class="line" data-startTime="1433">Gmail, it could &mdash; you know, an attacker could </span><span class="line" data-startTime="1436">maybe read all of your e-mail and post it </span><span class="line" data-startTime="1436">to another site. In the context of an app </span><span class="line" data-startTime="1440">it could do even more potentially with the </span><span class="line" data-startTime="1440">new more powerful APIs we're adding, like, </span><span class="line" data-startTime="1446">you know, I don't know access your Web cam, </span><span class="line" data-startTime="1446">leave persistent files somewhere on your hard </span><span class="line" data-startTime="1452">drive, talk to some hardware you didn't want </span><span class="line" data-startTime="1452">them to talk to. So we really try to lock </span><span class="line" data-startTime="1457">this down content security policy makes it </span><span class="line" data-startTime="1457">so your apps will be resistant to these sorts </span><span class="line" data-startTime="1462">of attacks. So let's show that in action. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="1462"><span class="speakerName">Mihai Parparita</span>: Sure, so I'm going to take </span><span class="line" data-startTime="1467">my Hello World demo from earlier and make </span><span class="line" data-startTime="1467">it actually do something besides play Hello </span><span class="line" data-startTime="1471">World. I'm going to have it &mdash; have a little </span><span class="line" data-startTime="1471">form that asks users for their name and then </span><span class="line" data-startTime="1479">displays it in the output, so that is the </span><span class="line" data-startTime="1479">markup side, and then on the scripting side, </span><span class="line" data-startTime="1487">I have sort of the obvious implementation </span><span class="line" data-startTime="1487">I just described where I &mdash; where I get the </span><span class="line" data-startTime="1498">submit event and display the name and the </span><span class="line" data-startTime="1498">output. </span></p>

<p class="speaker"><span class="line" data-starttime="1502"><span class="speakerName">Erik Kay</span>: For those of you who are, you </span><span class="line" data-startTime="1502">know, the more observant in the crowd, you'll </span><span class="line" data-startTime="1506">know that inner HTML is a pretty dangerous </span><span class="line" data-startTime="1506">feature of the web to use. Basically is taking </span><span class="line" data-startTime="1512">&mdash; he's taking unescaped content and just </span><span class="line" data-startTime="1512">injecting it as code straight into his page. </span></p>

<p class="speaker"><span class="line" data-starttime="1517"><span class="speakerName">Mihai Parparita</span>: Let's load that same page </span><span class="line" data-startTime="1517">because it doesn't use any app APIs just in </span><span class="line" data-startTime="1522">a regular Chrome tab the way a Web app would </span><span class="line" data-startTime="1522">run in. So, sure, I can type in my name, but </span><span class="line" data-startTime="1530">because of inner HTML, as Erik mentioned, </span><span class="line" data-startTime="1530">markup gets interpreted, H1s aren't so bad, </span><span class="line" data-startTime="1537">well, what if I had an unclick handler here </span><span class="line" data-startTime="1537">that &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1543"><span class="speakerName">Erik Kay</span>: So you can see that this is script. </span><span class="line" data-startTime="1543">He's actually typing in JavaScript, now it's </span><span class="line" data-startTime="1547">going to get injected into his page. Now, </span><span class="line" data-startTime="1547">obviously this is a very simplified form of </span><span class="line" data-startTime="1551">an access because there's a form field, user </span><span class="line" data-startTime="1551">had to type it in. Usually they might come </span><span class="line" data-startTime="1556">in as a parameter in URL somehow got data </span><span class="line" data-startTime="1556">stored into your system, but you can see that </span><span class="line" data-startTime="1563">if they could run code in the context of your </span><span class="line" data-startTime="1563">app, they would be able to do the dangerous </span><span class="line" data-startTime="1567">things your app could do. Let's try that same </span><span class="line" data-startTime="1567">code in an app. </span></p>

<p class="speaker"><span class="line" data-starttime="1571"><span class="speakerName">Mihai Parparita</span>: So app still works. HTML </span><span class="line" data-startTime="1571">still gets interpreted because, you know, </span><span class="line" data-startTime="1577">Chrome does what it's asked and gives us inner </span><span class="line" data-startTime="1577">HTML, but if I type in that same script snippet, </span><span class="line" data-startTime="1586">right, and try to run it, nothing happens. </span><span class="line" data-startTime="1586">If I pull up the developer tools, these are </span><span class="line" data-startTime="1597">the same developer tools that you're used </span><span class="line" data-startTime="1597">to, you can see a content script clause here </span><span class="line" data-startTime="1604">that appears. </span></p>

<p class="speaker"><span class="line" data-starttime="1604"><span class="speakerName">Erik Kay</span>: Right. This is basically showing </span><span class="line" data-startTime="1607">you that we are locking down the app, so if </span><span class="line" data-startTime="1607">you have a bug that might enable somebody </span><span class="line" data-startTime="1612">to inject inline script into your page, it </span><span class="line" data-startTime="1612">can't &mdash; it can't exploit anything in your </span><span class="line" data-startTime="1617">app, it's just stopped right up front. As </span><span class="line" data-startTime="1617">Mihai pointed out, this is all tightly integrated </span><span class="line" data-startTime="1623">again with all the developer tools that you're </span><span class="line" data-startTime="1623">used to, you know, so you can leverage all </span><span class="line" data-startTime="1627">the power that's there. They've been evolving </span><span class="line" data-startTime="1627">really rapidly, and so there's a lot of great </span><span class="line" data-startTime="1632">features if you haven't been checking them </span><span class="line" data-startTime="1632">out. </span> <span class="line" data-startTime="1638">So let's talk about a few other bits of a </span><span class="line" data-startTime="1638">security model. We take a further step and </span><span class="line" data-startTime="1647">isolate storage from one app to the other. </span> <span class="line" data-startTime="1647">So what this means is that what gets written </span><span class="line" data-startTime="1652">in one app, what happens in one app, stays </span><span class="line" data-startTime="1652">in that app, it can't affect what happens </span><span class="line" data-startTime="1656">in the other. Cookies in your browser don't </span><span class="line" data-startTime="1656">affect cookies in your app and vice versa. </span></p>

<p><span class="line" data-startTime="1663">And this is true not only for the origin, </span><span class="line" data-startTime="1663">but if your app is doing &mdash; interacting with </span><span class="line" data-startTime="1667">Web content from other origins, that too is </span><span class="line" data-startTime="1667">isolated, so if you're logged in to Twitter, </span><span class="line" data-startTime="1673">you know, in your browser with one account, </span><span class="line" data-startTime="1673">and your app interacts with Twitter, it isn't </span><span class="line" data-startTime="1678">affected by that. It would have to log in </span><span class="line" data-startTime="1678">separately. </span> <span class="line" data-startTime="1683">And I mentioned explicit shared data APIs </span><span class="line" data-startTime="1683">before when I was talking about new APIs. </span> <span class="line" data-startTime="1687">This is also a security feature, because it </span><span class="line" data-startTime="1687">means that we can give apps access to more </span><span class="line" data-startTime="1692">powerful functionality without exposing your </span><span class="line" data-startTime="1692">whole hard drive to them, and without giving </span><span class="line" data-startTime="1697">them the ability to write arbitrary files </span><span class="line" data-startTime="1697">into arbitrary locations, so they can't leave </span><span class="line" data-startTime="1702">an executable on your hard drive and they </span><span class="line" data-startTime="1702">can't, you know &mdash; they can't just read your </span><span class="line" data-startTime="1707">Quicken file, for example, but they can read </span><span class="line" data-startTime="1707">your photos perhaps, if they've got the photos </span><span class="line" data-startTime="1712">permission. And one further distinction that </span><span class="line" data-startTime="1712">we've made for apps is that we no longer have </span><span class="line" data-startTime="1723">access to extension APIs within packaged apps. </span></p>

<p><span class="line" data-startTime="1723">So we made an explicit split to say that an </span><span class="line" data-startTime="1729">app is outside the browser, and that means </span><span class="line" data-startTime="1729">that interacting with the browser through </span><span class="line" data-startTime="1733">these extension APIs no longer makes sense. </span> <span class="line" data-startTime="1733">It's also true vice versa, extension APIs </span><span class="line" data-startTime="1740">can't affect apps. These apps are truly isolated </span><span class="line" data-startTime="1740">from the browser and operate on their own. </span> <span class="line" data-startTime="1747">There's one last security feature that we </span><span class="line" data-startTime="1747">added here, which actually has some very useful </span><span class="line" data-startTime="1752">functionality as well, so you've heard us </span><span class="line" data-startTime="1752">just talk about how we lock down this, lock </span><span class="line" data-startTime="1756">down that, you can't get this web content </span><span class="line" data-startTime="1756">or that content. Well, sometimes it's actually </span><span class="line" data-startTime="1760">useful to get a host of Web content in your </span><span class="line" data-startTime="1760">app. Well, in a similar way that you're used </span><span class="line" data-startTime="1765">to with native desktop and mobile applications, </span><span class="line" data-startTime="1765">you can embed essentially a view, a full browser </span><span class="line" data-startTime="1772">inside of your app using something we call </span><span class="line" data-startTime="1772">the browser tag, so this is different from </span><span class="line" data-startTime="1777">an iFrame in a couple of different ways. The </span><span class="line" data-startTime="1777">first is that it's a top level frame. It doesn't </span><span class="line" data-startTime="1785">think of itself as an iFrame, it thinks of </span><span class="line" data-startTime="1785">itself as if it were in a tab or in a window </span><span class="line" data-startTime="1790">by itself. Second is that it runs out of process. </span> <span class="line" data-startTime="1790">So if there's a bug, if there's some issue </span><span class="line" data-startTime="1796">where by going to remote website, somebody </span><span class="line" data-startTime="1796">found a security hole in Chrome, it would </span><span class="line" data-startTime="1802">only affect the browser tag instance. It wouldn't </span><span class="line" data-startTime="1802">be able to affect your app. And finally, once </span><span class="line" data-startTime="1809">again storage is isolated, so again, what </span><span class="line" data-startTime="1809">happens in this browser tag doesn't affect </span><span class="line" data-startTime="1813">what's in your app and vice versa. So we've </span><span class="line" data-startTime="1813">got a little more time, so why don't we dive </span><span class="line" data-startTime="1822">back into the &mdash; that serial port demo and </span><span class="line" data-startTime="1822">show what it's like to actually use some of </span><span class="line" data-startTime="1826">the more powerful APIs and do a little bit </span><span class="line" data-startTime="1826">more stuff with it. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="1829"><span class="speakerName">Mihai Parparita</span>: Okay. So I'm going to close </span><span class="line" data-startTime="1829">some more windows and load up a standalone </span><span class="line" data-startTime="1835">version of that serial port demo that we had </span><span class="line" data-startTime="1835">earlier, and let's launch it. So same sort </span><span class="line" data-startTime="1845">of setup. Camera using the Web RTC API to </span><span class="line" data-startTime="1845">show me, the same slider. This one is a bit </span><span class="line" data-startTime="1852">fancier. It has a serial port ticker listing </span><span class="line" data-startTime="1852">all serial ports that are local. So the goal </span><span class="line" data-startTime="1857">is we have a Chrome logo, physical Chrome </span><span class="line" data-startTime="1857">logo here, and we have the on-screen logo </span><span class="line" data-startTime="1861">here, this board actually also has a potentiometer, </span><span class="line" data-startTime="1861">this little knob I want to turn, and I want </span><span class="line" data-startTime="1868">to make it so that turning this knob turns </span><span class="line" data-startTime="1868">the logo on the screen, so let's pull up the </span><span class="line" data-startTime="1873">code for this. So it's in &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1873"><span class="speakerName">Erik Kay</span>: Right, so the existing code was </span><span class="line" data-startTime="1882">basically writing to the board, sending it </span><span class="line" data-startTime="1882">data. Now this one, we're going to change </span><span class="line" data-startTime="1886">it to add read function, read back. </span></p>

<p class="speaker"><span class="line" data-starttime="1886"><span class="speakerName">Mihai Parparita</span>: So walking through the </span><span class="line" data-startTime="1891">existing code briefly, we have the Web RTC </span><span class="line" data-startTime="1891">side of things where we get access to the </span><span class="line" data-startTime="1898">user's camera, and display the result. Since </span><span class="line" data-startTime="1898">the app has the video permission, this did </span><span class="line" data-startTime="1904">not trigger info bar, the access happened </span><span class="line" data-startTime="1904">immediately. We have the slider, the HTML5 </span><span class="line" data-startTime="1911">range element here, we set up an on-change </span><span class="line" data-startTime="1911">listener for it to set the position, and we </span><span class="line" data-startTime="1916">built a serial port picker by listing all </span><span class="line" data-startTime="1916">of the ports that are available. Once we pick </span><span class="line" data-startTime="1921">a port, we have the open API call to actually </span><span class="line" data-startTime="1921">start opening up a connection to it. And once </span><span class="line" data-startTime="1929">we open, we can start setting the position. </span><span class="line" data-startTime="1929">We have the connection ID that we get from </span><span class="line" data-startTime="1934">the API callback. This is &mdash; all these functions </span><span class="line" data-startTime="1934">are async and we can start setting the position. </span><span class="line" data-startTime="1941">To actually set the position, we just send </span><span class="line" data-startTime="1941">a single byte as &mdash; actually as an ASCII character </span><span class="line" data-startTime="1946">from 0 to 9. We're using the buffers so that </span><span class="line" data-startTime="1946">the serial port API can work with any kind </span><span class="line" data-startTime="1952">of binary data, too. We're using ASCII here </span><span class="line" data-startTime="1952">for convenience. So as Erik mentioned, the </span><span class="line" data-startTime="1957">next up is to actually start reading back </span><span class="line" data-startTime="1957">from the board. So given that there's a write </span><span class="line" data-startTime="1963">API call here, because you can imagine there's </span><span class="line" data-startTime="1963">also a read API call we can use &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1969"><span class="speakerName">Erik Kay</span>: Right. As Mihai mentioned all </span><span class="line" data-startTime="1969">of the Chrome App APIs are asynchronous, so </span><span class="line" data-startTime="1974">you'll notice they all take a callback, and </span><span class="line" data-startTime="1974">so he has in his function there, and on read </span><span class="line" data-startTime="1981">function for the callback which he's pasted </span><span class="line" data-startTime="1981">in to save some typing time. </span></p>

<p class="speaker"><span class="line" data-starttime="1985"><span class="speakerName">Mihai Parparita</span>: Yep. So using array buffers </span><span class="line" data-startTime="1985">we read back the data from the serial port, </span><span class="line" data-startTime="1990">we do the opposite conversion from ASCII to </span><span class="line" data-startTime="1990">a degree value, and then we use CSS 3 transforms </span><span class="line" data-startTime="1997">to set the position of the logo and finally </span><span class="line" data-startTime="1997">we want to read the next byte, so this isn't </span><span class="line" data-startTime="2002">a blocking call, it's just whenever the next </span><span class="line" data-startTime="2002">byte happens to appear, the call back will </span><span class="line" data-startTime="2006">be invoked again. Let's save this. We're actually </span><span class="line" data-startTime="2006">going to save it in the same place. </span></p>

<p class="speaker"><span class="line" data-starttime="2011"><span class="speakerName">Erik Kay</span>: And that &mdash; by the way, that programming </span><span class="line" data-startTime="2011">model did show some of the flexibility and </span><span class="line" data-startTime="2016">power of having an asynchronous API, but we're </span><span class="line" data-startTime="2016">able to sort of cue these things up and have </span><span class="line" data-startTime="2021">multiple async things going on at once, and </span><span class="line" data-startTime="2021">the callbacks happen, you know, when they </span><span class="line" data-startTime="2031">happen. We don't have to worry about inner </span><span class="line" data-startTime="2031">leaving them. </span></p>

<p class="speaker"><span class="line" data-starttime="2031"><span class="speakerName">Mihai Parparita</span>: The App, it's the same </span><span class="line" data-startTime="2031">sort of edit reload cycle that you might be </span><span class="line" data-startTime="2034">used to from web development, and so let's </span><span class="line" data-startTime="2034">make sure it still works, that we can still </span><span class="line" data-startTime="2039">control it, so that part still works, and </span><span class="line" data-startTime="2039">now if we have the knob up here, and we turn </span><span class="line" data-startTime="2045">it, the Chrome logo appears to spin, so we're </span><span class="line" data-startTime="2045">reading data. </span><span class="line" data-startTime="2053">[ Applause ] </span></p>

<p class="speaker"><span class="line" data-starttime="2053"><span class="speakerName">Erik Kay</span>: Obviously, this is a really simple </span><span class="line" data-startTime="2058">demo and not all of you are going to be sitting </span><span class="line" data-startTime="2058">in your garage hacking on arduino boards, </span><span class="line" data-startTime="2063">but we're hoping that this sort of conveys </span><span class="line" data-startTime="2063">the kind of thing you can do. Web technology, </span><span class="line" data-startTime="2069">and interact with hardware and system level </span><span class="line" data-startTime="2069">data. </span></p>

<p class="speaker"><span class="line" data-starttime="2072"><span class="speakerName">Mihai Parparita</span>: For example, people on </span><span class="line" data-startTime="2072">our team have built our C clients, you know, </span><span class="line" data-startTime="2076">telling their clients to use the raw socket </span><span class="line" data-startTime="2076">API, someone else built an interface to a </span><span class="line" data-startTime="2081">heart rate monitor that uses Bluetooth, and </span><span class="line" data-startTime="2081">all of this networks on a Chrome build, for </span><span class="line" data-startTime="2085">example, that couldn't talk to these devices </span><span class="line" data-startTime="2085">before. </span></p>

<p class="speaker"><span class="line" data-starttime="2087"><span class="speakerName">Erik Kay</span>: So let's sort of wrap up about </span><span class="line" data-startTime="2087">and recap a little bit of what we've gone </span><span class="line" data-startTime="2095">over. So we're evolving apps to break out </span><span class="line" data-startTime="2095">of the browser, to have enhanced user interface, </span><span class="line" data-startTime="2102">more control over the windowing. To be offline </span><span class="line" data-startTime="2102">by default, to have access to new, more powerful </span><span class="line" data-startTime="2109">APIs, now, we're also &mdash; this is also available </span><span class="line" data-startTime="2109">for you to play with right now, basically </span><span class="line" data-startTime="2117">as we said, this is canary build of Chrome. </span> <span class="line" data-startTime="2117">For those of you who don't know, the Canary </span><span class="line" data-startTime="2121">is our nightly update schedule. It's available </span><span class="line" data-startTime="2121">for windows and Mac. If you're a Linux or </span><span class="line" data-startTime="2128">Chrome OS user, if you're brave enough, you </span><span class="line" data-startTime="2128">can do your own build, or you can wait for </span><span class="line" data-startTime="2131">your next dev channel to come out and you </span><span class="line" data-startTime="2131">can start playing with it then. We've also </span><span class="line" data-startTime="2139">been asked in the past about why are these </span><span class="line" data-startTime="2139">apps, you know, specific to Chrome? </span><span class="line" data-startTime="2145">Why are they tied to Chrome? </span><span class="line" data-startTime="2145">And part of the reason is, because, well, </span><span class="line" data-startTime="2150">there hasn't been a lot of appetite in the </span><span class="line" data-startTime="2150">browser community for doing things, doing </span><span class="line" data-startTime="2155">more dangerous capabilities, but in the last </span><span class="line" data-startTime="2155">six months or so, we've been, you know, talking </span><span class="line" data-startTime="2161">to more and more folks from the community </span><span class="line" data-startTime="2161">and discovered that momentum had been building, </span><span class="line" data-startTime="2166">that people were all starting to think along </span><span class="line" data-startTime="2166">these same lines; that building &mdash; using Web </span><span class="line" data-startTime="2171">technologies to build more powerful applications, </span><span class="line" data-startTime="2171">its time has come, and so we're working with </span><span class="line" data-startTime="2176">the W3C and with other browser vendors including </span><span class="line" data-startTime="2176">Mozilla, and Adobe, and Intel and Samsung, </span><span class="line" data-startTime="2184">people in the Web community to form the new </span><span class="line" data-startTime="2184">working group to help standardize this going </span><span class="line" data-startTime="2188">forward, so we're excited to help take the </span><span class="line" data-startTime="2188">technology that we've been building for Chrome </span><span class="line" data-startTime="2193">and try to contribute it and make it a standard </span><span class="line" data-startTime="2193">across multiple operating systems and platforms. </span></p>

<p><span class="line" data-startTime="2200">And finally you heard Sundar mention this </span><span class="line" data-startTime="2200">in the keynote, but our intent is to make </span><span class="line" data-startTime="2206">these apps work on mobile as well. Everywhere </span><span class="line" data-startTime="2206">the Chrome runtime exists, we think that we </span><span class="line" data-startTime="2211">can build &mdash; bring apps &mdash; bring this technology </span><span class="line" data-startTime="2211">along with it. Now, we only showed you this </span><span class="line" data-startTime="2219">very simple serial demo, and &mdash; but there's </span><span class="line" data-startTime="2219">a lot more that you can check out. Some of </span><span class="line" data-startTime="2224">it right here at I/O. If you go over to the </span><span class="line" data-startTime="2224">Chrome Sandbox area for example, you can see </span><span class="line" data-startTime="2230">Sencha has a neat media player demo that actually </span><span class="line" data-startTime="2230">is implementing UP&P to stream from a local </span><span class="line" data-startTime="2236">media server, which is kind of cool. Kendo </span><span class="line" data-startTime="2236">has a photo booth app that uses a lot of the </span><span class="line" data-startTime="2243">Web RTC stuff. There's a text editor that </span><span class="line" data-startTime="2243">was done by the annular JST at Google, and </span><span class="line" data-startTime="2253">there's a demo that we'll call "Johnny" that </span><span class="line" data-startTime="2253">is a &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2257"><span class="speakerName">Mihai Parparita</span>: Johnny HTML5. </span></p>

<p class="speaker"><span class="line" data-starttime="2257"><span class="speakerName">Erik Kay</span>: Oh, Johnny HTML5. Sorry. Johnny </span><span class="line" data-startTime="2261">HTML5 which is a Lego mindstorms robot which </span><span class="line" data-startTime="2261">is being controlled over Bluetooth from your </span><span class="line" data-startTime="2268">desktop computer. Now, you can find all of </span><span class="line" data-startTime="2268">these samples and a bunch more, actually, </span><span class="line" data-startTime="2273">in our new GitHub repo at GitHub.com, Google </span><span class="line" data-startTime="2273">Chrome, there's an apps demo section there, </span><span class="line" data-startTime="2281">so I encourage you to go fork and play and </span><span class="line" data-startTime="2281">contribute. </span> <span class="line" data-startTime="2289">And &mdash; and finally, the way to learn more, </span><span class="line" data-startTime="2289">you can read our docs up at developer.chrome.com/apps. </span> <span class="line" data-startTime="2297">Now just a quick warning. Since all of this </span><span class="line" data-startTime="2297">new on the Canary channel by default, our </span><span class="line" data-startTime="2302">apps documentation points you at our current </span><span class="line" data-startTime="2302">stable channel stuff. But there will be a </span><span class="line" data-startTime="2306">helpful link there that shows you how to get </span><span class="line" data-startTime="2306">to the latest stuff. You can also join our </span><span class="line" data-startTime="2313">mailing list, chromium-apps@chromium.org, </span><span class="line" data-startTime="2313">and if you want to talk to people in person, </span><span class="line" data-startTime="2318">people on the engineering team, we also hang </span><span class="line" data-startTime="2318">out on RC at Chromium apps@freenotes. So feel </span><span class="line" data-startTime="2324">free to join in and ask away, we are looking </span><span class="line" data-startTime="2324">forward to hearing from you. </span> <span class="line" data-startTime="2328">We're really excited to see the kind of things </span><span class="line" data-startTime="2328">that you guys can build with what we're doing, </span><span class="line" data-startTime="2332">but it is early on. Expect some bugs. Expect </span><span class="line" data-startTime="2332">some growing pains. We would love feedback. </span> <span class="line" data-startTime="2338">So now we will take your questions. </span> <span class="line" data-startTime="2338">[ Applause ] </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="2345"><span class="speakerName">Erik Kay</span>: So if you have any questions, </span><span class="line" data-startTime="2345">please come to the mic. By the way, when if </span><span class="line" data-startTime="2351">&mdash; if we end this and you still have questions </span><span class="line" data-startTime="2351">that you would rather not ask at the mic, </span><span class="line" data-startTime="2355">we will stick around afterwards for a few </span><span class="line" data-startTime="2355">minutes, but also you can find us over at </span><span class="line" data-startTime="2360">the Chrome booth. We will be having office </span><span class="line" data-startTime="2360">hours, so feel free to, you know, not only </span><span class="line" data-startTime="2364">check out the demos, but come by and ask us </span><span class="line" data-startTime="2364">questions. </span><span class="line" data-startTime="2372">All right? </span></p>

<p class="speaker"><span class="line" data-starttime="2372"><span class="speakerName">Audience member</span>: Can &mdash; can an app launch another app? </span></p>

<p class="speaker"><span class="line" data-starttime="2376"><span class="speakerName">Erik Kay</span>: Not right now. That's a good question. </span></p>

<p class="speaker"><span class="line" data-starttime="2376"><span class="speakerName">Mihai Parparita</span>: Can you describe more specifically </span><span class="line" data-startTime="2383">what you would like to do here? Is it a matter </span><span class="line" data-startTime="2383">of like I would like to send an email so I </span><span class="line" data-startTime="2386">could launch the Gmail app sort of thing? </span></p>

<p class="speaker"><span class="line" data-starttime="2386"><span class="speakerName">Audience member</span>: Well, sort of like the launcher, but without </span><span class="line" data-startTime="2396">having to bother the user with them going </span><span class="line" data-startTime="2396">to find the app, saying this is the app that </span><span class="line" data-startTime="2401">you are looking for to complete this request. </span></p>

<p class="speaker"><span class="line" data-starttime="2401"><span class="speakerName">Erik Kay</span>: So you can do some of it with </span><span class="line" data-startTime="2405">Web intense but not exactly the way that you're </span><span class="line" data-startTime="2405">talking about for making a full launch replacement. </span><span class="line" data-startTime="2410">But that's the kind of thing actually we would </span><span class="line" data-startTime="2410">probably more likely expose through extensions </span><span class="line" data-startTime="2414">in some way, but remember that each operating </span><span class="line" data-startTime="2414">system is going to have it's own sort of natural </span><span class="line" data-startTime="2419">way of launching apps. So even if we did provide </span><span class="line" data-startTime="2419">it, that might be specific to Chrome OS or </span><span class="line" data-startTime="2425">something like that. </span></p>

<p class="speaker"><span class="line" data-starttime="2425"><span class="speakerName">Mihai Parparita</span>: Go ahead. </span></p>

<p class="speaker"><span class="line" data-starttime="2428"><span class="speakerName">Audience member</span>: Yeah. You mentioned early on in the presentation </span><span class="line" data-startTime="2428">about offline usage and &mdash; and the APIs into </span><span class="line" data-startTime="2435">the system that would degrade gracefully. </span><span class="line" data-startTime="2435">Offline. Can you give some examples of that? </span></p>

<p class="speaker"><span class="line" data-starttime="2440"><span class="speakerName">Erik Kay</span>: Sure. So take, for example, something </span><span class="line" data-startTime="2440">like that Google analytics right now. Everyone </span><span class="line" data-startTime="2445">is used to using Google analytics in their </span><span class="line" data-startTime="2445">app, they want to see how their app is being </span><span class="line" data-startTime="2450">used. The way to traditionally include it </span><span class="line" data-startTime="2450">would be to say script source equals whatever </span><span class="line" data-startTime="2455">your path to your analytics JavaScript file. </span> <span class="line" data-startTime="2455">But what if you are offline? So first off, </span><span class="line" data-startTime="2461">if you are offline when you launch the app, </span><span class="line" data-startTime="2461">it might just fail to load the analytics code </span><span class="line" data-startTime="2466">altogether or it might load part of it. Then </span><span class="line" data-startTime="2466">let's say that you load the code successfully </span><span class="line" data-startTime="2473">but then go offline. Well, the traditional </span><span class="line" data-startTime="2473">way that it does its thing is to ping a server </span><span class="line" data-startTime="2477">to send its data. So in that case, we're modifying </span><span class="line" data-startTime="2477">&mdash; both the API to be loaded, you know, safely, </span><span class="line" data-startTime="2485">always on the client side and to know when </span><span class="line" data-startTime="2485">it's offline and to store and cache some of </span><span class="line" data-startTime="2491">its statistics locally so it that it can save </span><span class="line" data-startTime="2491">them up and report them up at a later time. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="2502"><span class="speakerName">Audience member</span>: Okay. Thanks. </span></p>

<p class="speaker"><span class="line" data-starttime="2502"><span class="speakerName">Erik Kay</span>: Okay. </span></p>

<p class="speaker"><span class="line" data-starttime="2505"><span class="speakerName">Audience member</span>: So you said there's going to be a split </span><span class="line" data-startTime="2505">between the app extensions &mdash; I mean the app </span><span class="line" data-startTime="2512">API and the extension API. Can you tell us </span><span class="line" data-startTime="2512">a bit about more about these, which go to </span><span class="line" data-startTime="2516">which category? </span></p>

<p class="speaker"><span class="line" data-starttime="2516"><span class="speakerName">Erik Kay</span>: Sure. In general, extension APIs </span><span class="line" data-startTime="2521">are going to be limited to the things that </span><span class="line" data-startTime="2521">affect the browser. That affect Web pages, </span><span class="line" data-startTime="2527">tabs, that sort of thing. And apps is going </span><span class="line" data-startTime="2527">to be, you know, everything else. Now there's </span><span class="line" data-startTime="2533">going to be a few that are going to exist </span><span class="line" data-startTime="2533">in both. In general, what we have done is </span><span class="line" data-startTime="2539">for now limited the ones that are more dangerous </span><span class="line" data-startTime="2539">system-level things and those are not going </span><span class="line" data-startTime="2544">to be available in extensions to begin with. </span><span class="line" data-startTime="2544">Something we're evaluating, we might change </span><span class="line" data-startTime="2548">our minds on some of that over time. But to </span><span class="line" data-startTime="2548">start with, we're going to try to keep a clean </span><span class="line" data-startTime="2551">break between those sorts of things and apps </span><span class="line" data-startTime="2551">and the things for extensions, keep those </span><span class="line" data-startTime="2555">tied to things that affect the browser. </span></p>

<p class="speaker"><span class="line" data-starttime="2555"><span class="speakerName">Mihai Parparita</span>: Some APIs might behave </span><span class="line" data-startTime="2558">slightly differently, so the context of your </span><span class="line" data-startTime="2558">API, for example, can affect any Web page. </span><span class="line" data-startTime="2563">But when used within your app it would affect </span><span class="line" data-startTime="2563">only your own apps pages. </span><span class="line" data-startTime="2568">The docs I think should cover &mdash; will start </span><span class="line" data-startTime="2568">covering this. </span></p>

<p class="speaker"><span class="line" data-starttime="2573"><span class="speakerName">Audience member</span>: You mentioned the &mdash; the applicant launcher </span><span class="line" data-startTime="2573">can use a browser tag to launch another website. </span><span class="line" data-startTime="2579">So can any JavaScript in that website interact </span><span class="line" data-startTime="2579">with the app? </span></p>

<p class="speaker"><span class="line" data-starttime="2582"><span class="speakerName">Erik Kay</span>: Sure. The way it will interact </span><span class="line" data-startTime="2582">&mdash; you can interact with the browser tag, </span><span class="line" data-startTime="2589">but it will be through a very specific post </span><span class="line" data-startTime="2589">message type of interface. So it will be possible </span><span class="line" data-startTime="2595">to have some hosted Web content that you want </span><span class="line" data-startTime="2595">that can message out and for you as the better </span><span class="line" data-startTime="2601">of the browser tag to inject bindings into </span><span class="line" data-startTime="2601">the page as well. So you will have full control </span><span class="line" data-startTime="2606">over that page. We actually expect eventually </span><span class="line" data-startTime="2606">the API to be rich enough that people will </span><span class="line" data-startTime="2611">be able to build a browser using a browser </span><span class="line" data-startTime="2611">tag. So maybe you don't like Chrome's UI and </span><span class="line" data-startTime="2615">you want to build a browser with tabs on the </span><span class="line" data-startTime="2615">side or something, I don't know, we think </span><span class="line" data-startTime="2622">that eventually you will be able to do that </span><span class="line" data-startTime="2622">with the browser tag. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="2624"><span class="speakerName">Audience member</span>: What is the level of integration with </span><span class="line" data-startTime="2624">the file system? So I saw in the text editor </span><span class="line" data-startTime="2628">you click, open a file, browser, you pick </span><span class="line" data-startTime="2628">a file. But say you wanted to build an editor </span><span class="line" data-startTime="2633">where you have, you know, a directory tree </span><span class="line" data-startTime="2633">on the side like a normal ID, click through </span><span class="line" data-startTime="2638">it. </span></p>

<p class="speaker"><span class="line" data-starttime="2638"><span class="speakerName">Erik Kay</span>: Sure. </span></p>

<p class="speaker"><span class="line" data-starttime="2638"><span class="speakerName">Audience member</span>: Is there some &mdash; I guess what kind of </span><span class="line" data-startTime="2638">APIs are available for accessing the file </span><span class="line" data-startTime="2643">system generally? </span></p>

<p class="speaker"><span class="line" data-starttime="2643"><span class="speakerName">Erik Kay</span>: Right. Actually, good point. We </span><span class="line" data-startTime="2646">didn't mention that. Probably most of you </span><span class="line" data-startTime="2646">noticed that the text editor that we were </span><span class="line" data-startTime="2650">using is itself an app and was interacting </span><span class="line" data-startTime="2650">with the file system and that text editor </span><span class="line" data-startTime="2654">was using &mdash; was, you know, all JavaScript </span><span class="line" data-startTime="2654">and HTML as well and it was using some of </span><span class="line" data-startTime="2661">the file system APIs that we're working on. </span> <span class="line" data-startTime="2661">In general, we're &mdash; we're trying to limit </span><span class="line" data-startTime="2667">it, we can think of file system access in </span><span class="line" data-startTime="2667">kind of two ways. One way are ways where the </span><span class="line" data-startTime="2673">user specifically indicates a specific file </span><span class="line" data-startTime="2673">that they want to give you as the app access </span><span class="line" data-startTime="2677">to, through a standard open save dialogue </span><span class="line" data-startTime="2677">type of thing. For that, you can access files </span><span class="line" data-startTime="2682">anywhere on the system, read, write access </span><span class="line" data-startTime="2682">to them with the right sort of permission </span><span class="line" data-startTime="2685">and that sort of a thing. But in terms of </span><span class="line" data-startTime="2685">arbitrary non-user initiated things, where </span><span class="line" data-startTime="2690">things you might say oh, because of file A </span><span class="line" data-startTime="2690">I want to access file B, C, and D, we don't </span><span class="line" data-startTime="2695">allow you to do that. So in those type of </span><span class="line" data-startTime="2695">cases, take an IDE, as an example,we would </span><span class="line" data-startTime="2703">say that you should bill something that interacts </span><span class="line" data-startTime="2703">with files in your own Sandbox in that world. </span> <span class="line" data-startTime="2709">So in that case maybe you might use native </span><span class="line" data-startTime="2709">client to build the git implementation that </span><span class="line" data-startTime="2713">actually, you know, can directly, you know, </span><span class="line" data-startTime="2713">pull down code from your repo right into your </span><span class="line" data-startTime="2719">Sandbox and edit things locally there. In </span><span class="line" data-startTime="2719">your Sandbox you have got full access to all </span><span class="line" data-startTime="2723">of the directories, all of the files, unrestricted. </span></p>

<p><span class="line" data-startTime="2723">It's the rest of the hard drive that's off </span><span class="line" data-startTime="2728">limits, unless the user does a specific gesture </span><span class="line" data-startTime="2728">to give &mdash; grant it &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2731"><span class="speakerName">Mihai Parparita</span>: The third way for getting </span><span class="line" data-startTime="2731">access to other files on the hard drive is </span><span class="line" data-startTime="2734">by the shared data API. So if your app is </span><span class="line" data-startTime="2734">interested in not any arbitrary file but photos, </span><span class="line" data-startTime="2739">then it can, yes, ask for any photos without </span><span class="line" data-startTime="2739">a user gesture. </span></p>

<p class="speaker"><span class="line" data-starttime="2746"><span class="speakerName">Audience member</span>: So does that mean &mdash; so on Windows or </span><span class="line" data-startTime="2746">Mac system, there's a system photo directories, </span><span class="line" data-startTime="2750">where supposedly the user puts their photos, </span><span class="line" data-startTime="2750">you can ask for permission to access the files </span><span class="line" data-startTime="2754">in that directory; is that the idea? </span></p>

<p class="speaker"><span class="line" data-starttime="2754"><span class="speakerName">Mihai Parparita</span>: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="2757"><span class="speakerName">Erik Kay</span>: It's not exactly that. It's a </span><span class="line" data-startTime="2757">little more. So we will actually try to discover </span><span class="line" data-startTime="2762">the types of places that you store your photos </span><span class="line" data-startTime="2762">and so a lot of people don't &mdash; don't keep </span><span class="line" data-startTime="2768">their photos leveraged to that one thing; </span><span class="line" data-startTime="2768">they have an extra hard drive, whatever. The </span><span class="line" data-startTime="2771">ability for users to configure what defines </span><span class="line" data-startTime="2771">their photos area. But even then it's not </span><span class="line" data-startTime="2777">just directory access, limited to the types </span><span class="line" data-startTime="2777">of files that you can access to. There have </span><span class="line" data-startTime="2781">to be known types that we expect to be photos </span><span class="line" data-startTime="2781">in that case. </span></p>

<p class="speaker"><span class="line" data-starttime="2786"><span class="speakerName">Audience member</span>: Okay. </span></p>

<p class="speaker"><span class="line" data-starttime="2786"><span class="speakerName">Audience member</span>: Are there any particular patterns or practices </span><span class="line" data-startTime="2790">that we should employ when designing apps </span><span class="line" data-startTime="2790">in terms of UI state so when a user exits </span><span class="line" data-startTime="2795">a UI, when we want that UI to come back exact </span><span class="line" data-startTime="2795">the same as when the user exited. </span></p>

<p class="speaker"><span class="line" data-starttime="2800"><span class="speakerName">Erik Kay</span>: Yeah. That's a good point. So </span><span class="line" data-startTime="2800">there's a lot of things that we think are </span><span class="line" data-startTime="2806">going to change in terms of how you build </span><span class="line" data-startTime="2806">these apps that are different from what you </span><span class="line" data-startTime="2811">might expect with the Web page. Because you </span><span class="line" data-startTime="2811">might be dealing with multiple Windows and </span><span class="line" data-startTime="2815">because your app can get shut down and pulled </span><span class="line" data-startTime="2815">back at any time, we definitely want you to </span><span class="line" data-startTime="2821">be resilient to that and to be able to restore </span><span class="line" data-startTime="2821">and pick up from exactly where you left off </span><span class="line" data-startTime="2825">in those cases. </span> <span class="line" data-startTime="2825">You know, the example is remember &mdash; think </span><span class="line" data-startTime="2830">about this, these apps also need to be able </span><span class="line" data-startTime="2830">to run in mobile environments where mobile </span><span class="line" data-startTime="2835">apps don't have guarantees of a lifetime. </span> <span class="line" data-startTime="2835">So that means that you have to write your </span><span class="line" data-startTime="2840">apps in a way where they might be shut down </span><span class="line" data-startTime="2840">due to system resource issues, right? But </span><span class="line" data-startTime="2846">the user then switches back to them and it </span><span class="line" data-startTime="2846">should look like nothing happened and it should </span><span class="line" data-startTime="2850">look like you never exited. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="2850"><span class="speakerName">Mihai Parparita</span>: Sorry. The other part there </span><span class="line" data-startTime="2854">is that we have storage API. So for storage </span><span class="line" data-startTime="2854">state, you can use the storage API which looks </span><span class="line" data-startTime="2858">like local storage but is asynchronous and </span><span class="line" data-startTime="2858">more importantly is synced so that can have </span><span class="line" data-startTime="2863">the same state across all chrome devices that </span><span class="line" data-startTime="2863">the users assigned them to. </span></p>

<p class="speaker"><span class="line" data-starttime="2867"><span class="speakerName">Erik Kay</span>: Yeah, absolutely. So we actually </span><span class="line" data-startTime="2867">think it's a really interesting use case, </span><span class="line" data-startTime="2871">that you have your app in one state, you know, </span><span class="line" data-startTime="2871">on your machine at work, you go home and you </span><span class="line" data-startTime="2875">launch it again from exactly where you left </span><span class="line" data-startTime="2875">off at work. </span></p>

<p class="speaker"><span class="line" data-starttime="2880"><span class="speakerName">Audience member</span>: Any ability for external devices to wake </span><span class="line" data-startTime="2880">up apps? </span></p>

<p class="speaker"><span class="line" data-starttime="2884"><span class="speakerName">Erik Kay</span>: Well, basically the whole gist </span><span class="line" data-startTime="2884">of these &mdash; of this notification based model </span><span class="line" data-startTime="2890">that we've got for &mdash; for the app, it should </span><span class="line" data-startTime="2890">enable that sort of a thing. We don't have </span><span class="line" data-startTime="2895">any specific APIs to talk about on that front </span><span class="line" data-startTime="2895">yet. But &mdash; but absolutely, things like &mdash; you </span><span class="line" data-startTime="2899">can imagine things like server push, synchronization, </span><span class="line" data-startTime="2899">that sort of thing will all be &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2904"><span class="speakerName">Mihai Parparita</span>: I think the one thing we </span><span class="line" data-startTime="2904">have is for the media gallery API, if the </span><span class="line" data-startTime="2908">SD card is inserted, it will fire an event, </span><span class="line" data-startTime="2908">for example, so your app can decide to do </span><span class="line" data-startTime="2913">something in response to photos that just </span><span class="line" data-startTime="2913">appeared even if it's not running. </span></p>

<p class="speaker"><span class="line" data-starttime="2921"><span class="speakerName">Audience member</span>: With the serial device that you were &mdash; that </span><span class="line" data-startTime="2921">you were working there, can &mdash; when can we </span><span class="line" data-startTime="2928">expect to &mdash; like support for USB devices </span><span class="line" data-startTime="2928">in Chrome? And will it cover the whole range? </span><span class="line" data-startTime="2936">Can I like have a device that emulates an </span><span class="line" data-startTime="2936">RS 232 system, could I access these kind of </span><span class="line" data-startTime="2946">things with Chrome, through Chrome? </span></p>

<p class="speaker"><span class="line" data-starttime="2946"><span class="speakerName">Erik Kay</span>: So this serial device here was </span><span class="line" data-startTime="2948">actually a over USB, so it's serial over USB, </span><span class="line" data-startTime="2948">and actually we do have a USB API as well. </span></p>

<p class="speaker"><span class="line" data-starttime="2955"><span class="speakerName">Mihai Parparita</span>: Low level USB API. </span></p>

<p class="speaker"><span class="line" data-starttime="2955"><span class="speakerName">Erik Kay</span>: Right, exactly. So basically if </span><span class="line" data-startTime="2959">you know everything about a device, one of </span><span class="line" data-startTime="2959">the demos that we have if you look in our </span><span class="line" data-startTime="2963">repro &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2963"><span class="speakerName">Mihai Parparita</span>: It's a Griffin PowerMate. </span><span class="line" data-startTime="2966">Sends its rotation position over the USB, </span><span class="line" data-startTime="2966">and we can read a byte off of it. </span></p>

<p class="speaker"><span class="line" data-starttime="2972"><span class="speakerName">Erik Kay</span>: So there's a little bit more work </span><span class="line" data-startTime="2972">we need to do with the USB to really flesh </span><span class="line" data-startTime="2976">it out. For example, we don't have support </span><span class="line" data-startTime="2976">for HID devices yet, you know, and I think </span><span class="line" data-startTime="2980">it would be nice for us to build in a little </span><span class="line" data-startTime="2980">more knowledge about some of the specific </span><span class="line" data-startTime="2982">devices. Right now it's low level, you have </span><span class="line" data-startTime="2982">to know a bit more about the device that you </span><span class="line" data-startTime="2988">are talking to. </span></p>

<p class="speaker"><span class="line" data-starttime="2988"><span class="speakerName">Mihai Parparita</span>: For example, one of our </span><span class="line" data-startTime="2991">developer relations people has got his connect </span><span class="line" data-startTime="2991">hooked up to an app, but that seems to work. </span></p>

<p class="speaker"><span class="line" data-starttime="2996"><span class="speakerName">Audience member</span>: Time schedule, approximately? Months, </span><span class="line" data-startTime="2996">years? </span><span class="line" data-startTime="2998">[ Laughter ] </span></p>

<p class="speaker"><span class="line" data-starttime="2998"><span class="speakerName">Erik Kay</span>: Well, as we said, you can play </span><span class="line" data-startTime="3001">with this today. And you know that in general </span><span class="line" data-startTime="3001">our approach is to take a very incremental </span><span class="line" data-startTime="3008">release early and often type approach. So </span><span class="line" data-startTime="3008">our intent is to get it out this year, you </span><span class="line" data-startTime="3013">know, into the stable channel. But you should </span><span class="line" data-startTime="3013">be able to start playing with it now and building </span><span class="line" data-startTime="3017">apps now. Just depends on your tolerance for </span><span class="line" data-startTime="3017">early code. </span></p>

<p class="speaker"><span class="line" data-starttime="3022"><span class="speakerName">Audience member</span>: Right, thank you very much. </span></p>

<p class="speaker"><span class="line" data-starttime="3022"><span class="speakerName">Erik Kay</span>: All right. Well, we might be out </span><span class="line" data-startTime="3028">of questions. Any others? All right. </span><span class="line" data-startTime="3028">Well, I think that's about it then. If anybody </span><span class="line" data-startTime="3035">wants to find us afterwards, like I said, </span><span class="line" data-startTime="3035">we'll be over at the Chrome booth answering </span><span class="line" data-startTime="3039">questions and come check out Johnny HTML and </span><span class="line" data-startTime="3039">the other fun demos over there and we hope </span><span class="line" data-startTime="3045">to hear more from you. Thanks. </span><span class="line" data-startTime="3045">[ Applause ] </span></p>