<p><span class="line" data-startTime="0">Aaron Goodman: </span><span class="line" data-startTime="0">This talk is about </span><span class="line" data-startTime="2">the upcoming extension </span><span class="line" data-startTime="2">system for Google Chrome. </span> <span class="line" data-startTime="9">My name's Aaron Goodman. </span> <span class="line" data-startTime="10">To give you a little bit </span><span class="line" data-startTime="10">of background about myself, </span><span class="line" data-startTime="13">so you kind of know </span><span class="line" data-startTime="13">who you're talking to... </span> <span class="line" data-startTime="17">before I started working </span><span class="line" data-startTime="17">at Google, </span><span class="line" data-startTime="20">I created the Greasemonkey </span><span class="line" data-startTime="20">Firefox extension, </span><span class="line" data-startTime="24">which was about five years </span><span class="line" data-startTime="24">ago now. </span> <span class="line" data-startTime="26">And it was originally </span><span class="line" data-startTime="26">intended to be a quick hack </span><span class="line" data-startTime="30">that only a few </span><span class="line" data-startTime="30">of my friends would appreciate, </span><span class="line" data-startTime="33">the JavaScript hackers </span><span class="line" data-startTime="33">that I knew. </span> <span class="line" data-startTime="35">And I didn't really expect it </span><span class="line" data-startTime="35">to be popular, </span><span class="line" data-startTime="37">but it became </span><span class="line" data-startTime="37">extremely popular, </span><span class="line" data-startTime="39">much to my surprise. </span></p>

<p><span class="line" data-startTime="42">And that's kind of what </span><span class="line" data-startTime="42">eventually to led me </span><span class="line" data-startTime="45">being interested in working on </span><span class="line" data-startTime="45">extensions for Chrome. </span> <span class="line" data-startTime="49">In between then and now, </span><span class="line" data-startTime="49">I've been working on Gears </span><span class="line" data-startTime="53">which is another project </span><span class="line" data-startTime="53">at Google, and Chrome. </span> <span class="line" data-startTime="58">[clears throat] </span><span class="line" data-startTime="60">So before I dive in </span><span class="line" data-startTime="60">and get started, </span><span class="line" data-startTime="63">I wanna make </span><span class="line" data-startTime="63">a few quick caveats. </span> <span class="line" data-startTime="66">What you're about to see here </span><span class="line" data-startTime="66">is alpha code, </span><span class="line" data-startTime="69">pre-alpha code, even. </span> <span class="line" data-startTime="70">This is a early </span><span class="line" data-startTime="70">developer preview. </span> <span class="line" data-startTime="74">We're not making any extensions </span><span class="line" data-startTime="74">available </span><span class="line" data-startTime="76">to the general public today. </span> <span class="line" data-startTime="78">Ever since... </span> <span class="line" data-startTime="78">since Chrome is open source, </span><span class="line" data-startTime="82">we do everything </span><span class="line" data-startTime="82">in the open. </span></p>

<p><span class="line" data-startTime="83">We've done all our designing </span><span class="line" data-startTime="83">in the open, </span><span class="line" data-startTime="85">and it's the same </span><span class="line" data-startTime="85">with extensions. </span> <span class="line" data-startTime="87">Since we started the project, </span><span class="line" data-startTime="88">we did all of our design </span><span class="line" data-startTime="88">documents completely in the open </span><span class="line" data-startTime="92">and so it hasn't been </span><span class="line" data-startTime="92">a secret </span><span class="line" data-startTime="93">that we're working on </span><span class="line" data-startTime="93">extensions for Chrome. </span> <span class="line" data-startTime="96">And since it's not a secret, </span><span class="line" data-startTime="98">we figured that since </span><span class="line" data-startTime="98">this is a developer conference, </span><span class="line" data-startTime="100">it would be cool to come here </span><span class="line" data-startTime="100">and give an update </span><span class="line" data-startTime="103">about where we're at with </span><span class="line" data-startTime="103">the statuses of the project </span><span class="line" data-startTime="106">and sort of what </span><span class="line" data-startTime="106">the focus of it is, </span><span class="line" data-startTime="108">how it works, </span><span class="line" data-startTime="108">and what's cool about it. </span> <span class="line" data-startTime="112">So the specific agenda today </span><span class="line" data-startTime="114">is that we're gonna build </span><span class="line" data-startTime="114">an extension together. </span></p>

<p><span class="line" data-startTime="116">We're gonna start from scratch </span><span class="line" data-startTime="116">from an empty page, </span><span class="line" data-startTime="120">build a simple extension </span><span class="line" data-startTime="121">up to something </span><span class="line" data-startTime="121">that's moderately functional, </span><span class="line" data-startTime="123">and along the way, </span><span class="line" data-startTime="123">I'm gonna show you </span><span class="line" data-startTime="125">three of what I think </span><span class="line" data-startTime="125">are the coolest things </span><span class="line" data-startTime="127">about the design </span><span class="line" data-startTime="127">of the Chrome Extension system. </span> <span class="line" data-startTime="133">But first I want to step back </span><span class="line" data-startTime="133">and give some context </span><span class="line" data-startTime="137">about why we're even doing </span><span class="line" data-startTime="137">an extension system for Chrome. </span> <span class="line" data-startTime="140">'Cause I think that kind of </span><span class="line" data-startTime="140">will set the stage </span><span class="line" data-startTime="142">for some of the decisions </span><span class="line" data-startTime="142">that we made </span><span class="line" data-startTime="143">about how it's implemented. </span> <span class="line" data-startTime="147">There's some pretty good </span><span class="line" data-startTime="147">reasons why </span><span class="line" data-startTime="148">you would not want to do </span><span class="line" data-startTime="150">an extension system </span><span class="line" data-startTime="150">for a browser. </span></p>

<p><span class="line" data-startTime="152">And...if there's </span><span class="line" data-startTime="152">any security people around, </span><span class="line" data-startTime="155">I'm sure you can think </span><span class="line" data-startTime="155">of some of them. </span> <span class="line" data-startTime="157">But there's quite a few. </span> <span class="line" data-startTime="160">First of all, </span><span class="line" data-startTime="160">it can be a security problem. </span> <span class="line" data-startTime="163">The browser has become </span><span class="line" data-startTime="165">the most important </span><span class="line" data-startTime="165">piece of software on computers, </span><span class="line" data-startTime="167">and it's the interface </span><span class="line" data-startTime="167">through which you access </span><span class="line" data-startTime="170">all of your private </span><span class="line" data-startTime="170">and sensitive data on the web. </span> <span class="line" data-startTime="173">And so naturally </span><span class="line" data-startTime="173">adding third-party code </span><span class="line" data-startTime="174">into that software </span><span class="line" data-startTime="176">is something that should be </span><span class="line" data-startTime="176">thought about carefully. </span> <span class="line" data-startTime="179">There's also...there can be </span><span class="line" data-startTime="179">robustness issues. </span></p>

<p><span class="line" data-startTime="182">Application developers </span><span class="line" data-startTime="182">are typically nervous </span><span class="line" data-startTime="186">about adding plugins, </span><span class="line" data-startTime="186">extensions, whatever, </span><span class="line" data-startTime="187">to their system </span><span class="line" data-startTime="189">because if there's a problem </span><span class="line" data-startTime="189">with a plugin or an extension, </span><span class="line" data-startTime="192">users don't typically </span><span class="line" data-startTime="192">understand </span><span class="line" data-startTime="194">that the problem </span><span class="line" data-startTime="194">is with the extension. </span> <span class="line" data-startTime="196">They just think that </span><span class="line" data-startTime="196">the application is busted, </span><span class="line" data-startTime="198">and they're just mad at </span><span class="line" data-startTime="198">the application in general. </span> <span class="line" data-startTime="201">So that can cause &mdash; </span><span class="line" data-startTime="201">application vendors </span><span class="line" data-startTime="204">are typically reluctant </span><span class="line" data-startTime="204">to add plugins because </span><span class="line" data-startTime="207">they end up getting blamed </span><span class="line" data-startTime="207">for problems with the plugins. </span> <span class="line" data-startTime="212">Another reason why not </span><span class="line" data-startTime="212">to do an extension system </span><span class="line" data-startTime="216">is maintenance. </span></p>

<p><span class="line" data-startTime="218">Every time you add </span><span class="line" data-startTime="218">an extension API to a product, </span><span class="line" data-startTime="222">you create a maintenance problem </span><span class="line" data-startTime="222">for yourself. </span> <span class="line" data-startTime="225">Because you can never take back </span><span class="line" data-startTime="225">and extension API. </span> <span class="line" data-startTime="227">Once you create one </span><span class="line" data-startTime="227">and people start using it, </span><span class="line" data-startTime="229">you're married to it </span><span class="line" data-startTime="229">and it exists forever, </span><span class="line" data-startTime="231">and you have to support it </span><span class="line" data-startTime="231">forever. </span> <span class="line" data-startTime="233">And this can become </span><span class="line" data-startTime="233">a big problem. </span> <span class="line" data-startTime="235">It can make it </span><span class="line" data-startTime="235">so it's very difficult </span><span class="line" data-startTime="237">to upgrade your product </span><span class="line" data-startTime="237">and add new features to it </span><span class="line" data-startTime="240">or change features </span><span class="line" data-startTime="242">because there's features that </span><span class="line" data-startTime="242">are attached to extension APIs, </span><span class="line" data-startTime="244">and you can't modify </span><span class="line" data-startTime="244">the extension APIs </span><span class="line" data-startTime="246">because it would break </span><span class="line" data-startTime="246">all the extensions, </span><span class="line" data-startTime="247">and you don't wanna do that. </span> <span class="line" data-startTime="249">So these are all reasons </span><span class="line" data-startTime="251">why you would not want to do </span><span class="line" data-startTime="251">an extension system. </span></p>

<p><span class="line" data-startTime="253">But we are doing one. </span> <span class="line" data-startTime="253">So why is that? </span><span class="line" data-startTime="256">Well, the obvious reason </span><span class="line" data-startTime="256">is that you made us. </span> <span class="line" data-startTime="262">The very first day </span><span class="line" data-startTime="262">we launched Chrome, </span><span class="line" data-startTime="264">it was September 2. </span> <span class="line" data-startTime="265">The 18th bug that was reported </span><span class="line" data-startTime="267">was that Chrome does not </span><span class="line" data-startTime="267">have an extension system. </span> <span class="line" data-startTime="270">[chuckling] </span><span class="line" data-startTime="271">And...[laughs] </span><span class="line" data-startTime="273">There were a lot of bugs </span><span class="line" data-startTime="273">created that day. </span> <span class="line" data-startTime="275">So this was created, </span><span class="line" data-startTime="275">you know, </span><span class="line" data-startTime="277">minutes </span><span class="line" data-startTime="277">after we launched Chrome. </span> <span class="line" data-startTime="278">[laughs] </span><span class="line" data-startTime="281">And within days, </span><span class="line" data-startTime="281">800 people starred it </span><span class="line" data-startTime="283">and added such helpful </span><span class="line" data-startTime="283">comments as, </span><span class="line" data-startTime="285">"Repose for me... </span> <span class="line" data-startTime="287">There's no extension </span><span class="line" data-startTime="287">system on my computer." </span><span class="line" data-startTime="288">[laughter] </span><span class="line" data-startTime="290">So thanks for helping us </span><span class="line" data-startTime="290">track that down. </span> <span class="line" data-startTime="292">[laughs] </span><span class="line" data-startTime="295">And we eventually </span><span class="line" data-startTime="295">had to close the bug </span><span class="line" data-startTime="296">because it became </span><span class="line" data-startTime="296">totally useless </span><span class="line" data-startTime="298">because there were </span><span class="line" data-startTime="298">800 comments on it. </span> <span class="line" data-startTime="301">So that's the obvious reason </span><span class="line" data-startTime="301">is that... </span> <span class="line" data-startTime="305">especially because </span><span class="line" data-startTime="305">of the great work </span><span class="line" data-startTime="307">that Mozilla has done </span><span class="line" data-startTime="307">with Firefox, </span><span class="line" data-startTime="309">they've really shown </span><span class="line" data-startTime="309">how important and crucial </span><span class="line" data-startTime="313">a vibrant add-on </span><span class="line" data-startTime="313">eco system is for a browser </span><span class="line" data-startTime="316">and since Firefox, </span><span class="line" data-startTime="316">users just have come to expect </span><span class="line" data-startTime="321">that browsers have powerful </span><span class="line" data-startTime="321">extension systems. </span></p>

<p><span class="line" data-startTime="324">So that's the obvious reason </span><span class="line" data-startTime="324">why we're doing one. </span> <span class="line" data-startTime="327">But there are </span><span class="line" data-startTime="327">some other good reasons. </span> <span class="line" data-startTime="329">And there are reasons </span><span class="line" data-startTime="329">that sort of counterweight </span><span class="line" data-startTime="332">all the reasons </span><span class="line" data-startTime="332">not to do one. </span> <span class="line" data-startTime="335">And there are reasons </span><span class="line" data-startTime="335">that the Chrome team, </span><span class="line" data-startTime="337">the Google Chrome team </span><span class="line" data-startTime="337">is especially interested in. </span> <span class="line" data-startTime="340">First of all, </span><span class="line" data-startTime="340">an extension system </span><span class="line" data-startTime="342">helps keep Google Chrome </span><span class="line" data-startTime="342">minimal. </span> <span class="line" data-startTime="344">One of the cool features </span><span class="line" data-startTime="344">of Chrome </span><span class="line" data-startTime="346">that we really like </span><span class="line" data-startTime="346">and that we're proud of </span><span class="line" data-startTime="348">is that Chrome has this really </span><span class="line" data-startTime="348">minimal slick interface, </span><span class="line" data-startTime="351">and we think that </span><span class="line" data-startTime="351">this is a reason </span><span class="line" data-startTime="353">that people like </span><span class="line" data-startTime="353">using Chrome, </span><span class="line" data-startTime="354">and we want </span><span class="line" data-startTime="354">to keep it that way. </span></p>

<p><span class="line" data-startTime="356">But the problem is that </span><span class="line" data-startTime="356">in order to keep it that way, </span><span class="line" data-startTime="359">we have to have a very high </span><span class="line" data-startTime="359">bar for features </span><span class="line" data-startTime="361">that we'll add to Chrome. </span> <span class="line" data-startTime="362">And we have a rule of thumb </span><span class="line" data-startTime="362">on the project </span><span class="line" data-startTime="364">that we won't add a feature </span><span class="line" data-startTime="364">to the main interface of Chrome </span><span class="line" data-startTime="366">unless we think that </span><span class="line" data-startTime="366">it will be used </span><span class="line" data-startTime="367">by a vast majority </span><span class="line" data-startTime="367">of users of Chrome. </span> <span class="line" data-startTime="370">Not a simple majority. </span> <span class="line" data-startTime="370">Not a significant majority. </span> <span class="line" data-startTime="373">Almost all users. </span> <span class="line" data-startTime="375">And that creates </span><span class="line" data-startTime="375">a huge problem, </span><span class="line" data-startTime="377">because there's </span><span class="line" data-startTime="377">tons of features </span><span class="line" data-startTime="378">that a lot of users </span><span class="line" data-startTime="378">would want &mdash; </span><span class="line" data-startTime="380">a majority of users would want &mdash; </span><span class="line" data-startTime="381">but we won't add them </span><span class="line" data-startTime="381">to Chrome </span><span class="line" data-startTime="383">because we're trying </span><span class="line" data-startTime="383">to keep it minimal. </span></p>

<p><span class="line" data-startTime="384">Extensions </span><span class="line" data-startTime="384">help with this problem </span><span class="line" data-startTime="386">because ideally, </span><span class="line" data-startTime="386">with a good extension system, </span><span class="line" data-startTime="389">we can create a customized </span><span class="line" data-startTime="389">browser for every user. </span> <span class="line" data-startTime="392">Every user can have </span><span class="line" data-startTime="392">the features that they need </span><span class="line" data-startTime="394">and none of the features </span><span class="line" data-startTime="394">they don't want. </span> <span class="line" data-startTime="396">As an example of this, </span><span class="line" data-startTime="396">a simple example, </span><span class="line" data-startTime="398">imagine a feature </span><span class="line" data-startTime="398">that integrates with Skype. </span> <span class="line" data-startTime="401">People who use Skype </span><span class="line" data-startTime="401">would probably really like </span><span class="line" data-startTime="404">the ability to have phone </span><span class="line" data-startTime="404">numbers on web pages highlighted </span><span class="line" data-startTime="407">so they could click on them </span><span class="line" data-startTime="407">and it would dial in Skype. </span> <span class="line" data-startTime="409">It's a great feature. </span></p>

<p><span class="line" data-startTime="411">People who use Skype </span><span class="line" data-startTime="411">would love this. </span> <span class="line" data-startTime="412">But people who don't use Skype </span><span class="line" data-startTime="414">would think this feature's </span><span class="line" data-startTime="414">totally useless, </span><span class="line" data-startTime="415">and it would just be </span><span class="line" data-startTime="415">noise to them. </span> <span class="line" data-startTime="417">So this is just one example </span><span class="line" data-startTime="420">of all kinds of features </span><span class="line" data-startTime="420">that come up like this </span><span class="line" data-startTime="422">that some users want, </span><span class="line" data-startTime="422">some users don't, </span><span class="line" data-startTime="424">and extension systems </span><span class="line" data-startTime="424">really help solve this problem. </span> <span class="line" data-startTime="429">Another reason </span><span class="line" data-startTime="429">that the Google Chrome team </span><span class="line" data-startTime="432">wants to do extensions </span><span class="line" data-startTime="433">is because it helps us prototype </span><span class="line" data-startTime="433">new feature ideas. </span> <span class="line" data-startTime="435">I mentioned that </span><span class="line" data-startTime="435">we won't add something to Chrome </span><span class="line" data-startTime="438">unless it's gonna be used </span><span class="line" data-startTime="438">by most users. </span> <span class="line" data-startTime="440">But how do we know </span><span class="line" data-startTime="440">that a feature will be used </span><span class="line" data-startTime="442">by most users? </span><span class="line" data-startTime="444">Sometimes it's not clear. </span></p>

<p><span class="line" data-startTime="445">There can be arguments </span><span class="line" data-startTime="445">within the team </span><span class="line" data-startTime="446">about whether a feature's </span><span class="line" data-startTime="446">important or not. </span> <span class="line" data-startTime="448">And if we just add it </span><span class="line" data-startTime="448">to the product and ship it, </span><span class="line" data-startTime="452">it will be hard for us </span><span class="line" data-startTime="452">to take it away, </span><span class="line" data-startTime="454">because people get used to it </span><span class="line" data-startTime="455">and they don't want us </span><span class="line" data-startTime="455">to remove it. </span> <span class="line" data-startTime="457">So even if it's not </span><span class="line" data-startTime="457">successful, </span><span class="line" data-startTime="459">it would be hard for us </span><span class="line" data-startTime="459">to remove it later. </span> <span class="line" data-startTime="460">Extension system </span><span class="line" data-startTime="460">helps with this because </span><span class="line" data-startTime="462">we can implement a feature </span><span class="line" data-startTime="462">as an extension, </span><span class="line" data-startTime="464">put it out there, </span><span class="line" data-startTime="464">let people install it, </span><span class="line" data-startTime="466">and if it becomes </span><span class="line" data-startTime="466">wildly successful, </span><span class="line" data-startTime="468">then we know </span><span class="line" data-startTime="468">that it was a good idea </span><span class="line" data-startTime="470">and we add it </span><span class="line" data-startTime="470">to the main Chrome UI. </span> <span class="line" data-startTime="471">Otherwise, </span><span class="line" data-startTime="471">it just stays an extension. </span> <span class="line" data-startTime="478">So with that context... </span> <span class="line" data-startTime="481">I'm gonna dive in and start </span><span class="line" data-startTime="481">building up a sample extension. </span></p>

<p><span class="line" data-startTime="484">What you're gonna see here </span><span class="line" data-startTime="486">requires what's called the </span><span class="line" data-startTime="486">Dev Channel release of Chrome. </span> <span class="line" data-startTime="489">If you're not familiar, </span><span class="line" data-startTime="489">Chrome has three releases. </span> <span class="line" data-startTime="492">Three channels </span><span class="line" data-startTime="492">is what we call them. </span> <span class="line" data-startTime="495">And these channels </span><span class="line" data-startTime="495">are available all the time, </span><span class="line" data-startTime="499">so there's always three </span><span class="line" data-startTime="499">different releases of Chrome </span><span class="line" data-startTime="501">available at any given </span><span class="line" data-startTime="501">point in time. </span> <span class="line" data-startTime="504">There's the stable channel, </span><span class="line" data-startTime="505">which is what almost </span><span class="line" data-startTime="505">everyone has. </span> <span class="line" data-startTime="506">If you go to Google.com/Chrome </span><span class="line" data-startTime="506">and you install Chrome, </span><span class="line" data-startTime="510">this is what you get, </span><span class="line" data-startTime="510">the stable channel. </span></p>

<p><span class="line" data-startTime="511">There's also a beta channel </span><span class="line" data-startTime="513">which is released </span><span class="line" data-startTime="513">much more frequently. </span> <span class="line" data-startTime="516">It's released </span><span class="line" data-startTime="516">about once a month, and... </span> <span class="line" data-startTime="520">the beta channel </span><span class="line" data-startTime="520">has all the features </span><span class="line" data-startTime="522">that are expected to become </span><span class="line" data-startTime="523">the next stable release </span><span class="line" data-startTime="523">of Chrome. </span> <span class="line" data-startTime="526">And since it's not yet stable, </span><span class="line" data-startTime="526">it has a few more bugs, </span><span class="line" data-startTime="529">it may crash </span><span class="line" data-startTime="529">more frequently, </span><span class="line" data-startTime="531">it may be a little bit slower &mdash; </span><span class="line" data-startTime="531">things like that. </span> <span class="line" data-startTime="534">And then finally, </span><span class="line" data-startTime="534">there's the Dev Channel, </span><span class="line" data-startTime="536">and the Dev Channel </span><span class="line" data-startTime="536">is like the Wild West. </span> <span class="line" data-startTime="538">The Dev Channel </span><span class="line" data-startTime="538">is released every week, and... </span> <span class="line" data-startTime="540">unless there's some </span><span class="line" data-startTime="540">major problem, </span><span class="line" data-startTime="542">and it has minimal testing, </span><span class="line" data-startTime="544">and it has all the features </span><span class="line" data-startTime="544">that we're experimenting with. </span> <span class="line" data-startTime="548">So some of these features </span><span class="line" data-startTime="549">may not ever make it </span><span class="line" data-startTime="549">to the stable release. </span></p>

<p><span class="line" data-startTime="551">We may decide </span><span class="line" data-startTime="551">that we don't like them </span><span class="line" data-startTime="553">or we may change them, </span><span class="line" data-startTime="553">and it's a lot less stable. </span> <span class="line" data-startTime="555">But the upside </span><span class="line" data-startTime="555">is that the Dev Channel </span><span class="line" data-startTime="557">has all the newest work, </span><span class="line" data-startTime="559">and since extensions is on-going </span><span class="line" data-startTime="559">and we're giving this talk </span><span class="line" data-startTime="562">in the middle of the development </span><span class="line" data-startTime="562">of the extensions project, </span><span class="line" data-startTime="565">the Dev Channel's </span><span class="line" data-startTime="565">what you need to use this stuff. </span> <span class="line" data-startTime="569">You also need to add </span><span class="line" data-startTime="569">a custom flag </span><span class="line" data-startTime="572">to your chrome.xe shortcut, </span><span class="line" data-startTime="575">and all of this is described </span><span class="line" data-startTime="575">on a how-to document </span><span class="line" data-startTime="579">that we've put up </span><span class="line" data-startTime="579">that you can read </span><span class="line" data-startTime="581">that will help you get started </span><span class="line" data-startTime="581">writing an extension. </span> <span class="line" data-startTime="583">So if you do a Google search </span><span class="line" data-startTime="583">for Chrome Extensions HOWTO, </span><span class="line" data-startTime="586">click on the first result, </span><span class="line" data-startTime="586">it'll take you to a page </span><span class="line" data-startTime="588">that details how to get started </span><span class="line" data-startTime="588">writing your first extension. </span> <span class="line" data-startTime="591">And it covers </span><span class="line" data-startTime="591">these prerequisites. </span> <span class="line" data-startTime="603">So we can finally get started </span><span class="line" data-startTime="603">writing our extension. </span></p>

<p><span class="line" data-startTime="606">I said that we're gonna cover </span><span class="line" data-startTime="606">three of the coolest things </span><span class="line" data-startTime="608">about the extension system, </span><span class="line" data-startTime="608">and the first one, </span><span class="line" data-startTime="610">the most important one, </span><span class="line" data-startTime="612">and the one that we're most </span><span class="line" data-startTime="612">excited about </span><span class="line" data-startTime="614">and is sort of the linchpin </span><span class="line" data-startTime="615">that the whole system </span><span class="line" data-startTime="615">revolves around, </span><span class="line" data-startTime="617">is that in Chrome </span><span class="line" data-startTime="617">extensions are web pages. </span> <span class="line" data-startTime="619">What I mean by that </span><span class="line" data-startTime="619">extensions in Chrome </span><span class="line" data-startTime="622">are written using </span><span class="line" data-startTime="622">the exact same technologies </span><span class="line" data-startTime="624">that you use to write </span><span class="line" data-startTime="624">web pages &mdash; </span><span class="line" data-startTime="626">HTML, CSS, and JavaScript. </span> <span class="line" data-startTime="627">It's not inspired </span><span class="line" data-startTime="627">by these technologies, </span><span class="line" data-startTime="630">but extensions actually are </span><span class="line" data-startTime="630">web pages. </span> <span class="line" data-startTime="632">So all the skills, </span><span class="line" data-startTime="634">all the tools that you use </span><span class="line" data-startTime="634">to write web pages </span><span class="line" data-startTime="636">and that you're familiar with </span><span class="line" data-startTime="637">are immediately applicable </span><span class="line" data-startTime="637">to writing extensions in Chrome, </span><span class="line" data-startTime="640">and you don't need </span><span class="line" data-startTime="640">to relearn anything. </span></p>

<p><span class="line" data-startTime="643">What does that mean, to have </span><span class="line" data-startTime="643">an extension be a web page? </span><span class="line" data-startTime="648">Well, let's take a look. </span> <span class="line" data-startTime="651">In Chrome, </span><span class="line" data-startTime="651">extensions are basically </span><span class="line" data-startTime="654">a package, a zip file, </span><span class="line" data-startTime="654">of HTMLs, CSS, and JavaScript. </span> <span class="line" data-startTime="659">And there can be as many </span><span class="line" data-startTime="659">of these files as you want. </span> <span class="line" data-startTime="661">And then there's one file </span><span class="line" data-startTime="661">called a manifest </span><span class="line" data-startTime="663">that ties the whole thing </span><span class="line" data-startTime="663">together </span><span class="line" data-startTime="665">and declares information </span><span class="line" data-startTime="665">about the extension </span><span class="line" data-startTime="667">such as its name, </span><span class="line" data-startTime="667">its description, its version, </span><span class="line" data-startTime="669">and the features </span><span class="line" data-startTime="669">that it's using. </span> <span class="line" data-startTime="671">So in this right window here, </span><span class="line" data-startTime="674">I have started </span><span class="line" data-startTime="674">a basic extension. </span> <span class="line" data-startTime="676">And right now the extension </span><span class="line" data-startTime="676">is totally empty. </span> <span class="line" data-startTime="678">It has nothing in it </span><span class="line" data-startTime="678">except for my manifest file. </span></p>

<p><span class="line" data-startTime="681">I open this up in my editor, </span><span class="line" data-startTime="683">and...I'll make the screen font </span><span class="line" data-startTime="683">a little bigger. </span> <span class="line" data-startTime="693">And you can see that </span><span class="line" data-startTime="693">this manifest is JSON. </span> <span class="line" data-startTime="696">It's a format </span><span class="line" data-startTime="696">that most web developers </span><span class="line" data-startTime="697">should be familiar with. </span> <span class="line" data-startTime="699">And right now, </span><span class="line" data-startTime="699">it has two keys, </span><span class="line" data-startTime="700">which is the bare minimum </span><span class="line" data-startTime="700">required for an extension </span><span class="line" data-startTime="702">that just declares </span><span class="line" data-startTime="702">this name and this version. </span> <span class="line" data-startTime="704">And what I'm gonna do now </span><span class="line" data-startTime="706">is I'm gonna add my first </span><span class="line" data-startTime="706">feature to my extension. </span> <span class="line" data-startTime="708">And one of the features </span><span class="line" data-startTime="708">that we support </span><span class="line" data-startTime="710">is called toolstrips, </span><span class="line" data-startTime="710">so I'm gonna add one toolstrip. </span> <span class="line" data-startTime="714">And...it's an HTML file. </span> <span class="line" data-startTime="716">And I'll call it </span><span class="line" data-startTime="716">my_toolstrip.html. </span></p>

<p><span class="line" data-startTime="719">So I save my manifest. </span> <span class="line" data-startTime="722">I'll create a new HTML file... </span> <span class="line" data-startTime="729">And I'll save that </span><span class="line" data-startTime="729">as my_toolstrip.html. </span> <span class="line" data-startTime="737">And now to do these demos, </span><span class="line" data-startTime="739">I'm gonna use a separate </span><span class="line" data-startTime="739">instance of Chrome </span><span class="line" data-startTime="741">just so that I don't lose </span><span class="line" data-startTime="741">my place in the presentation. </span> <span class="line" data-startTime="744">Again, this works with the </span><span class="line" data-startTime="744">development version of Chrome, </span><span class="line" data-startTime="746">so you don't need </span><span class="line" data-startTime="746">a special build of it. </span> <span class="line" data-startTime="748">So I start my Chrome. </span> <span class="line" data-startTime="755">And you can see </span><span class="line" data-startTime="755">that there's now a toolbar </span><span class="line" data-startTime="757">along the bottom part </span><span class="line" data-startTime="757">of Chrome, </span><span class="line" data-startTime="759">and my extension, </span><span class="line" data-startTime="759">my toolstrip </span><span class="line" data-startTime="762">shows up there. </span> <span class="line" data-startTime="763">And it's not </span><span class="line" data-startTime="763">too exciting yet, </span><span class="line" data-startTime="764">doesn't do anything. </span> <span class="line" data-startTime="766">It just has some text. </span> <span class="line" data-startTime="768">But I can prove that this </span><span class="line" data-startTime="768">really is an extension </span><span class="line" data-startTime="770">by right-clicking on it. </span> <span class="line" data-startTime="771">It brings up </span><span class="line" data-startTime="771">Chrome's Inspector, </span><span class="line" data-startTime="773">which is exactly the same </span><span class="line" data-startTime="773">inspector that you use </span><span class="line" data-startTime="776">to de-bug web pages. </span></p>

<p><span class="line" data-startTime="778">It works exactly the same way. </span> <span class="line" data-startTime="778">You can expand the elements. </span> <span class="line" data-startTime="780">Oops. Aah. </span> <span class="line" data-startTime="782">Let me try that again. </span> <span class="line" data-startTime="782">[laughs] </span><span class="line" data-startTime="786">And when you hover </span><span class="line" data-startTime="786">over the elements, </span><span class="line" data-startTime="788">it highlights them </span><span class="line" data-startTime="789">just like the regular </span><span class="line" data-startTime="789">web inspector does. </span> <span class="line" data-startTime="791">And this highlights </span><span class="line" data-startTime="791">a great reason why </span><span class="line" data-startTime="794">we want to use web pages </span><span class="line" data-startTime="794">for extensions, </span><span class="line" data-startTime="796">because we didn't have to </span><span class="line" data-startTime="796">write any new tools, </span><span class="line" data-startTime="799">and you don't have to learn </span><span class="line" data-startTime="799">any new tools. </span> <span class="line" data-startTime="801">Everything works exactly </span><span class="line" data-startTime="801">the same way </span><span class="line" data-startTime="802">as it does when you're </span><span class="line" data-startTime="802">writing web pages. </span> <span class="line" data-startTime="804">So if you already know </span><span class="line" data-startTime="804">how to use Chrome's Inspector, </span><span class="line" data-startTime="806">you know how to use it </span><span class="line" data-startTime="806">for extensions too. </span></p>

<p><span class="line" data-startTime="810">Now, since this is HTML, </span><span class="line" data-startTime="810">I can use any HTML features. </span> <span class="line" data-startTime="814">It can actually do more </span><span class="line" data-startTime="816">than just print out </span><span class="line" data-startTime="816">snarky comments. </span> <span class="line" data-startTime="818">So I can add an icon, </span><span class="line" data-startTime="821">and it works exactly </span><span class="line" data-startTime="821">the same way as HTML. </span> <span class="line" data-startTime="826">I have an icon here </span><span class="line" data-startTime="826">I'm gonna copy out of my... </span> <span class="line" data-startTime="831">folder of samples </span><span class="line" data-startTime="831">and into my extension. </span> <span class="line" data-startTime="836">And also, </span><span class="line" data-startTime="836">because it is a web page, </span><span class="line" data-startTime="838">the development cycle </span><span class="line" data-startTime="838">is just like a web page. </span> <span class="line" data-startTime="841">You can just reload it, </span><span class="line" data-startTime="841">and you see the new content. </span> <span class="line" data-startTime="844">Of course, the reload button </span><span class="line" data-startTime="844">doesn't work </span><span class="line" data-startTime="845">because the reload button </span><span class="line" data-startTime="845">is for the tab. </span> <span class="line" data-startTime="847">But you can reload an extension </span><span class="line" data-startTime="847">in multiple ways. </span> <span class="line" data-startTime="849">One way is to just create </span><span class="line" data-startTime="849">a new window, </span><span class="line" data-startTime="851">so I create a new window, </span><span class="line" data-startTime="853">and you can see </span><span class="line" data-startTime="853">my icon showed up. </span></p>

<p><span class="line" data-startTime="855">Another way that I like to do </span><span class="line" data-startTime="855">is I just use the console </span><span class="line" data-startTime="859">and use the JavaScript API </span><span class="line" data-startTime="859">to do a reload. </span> <span class="line" data-startTime="862">So I type location of reload </span><span class="line" data-startTime="864">and you can see </span><span class="line" data-startTime="864">my toolstrip reloaded. </span> <span class="line" data-startTime="874">So Chrome Extensions </span><span class="line" data-startTime="874">are HTML, CSS, and JavaScript. </span> <span class="line" data-startTime="878">To recap, </span><span class="line" data-startTime="878">extensions are packages, </span><span class="line" data-startTime="881">zip files basically, </span><span class="line" data-startTime="881">that contain these files. </span> <span class="line" data-startTime="884">Each piece of UI </span><span class="line" data-startTime="884">in your extension, </span><span class="line" data-startTime="887">such as toolstrips </span><span class="line" data-startTime="887">that I just showed, </span><span class="line" data-startTime="889">sidebars, when we have those </span><span class="line" data-startTime="889">in the future, </span><span class="line" data-startTime="891">all of these things are fully </span><span class="line" data-startTime="891">functioning web pages, </span><span class="line" data-startTime="894">and so they work </span><span class="line" data-startTime="894">exactly the same as web pages. </span> <span class="line" data-startTime="897">You can use </span><span class="line" data-startTime="897">the same debugging tools, </span><span class="line" data-startTime="899">the same JavaScript libraries, </span><span class="line" data-startTime="899">the same techniques, </span><span class="line" data-startTime="901">all the CSS hacks that </span><span class="line" data-startTime="901">you've learned over the years </span><span class="line" data-startTime="903">work exactly the same way. </span></p>

<p><span class="line" data-startTime="905">And if you prefer to use jQuery, </span><span class="line" data-startTime="905">you can use jQuery. </span> <span class="line" data-startTime="909">It will work the same way. </span> <span class="line" data-startTime="911">If you like Prototype </span><span class="line" data-startTime="911">or MochiKit, </span><span class="line" data-startTime="913">you can use those. </span> <span class="line" data-startTime="914">They all work the same way </span><span class="line" data-startTime="914">as they do on web pages </span><span class="line" data-startTime="916">because extensions </span><span class="line" data-startTime="916">really are web pages. </span> <span class="line" data-startTime="919">From the point of view </span><span class="line" data-startTime="919">of the library, </span><span class="line" data-startTime="921">the library does not even know </span><span class="line" data-startTime="921">that it's in an extension. </span> <span class="line" data-startTime="923">So it's guaranteed to work. </span> <span class="line" data-startTime="926">And just like web pages, </span><span class="line" data-startTime="927">there's an easy iterative </span><span class="line" data-startTime="927">development cycle </span><span class="line" data-startTime="929">for extensions. </span> <span class="line" data-startTime="931">All you do is reload </span><span class="line" data-startTime="931">and you see your new content. </span></p>

<p><span class="line" data-startTime="934">There's no need to restart </span><span class="line" data-startTime="934">or recompile anything. </span> <span class="line" data-startTime="938">Now, you may have noticed </span><span class="line" data-startTime="938">that when I </span><span class="line" data-startTime="941">put that simple HTML </span><span class="line" data-startTime="941">in my HTML file, </span><span class="line" data-startTime="944">it did not look </span><span class="line" data-startTime="944">like what you would expect </span><span class="line" data-startTime="946">if you loaded that into </span><span class="line" data-startTime="946">a normal web page. </span> <span class="line" data-startTime="948">It had a different style. </span> <span class="line" data-startTime="950">It had blue text </span><span class="line" data-startTime="950">instead of black. </span> <span class="line" data-startTime="951">It was arial or sans-serif font </span><span class="line" data-startTime="951">instead of serif. </span> <span class="line" data-startTime="955">It had a blue background, </span><span class="line" data-startTime="955">etcetera. </span> <span class="line" data-startTime="957">The reason that </span><span class="line" data-startTime="957">that happened </span><span class="line" data-startTime="959">is because we add default CSS </span><span class="line" data-startTime="959">to the extensions </span><span class="line" data-startTime="962">to make them look good </span><span class="line" data-startTime="962">with the Chrome UI. </span></p>

<p><span class="line" data-startTime="964">And we do that because, </span><span class="line" data-startTime="964">again, </span><span class="line" data-startTime="966">one of the things that </span><span class="line" data-startTime="966">we're most proud of in Chrome </span><span class="line" data-startTime="969">and that we really like </span><span class="line" data-startTime="970">is that it has this sleek, </span><span class="line" data-startTime="970">modern interface </span><span class="line" data-startTime="972">and we didn't want extensions </span><span class="line" data-startTime="972">to ruin that. </span> <span class="line" data-startTime="974">We wanted extensions in Chrome </span><span class="line" data-startTime="977">to still have </span><span class="line" data-startTime="977">that same aesthetic. </span> <span class="line" data-startTime="979">And at the same time, </span><span class="line" data-startTime="980">we want extensions to be </span><span class="line" data-startTime="980">really easy to write. </span> <span class="line" data-startTime="982">And having every developer </span><span class="line" data-startTime="982">have to worry about </span><span class="line" data-startTime="985">writing the right CSS </span><span class="line" data-startTime="985">to fit in with Chrome's UI </span><span class="line" data-startTime="988">seemed really difficult </span><span class="line" data-startTime="989">and also seems like </span><span class="line" data-startTime="989">it would result in </span><span class="line" data-startTime="991">everyone doing it </span><span class="line" data-startTime="991">slightly differently... </span> <span class="line" data-startTime="993">which wouldn't look good. </span></p>

<p><span class="line" data-startTime="994">So we inject this default CSS </span><span class="line" data-startTime="994">into your extension </span><span class="line" data-startTime="999">so that by default </span><span class="line" data-startTime="999">you don't have to do anything. </span> <span class="line" data-startTime="1001">Your extension </span><span class="line" data-startTime="1001">will just look good </span><span class="line" data-startTime="1003">and fit in with </span><span class="line" data-startTime="1003">the Chrome UI. </span> <span class="line" data-startTime="1006">I can show you another </span><span class="line" data-startTime="1006">example of how that works. </span> <span class="line" data-startTime="1009">We have this... </span> <span class="line" data-startTime="1009">we have some special CSS classes </span><span class="line" data-startTime="1014">that you can use... </span> <span class="line" data-startTime="1017">to get effects </span><span class="line" data-startTime="1019">to make it fit in better </span><span class="line" data-startTime="1019">with Chrome's UI. </span> <span class="line" data-startTime="1026">And one of them </span><span class="line" data-startTime="1026">is this toolstrip button class. </span> <span class="line" data-startTime="1029">So I can create a div </span><span class="line" data-startTime="1029">with that class name... </span> <span class="line" data-startTime="1032">and I'll restart my extension. </span></p>

<p><span class="line" data-startTime="1035">And you can see now </span><span class="line" data-startTime="1035">that when I hover over this, </span><span class="line" data-startTime="1037">is has this nice blue </span><span class="line" data-startTime="1037">rounded outline. </span> <span class="line" data-startTime="1041">The spacing is also </span><span class="line" data-startTime="1041">a little bit better. </span> <span class="line" data-startTime="1043">And actually, </span><span class="line" data-startTime="1043">you might notice </span><span class="line" data-startTime="1045">that it's exactly </span><span class="line" data-startTime="1045">the same look and feel </span><span class="line" data-startTime="1047">as the native bookmark buttons. </span> <span class="line" data-startTime="1049">So it looks exactly the same. </span> <span class="line" data-startTime="1051">You can't even tell </span><span class="line" data-startTime="1051">that it's HTML. </span> <span class="line" data-startTime="1053">And there's actually </span><span class="line" data-startTime="1053">a lot of little details </span><span class="line" data-startTime="1055">that go into doing that. </span> <span class="line" data-startTime="1057">The corners of these are rounded </span><span class="line" data-startTime="1057">and anti-aliased. </span> <span class="line" data-startTime="1059">and there's a faint white </span><span class="line" data-startTime="1059">shadow on the blue text. </span> <span class="line" data-startTime="1062">And it would be hard </span><span class="line" data-startTime="1062">to do this. </span> <span class="line" data-startTime="1064">As an extension developer, </span><span class="line" data-startTime="1065">it would take a lot of time </span><span class="line" data-startTime="1065">to get it right. </span></p>

<p><span class="line" data-startTime="1067">And if we ever changed </span><span class="line" data-startTime="1067">the look of Chrome, </span><span class="line" data-startTime="1069">your extension wouldn't </span><span class="line" data-startTime="1069">look right with the new look, </span><span class="line" data-startTime="1071">and so this makes things </span><span class="line" data-startTime="1071">really easy. </span> <span class="line" data-startTime="1074">You just add this class. </span> <span class="line" data-startTime="1074">You don't have to write any CSS. </span> <span class="line" data-startTime="1077">And your toolstrip </span><span class="line" data-startTime="1077">will fit in naturally. </span> <span class="line" data-startTime="1083">Another thing </span><span class="line" data-startTime="1083">you can do, of course, </span><span class="line" data-startTime="1085">is if you... </span> <span class="line" data-startTime="1085">what we're trying to do here </span><span class="line" data-startTime="1087">is to make it easy </span><span class="line" data-startTime="1088">to write extensions </span><span class="line" data-startTime="1088">that fit in with Chrome's UI </span><span class="line" data-startTime="1090">without doing anything extra. </span> <span class="line" data-startTime="1092">But if you want to go </span><span class="line" data-startTime="1092">above and beyond </span><span class="line" data-startTime="1093">and you want to do </span><span class="line" data-startTime="1093">something crazy, </span><span class="line" data-startTime="1095">you can use the full power </span><span class="line" data-startTime="1095">of CSS, </span><span class="line" data-startTime="1096">so you can do </span><span class="line" data-startTime="1096">whatever you want. </span></p>

<p><span class="line" data-startTime="1098">If for some reason </span><span class="line" data-startTime="1100">you want to have </span><span class="line" data-startTime="1100">an ugly, red background </span><span class="line" data-startTime="1101">for your extension, </span><span class="line" data-startTime="1101">you're free to do that. </span> <span class="line" data-startTime="1103">We're not gonna </span><span class="line" data-startTime="1103">try and stop you. </span> <span class="line" data-startTime="1105">You can just add </span><span class="line" data-startTime="1105">any CSS you want... </span> <span class="line" data-startTime="1111">and you get a red background. </span> <span class="line" data-startTime="1113">Very exciting. </span> <span class="line" data-startTime="1115">I'm gonna remove that, </span><span class="line" data-startTime="1115">'cause it's ugly. </span> <span class="line" data-startTime="1117">But you can also do </span><span class="line" data-startTime="1117">more interesting things. </span> <span class="line" data-startTime="1122">WebKit is the rendering engine </span><span class="line" data-startTime="1122">that Chrome uses, of course, </span><span class="line" data-startTime="1125">and WebKit has all these </span><span class="line" data-startTime="1125">really cool </span><span class="line" data-startTime="1129">experimental CSS features. </span> <span class="line" data-startTime="1131">And some of them are animations, </span><span class="line" data-startTime="1131">filters, transformations. </span> <span class="line" data-startTime="1135">And you can use all of these </span><span class="line" data-startTime="1135">in extensions, </span><span class="line" data-startTime="1137">and they work </span><span class="line" data-startTime="1137">exactly the same way </span><span class="line" data-startTime="1139">because, again, </span><span class="line" data-startTime="1139">extensions are web pages. </span> <span class="line" data-startTime="1141">So I can...this is </span><span class="line" data-startTime="1141">a little bit of CSS </span><span class="line" data-startTime="1144">that does a little animation. </span></p>

<p><span class="line" data-startTime="1146">And I can add this </span><span class="line" data-startTime="1146">to my extension. </span> <span class="line" data-startTime="1152">And now when I start it, </span><span class="line" data-startTime="1152">if I hover over it, </span><span class="line" data-startTime="1155">It does a little dance, </span><span class="line" data-startTime="1155">very fun. </span> <span class="line" data-startTime="1157">Didn't have to write </span><span class="line" data-startTime="1157">any JavaScript to do that. </span> <span class="line" data-startTime="1160">Just comes for free... </span> <span class="line" data-startTime="1162">by way of WebKit's </span><span class="line" data-startTime="1162">CSS features. </span> <span class="line" data-startTime="1165">So that's fun. </span> <span class="line" data-startTime="1166">And this is an example of how, </span><span class="line" data-startTime="1166">again, </span><span class="line" data-startTime="1168">using webpage technology </span><span class="line" data-startTime="1168">to write extensions </span><span class="line" data-startTime="1171">gives a lot of things </span><span class="line" data-startTime="1171">for free. </span> <span class="line" data-startTime="1172">Anything that works in web pages </span><span class="line" data-startTime="1172">will work in extensions. </span> <span class="line" data-startTime="1181">Oops. </span> <span class="line" data-startTime="1181">[clears throat] </span><span class="line" data-startTime="1184">So another important &mdash; </span><span class="line" data-startTime="1185">You're gonna get tired </span><span class="line" data-startTime="1185">of hearing me saying, </span><span class="line" data-startTime="1187">"It's just like a web page," </span><span class="line" data-startTime="1189">but this is something </span><span class="line" data-startTime="1189">that we're really excited about. </span></p>

<p><span class="line" data-startTime="1191">So sorry about that. </span> <span class="line" data-startTime="1192">Another thing that web page </span><span class="line" data-startTime="1192">developers frequently use </span><span class="line" data-startTime="1195">is called XMLHttpRequest. </span> <span class="line" data-startTime="1197">If you're a web developer </span><span class="line" data-startTime="1197">in the room, </span><span class="line" data-startTime="1199">you probably know </span><span class="line" data-startTime="1199">what this does </span><span class="line" data-startTime="1201">but for those who don't, </span><span class="line" data-startTime="1201">quick refresher is that </span><span class="line" data-startTime="1204">XMLHttpRequest, </span><span class="line" data-startTime="1204">commonly called XHR, </span><span class="line" data-startTime="1208">is basically the most important </span><span class="line" data-startTime="1208">API in web browsers today. </span> <span class="line" data-startTime="1212">This is the API </span><span class="line" data-startTime="1212">that makes it possible </span><span class="line" data-startTime="1215">to do applications </span><span class="line" data-startTime="1215">like Gmail, Reader, and Maps. </span> <span class="line" data-startTime="1218">And what it allows you to do </span><span class="line" data-startTime="1218">as a web developer </span><span class="line" data-startTime="1221">is request more data </span><span class="line" data-startTime="1221">from the server </span><span class="line" data-startTime="1223">without reloading the page. </span> <span class="line" data-startTime="1225">So all of your applications </span><span class="line" data-startTime="1225">that you use, </span><span class="line" data-startTime="1227">like Maps, </span><span class="line" data-startTime="1227">when you scroll the map </span><span class="line" data-startTime="1229">and you see more tiles come in </span><span class="line" data-startTime="1229">dynamically </span><span class="line" data-startTime="1231">without updating the page, </span><span class="line" data-startTime="1233">this is the API </span><span class="line" data-startTime="1233">that makes that possible. </span></p>

<p><span class="line" data-startTime="1235">And so it's very important. </span> <span class="line" data-startTime="1236">And since it's part of </span><span class="line" data-startTime="1236">a web page </span><span class="line" data-startTime="1239">it of course works </span><span class="line" data-startTime="1239">automatically with extensions, </span><span class="line" data-startTime="1242">and it works </span><span class="line" data-startTime="1242">exactly the same way. </span> <span class="line" data-startTime="1243">And if you use any wrapper </span><span class="line" data-startTime="1243">scripts to use XHR, usually, </span><span class="line" data-startTime="1246">those will all work </span><span class="line" data-startTime="1246">exactly the same way. </span> <span class="line" data-startTime="1248">But we did make </span><span class="line" data-startTime="1248">one minor addition </span><span class="line" data-startTime="1251">to XHR for extensions. </span> <span class="line" data-startTime="1253">We made it work cross-domain. </span> <span class="line" data-startTime="1255">So one of the main limitations </span><span class="line" data-startTime="1255">of XHR in regular web pages </span><span class="line" data-startTime="1259">is that it's limited </span><span class="line" data-startTime="1259">to the same domain. </span> <span class="line" data-startTime="1261">If you serve a page </span><span class="line" data-startTime="1261">from google.com, </span><span class="line" data-startTime="1263">you can only request resources </span><span class="line" data-startTime="1263">with XHR </span><span class="line" data-startTime="1265">that are also on google.com. </span></p>

<p><span class="line" data-startTime="1267">And this is an important </span><span class="line" data-startTime="1267">security limitation. </span> <span class="line" data-startTime="1269">It's there on purpose. </span> <span class="line" data-startTime="1271">For web pages, you don't want </span><span class="line" data-startTime="1271">any random web page </span><span class="line" data-startTime="1273">that you happen </span><span class="line" data-startTime="1273">to browse across </span><span class="line" data-startTime="1275">to be able to request </span><span class="line" data-startTime="1275">resources </span><span class="line" data-startTime="1278">from gmail.com on your behalf. </span> <span class="line" data-startTime="1280">That doesn't make sense. </span> <span class="line" data-startTime="1281">But for extensions, </span><span class="line" data-startTime="1281">since you install extensions &mdash; </span><span class="line" data-startTime="1283">it's a conscious decision </span><span class="line" data-startTime="1283">to install an extension &mdash; </span><span class="line" data-startTime="1285">it does make sense </span><span class="line" data-startTime="1287">for an extensions to be able </span><span class="line" data-startTime="1287">to do things like this. </span> <span class="line" data-startTime="1289">And so we enable this so that </span><span class="line" data-startTime="1289">extensions can do cool things, </span><span class="line" data-startTime="1292">cool mashups like request data </span><span class="line" data-startTime="1292">from different web services </span><span class="line" data-startTime="1295">and combine them and show you </span><span class="line" data-startTime="1295">interesting results. </span> <span class="line" data-startTime="1299">The way this works is that... </span> <span class="line" data-startTime="1303">in an extension, </span><span class="line" data-startTime="1303">you have to &mdash; </span><span class="line" data-startTime="1305">In a Chrome Extension, </span><span class="line" data-startTime="1305">you declare in the manifest </span><span class="line" data-startTime="1307">the domains </span><span class="line" data-startTime="1307">that you want to talk to. </span></p>

<p><span class="line" data-startTime="1309">And then cross-origin XHR </span><span class="line" data-startTime="1311">works exactly the same way </span><span class="line" data-startTime="1311">as regular XHR, </span><span class="line" data-startTime="1313">and it makes it possible </span><span class="line" data-startTime="1313">to request them. </span> <span class="line" data-startTime="1319">So I can add this to my </span><span class="line" data-startTime="1319">extension that I'm building up. </span> <span class="line" data-startTime="1327">And I have some... </span> <span class="line" data-startTime="1327">the rest of the demos </span><span class="line" data-startTime="1329">in this...presentation... </span> <span class="line" data-startTime="1333">some of them I'm gonna use </span><span class="line" data-startTime="1333">pre-written code. </span> <span class="line" data-startTime="1336">The main reason </span><span class="line" data-startTime="1336">I'm doing this </span><span class="line" data-startTime="1338">is just because the code </span><span class="line" data-startTime="1338">is pretty straightforward </span><span class="line" data-startTime="1340">and it would be boring </span><span class="line" data-startTime="1340">for both of us, </span><span class="line" data-startTime="1342">for me to sit here </span><span class="line" data-startTime="1342">and write it in front of you. </span></p>

<p><span class="line" data-startTime="1344">So when the code is small </span><span class="line" data-startTime="1344">and I can write it live, </span><span class="line" data-startTime="1347">I'll do that. </span> <span class="line" data-startTime="1348">But in this case, </span><span class="line" data-startTime="1348">there's about 20 lines, </span><span class="line" data-startTime="1350">and I didn't want to do that </span><span class="line" data-startTime="1350">while you were sitting here. </span> <span class="line" data-startTime="1352">But there's no fooling here. </span> <span class="line" data-startTime="1354">I hope you can see that </span><span class="line" data-startTime="1354">this is pretty straightforward </span><span class="line" data-startTime="1356">AJAX JavaScript code, </span><span class="line" data-startTime="1357">and it works exactly </span><span class="line" data-startTime="1357">the same way as web pages. </span> <span class="line" data-startTime="1361">So what this code </span><span class="line" data-startTime="1361">is gonna do is... </span> <span class="line" data-startTime="1364">it's gonna hook my extension </span><span class="line" data-startTime="1364">up to the Google Reader API. </span> <span class="line" data-startTime="1369">And what I'm gonna do is </span><span class="line" data-startTime="1371">right now my extension </span><span class="line" data-startTime="1371">just has this static text </span><span class="line" data-startTime="1373">that says "oh, hai." </span><span class="line" data-startTime="1375">But I'm gonna change it </span><span class="line" data-startTime="1377">so that it connects </span><span class="line" data-startTime="1377">to the Google Reader API </span><span class="line" data-startTime="1379">and figures out </span><span class="line" data-startTime="1379">how many items </span><span class="line" data-startTime="1380">I have unread </span><span class="line" data-startTime="1380">in my reading list. </span></p>

<p><span class="line" data-startTime="1382">And once it gets the number </span><span class="line" data-startTime="1382">of unread items, </span><span class="line" data-startTime="1384">it's gonna update </span><span class="line" data-startTime="1384">my toolstrip, </span><span class="line" data-startTime="1387">the display on my toolstrip, </span><span class="line" data-startTime="1388">and show the number </span><span class="line" data-startTime="1388">of unread items. </span> <span class="line" data-startTime="1390">And so I will always know </span><span class="line" data-startTime="1390">at all times </span><span class="line" data-startTime="1391">how many things </span><span class="line" data-startTime="1391">I'm waiting to read </span><span class="line" data-startTime="1393">that need to be read </span><span class="line" data-startTime="1393">in Google Reader, </span><span class="line" data-startTime="1395">which seems very useful. </span> <span class="line" data-startTime="1396">Um... </span> <span class="line" data-startTime="1400">one thing I want to call out </span><span class="line" data-startTime="1400">about this code, actually, </span><span class="line" data-startTime="1402">before I paste it in. </span> <span class="line" data-startTime="1404">You may notice </span><span class="line" data-startTime="1404">that I'm using JSON here, </span><span class="line" data-startTime="1406">but there's no JSON library </span><span class="line" data-startTime="1406">in this code. </span> <span class="line" data-startTime="1409">And the reason why </span><span class="line" data-startTime="1409">is because the V.18 </span><span class="line" data-startTime="1411">has recently added </span><span class="line" data-startTime="1411">native JSON to V8, </span><span class="line" data-startTime="1415">so you no longer need to include </span><span class="line" data-startTime="1415">a JSON library in Chrome, </span><span class="line" data-startTime="1419">which is very cool. </span> <span class="line" data-startTime="1420">And it's using a safe parser, </span><span class="line" data-startTime="1422">so there's </span><span class="line" data-startTime="1422">no eval happening here. </span> <span class="line" data-startTime="1427">So the first thing </span><span class="line" data-startTime="1427">I'm gonna do </span><span class="line" data-startTime="1428">is update my manifest </span><span class="line" data-startTime="1430">to include the domain </span><span class="line" data-startTime="1430">that I want to talk to. </span></p>

<p><span class="line" data-startTime="1437">So I tell it that I want </span><span class="line" data-startTime="1437">to talk to google.com </span><span class="line" data-startTime="1439">because the Reader API </span><span class="line" data-startTime="1439">lives on google.com. </span> <span class="line" data-startTime="1443">And the next thing </span><span class="line" data-startTime="1443">I'm gonna do is... </span> <span class="line" data-startTime="1447">update my code </span><span class="line" data-startTime="1447">to call the Reader API. </span> <span class="line" data-startTime="1452">Oh, also I'll take out </span><span class="line" data-startTime="1452">this animation. </span> <span class="line" data-startTime="1455">Very fun but... </span> <span class="line" data-startTime="1461">Okay...oh, one last thing. </span> <span class="line" data-startTime="1464">I need to take out </span><span class="line" data-startTime="1464">my static text </span><span class="line" data-startTime="1465">and put in a place holder. </span> <span class="line" data-startTime="1471">So you can see that </span><span class="line" data-startTime="1471">when the API call comes back, </span><span class="line" data-startTime="1473">it's gonna call setCount, </span><span class="line" data-startTime="1475">and setCount </span><span class="line" data-startTime="1475">will update the spam </span><span class="line" data-startTime="1477">that has the unread-count ID </span><span class="line" data-startTime="1479">with the number of items </span><span class="line" data-startTime="1479">in my... </span> <span class="line" data-startTime="1482">in my reading list. </span> <span class="line" data-startTime="1483">Make sure </span><span class="line" data-startTime="1483">that I spelled it right. </span> <span class="line" data-startTime="1485">Good. So now... </span> <span class="line" data-startTime="1488">I again restart my extension. </span></p>

<p><span class="line" data-startTime="1490">Aha! I have 607 items to read. </span> <span class="line" data-startTime="1493">So...that's useful. </span> <span class="line" data-startTime="1495">It would be more useful if </span><span class="line" data-startTime="1495">I could actually click on this </span><span class="line" data-startTime="1497">and have it do something. </span> <span class="line" data-startTime="1499">Right now I just have to know </span><span class="line" data-startTime="1499">to go to reader.google. </span> <span class="line" data-startTime="1501">That's not very good. </span> <span class="line" data-startTime="1502">So I can just fix that </span><span class="line" data-startTime="1502">really quick </span><span class="line" data-startTime="1504">by just using regular </span><span class="line" data-startTime="1504">JavaScript. </span> <span class="line" data-startTime="1517">So start it up again. </span> <span class="line" data-startTime="1517">I click on it. </span> <span class="line" data-startTime="1519">Hooray! Now I can go to Reader </span><span class="line" data-startTime="1519">and read the stuff. </span> <span class="line" data-startTime="1522">[applause] </span><span class="line" data-startTime="1527">Now we're getting somewhere. </span> <span class="line" data-startTime="1530">We have a quicker way </span><span class="line" data-startTime="1530">to access time wasting. </span> <span class="line" data-startTime="1533">So, good. </span></p>

<p><span class="line" data-startTime="1533">[laughter] </span><span class="line" data-startTime="1535">Um... </span> <span class="line" data-startTime="1539">So what else can you do? </span><span class="line" data-startTime="1542">Well, a frequent thing </span><span class="line" data-startTime="1544">that extension developers </span><span class="line" data-startTime="1544">want to do is store things. </span> <span class="line" data-startTime="1548">Imagine that your extension </span><span class="line" data-startTime="1548">has settings, </span><span class="line" data-startTime="1550">and there's all these </span><span class="line" data-startTime="1550">different settings </span><span class="line" data-startTime="1551">that you can choose </span><span class="line" data-startTime="1553">about what things show up </span><span class="line" data-startTime="1553">in the extension. </span> <span class="line" data-startTime="1555">You would need to store these </span><span class="line" data-startTime="1555">in the extension </span><span class="line" data-startTime="1557">when a user changes them </span><span class="line" data-startTime="1558">so that the next time </span><span class="line" data-startTime="1558">your extension starts up, </span><span class="line" data-startTime="1560">you can change the UI </span><span class="line" data-startTime="1560">in the right way. </span></p>

<p><span class="line" data-startTime="1564">Now...one thing </span><span class="line" data-startTime="1564">that we could do </span><span class="line" data-startTime="1566">in the design </span><span class="line" data-startTime="1566">of the extension system </span><span class="line" data-startTime="1569">is to add a settings API </span><span class="line" data-startTime="1571">that you could use </span><span class="line" data-startTime="1571">to store these things. </span> <span class="line" data-startTime="1574">And that would work. </span> <span class="line" data-startTime="1576">But what we realized </span><span class="line" data-startTime="1576">is that HTML5, </span><span class="line" data-startTime="1578">the new version of HTML already </span><span class="line" data-startTime="1578">has a local storage API. </span> <span class="line" data-startTime="1581">It actually has two. </span> <span class="line" data-startTime="1581">So... </span> <span class="line" data-startTime="1584">so there's no need </span><span class="line" data-startTime="1584">to add a settings API </span><span class="line" data-startTime="1586">for Chrome Extensions, </span><span class="line" data-startTime="1587">and we can just reuse the one </span><span class="line" data-startTime="1587">that's an HTML5. </span> <span class="line" data-startTime="1590">So this local storage </span><span class="line" data-startTime="1590">is not yet </span><span class="line" data-startTime="1592">completely implemented </span><span class="line" data-startTime="1592">in Chrome. </span> <span class="line" data-startTime="1594">There's a team working on it. </span> <span class="line" data-startTime="1595">But when it shows up, </span><span class="line" data-startTime="1596">you'll be able to use it </span><span class="line" data-startTime="1596">in extensions </span><span class="line" data-startTime="1599">exactly the same way </span><span class="line" data-startTime="1599">as you use it in web pages. </span></p>

<p><span class="line" data-startTime="1601">And so if you already know </span><span class="line" data-startTime="1601">how to use this API </span><span class="line" data-startTime="1603">from experience with </span><span class="line" data-startTime="1603">other browsers that have it, </span><span class="line" data-startTime="1606">you won't have to learn </span><span class="line" data-startTime="1606">anything new </span><span class="line" data-startTime="1608">to use it in extensions. </span> <span class="line" data-startTime="1609">And if you've never </span><span class="line" data-startTime="1609">used it before </span><span class="line" data-startTime="1610">and you learn it </span><span class="line" data-startTime="1610">for extensions, </span><span class="line" data-startTime="1612">then it will just work </span><span class="line" data-startTime="1612">automatically with web pages. </span> <span class="line" data-startTime="1614">You'll be able to reuse </span><span class="line" data-startTime="1614">that knowledge in web pages </span><span class="line" data-startTime="1616">all the time. </span> <span class="line" data-startTime="1618">And this is another example </span><span class="line" data-startTime="1619">of why it's a cool idea, </span><span class="line" data-startTime="1619">I think, </span><span class="line" data-startTime="1622">to use web page technology </span><span class="line" data-startTime="1622">for the extension system, </span><span class="line" data-startTime="1625">because the web </span><span class="line" data-startTime="1625">is currently in a period </span><span class="line" data-startTime="1628">where it's evolving </span><span class="line" data-startTime="1628">very rapidly. </span> <span class="line" data-startTime="1630">All the browser vendors </span><span class="line" data-startTime="1630">are doing great work </span><span class="line" data-startTime="1632">and pushing things forward. </span> <span class="line" data-startTime="1633">And every time one of these </span><span class="line" data-startTime="1633">new features </span><span class="line" data-startTime="1635">shows up in Chrome </span><span class="line" data-startTime="1635">for web pages, </span><span class="line" data-startTime="1636">it will just automatically </span><span class="line" data-startTime="1636">show up for extensions, </span><span class="line" data-startTime="1638">and it makes my job </span><span class="line" data-startTime="1638">a lot easier </span><span class="line" data-startTime="1641">because there's </span><span class="line" data-startTime="1641">less work to do. </span></p>

<p><span class="line" data-startTime="1646">Now, there are some APIs, </span><span class="line" data-startTime="1646">some features </span><span class="line" data-startTime="1649">that we want to enable </span><span class="line" data-startTime="1649">extension developers to do </span><span class="line" data-startTime="1651">that are not </span><span class="line" data-startTime="1651">part of HTML or CSS. </span> <span class="line" data-startTime="1655">Mostly, these revolve around </span><span class="line" data-startTime="1657">things that we want extensions </span><span class="line" data-startTime="1657">to be able to control </span><span class="line" data-startTime="1659">in the browser. </span> <span class="line" data-startTime="1660">So we want extensions to be able </span><span class="line" data-startTime="1660">to control the history system, </span><span class="line" data-startTime="1662">the bookmark system, </span><span class="line" data-startTime="1662">the tabs and window system, </span><span class="line" data-startTime="1665">to interact </span><span class="line" data-startTime="1665">with the omnibox. </span> <span class="line" data-startTime="1667">And all these features </span><span class="line" data-startTime="1667">don't really make sense </span><span class="line" data-startTime="1670">to thumb through HTML, </span><span class="line" data-startTime="1672">because they have </span><span class="line" data-startTime="1672">nothing to do with HTML, </span><span class="line" data-startTime="1674">and they would be unlikely </span><span class="line" data-startTime="1674">to ever be standardized, </span><span class="line" data-startTime="1676">so it doesn't make sense </span><span class="line" data-startTime="1676">to do that. </span> <span class="line" data-startTime="1678">And so we've added </span><span class="line" data-startTime="1678">extension browser APIs </span><span class="line" data-startTime="1681">that you can access </span><span class="line" data-startTime="1681">when you're in an extension. </span></p>

<p><span class="line" data-startTime="1685">And our philosophy </span><span class="line" data-startTime="1685">with these APIs </span><span class="line" data-startTime="1687">is around two main points &mdash; </span><span class="line" data-startTime="1689">that they should be </span><span class="line" data-startTime="1689">narrow and webby. </span> <span class="line" data-startTime="1691">What I mean by narrow is </span><span class="line" data-startTime="1693">when you design an extension </span><span class="line" data-startTime="1693">system for a product, </span><span class="line" data-startTime="1697">you have to make one </span><span class="line" data-startTime="1697">decision early on, </span><span class="line" data-startTime="1699">one really important decision </span><span class="line" data-startTime="1699">which is </span><span class="line" data-startTime="1701">how wide your </span><span class="line" data-startTime="1701">API surface area will be. </span> <span class="line" data-startTime="1703">How much functionality </span><span class="line" data-startTime="1703">will you expose? </span><span class="line" data-startTime="1706">One approach </span><span class="line" data-startTime="1706">is that you just expose </span><span class="line" data-startTime="1709">all of the internal functions </span><span class="line" data-startTime="1709">that make your product work </span><span class="line" data-startTime="1712">directly to extensions. </span> <span class="line" data-startTime="1713">And that works really great. </span> <span class="line" data-startTime="1715">It has a lot of upsides </span><span class="line" data-startTime="1715">because it means </span><span class="line" data-startTime="1718">that your extension system </span><span class="line" data-startTime="1718">will be very powerful. </span> <span class="line" data-startTime="1720">And it will have a lot of APIs. </span> <span class="line" data-startTime="1722">Because everything that you use </span><span class="line" data-startTime="1722">to build the product </span><span class="line" data-startTime="1724">is automatically available </span><span class="line" data-startTime="1724">to extension developers, </span><span class="line" data-startTime="1726">and so extension developers </span><span class="line" data-startTime="1728">will be able to do </span><span class="line" data-startTime="1728">all those things too. </span></p>

<p><span class="line" data-startTime="1730">And...that's good, </span><span class="line" data-startTime="1732">But it also has a downside, </span><span class="line" data-startTime="1732">and the downside is that </span><span class="line" data-startTime="1735">if you ever change the way </span><span class="line" data-startTime="1735">your product is implemented, </span><span class="line" data-startTime="1737">you change </span><span class="line" data-startTime="1737">those internal functions. </span> <span class="line" data-startTime="1740">You automatically break the </span><span class="line" data-startTime="1740">extensions that were using it, </span><span class="line" data-startTime="1742">and that's bad. </span> <span class="line" data-startTime="1744">And so in Chrome, </span><span class="line" data-startTime="1744">what we decided to do </span><span class="line" data-startTime="1747">is instead do narrow APIs. </span> <span class="line" data-startTime="1750">So we go through each of </span><span class="line" data-startTime="1750">the major subsystems of Chrome </span><span class="line" data-startTime="1752">that we want to allow </span><span class="line" data-startTime="1754">extension developers </span><span class="line" data-startTime="1754">to interact with, </span><span class="line" data-startTime="1756">and we look at them </span><span class="line" data-startTime="1756">and we try and decide </span><span class="line" data-startTime="1758">what would be </span><span class="line" data-startTime="1758">an interesting API for this? </span><span class="line" data-startTime="1760">And we design them </span><span class="line" data-startTime="1760">specifically, </span><span class="line" data-startTime="1762">and the advantage of that </span><span class="line" data-startTime="1762">is that... </span> <span class="line" data-startTime="1765">we can commit </span><span class="line" data-startTime="1765">to supporting these. </span></p>

<p><span class="line" data-startTime="1767">So we will never </span><span class="line" data-startTime="1767">have to, hopefully, </span><span class="line" data-startTime="1769">turn off extensions, </span><span class="line" data-startTime="1769">disable them, </span><span class="line" data-startTime="1771">because a future version </span><span class="line" data-startTime="1771">of Chrome </span><span class="line" data-startTime="1772">doesn't support the APIs </span><span class="line" data-startTime="1772">that they use. </span> <span class="line" data-startTime="1774">We can commit to supporting </span><span class="line" data-startTime="1774">these APIs forever </span><span class="line" data-startTime="1776">because they're not just things </span><span class="line" data-startTime="1777">that are part of our </span><span class="line" data-startTime="1777">implementation internally. </span> <span class="line" data-startTime="1779">They're things that we </span><span class="line" data-startTime="1779">explicitly decided to expose. </span> <span class="line" data-startTime="1785">Another advantage </span><span class="line" data-startTime="1785">of the narrow APIs </span><span class="line" data-startTime="1787">is that </span><span class="line" data-startTime="1787">we get to design them. </span> <span class="line" data-startTime="1788">If you just expose </span><span class="line" data-startTime="1788">all of your internal functions </span><span class="line" data-startTime="1790">directly </span><span class="line" data-startTime="1790">to extension developers, </span><span class="line" data-startTime="1792">they just get the interfaces, </span><span class="line" data-startTime="1793">whatever internal functions </span><span class="line" data-startTime="1793">you use, </span><span class="line" data-startTime="1795">and a lot of times, internal </span><span class="line" data-startTime="1795">code isn't really designed </span><span class="line" data-startTime="1797">to be really nice </span><span class="line" data-startTime="1797">and really easy to use </span><span class="line" data-startTime="1799">because it doesn't </span><span class="line" data-startTime="1799">really matter </span><span class="line" data-startTime="1800">because it's only used </span><span class="line" data-startTime="1800">by the product team. </span></p>

<p><span class="line" data-startTime="1802">But we wanted </span><span class="line" data-startTime="1802">our extension system </span><span class="line" data-startTime="1804">to be really easy to use, </span><span class="line" data-startTime="1804">really accessible to developers, </span><span class="line" data-startTime="1807">especially web developers, </span><span class="line" data-startTime="1807">and we wanted it to be webby. </span> <span class="line" data-startTime="1810">We wanted it to feel like </span><span class="line" data-startTime="1810">it fit in with the web platform. </span> <span class="line" data-startTime="1813">And so doing narrow APIs </span><span class="line" data-startTime="1814">gives us an opportunity </span><span class="line" data-startTime="1814">to do this. </span> <span class="line" data-startTime="1816">We can design these things </span><span class="line" data-startTime="1817">in a way that we think </span><span class="line" data-startTime="1817">makes sense to web developers. </span> <span class="line" data-startTime="1826">So...I got a few demos </span><span class="line" data-startTime="1826">about browser APIs. </span> <span class="line" data-startTime="1829">First, I'm just gonna do </span><span class="line" data-startTime="1829">a really quick one </span><span class="line" data-startTime="1832">that isn't terribly useful </span><span class="line" data-startTime="1834">but will give you a feel </span><span class="line" data-startTime="1834">for how it works. </span> <span class="line" data-startTime="1839">We'll create a bookmark </span><span class="line" data-startTime="1839">in the toolbar. </span></p>

<p><span class="line" data-startTime="1845">So I'll call it </span><span class="line" data-startTime="1845">chrome.bookmarks.create. </span> <span class="line" data-startTime="1852">And its URL would be... </span> <span class="line" data-startTime="1852">I don't know. </span> <span class="line" data-startTime="1856">What's a good site? </span><span class="line" data-startTime="1858">Um... </span> <span class="line" data-startTime="1863">And parentID is the level </span><span class="line" data-startTime="1863">in the bookmark's hierarchy </span><span class="line" data-startTime="1868">that we want the bookmark </span><span class="line" data-startTime="1868">to show up in, </span><span class="line" data-startTime="1870">and I just happen to know </span><span class="line" data-startTime="1871">that the parentID </span><span class="line" data-startTime="1871">of the toolstrip is 1. </span> <span class="line" data-startTime="1873">Or the bookmarks bar is 1. </span> <span class="line" data-startTime="1875">But you can also discover this </span><span class="line" data-startTime="1875">through the API </span><span class="line" data-startTime="1878">with a few more lines of code. </span> <span class="line" data-startTime="1881">And so with just that one </span><span class="line" data-startTime="1881">line of code, </span><span class="line" data-startTime="1883">I'm gonna add a bookmark </span><span class="line" data-startTime="1883">to the bookmark bar. </span> <span class="line" data-startTime="1887">So I restart my extension, </span><span class="line" data-startTime="1887">and there we go. </span></p>

<p><span class="line" data-startTime="1891">Hooray. </span> <span class="line" data-startTime="1895">Now, that's not </span><span class="line" data-startTime="1895">terribly interesting. </span> <span class="line" data-startTime="1898">What if, instead, </span><span class="line" data-startTime="1898">we add one bookmark </span><span class="line" data-startTime="1902">for every item that </span><span class="line" data-startTime="1902">I'm subscribed to in Reader? </span><span class="line" data-startTime="1904">So we contact the Reader API, </span><span class="line" data-startTime="1906">find all the feeds </span><span class="line" data-startTime="1906">that I'm subscribed to, </span><span class="line" data-startTime="1908">and add a bookmark </span><span class="line" data-startTime="1908">for each one of those. </span> <span class="line" data-startTime="1910">That seems at least </span><span class="line" data-startTime="1910">somewhat useful, </span><span class="line" data-startTime="1912">and that way, </span><span class="line" data-startTime="1912">if I really feel like reading </span><span class="line" data-startTime="1914">one particular feed, </span><span class="line" data-startTime="1915">I'll have a quick way </span><span class="line" data-startTime="1915">to access it. </span> <span class="line" data-startTime="1919">So I have some code </span><span class="line" data-startTime="1919">for that. </span></p>

<p><span class="line" data-startTime="1922">And again, you can see </span><span class="line" data-startTime="1922">this is pretty short, </span><span class="line" data-startTime="1924">about 65 lines of </span><span class="line" data-startTime="1924">pretty typical JavaScript. </span> <span class="line" data-startTime="1927">What it's gonna do is, </span><span class="line" data-startTime="1927">first step, </span><span class="line" data-startTime="1930">it's gonna get the entire </span><span class="line" data-startTime="1930">hierarchy of bookmarks </span><span class="line" data-startTime="1932">from the bookmark system. </span> <span class="line" data-startTime="1934">We're gonna put </span><span class="line" data-startTime="1934">all of the feed &mdash; </span><span class="line" data-startTime="1936">all of the bookmarks </span><span class="line" data-startTime="1936">in one folder. </span> <span class="line" data-startTime="1939">So first we look for </span><span class="line" data-startTime="1939">that folder </span><span class="line" data-startTime="1940">and see if it already </span><span class="line" data-startTime="1940">exists. </span> <span class="line" data-startTime="1942">And if it does, </span><span class="line" data-startTime="1942">we remove it. </span> <span class="line" data-startTime="1944">And then we create </span><span class="line" data-startTime="1944">a new folder. </span> <span class="line" data-startTime="1947">And then we fetch the feeds </span><span class="line" data-startTime="1947">that I'm subscribed to </span><span class="line" data-startTime="1949">from Reader, </span><span class="line" data-startTime="1949">and then once we get the feeds, </span><span class="line" data-startTime="1952">we parse the JSON. </span> <span class="line" data-startTime="1953">And then for each feed </span><span class="line" data-startTime="1953">that I'm subscribed to, </span><span class="line" data-startTime="1955">create a bookmark </span><span class="line" data-startTime="1955">in the folder. </span></p>

<p><span class="line" data-startTime="1961">So I'll paste this code </span><span class="line" data-startTime="1961">into my toolstrip. </span> <span class="line" data-startTime="1974">Once again, </span><span class="line" data-startTime="1974">I will start up Chrome. </span> <span class="line" data-startTime="1981">And there it is. </span> <span class="line" data-startTime="1983">So now I have this feeds folder, </span><span class="line" data-startTime="1983">and inside each one I have &mdash; </span><span class="line" data-startTime="1987">In this account, I'm only </span><span class="line" data-startTime="1987">subscribed to two feeds. </span> <span class="line" data-startTime="1989">But if it was real life, </span><span class="line" data-startTime="1989">it would have a lot more. </span> <span class="line" data-startTime="1995">So that's cool. </span> <span class="line" data-startTime="2001">Now, the browser APIs, </span><span class="line" data-startTime="2002">there's an obvious tradeoff </span><span class="line" data-startTime="2002">here with going with narrow. </span> <span class="line" data-startTime="2005">Obviously, it means </span><span class="line" data-startTime="2005">that we'll have less APIs </span><span class="line" data-startTime="2008">than a system </span><span class="line" data-startTime="2008">that uses a wide approach. </span> <span class="line" data-startTime="2012">So that means that we're gonna </span><span class="line" data-startTime="2012">have to be really responsive </span><span class="line" data-startTime="2014">to the development community </span><span class="line" data-startTime="2014">and listen very carefully </span><span class="line" data-startTime="2017">and build things </span><span class="line" data-startTime="2017">that people need. </span></p>

<p><span class="line" data-startTime="2022">As to the exact list, </span><span class="line" data-startTime="2022">we don't know yet. </span> <span class="line" data-startTime="2024">The list is to be determined. </span> <span class="line" data-startTime="2026">This is an area </span><span class="line" data-startTime="2026">that we're actively working on. </span> <span class="line" data-startTime="2028">And so it's still up in the air. </span> <span class="line" data-startTime="2032">But obviously, we want the </span><span class="line" data-startTime="2032">extension system to be powerful. </span> <span class="line" data-startTime="2034">We want people </span><span class="line" data-startTime="2034">to be able to do </span><span class="line" data-startTime="2036">everything </span><span class="line" data-startTime="2036">that they want to do with it, </span><span class="line" data-startTime="2038">and so there will be probably </span><span class="line" data-startTime="2039">a pretty big list of these APIs </span><span class="line" data-startTime="2039">that we'll build out. </span> <span class="line" data-startTime="2043">And...so if you don't &mdash; </span><span class="line" data-startTime="2045">obviously, the items on here </span><span class="line" data-startTime="2045">is very short, </span><span class="line" data-startTime="2048">but if you don't see us </span><span class="line" data-startTime="2048">working on an API that you want, </span><span class="line" data-startTime="2050">definitely let us know. </span> <span class="line" data-startTime="2051">Contact us </span><span class="line" data-startTime="2051">on Chromium-discuss, </span><span class="line" data-startTime="2053">because we know that this is </span><span class="line" data-startTime="2053">one of the parts of the system </span><span class="line" data-startTime="2055">that we need to listen </span><span class="line" data-startTime="2055">very carefully about </span><span class="line" data-startTime="2057">and so we want to hear </span><span class="line" data-startTime="2057">your feedback </span><span class="line" data-startTime="2059">about what APIs </span><span class="line" data-startTime="2059">you want to see. </span></p>

<p><span class="line" data-startTime="2061">And further, if you're </span><span class="line" data-startTime="2061">interested in working on Chrome, </span><span class="line" data-startTime="2064">if you're a C++ guy and you </span><span class="line" data-startTime="2064">wanna work on Google Chrome, </span><span class="line" data-startTime="2067">it is an open source project, </span><span class="line" data-startTime="2068">and this is an area in which </span><span class="line" data-startTime="2070">it's very easy for people </span><span class="line" data-startTime="2070">to come and join and help </span><span class="line" data-startTime="2072">because it's easy </span><span class="line" data-startTime="2072">to split these things up </span><span class="line" data-startTime="2075">and have people </span><span class="line" data-startTime="2075">working on different ones </span><span class="line" data-startTime="2077">without stepping on each other. </span> <span class="line" data-startTime="2089">So the second cool thing, </span><span class="line" data-startTime="2089">I think, </span><span class="line" data-startTime="2092">about the extension system, </span><span class="line" data-startTime="2093">the design </span><span class="line" data-startTime="2093">of the extension system, </span><span class="line" data-startTime="2094">is its process model. </span></p>

<p><span class="line" data-startTime="2097">As you might recall, </span><span class="line" data-startTime="2097">Chrome is multiprocess. </span> <span class="line" data-startTime="2100">It's one of the really cool </span><span class="line" data-startTime="2100">things about Chrome, </span><span class="line" data-startTime="2104">the really innovative things, </span><span class="line" data-startTime="2105">and one of </span><span class="line" data-startTime="2105">the key features of it. </span> <span class="line" data-startTime="2108">And just as a refresher, </span><span class="line" data-startTime="2110">there's a lot of reasons </span><span class="line" data-startTime="2110">to do this, </span><span class="line" data-startTime="2111">but mostly the reason </span><span class="line" data-startTime="2111">why Chrome is multiprocess </span><span class="line" data-startTime="2114">is because web pages are </span><span class="line" data-startTime="2114">becoming more and more advanced, </span><span class="line" data-startTime="2116">more and more complicated, </span><span class="line" data-startTime="2118">and they become </span><span class="line" data-startTime="2118">a lot like applications. </span> <span class="line" data-startTime="2120">And so just like applications, </span><span class="line" data-startTime="2121">it makes sense to run them </span><span class="line" data-startTime="2121">in separate processes </span><span class="line" data-startTime="2123">to protect them </span><span class="line" data-startTime="2123">from each other. </span> <span class="line" data-startTime="2125">So if one web page crashes, </span><span class="line" data-startTime="2126">it doesn't crash </span><span class="line" data-startTime="2126">the other web pages. </span> <span class="line" data-startTime="2127">It doesn't crash the browser. </span> <span class="line" data-startTime="2129">If a plugin crashes, </span><span class="line" data-startTime="2130">it doesn't crash the browser, </span><span class="line" data-startTime="2130">etcetera. </span> <span class="line" data-startTime="2132">It just makes sense. </span></p>

<p><span class="line" data-startTime="2133">There's also </span><span class="line" data-startTime="2133">security benefits for it. </span> <span class="line" data-startTime="2135">It turns out </span><span class="line" data-startTime="2135">it doesn't require </span><span class="line" data-startTime="2137">a lot of operating </span><span class="line" data-startTime="2137">system permissions </span><span class="line" data-startTime="2139">to render a web page. </span> <span class="line" data-startTime="2140">You don't really require </span><span class="line" data-startTime="2140">disc access, </span><span class="line" data-startTime="2141">you don't really </span><span class="line" data-startTime="2141">require network access, </span><span class="line" data-startTime="2143">all those things can be </span><span class="line" data-startTime="2143">abstracted away. </span> <span class="line" data-startTime="2144">And so you can lock down </span><span class="line" data-startTime="2144">the processes </span><span class="line" data-startTime="2146">that render web pages </span><span class="line" data-startTime="2148">so that they don't have </span><span class="line" data-startTime="2148">any capabilities. </span> <span class="line" data-startTime="2150">And what that means </span><span class="line" data-startTime="2150">is that </span><span class="line" data-startTime="2152">if a web page process </span><span class="line" data-startTime="2152">is compromised, </span><span class="line" data-startTime="2154">it can only get the permissions </span><span class="line" data-startTime="2154">that the original process had. </span> <span class="line" data-startTime="2157">So you kind of contain </span><span class="line" data-startTime="2157">exploits that way. </span></p>

<p><span class="line" data-startTime="2161">It also sort of </span><span class="line" data-startTime="2161">counter-intuitively </span><span class="line" data-startTime="2163">leads to better </span><span class="line" data-startTime="2163">resource allocation. </span> <span class="line" data-startTime="2165">Even though </span><span class="line" data-startTime="2165">a multiprocess browser </span><span class="line" data-startTime="2166">obviously requires </span><span class="line" data-startTime="2166">a little bit more resources, </span><span class="line" data-startTime="2168">it turns out that you get </span><span class="line" data-startTime="2168">better utilization, </span><span class="line" data-startTime="2171">because the operating system </span><span class="line" data-startTime="2171">is very good </span><span class="line" data-startTime="2173">at sharing resources fairly </span><span class="line" data-startTime="2173">amongst processes. </span> <span class="line" data-startTime="2176">So if you have one web page </span><span class="line" data-startTime="2176">that's using a lot of CPU </span><span class="line" data-startTime="2179">or using a lot of memory, </span><span class="line" data-startTime="2180">it's okay because </span><span class="line" data-startTime="2180">most modern browser &mdash; </span><span class="line" data-startTime="2183">most modern operating systems </span><span class="line" data-startTime="2183">are very good at making sure </span><span class="line" data-startTime="2186">that all processes get </span><span class="line" data-startTime="2186">a fair access to the resources. </span> <span class="line" data-startTime="2190">So extensions are multiprocess </span><span class="line" data-startTime="2190">for the exact same reason </span><span class="line" data-startTime="2193">or the exact same reasons. </span> <span class="line" data-startTime="2195">Every extension in Chrome </span><span class="line" data-startTime="2195">has its own process, </span><span class="line" data-startTime="2197">and you get </span><span class="line" data-startTime="2197">the same benefits. </span></p>

<p><span class="line" data-startTime="2200">Extensions </span><span class="line" data-startTime="2200">can't crash each other, </span><span class="line" data-startTime="2202">they can't crash the browser, </span><span class="line" data-startTime="2202">they can't crash web pages. </span> <span class="line" data-startTime="2204">If an extension is exploited, </span><span class="line" data-startTime="2204">the exploits are contained </span><span class="line" data-startTime="2208">and the malicious code only </span><span class="line" data-startTime="2208">gets access to the permissions </span><span class="line" data-startTime="2211">that the extension had itself, </span><span class="line" data-startTime="2213">and you get </span><span class="line" data-startTime="2213">better resource sharing. </span> <span class="line" data-startTime="2215">So if an extension </span><span class="line" data-startTime="2215">is being badly behaved </span><span class="line" data-startTime="2218">and using a lot of CPU, </span><span class="line" data-startTime="2218">using a lot of memory, </span><span class="line" data-startTime="2220">it doesn't really affect </span><span class="line" data-startTime="2220">the rest of the browser </span><span class="line" data-startTime="2222">or the web pages </span><span class="line" data-startTime="2223">because the operating system </span><span class="line" data-startTime="2223">can share resources fairly. </span></p>

<p><span class="line" data-startTime="2229">Now, inside one of these </span><span class="line" data-startTime="2229">extension processes, </span><span class="line" data-startTime="2232">again, you have </span><span class="line" data-startTime="2232">multiple web pages. </span> <span class="line" data-startTime="2235">Because every part </span><span class="line" data-startTime="2235">of an extension </span><span class="line" data-startTime="2236">is basically a web page. </span> <span class="line" data-startTime="2238">So you can imagine that... </span> <span class="line" data-startTime="2238">I showed you toolstrips. </span> <span class="line" data-startTime="2241">An extension can have </span><span class="line" data-startTime="2241">multiple toolstrips. </span> <span class="line" data-startTime="2243">It could have a sidebar. </span> <span class="line" data-startTime="2243">The sidebar would be a web page. </span> <span class="line" data-startTime="2246">You can open pop-up windows </span><span class="line" data-startTime="2246">in an extension, </span><span class="line" data-startTime="2248">and those could be </span><span class="line" data-startTime="2248">web pages. </span> <span class="line" data-startTime="2250">You could have HTML </span><span class="line" data-startTime="2250">in the main tab area, </span><span class="line" data-startTime="2253">which would, of course, </span><span class="line" data-startTime="2253">be a web page, and so on. </span> <span class="line" data-startTime="2255">So you can imagine, </span><span class="line" data-startTime="2255">a typical extension's </span><span class="line" data-startTime="2257">gonna end up with many </span><span class="line" data-startTime="2257">web pages running in it. </span></p>

<p><span class="line" data-startTime="2260">And additionally, if you have </span><span class="line" data-startTime="2260">multiple browser windows, </span><span class="line" data-startTime="2263">every browser window's </span><span class="line" data-startTime="2263">gonna get its full complement </span><span class="line" data-startTime="2265">of web pages </span><span class="line" data-startTime="2265">from each extension. </span> <span class="line" data-startTime="2268">And this might seem like it </span><span class="line" data-startTime="2268">would lead to slow performance, </span><span class="line" data-startTime="2273">but remember that Chrome is, </span><span class="line" data-startTime="2273">like most modern browsers, </span><span class="line" data-startTime="2276">is optimized to run many </span><span class="line" data-startTime="2276">web pages at once. </span> <span class="line" data-startTime="2279">Users of Chrome typically have </span><span class="line" data-startTime="2279">20, 30 tabs open at a time, </span><span class="line" data-startTime="2282">and so having a few extra </span><span class="line" data-startTime="2282">pages open </span><span class="line" data-startTime="2285">for an extension running </span><span class="line" data-startTime="2285">is not really that big a deal </span><span class="line" data-startTime="2288">and it's something that </span><span class="line" data-startTime="2288">Chrome's already optimized for. </span> <span class="line" data-startTime="2295">Now...having </span><span class="line" data-startTime="2295">all these web pages </span><span class="line" data-startTime="2298">as part of your extension </span><span class="line" data-startTime="2298">running at the same time </span><span class="line" data-startTime="2301">leads naturally to the question </span><span class="line" data-startTime="2301">of how they can communicate. </span> <span class="line" data-startTime="2304">For example, going back </span><span class="line" data-startTime="2304">to the settings example, </span><span class="line" data-startTime="2306">say you have the settings UI </span><span class="line" data-startTime="2306">where you... </span></p>

<p><span class="line" data-startTime="2311">users get to choose </span><span class="line" data-startTime="2311">all the various settings </span><span class="line" data-startTime="2312">for your extension, </span><span class="line" data-startTime="2314">when a setting has changed, </span><span class="line" data-startTime="2315">you probably want to tell </span><span class="line" data-startTime="2315">all the parts of your extension </span><span class="line" data-startTime="2317">that the setting changed </span><span class="line" data-startTime="2319">so they can update </span><span class="line" data-startTime="2319">their display. </span> <span class="line" data-startTime="2321">Now, if you've ever </span><span class="line" data-startTime="2321">used IFrames in a web page, </span><span class="line" data-startTime="2324">you're familiar with the kind </span><span class="line" data-startTime="2324">of communication </span><span class="line" data-startTime="2326">that we allow in extensions. </span> <span class="line" data-startTime="2328">When you use an IFrame, </span><span class="line" data-startTime="2330">you can just call functions </span><span class="line" data-startTime="2330">directly inside that frame, </span><span class="line" data-startTime="2333">assuming the frame </span><span class="line" data-startTime="2333">is in the same origin. </span> <span class="line" data-startTime="2335">And that's exactly the same way </span><span class="line" data-startTime="2335">it works in extensions. </span></p>

<p><span class="line" data-startTime="2337">You can get a reference </span><span class="line" data-startTime="2339">to all the different web pages </span><span class="line" data-startTime="2339">in your extension at any time, </span><span class="line" data-startTime="2341">and you can just call </span><span class="line" data-startTime="2341">functions on them. </span> <span class="line" data-startTime="2343">So it works exactly </span><span class="line" data-startTime="2343">the same way as frames. </span> <span class="line" data-startTime="2346">I can &mdash; I have a sample of this. </span> <span class="line" data-startTime="2352">I have this configuration page </span><span class="line" data-startTime="2354">that I'm gonna add </span><span class="line" data-startTime="2354">to my extension. </span> <span class="line" data-startTime="2364">And you can see that </span><span class="line" data-startTime="2364">it's a very simple web page. </span> <span class="line" data-startTime="2366">It just has one checkbox, </span><span class="line" data-startTime="2368">and what this checkbox </span><span class="line" data-startTime="2368">is gonna do </span><span class="line" data-startTime="2370">is when it's checked, </span><span class="line" data-startTime="2370">it's gonna show </span><span class="line" data-startTime="2373">the number of unread items </span><span class="line" data-startTime="2373">in my reading list, </span><span class="line" data-startTime="2377">and when it's unchecked, </span><span class="line" data-startTime="2377">it won't show them. </span> <span class="line" data-startTime="2379">So maybe this is useful </span><span class="line" data-startTime="2379">if people want to save space </span><span class="line" data-startTime="2381">in their toolstrip or something. </span> <span class="line" data-startTime="2384">And you can see it works </span><span class="line" data-startTime="2384">just like a regular web page. </span> <span class="line" data-startTime="2386">There's an onchange </span><span class="line" data-startTime="2386">event handler. </span></p>

<p><span class="line" data-startTime="2388">It calls this function, </span><span class="line" data-startTime="2388">and here's the interesting part. </span> <span class="line" data-startTime="2391">It calls chrome.self.getViews, </span><span class="line" data-startTime="2391">which gets a reference </span><span class="line" data-startTime="2395">to all the pages </span><span class="line" data-startTime="2395">that are part of your extension. </span> <span class="line" data-startTime="2397">And it iterates through them. </span> <span class="line" data-startTime="2399">And...for each one, </span><span class="line" data-startTime="2399">it looks to see if it has </span><span class="line" data-startTime="2403">that unread count span </span><span class="line" data-startTime="2403">that we added </span><span class="line" data-startTime="2405">which would mean </span><span class="line" data-startTime="2405">it's a toolstrip. </span> <span class="line" data-startTime="2407">And if it is a toolstrip, </span><span class="line" data-startTime="2409">then it sets the visibility </span><span class="line" data-startTime="2409">of that span, </span><span class="line" data-startTime="2411">depending on whether </span><span class="line" data-startTime="2411">the checkmark is checked or not. </span> <span class="line" data-startTime="2414">So this is useful. </span> <span class="line" data-startTime="2416">So again, </span><span class="line" data-startTime="2416">I'll restart my extension. </span> <span class="line" data-startTime="2421">And you could, of course, </span><span class="line" data-startTime="2421">add UI to your extension </span><span class="line" data-startTime="2425">to access </span><span class="line" data-startTime="2425">the configuration page. </span></p>

<p><span class="line" data-startTime="2427">But I'm just, </span><span class="line" data-startTime="2427">for expediency, </span><span class="line" data-startTime="2429">gonna type in the URL </span><span class="line" data-startTime="2429">directly. </span> <span class="line" data-startTime="2431">Every &mdash; </span><span class="line" data-startTime="2434">Since extensions </span><span class="line" data-startTime="2434">are web pages, </span><span class="line" data-startTime="2436">they have a URL, </span><span class="line" data-startTime="2438">and it works exactly </span><span class="line" data-startTime="2438">the same way as regular URLs. </span> <span class="line" data-startTime="2441">And this long number here </span><span class="line" data-startTime="2441">is the extension's unique ID. </span> <span class="line" data-startTime="2444">And since I'm in development </span><span class="line" data-startTime="2444">mode right now, </span><span class="line" data-startTime="2446">these IDs are just &mdash; </span><span class="line" data-startTime="2447">they're just incrementing </span><span class="line" data-startTime="2447">numbers, </span><span class="line" data-startTime="2449">so the first one is zero, </span><span class="line" data-startTime="2449">the second one's one, etcetera, </span><span class="line" data-startTime="2451">just to explain what that is. </span></p>

<p><span class="line" data-startTime="2453">And...so I have </span><span class="line" data-startTime="2453">my settings here, </span><span class="line" data-startTime="2456">all my complex settings. </span> <span class="line" data-startTime="2458">And if I check this thing, </span><span class="line" data-startTime="2460">you can see </span><span class="line" data-startTime="2460">that number goes away... </span> <span class="line" data-startTime="2462">comes back, and... </span> <span class="line" data-startTime="2465">if I had multiple </span><span class="line" data-startTime="2465">of these pages open... </span> <span class="line" data-startTime="2468">I don't know if I can fit... </span> <span class="line" data-startTime="2468">let's see. </span> <span class="line" data-startTime="2475">Yeah. So now I have </span><span class="line" data-startTime="2475">three of these open, </span><span class="line" data-startTime="2477">and you can see </span><span class="line" data-startTime="2477">they all come and go. </span> <span class="line" data-startTime="2480">So this is how communication </span><span class="line" data-startTime="2480">works inside of an extension. </span> <span class="line" data-startTime="2488">Now, some of you </span><span class="line" data-startTime="2488">may be thinking, that's cool, </span><span class="line" data-startTime="2491">you can communicate </span><span class="line" data-startTime="2491">between pages. </span></p>

<p><span class="line" data-startTime="2493">But if you've worked on </span><span class="line" data-startTime="2493">other systems like this before, </span><span class="line" data-startTime="2497">you may be wondering &mdash; like </span><span class="line" data-startTime="2497">it would be really confusing </span><span class="line" data-startTime="2499">to have all of these web pages </span><span class="line" data-startTime="2499">coming and going all the time </span><span class="line" data-startTime="2501">whenever browser windows </span><span class="line" data-startTime="2501">open and close </span><span class="line" data-startTime="2504">and whatever sidebars </span><span class="line" data-startTime="2504">open and close, </span><span class="line" data-startTime="2505">and you have all this code </span><span class="line" data-startTime="2505">running all over the place, </span><span class="line" data-startTime="2507">but there's no one in charge. </span> <span class="line" data-startTime="2509">There's no chunk of code </span><span class="line" data-startTime="2510">that's in charge </span><span class="line" data-startTime="2510">of the entire extension. </span> <span class="line" data-startTime="2511">So it becomes a little bit </span><span class="line" data-startTime="2511">like distributed programming, </span><span class="line" data-startTime="2513">because you have to manage </span><span class="line" data-startTime="2513">all these peers </span><span class="line" data-startTime="2516">and get them to... </span> <span class="line" data-startTime="2516">cooperate. </span> <span class="line" data-startTime="2521">And that can be really hard, </span><span class="line" data-startTime="2522">and it's a frustrating way </span><span class="line" data-startTime="2522">to program. </span></p>

<p><span class="line" data-startTime="2524">And it would be </span><span class="line" data-startTime="2524">much more easy </span><span class="line" data-startTime="2526">if there was a single place </span><span class="line" data-startTime="2526">that you could run code </span><span class="line" data-startTime="2529">in your extension </span><span class="line" data-startTime="2530">that would exist for the entire </span><span class="line" data-startTime="2530">lifetime of the extension </span><span class="line" data-startTime="2532">and wouldn't be attached </span><span class="line" data-startTime="2532">to any particular window. </span> <span class="line" data-startTime="2535">Oops. </span> <span class="line" data-startTime="2535">And...yeah? </span><span class="line" data-startTime="2538">[man speaking indistinctly] </span></p>

<p class="speaker"><span class="line" data-starttime="2541"><span class="speakerName">Goodman</span>: Yeah. </span> <span class="line" data-startTime="2541">It...yeah. </span> <span class="line" data-startTime="2543">Except for the &mdash; </span><span class="line" data-startTime="2543">the question is </span><span class="line" data-startTime="2546">is there a same origin </span><span class="line" data-startTime="2546">restriction </span><span class="line" data-startTime="2547">on the web pages </span><span class="line" data-startTime="2547">inside Chrome Extensions? </span><span class="line" data-startTime="2551">And the answer is, yes, </span><span class="line" data-startTime="2551">the same origin policy applies </span><span class="line" data-startTime="2554">except for </span><span class="line" data-startTime="2554">the cross-origin XHR. </span> <span class="line" data-startTime="2558">So...for this exact reason, </span><span class="line" data-startTime="2561">we introduce the concept </span><span class="line" data-startTime="2561">of the background page. </span> <span class="line" data-startTime="2563">And the background page </span><span class="line" data-startTime="2563">is another web page. </span> <span class="line" data-startTime="2566">Again, </span><span class="line" data-startTime="2566">exactly the same thing </span><span class="line" data-startTime="2567">as the other parts </span><span class="line" data-startTime="2567">of the system. </span> <span class="line" data-startTime="2569">It's just a web page. </span> <span class="line" data-startTime="2570">And the background page </span><span class="line" data-startTime="2570">is basically just a web page </span><span class="line" data-startTime="2575">that is not attached </span><span class="line" data-startTime="2575">to any browser window </span><span class="line" data-startTime="2577">and is not visible. </span> <span class="line" data-startTime="2579">So it's totally invisible, </span><span class="line" data-startTime="2579">you can't see it, </span><span class="line" data-startTime="2581">but it's running. </span></p>

<p><span class="line" data-startTime="2582">And the idea is </span><span class="line" data-startTime="2583">that you put all the main part </span><span class="line" data-startTime="2583">of your extension code in here </span><span class="line" data-startTime="2585">so that you don't have </span><span class="line" data-startTime="2585">to worry about it </span><span class="line" data-startTime="2587">coming and going </span><span class="line" data-startTime="2587">as browser windows come and go. </span> <span class="line" data-startTime="2589">And then the UI </span><span class="line" data-startTime="2589">of your extension </span><span class="line" data-startTime="2591">just becomes like a view, </span><span class="line" data-startTime="2591">a dumb view, </span><span class="line" data-startTime="2594">and when it needs information </span><span class="line" data-startTime="2594">from your extension, </span><span class="line" data-startTime="2596">it requests it </span><span class="line" data-startTime="2596">from the background page. </span> <span class="line" data-startTime="2598">And when your background page </span><span class="line" data-startTime="2598">notices some state change, </span><span class="line" data-startTime="2600">it updates all the views. </span></p>

<p><span class="line" data-startTime="2602">So this works out pretty well. </span> <span class="line" data-startTime="2605">And I can demonstrate, again, </span><span class="line" data-startTime="2605">with my extension, </span><span class="line" data-startTime="2608">building up the complexity </span><span class="line" data-startTime="2608">of my extension here </span><span class="line" data-startTime="2611">little bit by little bit. </span> <span class="line" data-startTime="2613">What we can do </span><span class="line" data-startTime="2613">with this extension </span><span class="line" data-startTime="2614">is right now we have &mdash; </span><span class="line" data-startTime="2616">every toolstrip is contacting </span><span class="line" data-startTime="2616">the Reader API itself, </span><span class="line" data-startTime="2620">so whenever I create </span><span class="line" data-startTime="2620">a new window, </span><span class="line" data-startTime="2622">I end up contacting </span><span class="line" data-startTime="2622">the Reader API twice. </span> <span class="line" data-startTime="2624">Which, besides just being </span><span class="line" data-startTime="2624">inconsiderate, </span><span class="line" data-startTime="2627">is just not that good. </span></p>

<p><span class="line" data-startTime="2629">So it would be better </span><span class="line" data-startTime="2629">if we moved all that code </span><span class="line" data-startTime="2633">into the background page </span><span class="line" data-startTime="2634">so that it only happens once </span><span class="line" data-startTime="2634">for the entire extension. </span> <span class="line" data-startTime="2638">So we can go ahead and do that. </span> <span class="line" data-startTime="2640">I'll just...very simply copy </span><span class="line" data-startTime="2640">all of my code from my toolstrip </span><span class="line" data-startTime="2644">into the new background page. </span> <span class="line" data-startTime="2648">I'll save this </span><span class="line" data-startTime="2648">as background.html. </span> <span class="line" data-startTime="2652">Now, I'm not gonna need the UI </span><span class="line" data-startTime="2652">because, again, </span><span class="line" data-startTime="2655">the background page </span><span class="line" data-startTime="2655">is invisible. </span> <span class="line" data-startTime="2656">So I'll delete that. </span> <span class="line" data-startTime="2658">And this setCount function, </span><span class="line" data-startTime="2658">right now what it's doing </span><span class="line" data-startTime="2662">is it's for the toolstrip, </span><span class="line" data-startTime="2664">so it's just updating the UI </span><span class="line" data-startTime="2664">directly. </span> <span class="line" data-startTime="2666">That's not gonna work because </span><span class="line" data-startTime="2666">it's a background page </span><span class="line" data-startTime="2667">and it's invisible. </span></p>

<p><span class="line" data-startTime="2669">So instead, </span><span class="line" data-startTime="2669">what we need to do </span><span class="line" data-startTime="2671">is tell all the toolstrips </span><span class="line" data-startTime="2671">to update themselves. </span> <span class="line" data-startTime="2676">So I have a function here... </span> <span class="line" data-startTime="2682">so I'll replace the </span><span class="line" data-startTime="2682">implementation of this function </span><span class="line" data-startTime="2685">to do something else. </span> <span class="line" data-startTime="2687">And again, it's gonna call it </span><span class="line" data-startTime="2687">chrome.self.getViews. </span> <span class="line" data-startTime="2689">It's gonna iterate </span><span class="line" data-startTime="2689">through all the views </span><span class="line" data-startTime="2691">and look and see if they </span><span class="line" data-startTime="2691">have a particular function, </span><span class="line" data-startTime="2693">and if they do, </span><span class="line" data-startTime="2693">it will call that function, </span><span class="line" data-startTime="2695">basically telling the view, </span><span class="line" data-startTime="2696">hey, the unread count </span><span class="line" data-startTime="2696">has changed. </span> <span class="line" data-startTime="2698">You need to update yourself. </span></p>

<p><span class="line" data-startTime="2701">The other thing </span><span class="line" data-startTime="2701">I'm gonna do </span><span class="line" data-startTime="2702">is add this global variable. </span> <span class="line" data-startTime="2709">And you'll see </span><span class="line" data-startTime="2709">what that's for in a second. </span> <span class="line" data-startTime="2713">Now I need to change </span><span class="line" data-startTime="2713">the actual toolstrip itself... </span> <span class="line" data-startTime="2717">because I no longer need </span><span class="line" data-startTime="2717">all this code </span><span class="line" data-startTime="2719">that's in the toolstrip... </span> <span class="line" data-startTime="2721">because I moved it </span><span class="line" data-startTime="2721">to the background page. </span> <span class="line" data-startTime="2723">So my new toolstrip code </span><span class="line" data-startTime="2723">is very simple. </span> <span class="line" data-startTime="2727">It's just a few lines again. </span> <span class="line" data-startTime="2729">On load, it's gonna call </span><span class="line" data-startTime="2729">the function to update itself, </span><span class="line" data-startTime="2732">and what that's gonna do </span><span class="line" data-startTime="2732">is go through all the views </span><span class="line" data-startTime="2734">and look for </span><span class="line" data-startTime="2734">the background page. </span></p>

<p><span class="line" data-startTime="2735">When it finds </span><span class="line" data-startTime="2735">the background page, </span><span class="line" data-startTime="2737">it will use that global </span><span class="line" data-startTime="2737">variable that I created </span><span class="line" data-startTime="2739">to update its count. </span> <span class="line" data-startTime="2742">And the same function </span><span class="line" data-startTime="2742">is the same one </span><span class="line" data-startTime="2743">that's gonna get called </span><span class="line" data-startTime="2745">when the background page notices </span><span class="line" data-startTime="2745">that things have changed. </span> <span class="line" data-startTime="2753">So the final thing </span><span class="line" data-startTime="2753">I need to do </span><span class="line" data-startTime="2755">is register my background page, </span><span class="line" data-startTime="2756">tell the extension system </span><span class="line" data-startTime="2756">that it exists... </span> <span class="line" data-startTime="2763">and then it should be </span><span class="line" data-startTime="2763">ready to go. </span> <span class="line" data-startTime="2767">So again, I'll start Chrome. </span> <span class="line" data-startTime="2769">You can see that it still works, </span><span class="line" data-startTime="2769">which is a good sign. </span> <span class="line" data-startTime="2772">If I create multiple windows, </span><span class="line" data-startTime="2772">it's still going. </span> <span class="line" data-startTime="2774">That's good. </span> <span class="line" data-startTime="2776">But other than that, </span><span class="line" data-startTime="2776">it's pretty much the same. </span> <span class="line" data-startTime="2778">You can tell </span><span class="line" data-startTime="2778">that something has happened </span><span class="line" data-startTime="2780">by going to this </span><span class="line" data-startTime="2780">management page that we have. </span></p>

<p><span class="line" data-startTime="2781">This will eventually &mdash; </span><span class="line" data-startTime="2781">this is obviously early UI. </span> <span class="line" data-startTime="2784">But this will become </span><span class="line" data-startTime="2784">the management UI </span><span class="line" data-startTime="2786">for the extension system. </span> <span class="line" data-startTime="2787">And it shows you all the </span><span class="line" data-startTime="2787">extensions you have installed, </span><span class="line" data-startTime="2791">and right now </span><span class="line" data-startTime="2791">I just have one. </span> <span class="line" data-startTime="2793">And it also shows you </span><span class="line" data-startTime="2793">all the views in your extension. </span> <span class="line" data-startTime="2796">And you can see there's two &mdash; </span><span class="line" data-startTime="2798">the toolstrip </span><span class="line" data-startTime="2798">and the background page. </span> <span class="line" data-startTime="2800">And if I create another one, </span><span class="line" data-startTime="2800">another browser window, </span><span class="line" data-startTime="2803">and refresh, </span><span class="line" data-startTime="2803">now I have two toolstrips. </span> <span class="line" data-startTime="2806">So that makes sense. </span> <span class="line" data-startTime="2807">And there's also a button here </span><span class="line" data-startTime="2807">to inspect them, </span><span class="line" data-startTime="2810">so I can actually inspect </span><span class="line" data-startTime="2810">the background page. </span> <span class="line" data-startTime="2811">So you use the inspector </span><span class="line" data-startTime="2811">on the background page. </span> <span class="line" data-startTime="2814">And it might not seem </span><span class="line" data-startTime="2814">that useful </span><span class="line" data-startTime="2816">to inspect an invisible page, </span><span class="line" data-startTime="2818">but one thing you can do </span><span class="line" data-startTime="2818">is use </span><span class="line" data-startTime="2820">Chrome's new fancy </span><span class="line" data-startTime="2820">visual de-bugger. </span></p>

<p><span class="line" data-startTime="2823">So we now have a visual </span><span class="line" data-startTime="2823">JavaScript de-bugger for Chrome, </span><span class="line" data-startTime="2826">which is fun. </span> <span class="line" data-startTime="2828">And it was written </span><span class="line" data-startTime="2828">for web pages, </span><span class="line" data-startTime="2830">but again, since extensions </span><span class="line" data-startTime="2830">are web pages, </span><span class="line" data-startTime="2832">it works for extensions too, </span><span class="line" data-startTime="2833">so you can set break points </span><span class="line" data-startTime="2833">and stuff like that. </span> <span class="line" data-startTime="2835">Which is good. </span> <span class="line" data-startTime="2843">Another thing I can do </span><span class="line" data-startTime="2843">with this background page </span><span class="line" data-startTime="2845">is maybe it would be useful </span><span class="line" data-startTime="2847">to have a manual </span><span class="line" data-startTime="2847">refresh button... </span> <span class="line" data-startTime="2851">in my extension </span><span class="line" data-startTime="2851">so that I could &mdash; </span><span class="line" data-startTime="2853">if I wanted to know </span><span class="line" data-startTime="2853">how many &mdash; </span><span class="line" data-startTime="2855">like right now, my extension, </span><span class="line" data-startTime="2855">all it does at startup is </span><span class="line" data-startTime="2858">it checks how many items </span><span class="line" data-startTime="2858">are in my reading list. </span> <span class="line" data-startTime="2860">It would be better if I could </span><span class="line" data-startTime="2860">refresh it whenever I wanted. </span> <span class="line" data-startTime="2863">So I can...update my toolstrip </span><span class="line" data-startTime="2863">really easily to support that. </span> <span class="line" data-startTime="2874">I'll add this function </span><span class="line" data-startTime="2874">that does the refresh... </span> <span class="line" data-startTime="2878">to my toolstrip. </span></p>

<p><span class="line" data-startTime="2884">And again, </span><span class="line" data-startTime="2884">all this does is </span><span class="line" data-startTime="2885">it goes through all the views, </span><span class="line" data-startTime="2885">finds the background page </span><span class="line" data-startTime="2888">and calls the function </span><span class="line" data-startTime="2888">to refresh. </span> <span class="line" data-startTime="2891">And I will add a new button </span><span class="line" data-startTime="2891">to call the function, </span><span class="line" data-startTime="2896">the refresh function. </span> <span class="line" data-startTime="2907">And...if I restart, </span><span class="line" data-startTime="2911">I now have a refresh button. </span> <span class="line" data-startTime="2913">I can go to Google Reader. </span> <span class="line" data-startTime="2913">Maybe I want to read some stuff. </span> <span class="line" data-startTime="2918">As I make the count </span><span class="line" data-startTime="2918">go down a little bit, </span><span class="line" data-startTime="2920">you can see that </span><span class="line" data-startTime="2920">it still says 610. </span> <span class="line" data-startTime="2923">But I have actually only 600. </span> <span class="line" data-startTime="2926">If I press refresh... </span> <span class="line" data-startTime="2926">it changes to 600. </span> <span class="line" data-startTime="2930">And if I have multiple pages... </span></p>

<p><span class="line" data-startTime="2937">And I take it down to 590 </span><span class="line" data-startTime="2940">and I press refresh </span><span class="line" data-startTime="2940">in one of them, </span><span class="line" data-startTime="2941">both of them update... </span> <span class="line" data-startTime="2941">using the background page. </span> <span class="line" data-startTime="2945">So that's good. </span> <span class="line" data-startTime="2954">The last thing I want to point </span><span class="line" data-startTime="2954">out about the process model </span><span class="line" data-startTime="2958">is the effect that it has </span><span class="line" data-startTime="2958">on the browser APIs. </span> <span class="line" data-startTime="2960">These are those narrow </span><span class="line" data-startTime="2960">browser APIs </span><span class="line" data-startTime="2962">I talked about earlier. </span> <span class="line" data-startTime="2964">An interesting thing happens </span><span class="line" data-startTime="2964">when you try to do browser APIs </span><span class="line" data-startTime="2967">in a multiprocess browser. </span> <span class="line" data-startTime="2969">The problem is that all the APIs </span><span class="line" data-startTime="2969">that you want to write </span><span class="line" data-startTime="2974">are manipulating data </span><span class="line" data-startTime="2974">that exist in another process. </span> <span class="line" data-startTime="2976">So your extension </span><span class="line" data-startTime="2976">is running in one process, </span><span class="line" data-startTime="2978">but the tab system </span><span class="line" data-startTime="2978">for the browser </span><span class="line" data-startTime="2981">is running in a different </span><span class="line" data-startTime="2981">process from the extension. </span> <span class="line" data-startTime="2983">So at a low level, </span><span class="line" data-startTime="2983">fundamentally, what's happening </span><span class="line" data-startTime="2985">is that the extension process </span><span class="line" data-startTime="2987">has to send a message </span><span class="line" data-startTime="2987">to the browser process, </span><span class="line" data-startTime="2989">asking it to create a tab. </span></p>

<p><span class="line" data-startTime="2991">And then the browser process </span><span class="line" data-startTime="2991">has to send a message </span><span class="line" data-startTime="2993">back to the extension process </span><span class="line" data-startTime="2993">saying, </span><span class="line" data-startTime="2994">hey, I created the tab </span><span class="line" data-startTime="2994">you asked for &mdash; here it is. </span> <span class="line" data-startTime="2997">And so this is an asynchronous </span><span class="line" data-startTime="2997">environment, </span><span class="line" data-startTime="2999">and fundamentally, </span><span class="line" data-startTime="2999">this is just the situation. </span> <span class="line" data-startTime="3002">And... </span> <span class="line" data-startTime="3002">so we thought about </span><span class="line" data-startTime="3005">how to deal with this, </span><span class="line" data-startTime="3006">because async programming </span><span class="line" data-startTime="3006">can be difficult, </span><span class="line" data-startTime="3008">and one thing that we </span><span class="line" data-startTime="3008">could potentially do </span><span class="line" data-startTime="3011">is try to paper it over </span><span class="line" data-startTime="3013">and make it look like </span><span class="line" data-startTime="3013">it's synchronous. </span> <span class="line" data-startTime="3015">But the problem with that </span><span class="line" data-startTime="3015">is that if you try to pretend </span><span class="line" data-startTime="3019">that an asynchronous system </span><span class="line" data-startTime="3019">is really synchronous, </span><span class="line" data-startTime="3022">you can end up </span><span class="line" data-startTime="3022">with conflicts and situations </span><span class="line" data-startTime="3025">where the API tells you </span><span class="line" data-startTime="3025">the state is one thing, </span><span class="line" data-startTime="3027">but in reality, </span><span class="line" data-startTime="3027">it's something else. </span> <span class="line" data-startTime="3029">And that ends up being </span><span class="line" data-startTime="3029">even more confusing. </span> <span class="line" data-startTime="3031">And so what we decided was </span><span class="line" data-startTime="3033">instead of trying </span><span class="line" data-startTime="3033">to paper this over, </span><span class="line" data-startTime="3034">we would use some of the idioms </span><span class="line" data-startTime="3034">and techniques </span><span class="line" data-startTime="3036">that web developers </span><span class="line" data-startTime="3036">are already familiar with </span><span class="line" data-startTime="3038">for working with </span><span class="line" data-startTime="3038">asynchronous systems </span><span class="line" data-startTime="3040">and just use them </span><span class="line" data-startTime="3040">so that at least, </span><span class="line" data-startTime="3044">although you have to use </span><span class="line" data-startTime="3044">asynchronous APIs, </span><span class="line" data-startTime="3046">it's using a technique </span><span class="line" data-startTime="3046">that you're familiar with </span><span class="line" data-startTime="3049">and using patterns that </span><span class="line" data-startTime="3049">you're familiar with. </span></p>

<p><span class="line" data-startTime="3051">So if you just think </span><span class="line" data-startTime="3051">of the browser as the server </span><span class="line" data-startTime="3054">for your extension web page, </span><span class="line" data-startTime="3054">it works pretty much the same. </span> <span class="line" data-startTime="3058">We've designed the APIs </span><span class="line" data-startTime="3059">so that they look very similar </span><span class="line" data-startTime="3059">to AJAX APIs. </span> <span class="line" data-startTime="3062">You pass in an object </span><span class="line" data-startTime="3062">that is a JSON-style object, </span><span class="line" data-startTime="3065">and you get back results </span><span class="line" data-startTime="3065">that are JSON-style objects. </span> <span class="line" data-startTime="3068">So if you're familiar with </span><span class="line" data-startTime="3068">doing AJAX programming, </span><span class="line" data-startTime="3070">this should look </span><span class="line" data-startTime="3070">pretty similar to you. </span> <span class="line" data-startTime="3075">So the last cool thing </span><span class="line" data-startTime="3075">about the extension system </span><span class="line" data-startTime="3078">that I want to talk about </span><span class="line" data-startTime="3078">is packaging and distribution. </span> <span class="line" data-startTime="3081">So I've convinced you </span><span class="line" data-startTime="3081">that this is really cool, </span><span class="line" data-startTime="3084">and you go and you write </span><span class="line" data-startTime="3084">your extension </span><span class="line" data-startTime="3085">and now you want to let </span><span class="line" data-startTime="3085">your friends use it </span><span class="line" data-startTime="3088">or let your users </span><span class="line" data-startTime="3088">or customers use it. </span></p>

<p><span class="line" data-startTime="3091">I mentioned earlier </span><span class="line" data-startTime="3091">that extensions are zip files, </span><span class="line" data-startTime="3094">and that's true. </span> <span class="line" data-startTime="3095">But they also have two </span><span class="line" data-startTime="3095">special pieces of information </span><span class="line" data-startTime="3098">stuck onto the front of them. </span> <span class="line" data-startTime="3100">And because they have these </span><span class="line" data-startTime="3100">extra pieces of information, </span><span class="line" data-startTime="3103">we package them </span><span class="line" data-startTime="3103">as special files </span><span class="line" data-startTime="3105">with a special extension </span><span class="line" data-startTime="3105">called CRX, </span><span class="line" data-startTime="3107">which stands for </span><span class="line" data-startTime="3107">Chrome Extension. </span> <span class="line" data-startTime="3109">The first piece of information </span><span class="line" data-startTime="3109">that's tacked onto the front </span><span class="line" data-startTime="3111">is the signature. </span> <span class="line" data-startTime="3113">And all extensions in Chrome </span><span class="line" data-startTime="3113">are digitally signed. </span> <span class="line" data-startTime="3116">And the reason for that </span><span class="line" data-startTime="3118">is it prevents against </span><span class="line" data-startTime="3118">a really common attack </span><span class="line" data-startTime="3120">called a Man-in-the-Middle </span><span class="line" data-startTime="3120">attack </span><span class="line" data-startTime="3121">where basically </span><span class="line" data-startTime="3121">the signature tells you, </span><span class="line" data-startTime="3126">tells Chrome that when you </span><span class="line" data-startTime="3126">update an extension </span><span class="line" data-startTime="3129">that the person </span><span class="line" data-startTime="3129">who wrote the update </span><span class="line" data-startTime="3131">is the same person who wrote </span><span class="line" data-startTime="3131">the original extension. </span> <span class="line" data-startTime="3133">So it can't be substituted </span><span class="line" data-startTime="3133">with malicious code. </span> <span class="line" data-startTime="3135">And we also tack a manifest </span><span class="line" data-startTime="3135">onto the front, </span><span class="line" data-startTime="3139">and the manifest </span><span class="line" data-startTime="3139">is the exact same manifest </span><span class="line" data-startTime="3141">that is inside the zip file, </span><span class="line" data-startTime="3143">which might seem kind of funny </span><span class="line" data-startTime="3143">to have the same data twice, </span><span class="line" data-startTime="3145">but we do it for a good reason. </span></p>

<p><span class="line" data-startTime="3147">And the reason is </span><span class="line" data-startTime="3147">we want to show UI right away </span><span class="line" data-startTime="3150">when you install an extension. </span> <span class="line" data-startTime="3152">Again, we want the experience </span><span class="line" data-startTime="3152">of using extensions </span><span class="line" data-startTime="3154">to be really polished </span><span class="line" data-startTime="3154">and fit with Chrome. </span> <span class="line" data-startTime="3157">And so when you click </span><span class="line" data-startTime="3157">on an extension on the web, </span><span class="line" data-startTime="3159">we don't want to have to wait </span><span class="line" data-startTime="3159">for the entire extension </span><span class="line" data-startTime="3161">to download to show UI. </span> <span class="line" data-startTime="3163">We want to show UI right away, </span><span class="line" data-startTime="3163">and we want to show UI that says </span><span class="line" data-startTime="3165">this is extension blah, </span><span class="line" data-startTime="3165">it has this description, </span><span class="line" data-startTime="3168">here's its icon, </span><span class="line" data-startTime="3168">here's what it wants to do, etc. </span> <span class="line" data-startTime="3170">And so we put the manifest </span><span class="line" data-startTime="3170">on the front </span><span class="line" data-startTime="3172">so that as soon as we get this </span><span class="line" data-startTime="3172">first few packets of data, </span><span class="line" data-startTime="3175">we can start displaying UI. </span></p>

<p><span class="line" data-startTime="3178">Now, I'm just bringing this up </span><span class="line" data-startTime="3180">because I think </span><span class="line" data-startTime="3180">it's an interesting detail, </span><span class="line" data-startTime="3181">but you don't have to worry </span><span class="line" data-startTime="3181">about this. </span> <span class="line" data-startTime="3183">As an extension developer, </span><span class="line" data-startTime="3185">typically, you won't deal </span><span class="line" data-startTime="3185">with CRX files directly. </span> <span class="line" data-startTime="3188">Goggle is going to provide </span><span class="line" data-startTime="3188">a service </span><span class="line" data-startTime="3189">that does the packaging, </span><span class="line" data-startTime="3189">a web service. </span> <span class="line" data-startTime="3192">And you'll just upload </span><span class="line" data-startTime="3192">a zip file, </span><span class="line" data-startTime="3194">and it will be packaged </span><span class="line" data-startTime="3194">into a CRX file for you, </span><span class="line" data-startTime="3196">and that's the end of the story. </span> <span class="line" data-startTime="3201">So once you have your CRX file, </span><span class="line" data-startTime="3201">you want to deploy it. </span> <span class="line" data-startTime="3204">You want to put it someplace </span><span class="line" data-startTime="3204">so people can install it. </span></p>

<p><span class="line" data-startTime="3207">Deployment of Chrome Extensions </span><span class="line" data-startTime="3207">is trivial. </span> <span class="line" data-startTime="3210">You copy the CRX file </span><span class="line" data-startTime="3210">to your web server, </span><span class="line" data-startTime="3212">and that's pretty much it. </span> <span class="line" data-startTime="3214">Or you mail it </span><span class="line" data-startTime="3214">or whatever you need to do. </span> <span class="line" data-startTime="3216">Installation </span><span class="line" data-startTime="3216">of Chrome Extensions is instant. </span> <span class="line" data-startTime="3218">There's no restart. </span> <span class="line" data-startTime="3218">They show up immediately. </span> <span class="line" data-startTime="3221">And we're so proud of this, </span><span class="line" data-startTime="3222">'cause it just got finished </span><span class="line" data-startTime="3222">recently. </span> <span class="line" data-startTime="3225">Then I'm gonna show it off. </span> <span class="line" data-startTime="3226">So you can do a Google search </span><span class="line" data-startTime="3226">for Chrome Extensions samples </span><span class="line" data-startTime="3232">and...there's a bunch </span><span class="line" data-startTime="3232">of sample extensions </span><span class="line" data-startTime="3235">that we've posted </span><span class="line" data-startTime="3235">on our developer's site </span><span class="line" data-startTime="3237">that you can install. </span> <span class="line" data-startTime="3239">Let's see...I'll do... </span> <span class="line" data-startTime="3244">the buildbot one. </span> <span class="line" data-startTime="3248">So the little dialog comes up, </span><span class="line" data-startTime="3248">and it shows up immediately. </span></p>

<p><span class="line" data-startTime="3252">And this one has </span><span class="line" data-startTime="3252">this cool feature </span><span class="line" data-startTime="3254">where, if you hover over it, </span><span class="line" data-startTime="3255">it like expands </span><span class="line" data-startTime="3255">and shows you more information. </span> <span class="line" data-startTime="3258">Ha. If you're not familiar </span><span class="line" data-startTime="3258">with what a buildbot is, </span><span class="line" data-startTime="3261">it's basically a system that </span><span class="line" data-startTime="3261">lets the developers of Chrome </span><span class="line" data-startTime="3264">know what the status </span><span class="line" data-startTime="3264">of the Chrome source code is </span><span class="line" data-startTime="3266">at any given time. </span> <span class="line" data-startTime="3267">So this is telling me that </span><span class="line" data-startTime="3269">Chrome source code </span><span class="line" data-startTime="3269">is in a good state right now, </span><span class="line" data-startTime="3271">but there is </span><span class="line" data-startTime="3271">one red breakage. </span> <span class="line" data-startTime="3273">So this one broke something. </span> <span class="line" data-startTime="3275">Anyway, um... </span></p>

<p><span class="line" data-startTime="3275">so installation is instant. </span> <span class="line" data-startTime="3280">And similarly, </span><span class="line" data-startTime="3280">un-installation is also instant. </span> <span class="line" data-startTime="3284">If I go to that same </span><span class="line" data-startTime="3284">management page... </span> <span class="line" data-startTime="3290">now I have two extensions. </span> <span class="line" data-startTime="3291">I uninstall the buildbot one. </span> <span class="line" data-startTime="3291">It goes away immediately. </span> <span class="line" data-startTime="3298">And again, you don't have </span><span class="line" data-startTime="3298">to worry about hosting. </span> <span class="line" data-startTime="3301">If you don't want to host </span><span class="line" data-startTime="3301">your own CRX files, </span><span class="line" data-startTime="3303">Google will provide </span><span class="line" data-startTime="3303">a web service that you can use </span><span class="line" data-startTime="3306">to host your CRX files. </span></p>

<p><span class="line" data-startTime="3307">You just upload them, </span><span class="line" data-startTime="3307">and nothing to it. </span> <span class="line" data-startTime="3312">Once you get your extension </span><span class="line" data-startTime="3312">deployed </span><span class="line" data-startTime="3314">and people are using it </span><span class="line" data-startTime="3314">and it's pop &mdash; yes? </span><span class="line" data-startTime="3316">[man speaking indistinctly] </span></p>

<p class="speaker"><span class="line" data-starttime="3317"><span class="speakerName">Goodman</span>: Oh. Okay. </span><span class="line" data-startTime="3320">[man continues indistinctly] </span></p>

<p class="speaker"><span class="line" data-starttime="3327"><span class="speakerName">Goodman</span>: Right. </span><span class="line" data-startTime="3329">The question is, </span><span class="line" data-startTime="3329">will there be a warning </span><span class="line" data-startTime="3331">if you host it </span><span class="line" data-startTime="3331">from your own site </span><span class="line" data-startTime="3332">versus hosting it from </span><span class="line" data-startTime="3332">the official site? </span><span class="line" data-startTime="3335">We haven't figured out </span><span class="line" data-startTime="3335">the details of the UI there. </span><span class="line" data-startTime="3339">It's something that we're </span><span class="line" data-startTime="3339">still trying to design, </span><span class="line" data-startTime="3341">so I can't answer that question </span><span class="line" data-startTime="3341">specifically. </span><span class="line" data-startTime="3343">It's definitely something </span><span class="line" data-startTime="3343">that we've considered </span><span class="line" data-startTime="3345">because...there's definite </span><span class="line" data-startTime="3345">security risks </span><span class="line" data-startTime="3348">from installing extensions </span><span class="line" data-startTime="3348">from arbitrary websites. </span><span class="line" data-startTime="3351">man: Can you use </span><span class="line" data-startTime="3351">the CRX generating service </span><span class="line" data-startTime="3354">in an automated tool </span><span class="line" data-startTime="3354">like...you know, </span><span class="line" data-startTime="3359">just upload and automatically </span><span class="line" data-startTime="3359">then download onto your site? </span><span class="line" data-startTime="3364">I mean, if you wanted </span><span class="line" data-startTime="3364">to deploy something </span><span class="line" data-startTime="3367">in a script? </span></p>

<p class="speaker"><span class="line" data-starttime="3368"><span class="speakerName">Goodman</span>: The question is, </span><span class="line" data-startTime="3370">will you be able to use </span><span class="line" data-startTime="3370">the packaging tool </span><span class="line" data-startTime="3372">in a automated script? </span><span class="line" data-startTime="3374">man: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="3374"><span class="speakerName">Goodman</span>: Okay. </span> <span class="line" data-startTime="3375">That's not something </span><span class="line" data-startTime="3375">we've thought about &mdash; </span><span class="line" data-startTime="3376">like making it a web service. </span> <span class="line" data-startTime="3378">But one thing </span><span class="line" data-startTime="3378">I forgot to mention </span><span class="line" data-startTime="3380">is that the format of CRX </span><span class="line" data-startTime="3380">is completely open, </span><span class="line" data-startTime="3382">and we'll have Python scripts </span><span class="line" data-startTime="3382">that you can use. </span> <span class="line" data-startTime="3384">We already have a Python script </span><span class="line" data-startTime="3384">that you can use to create them. </span> <span class="line" data-startTime="3387">And the format is trivial &mdash; </span><span class="line" data-startTime="3387">it's like a zip file </span><span class="line" data-startTime="3389">with some extra bytes </span><span class="line" data-startTime="3389">appendaged to the front, so... </span> <span class="line" data-startTime="3392">And, of course, </span><span class="line" data-startTime="3392">Chrome is open source, </span><span class="line" data-startTime="3394">so you could look at </span><span class="line" data-startTime="3394">the source code too. </span> <span class="line" data-startTime="3396">So basically </span><span class="line" data-startTime="3396">what I'm getting at </span><span class="line" data-startTime="3398">is you may not be able to use </span><span class="line" data-startTime="3398">our web service to do that, </span><span class="line" data-startTime="3400">but if you're willing </span><span class="line" data-startTime="3400">to write code, </span><span class="line" data-startTime="3402">you could easily write code </span><span class="line" data-startTime="3402">to create CRX files. </span></p>

<p><span class="line" data-startTime="3407">So you have your extension. </span> <span class="line" data-startTime="3407">People are using it. </span> <span class="line" data-startTime="3410">And then you discover </span><span class="line" data-startTime="3410">there's a bug in it, </span><span class="line" data-startTime="3412">so you want to update it. </span> <span class="line" data-startTime="3414">You could do a blog post, </span><span class="line" data-startTime="3414">telling people, hey, </span><span class="line" data-startTime="3417">you should get the new </span><span class="line" data-startTime="3417">version of my extension. </span> <span class="line" data-startTime="3419">But it would be better </span><span class="line" data-startTime="3419">if you could update </span><span class="line" data-startTime="3420">all the existing users </span><span class="line" data-startTime="3420">of your extension. </span> <span class="line" data-startTime="3422">And the extension system </span><span class="line" data-startTime="3422">in Chrome </span><span class="line" data-startTime="3425">works exactly the same way </span><span class="line" data-startTime="3427">as the update system </span><span class="line" data-startTime="3427">for Chrome itself. </span> <span class="line" data-startTime="3430">Updates of Chrome Extensions </span><span class="line" data-startTime="3430">are automatic. </span></p>

<p><span class="line" data-startTime="3433">There's no work required </span><span class="line" data-startTime="3433">by users. </span> <span class="line" data-startTime="3434">There's no manual update step. </span> <span class="line" data-startTime="3436">There's never a prompt that </span><span class="line" data-startTime="3436">tells users they need to update </span><span class="line" data-startTime="3439">or restart </span><span class="line" data-startTime="3439">when they get the update. </span> <span class="line" data-startTime="3441">And users always have </span><span class="line" data-startTime="3441">the latest version. </span> <span class="line" data-startTime="3443">And we think this is </span><span class="line" data-startTime="3443">a great feature for users </span><span class="line" data-startTime="3445">and it helps </span><span class="line" data-startTime="3445">with security too. </span> <span class="line" data-startTime="3448">Additionally, updates in Chrome, </span><span class="line" data-startTime="3448">as I mentioned before, </span><span class="line" data-startTime="3452">because of those narrow APIs, </span><span class="line" data-startTime="3453">Chrome Extensions </span><span class="line" data-startTime="3453">are forward-compatible. </span></p>

<p><span class="line" data-startTime="3455">So you never have to declare </span><span class="line" data-startTime="3455">in your extension </span><span class="line" data-startTime="3458">what versions of Chrome </span><span class="line" data-startTime="3459">that your extension </span><span class="line" data-startTime="3459">is compatible with. </span> <span class="line" data-startTime="3461">Because once you use an API </span><span class="line" data-startTime="3462">that we have released </span><span class="line" data-startTime="3462">to the stable channel, </span><span class="line" data-startTime="3464">we guarantee </span><span class="line" data-startTime="3464">that we won't break you. </span> <span class="line" data-startTime="3466">So you don't have to worry </span><span class="line" data-startTime="3466">about updating your extension </span><span class="line" data-startTime="3469">when new versions </span><span class="line" data-startTime="3469">of Chrome come out. </span> <span class="line" data-startTime="3471">And again, </span><span class="line" data-startTime="3471">like the other things, </span><span class="line" data-startTime="3473">Google is going to provide </span><span class="line" data-startTime="3473">an update service </span><span class="line" data-startTime="3475">that takes care of the </span><span class="line" data-startTime="3475">auto-update protocol for you </span><span class="line" data-startTime="3478">so you won't have to do it </span><span class="line" data-startTime="3478">yourself, </span><span class="line" data-startTime="3480">but again, the update protocol </span><span class="line" data-startTime="3480">is going to be open </span><span class="line" data-startTime="3483">and all the formats are open, </span><span class="line" data-startTime="3484">so if you want to do it </span><span class="line" data-startTime="3484">yourself, </span><span class="line" data-startTime="3486">you'll be able to. </span> <span class="line" data-startTime="3490">Finally, we're gonna... </span> <span class="line" data-startTime="3490">I mentioned </span><span class="line" data-startTime="3492">that we're gonna have services </span><span class="line" data-startTime="3492">for packaging </span><span class="line" data-startTime="3495">for hosting and for update, </span><span class="line" data-startTime="3497">and similarly, </span><span class="line" data-startTime="3497">we'll have a gallery service </span><span class="line" data-startTime="3499">where users can go </span><span class="line" data-startTime="3499">to find extensions </span><span class="line" data-startTime="3501">that they might want </span><span class="line" data-startTime="3501">to install </span><span class="line" data-startTime="3503">and where developers </span><span class="line" data-startTime="3503">can post their extensions </span><span class="line" data-startTime="3504">if they want people </span><span class="line" data-startTime="3504">to install them. </span></p>

<p><span class="line" data-startTime="3506">We don't have any &mdash; </span><span class="line" data-startTime="3508">we're still working on </span><span class="line" data-startTime="3508">the design for this right now. </span> <span class="line" data-startTime="3510">It's a work in progress, </span><span class="line" data-startTime="3512">so we don't have </span><span class="line" data-startTime="3512">anything to show you. </span> <span class="line" data-startTime="3513">But we hope to be able </span><span class="line" data-startTime="3513">to show this really soon. </span> <span class="line" data-startTime="3517">And, uh, that's it. </span> <span class="line" data-startTime="3519">So I hope this has been </span><span class="line" data-startTime="3519">informative </span><span class="line" data-startTime="3521">and piqued your interest </span><span class="line" data-startTime="3522">and that you'll get started </span><span class="line" data-startTime="3522">building Chrome Extensions. </span> <span class="line" data-startTime="3524">If you want to learn </span><span class="line" data-startTime="3524">how to do it again, </span><span class="line" data-startTime="3526">do a Google search for </span><span class="line" data-startTime="3526">Chrome Extensions HOWTO. </span> <span class="line" data-startTime="3529">It'll take you to </span><span class="line" data-startTime="3529">a really simple tutorial </span><span class="line" data-startTime="3531">that walks you through it. </span> <span class="line" data-startTime="3533">You can talk to &mdash; </span><span class="line" data-startTime="3535">there's a bunch of extension </span><span class="line" data-startTime="3535">developers here today &mdash; </span><span class="line" data-startTime="3537">not extension developers, </span><span class="line" data-startTime="3538">but people who work </span><span class="line" data-startTime="3538">on the extension system. </span></p>

<p><span class="line" data-startTime="3540">And we're gonna be having </span><span class="line" data-startTime="3540">something called a Sandbox </span><span class="line" data-startTime="3542">at 1:00 today </span><span class="line" data-startTime="3545">and office hours tomorrow </span><span class="line" data-startTime="3545">from 1:00 to 3:00, </span><span class="line" data-startTime="3547">so you can talk to us then. </span> <span class="line" data-startTime="3548">You can obviously </span><span class="line" data-startTime="3548">talk to me after this. </span> <span class="line" data-startTime="3550">Or you can email us </span><span class="line" data-startTime="3550">at chromium-discuss </span><span class="line" data-startTime="3553">at googlegroups.com. </span> <span class="line" data-startTime="3555">And with that, </span><span class="line" data-startTime="3555">I will open it up to questions. </span> <span class="line" data-startTime="3557">[applause] </span><span class="line" data-startTime="3564">For the questions, </span><span class="line" data-startTime="3564">please go to the microphones, </span><span class="line" data-startTime="3566">because we're recording this, </span><span class="line" data-startTime="3568">and that way people </span><span class="line" data-startTime="3568">who watch it later on YouTube </span><span class="line" data-startTime="3571">will be able </span><span class="line" data-startTime="3571">to hear the questions. </span></p>

<p><span class="line" data-startTime="3574">man: For the cross... </span> <span class="line" data-startTime="3574">cross-origin XHR... </span></p>

<p class="speaker"><span class="line" data-starttime="3579"><span class="speakerName">Goodman</span>: Yeah. </span><span class="line" data-startTime="3580">man: Will the Chrome </span><span class="line" data-startTime="3580">Extension honor </span><span class="line" data-startTime="3583">the W3C HTTP header </span><span class="line" data-startTime="3583">properties? </span></p>

<p class="speaker"><span class="line" data-starttime="3587"><span class="speakerName">Goodman</span>: Yes. </span><span class="line" data-startTime="3587">The question is will Chrome &mdash; </span><span class="line" data-startTime="3589">man: From the server. </span></p>

<p class="speaker"><span class="line" data-starttime="3589"><span class="speakerName">Goodman</span>: Right. </span> <span class="line" data-startTime="3591">Will Chrome Extensions </span><span class="line" data-startTime="3591">support the opt-in W3C header </span><span class="line" data-startTime="3595">for cross-origin XHR? </span><span class="line" data-startTime="3597">And the answer is yes, </span><span class="line" data-startTime="3598">because Chrome Extensions </span><span class="line" data-startTime="3598">are web pages. </span> <span class="line" data-startTime="3600">They just inherit </span><span class="line" data-startTime="3600">all the features of Chrome. </span> <span class="line" data-startTime="3602">And Chrome itself </span><span class="line" data-startTime="3602">already supports that, </span><span class="line" data-startTime="3606">and so Chrome Extensions </span><span class="line" data-startTime="3606">do too. </span> <span class="line" data-startTime="3608">The cross-origin XHR </span><span class="line" data-startTime="3608">that extensions have </span><span class="line" data-startTime="3611">is more powerful </span><span class="line" data-startTime="3611">than the W3C one, </span><span class="line" data-startTime="3614">because it allows you </span><span class="line" data-startTime="3614">to talk to servers </span><span class="line" data-startTime="3616">that have not opted in </span><span class="line" data-startTime="3616">to receiving cross-origin &mdash; </span><span class="line" data-startTime="3619">man: So it's a way </span><span class="line" data-startTime="3619">for the web page author </span><span class="line" data-startTime="3621">to bypass the... </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="3624"><span class="speakerName">Goodman</span>: It's a way </span><span class="line" data-startTime="3624">for extensions to &mdash; </span><span class="line" data-startTime="3626">man: External servers... </span><span class="line" data-startTime="3626">HTTP headers is... </span></p>

<p class="speaker"><span class="line" data-starttime="3630"><span class="speakerName">Goodman</span>: Right. </span><span class="line" data-startTime="3630">It allows Chrome Extensions </span><span class="line" data-startTime="3633">to access web servers </span><span class="line" data-startTime="3633">on other origins </span><span class="line" data-startTime="3636">regardless of the header. </span><span class="line" data-startTime="3638">Exactly. </span><span class="line" data-startTime="3638">man: Oh, okay. Thank you. </span></p>

<p class="speaker"><span class="line" data-starttime="3639"><span class="speakerName">Goodman</span>: Yep. </span><span class="line" data-startTime="3639">man: Is there, uh... </span><span class="line" data-startTime="3642">is there any thought </span><span class="line" data-startTime="3642">or concern </span><span class="line" data-startTime="3644">about the security risks </span><span class="line" data-startTime="3644">involved in extensions </span><span class="line" data-startTime="3647">that, uh... </span><span class="line" data-startTime="3650">is there any concern about </span><span class="line" data-startTime="3652">the transparent update </span><span class="line" data-startTime="3652">of extensions </span><span class="line" data-startTime="3654">in terms of the security, </span><span class="line" data-startTime="3655">like somebody making </span><span class="line" data-startTime="3655">a simple little extension </span><span class="line" data-startTime="3658">and then transparently </span><span class="line" data-startTime="3658">updating it with malicious code? </span><span class="line" data-startTime="3661">It would be difficult </span><span class="line" data-startTime="3661">maybe for users </span><span class="line" data-startTime="3663">to even figure out </span><span class="line" data-startTime="3663">which extensions caused &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="3666"><span class="speakerName">Goodman</span>: Right. </span><span class="line" data-startTime="3666">Great question. </span><span class="line" data-startTime="3667">The question is </span><span class="line" data-startTime="3667">is there any concern about, </span><span class="line" data-startTime="3669">with the transparent update, </span><span class="line" data-startTime="3671">that an extension </span><span class="line" data-startTime="3671">starts out BIN again, </span><span class="line" data-startTime="3673">but then it becomes malicious? </span><span class="line" data-startTime="3674">And, yes, there is </span><span class="line" data-startTime="3674">concern about that. </span><span class="line" data-startTime="3676">In the talk, </span><span class="line" data-startTime="3676">there's a lot of cool things </span><span class="line" data-startTime="3678">about the system that </span><span class="line" data-startTime="3678">we just didn't have time </span><span class="line" data-startTime="3680">to put in the talk. </span><span class="line" data-startTime="3682">But one of them is that </span><span class="line" data-startTime="3684">we have this opt-in </span><span class="line" data-startTime="3684">permission system </span><span class="line" data-startTime="3686">where extensions </span><span class="line" data-startTime="3686">have to declare </span><span class="line" data-startTime="3687">which permissions they want. </span><span class="line" data-startTime="3688">And if an update of </span><span class="line" data-startTime="3688">an extension changes the list, </span><span class="line" data-startTime="3692">then you have to go through </span><span class="line" data-startTime="3693">a proper installation phase </span><span class="line" data-startTime="3693">again. </span><span class="line" data-startTime="3694">So it brings up UI </span><span class="line" data-startTime="3694">that asks the user, </span><span class="line" data-startTime="3696">"Hey, do you want to install </span><span class="line" data-startTime="3696">this thing?" </span><span class="line" data-startTime="3698">and shows the permissions </span><span class="line" data-startTime="3698">and things like that. </span><span class="line" data-startTime="3700">man: Excellent. Thank you. </span></p>

<p class="speaker"><span class="line" data-starttime="3700"><span class="speakerName">Goodman</span>: Yep. </span><span class="line" data-startTime="3701">man: I love Greasemonkey, </span><span class="line" data-startTime="3701">by the way. </span><span class="line" data-startTime="3704">So I'm just curious... </span><span class="line" data-startTime="3707">would you say that </span><span class="line" data-startTime="3709">we'll be able to do </span><span class="line" data-startTime="3709">a Greasemonkey-like extension </span><span class="line" data-startTime="3713">on Chrome soon? </span></p>

<p class="speaker"><span class="line" data-starttime="3715"><span class="speakerName">Goodman</span>: The question is, </span><span class="line" data-startTime="3715">will you be able to do </span><span class="line" data-startTime="3717">Greasemonkey-like things </span><span class="line" data-startTime="3717">on Chrome? </span><span class="line" data-startTime="3718">Yes, the extension system </span><span class="line" data-startTime="3718">currently includes </span><span class="line" data-startTime="3721">Greasemonkey-like functionality. </span> <span class="line" data-startTime="3723">That's another thing that I </span><span class="line" data-startTime="3723">wasn't able to fit in the talk. </span> <span class="line" data-startTime="3726">We're still trying to figure out </span><span class="line" data-startTime="3726">the details </span><span class="line" data-startTime="3728">of exactly </span><span class="line" data-startTime="3728">how it's gonna work. </span> <span class="line" data-startTime="3730">There's a lot of different ideas </span><span class="line" data-startTime="3730">that we're throwing around. </span> <span class="line" data-startTime="3732">But the current </span><span class="line" data-startTime="3732">developer builds of Chrome </span><span class="line" data-startTime="3735">already include </span><span class="line" data-startTime="3735">this functionality. </span></p>

<p><span class="line" data-startTime="3736">And if you go to </span><span class="line" data-startTime="3736">the Chrome Extensions HOWTO, </span><span class="line" data-startTime="3739">it shows you how to do that. </span> <span class="line" data-startTime="3741">man: Cool. I know you guys </span><span class="line" data-startTime="3741">can't talk about specific dates, </span><span class="line" data-startTime="3746">but &mdash; and I'll leave </span><span class="line" data-startTime="3746">after this &mdash; </span><span class="line" data-startTime="3748">but as a developer that's </span><span class="line" data-startTime="3748">actually shipping product, </span><span class="line" data-startTime="3752">it really helps to have </span><span class="line" data-startTime="3752">some kind of time window </span><span class="line" data-startTime="3755">even without a specific date. </span></p>

<p class="speaker"><span class="line" data-starttime="3755"><span class="speakerName">Goodman</span>: Yeah. </span><span class="line" data-startTime="3757">man: You know, 'cause I mean, </span><span class="line" data-startTime="3759">I don't want to develop </span><span class="line" data-startTime="3759">something that's a year out. </span></p>

<p class="speaker"><span class="line" data-starttime="3761"><span class="speakerName">Goodman</span>: Yep. </span><span class="line" data-startTime="3762">man: But can you give me </span><span class="line" data-startTime="3762">even like a window of... </span><span class="line" data-startTime="3764">If you were developing today </span><span class="line" data-startTime="3766">and you had to ship something </span><span class="line" data-startTime="3766">in six months, </span><span class="line" data-startTime="3768">would it make sense </span><span class="line" data-startTime="3768">to be using this now? </span></p>

<p class="speaker"><span class="line" data-starttime="3770"><span class="speakerName">Goodman</span>: Unfortunately, </span><span class="line" data-startTime="3770">I, of course, haven't &mdash; </span><span class="line" data-startTime="3774">The question is, </span><span class="line" data-startTime="3774">when are we gonna ship it? </span><span class="line" data-startTime="3776">The answer is </span><span class="line" data-startTime="3776">yes, I have an idea </span><span class="line" data-startTime="3778">of when we're gonna ship it, </span><span class="line" data-startTime="3778">but no, I can't tell you. </span><span class="line" data-startTime="3780">Sorry. </span><span class="line" data-startTime="3780">man: I'll talk to you later. </span><span class="line" data-startTime="3782">I'll talk to you later </span><span class="line" data-startTime="3782">when it's not being recorded. </span><span class="line" data-startTime="3784">[laughing] </span></p>

<p class="speaker"><span class="line" data-starttime="3786"><span class="speakerName">Goodman</span>: Sorry &mdash; </span><span class="line" data-startTime="3787">[woman speaking indistinctly] </span></p>

<p class="speaker"><span class="line" data-starttime="3788"><span class="speakerName">Goodman</span>: Okay, so I can't </span><span class="line" data-startTime="3788">answer any more questions. </span><span class="line" data-startTime="3790">[continues indistinctly] </span></p>

<p class="speaker"><span class="line" data-starttime="3790"><span class="speakerName">Goodman</span>: Okay, all right. </span><span class="line" data-startTime="3791">So I'm told that </span><span class="line" data-startTime="3791">we can talk outside. </span><span class="line" data-startTime="3793">Thank you, everyone, </span><span class="line" data-startTime="3793">for coming. </span><span class="line" data-startTime="3795">[applause] </span></p>