<style>* {font-family: "Open Sans", sans-serif}
a {color: #77aaff}
a.video {border-bottom: 1px solid #ddd; display: block; margin: 0 0 2em 0; padding: 0 0 2em 0}
h2 {color: #444; font-size: 18px;}
span.speakerName {color: black; font-weight: 900;}
body {padding: 2em}
p {color: #444; margin: 0; text-indent: 1.5em;}
p.speaker {margin: 1em 0 0 0; text-indent: 0;}
div#transcript > p:first-child {text-indent: 0;}
</style>

<h1>Google Chrome Extensions: Identity, Signing and Auto Update</h1>

<h2></h2>

<a class="video" href="http://youtu.be/rNkfs8-uRTE">youtu.be/rNkfs8-uRTE</a><div id="transcript"><p><span class="line" data-startTime="3">Hi, my name is Antony and I'm an engineer </span><span class="line" data-startTime="3">working on Google Chrome extensions. </span> <span class="line" data-startTime="8">I'm going to talk to you about a few topics </span><span class="line" data-startTime="8">related to the ids, packaging and distribution </span><span class="line" data-startTime="13">of extensions in our system. </span> <span class="line" data-startTime="13">If you choose to use the extensions gallery </span><span class="line" data-startTime="17">to host and update your extensions, we take </span><span class="line" data-startTime="17">care of many of these details for you. </span> <span class="line" data-startTime="22">If you plan to do the hosting and updates </span><span class="line" data-startTime="22">yourself - or if you are just curious - it </span><span class="line" data-startTime="27">can be helpful to learn more about these concepts. </span> <span class="line" data-startTime="27">If you've tried making a test extension, you've </span><span class="line" data-startTime="34">probably noticed that extensions have a strange </span><span class="line" data-startTime="34">looking id made up of 32 characters. </span></p>

<p><span class="line" data-startTime="39">When we designed the system we wanted to have </span><span class="line" data-startTime="39">a single globally unique identifier for each </span><span class="line" data-startTime="45">extension so that there are no conflicts with </span><span class="line" data-startTime="45">other extensions. </span> <span class="line" data-startTime="48">What we did NOT want was to require any central </span><span class="line" data-startTime="48">authority to assign these unique ids. </span> <span class="line" data-startTime="54">The mechanism we settled on uses one public/private </span><span class="line" data-startTime="54">key pair per extension, with the hash of the </span><span class="line" data-startTime="61">public key determining the extension's id. </span> <span class="line" data-startTime="61">Because of the way public keys are randomly </span><span class="line" data-startTime="66">generated, the chance of a collision is extremely </span><span class="line" data-startTime="66">small. </span> <span class="line" data-startTime="70">If you host your extension on the gallery, </span><span class="line" data-startTime="70">we create and store the private keys for you </span><span class="line" data-startTime="76">and when you want to release a new version </span><span class="line" data-startTime="76">of your extension all you need to do is log </span><span class="line" data-startTime="79">in, upload the new source files, and hit the </span><span class="line" data-startTime="79">publish button. </span> <span class="line" data-startTime="87">Now I'll explore how the packaging and signature </span><span class="line" data-startTime="87">process works. Google Chrome extensions are </span><span class="line" data-startTime="92">packaged into "crx" files. </span></p>

<p><span class="line" data-startTime="92">If you are using the gallery, we generate </span><span class="line" data-startTime="97">the crx file for you when you hit the publish </span><span class="line" data-startTime="97">button. </span> <span class="line" data-startTime="100">If you want to host your extension on your </span><span class="line" data-startTime="100">own site, you'll create the crx file with </span><span class="line" data-startTime="104">the "Pack Extension" button on the extensions </span><span class="line" data-startTime="104">management page in Google Chrome. </span> <span class="line" data-startTime="109">A crx file is really just a zip file of your </span><span class="line" data-startTime="109">extension directory plus 2 more things: the </span><span class="line" data-startTime="115">public key, and a signature of the zip contents </span><span class="line" data-startTime="115">made using the private key. </span> <span class="line" data-startTime="120">When installing a crx, Google Chrome extracts </span><span class="line" data-startTime="120">the public key, signature and zipped content, </span><span class="line" data-startTime="127">and makes sure the signature is valid using </span><span class="line" data-startTime="127">the public key. </span> <span class="line" data-startTime="131">What this means is that once users have installed </span><span class="line" data-startTime="131">a particular extension, they can get updates </span><span class="line" data-startTime="136">to it and be sure that the new versions were </span><span class="line" data-startTime="136">signed by the same private key as the original </span><span class="line" data-startTime="141">version. </span> <span class="line" data-startTime="141">As with other types of software, developers </span><span class="line" data-startTime="147">often want to update extensions to fix security </span><span class="line" data-startTime="147">problems, bugs, and make general improvements. </span> <span class="line" data-startTime="153">Google Chrome has a philosophy that client </span><span class="line" data-startTime="153">software should be a lot like web apps, where </span><span class="line" data-startTime="158">you always use the latest version and don't </span><span class="line" data-startTime="158">have to do any work to get updates. </span></p>

<p><span class="line" data-startTime="163">In the design of our extensions system we're </span><span class="line" data-startTime="163">following the same idea; so, we made auto-update </span><span class="line" data-startTime="168">available to all extensions whether they are </span><span class="line" data-startTime="168">hosted in the gallery or not. </span> <span class="line" data-startTime="172">The way auto-update works is pretty simple </span><span class="line" data-startTime="172"> - an extension specifies an autoupdate url </span><span class="line" data-startTime="177">in its manifest, and the browser will check </span><span class="line" data-startTime="177">that url every few hours for an xml file which </span><span class="line" data-startTime="183">lists the most recent version of the extension </span><span class="line" data-startTime="183">and where to download it. </span> <span class="line" data-startTime="187">The browser can fetch updated crx files over </span><span class="line" data-startTime="187">a plain, non-ssl connection because it will </span><span class="line" data-startTime="194">check the signature inside the crx file before </span><span class="line" data-startTime="194">installing it. </span></p>

<p><span class="line" data-startTime="198">If you're hosting your extension in our gallery, </span><span class="line" data-startTime="198">you don't need to worry about autoupdate, </span><span class="line" data-startTime="202">we take care of it for you. </span> <span class="line" data-startTime="202">If you're hosting your extensions yourself, </span><span class="line" data-startTime="206">you just need to include an autoupdate url </span><span class="line" data-startTime="206">in your extension's manifest.json file. </span> <span class="line" data-startTime="212">I wanted to close this video by emphasizing </span><span class="line" data-startTime="212">a few important points for developers: </span><span class="line" data-startTime="216">First, a crx file is really just a zip file </span><span class="line" data-startTime="216">with a little extra data tacked on. </span> <span class="line" data-startTime="221">Second, each extension has a public/private </span><span class="line" data-startTime="221">key pair, so if you develop 3 different extensions </span><span class="line" data-startTime="227">you'll have 3 separate key pairs. </span> <span class="line" data-startTime="227">And finally, protecting the private key is </span><span class="line" data-startTime="232">very important if you are self hosting your </span><span class="line" data-startTime="232">extensions. </span> <span class="line" data-startTime="235">To learn more you can ask a question on our </span><span class="line" data-startTime="235">discussion group or check out our documentation </span><span class="line" data-startTime="239">on the web at code.google.com/chrome/extensions. </span></p>

<p></p></div>