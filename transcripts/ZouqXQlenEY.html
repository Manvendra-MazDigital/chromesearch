<p class="speaker"><span class="line" data-starttime="8"><span class="speakerName">Ido Green</span>: So hello, and welcome </span><span class="line" data-startTime="8">to another episode of </span><span class="line" data-startTime="11">GDL-IL, GDL Israel. </span> <span class="line" data-startTime="13">Today we're going to speak about </span><span class="line" data-startTime="13">Google APIs, how easy is </span><span class="line" data-startTime="17">it to work with them and consume </span><span class="line" data-startTime="17">them, both from the </span><span class="line" data-startTime="20">client and the server. </span> <span class="line" data-startTime="22">We have a few examples that show </span><span class="line" data-startTime="22">you the power of working </span><span class="line" data-startTime="26">with Google APIs, with </span><span class="line" data-startTime="26">JavaScript, of course, on the </span><span class="line" data-startTime="30">client side. </span> <span class="line" data-startTime="31">And then on the server side, I </span><span class="line" data-startTime="31">choose to show some simple </span><span class="line" data-startTime="34">examples in PHP because it's the </span><span class="line" data-startTime="34">recent addition to Google </span><span class="line" data-startTime="40">App Engine. </span> <span class="line" data-startTime="40">So I guess people will want </span><span class="line" data-startTime="40">to see how to leverage. </span> <span class="line" data-startTime="45">So today we don't </span><span class="line" data-startTime="45">have any slides. </span> <span class="line" data-startTime="47">We just have some codes. </span> <span class="line" data-startTime="48">And let me share with you my </span><span class="line" data-startTime="48">screen so we'll be able to </span><span class="line" data-startTime="53">flip quickly between the browser </span><span class="line" data-startTime="53">and the text editor. </span> <span class="line" data-startTime="57">So let's make this one, and </span><span class="line" data-startTime="57">let's see first how we're </span><span class="line" data-startTime="63">going to tackle it. </span> <span class="line" data-startTime="63">So we'll start on </span><span class="line" data-startTime="63">the server side. </span></p>

<p><span class="line" data-startTime="66">And to start on the server side, </span><span class="line" data-startTime="66">basically you need to go </span><span class="line" data-startTime="72">and download the library that </span><span class="line" data-startTime="72">enable your encapsulating for </span><span class="line" data-startTime="78">you of all the rich </span><span class="line" data-startTime="78">functionality that you have in </span><span class="line" data-startTime="80">Google APIs. </span> <span class="line" data-startTime="82">It's one line, and as you can </span><span class="line" data-startTime="82">see here, you just need to </span><span class="line" data-startTime="88">copy this one &mdash; </span><span class="line" data-startTime="89">it's curl &mdash; </span><span class="line" data-startTime="91">and get it. </span> <span class="line" data-startTime="93">Once you get it, actually if </span><span class="line" data-startTime="93">you click on this link, it </span><span class="line" data-startTime="97">will download it for </span><span class="line" data-startTime="97">you immediately. </span> <span class="line" data-startTime="100">You unzip it, of course, tar it, </span><span class="line" data-startTime="100">and then you have a quite </span><span class="line" data-startTime="105">nice set of examples that's </span><span class="line" data-startTime="105">showing you the power of </span><span class="line" data-startTime="109">different APIs that you could </span><span class="line" data-startTime="109">leverage out of the vast </span><span class="line" data-startTime="115">enormous richness of different </span><span class="line" data-startTime="115">APIs that Google </span><span class="line" data-startTime="118">allows you to consume. </span></p>

<p><span class="line" data-startTime="121">Another important note </span><span class="line" data-startTime="121">is the console. </span> <span class="line" data-startTime="125">So on the console &mdash; </span><span class="line" data-startTime="126">let's go here to the GDL </span><span class="line" data-startTime="126">example that I started. </span> <span class="line" data-startTime="131">When you're just starting with </span><span class="line" data-startTime="131">the console, you basically </span><span class="line" data-startTime="134">need to create yourself an </span><span class="line" data-startTime="134">OAuth 2.0 client ID. </span> <span class="line" data-startTime="138">And you need to do it because </span><span class="line" data-startTime="138">lots of Google services and I </span><span class="line" data-startTime="143">guess if you will create with </span><span class="line" data-startTime="143">Google Cloud Endpoint service </span><span class="line" data-startTime="148">for you, you'll want to make </span><span class="line" data-startTime="148">sure that it's authenticated. </span></p>

<p><span class="line" data-startTime="153">And the easiest way to do is </span><span class="line" data-startTime="153">just come here, to click on </span><span class="line" data-startTime="158">the OAuth 2.0 button, give </span><span class="line" data-startTime="158">your product a name. </span> <span class="line" data-startTime="162">In our case, it will </span><span class="line" data-startTime="162">be [AUDIO OUT]. </span> <span class="line" data-startTime="170">And you probably will want to </span><span class="line" data-startTime="170">give here some sort of a logo, </span><span class="line" data-startTime="175">a nice one, and Page </span><span class="line" data-startTime="175">URL [AUDIO OUT] </span><span class="line" data-startTime="184">all the projects, and then </span><span class="line" data-startTime="184">we're clicking yes. </span> <span class="line" data-startTime="187">You could choose if it's going </span><span class="line" data-startTime="187">to be a web application or a </span><span class="line" data-startTime="190">service, where basically </span><span class="line" data-startTime="190">you'll want for your </span><span class="line" data-startTime="194">application to make the calls, </span><span class="line" data-startTime="194">or an installed application. </span> <span class="line" data-startTime="198">So for native apps in Android </span><span class="line" data-startTime="198">and iOS or on Windows, Linux, </span><span class="line" data-startTime="205">or Mac, you'll probably want </span><span class="line" data-startTime="205">to choose this option. </span> <span class="line" data-startTime="209">In our option, let's stick </span><span class="line" data-startTime="209">with web application, but </span><span class="line" data-startTime="212">please remember that you could </span><span class="line" data-startTime="212">also get it as a service, and </span><span class="line" data-startTime="216">then basically you don't need </span><span class="line" data-startTime="216">any other information. </span> <span class="line" data-startTime="219">If you're going with web </span><span class="line" data-startTime="219">application, one of the </span><span class="line" data-startTime="221">important things is that you </span><span class="line" data-startTime="221">need to enter your endpoint of </span><span class="line" data-startTime="225">your application. </span></p>

<p><span class="line" data-startTime="226">And in our case just to make </span><span class="line" data-startTime="226">things [AUDIO OUT], let's keep </span><span class="line" data-startTime="231">with the local host. </span> <span class="line" data-startTime="232">And then you'll have the </span><span class="line" data-startTime="232">redirect, of course, that </span><span class="line" data-startTime="236">basically we get the </span><span class="line" data-startTime="236">confirmation after Google has </span><span class="line" data-startTime="239">authenticated your user or </span><span class="line" data-startTime="239">your call and given you a </span><span class="line" data-startTime="242">token to continue. </span> <span class="line" data-startTime="244">In my case, you could see that, </span><span class="line" data-startTime="244">quite quickly, set it to </span><span class="line" data-startTime="249">be localauth and </span><span class="line" data-startTime="249">oauthcallback. </span> <span class="line" data-startTime="252">And of course, you could edit </span><span class="line" data-startTime="252">those settings and add a few </span><span class="line" data-startTime="256">other redirects URL to other </span><span class="line" data-startTime="256">environments that you have. </span> <span class="line" data-startTime="259">So in most of the cases, you'd </span><span class="line" data-startTime="259">probably want to put the QI </span><span class="line" data-startTime="263">environment, maybe the </span><span class="line" data-startTime="263">staging environment. </span> <span class="line" data-startTime="266">And then hopefully, on </span><span class="line" data-startTime="266">production, you won't use the </span><span class="line" data-startTime="268">same keys, You will </span><span class="line" data-startTime="268">create a new one. </span></p>

<p><span class="line" data-startTime="272">After we created this, we're </span><span class="line" data-startTime="272">going with services. </span> <span class="line" data-startTime="276">And for the services, you have </span><span class="line" data-startTime="276">here a huge richness of </span><span class="line" data-startTime="281">different services that </span><span class="line" data-startTime="281">you could [INAUDIBLE]. </span> <span class="line" data-startTime="283">Some of them are completely </span><span class="line" data-startTime="283">free. </span> <span class="line" data-startTime="285">Some of them are with just a </span><span class="line" data-startTime="285">bit of payment per usage. </span> <span class="line" data-startTime="291">But it's all very detailed right </span><span class="line" data-startTime="291">here in the console. </span> <span class="line" data-startTime="295">And you could see quite quickly </span><span class="line" data-startTime="295">how many you have </span><span class="line" data-startTime="297">active, how many you </span><span class="line" data-startTime="297">have inactive. </span> <span class="line" data-startTime="299">And just to show you how you </span><span class="line" data-startTime="299">play with it, so let's say </span><span class="line" data-startTime="302">that I want to work with &mdash; </span><span class="line" data-startTime="304">I don't know &mdash; the </span><span class="line" data-startTime="304">calendar API. </span> <span class="line" data-startTime="306">So I'll activate it. </span></p>

<p><span class="line" data-startTime="308">Of course, I need to confirm </span><span class="line" data-startTime="308">the term of service. </span> <span class="line" data-startTime="313">And once I am accepting it, </span><span class="line" data-startTime="313">I have here now one active </span><span class="line" data-startTime="317">service that I could run on </span><span class="line" data-startTime="317">this specific service. </span> <span class="line" data-startTime="321">Now, if I want to start and see </span><span class="line" data-startTime="321">what I could do with this </span><span class="line" data-startTime="324">service, there's a nice </span><span class="line" data-startTime="324">question mark here. </span> <span class="line" data-startTime="327">And If I'll click and try it </span><span class="line" data-startTime="327">out, immediately I'm being </span><span class="line" data-startTime="331">redirected, and I can start </span><span class="line" data-startTime="331">and see what this API is </span><span class="line" data-startTime="336">exposing to me. </span> <span class="line" data-startTime="337">So this is part basically </span><span class="line" data-startTime="337">of the discovery </span><span class="line" data-startTime="339">mechanism that we have. </span></p>

<p><span class="line" data-startTime="340">And if you remember during my </span><span class="line" data-startTime="340">talk in the last I/O, we spoke </span><span class="line" data-startTime="345">about Cloud Endpoint and how you </span><span class="line" data-startTime="345">could leverage this system </span><span class="line" data-startTime="349">in creating your own API and </span><span class="line" data-startTime="349">enjoying this discovery </span><span class="line" data-startTime="353">mechanism to make your </span><span class="line" data-startTime="353">work more productive. </span> <span class="line" data-startTime="356">So after we do all this, </span><span class="line" data-startTime="356">basically we have a few other </span><span class="line" data-startTime="360">things that we could run with. </span> <span class="line" data-startTime="362">Here you have a very nice page </span><span class="line" data-startTime="362">that's letting you check which </span><span class="line" data-startTime="366">services you authorized. </span></p>

<p><span class="line" data-startTime="367">And once you're working with </span><span class="line" data-startTime="367">development, you might want to </span><span class="line" data-startTime="370">revoke access to some of the </span><span class="line" data-startTime="370">services so you could tests </span><span class="line" data-startTime="374">again and again the </span><span class="line" data-startTime="374">authentication phase and make </span><span class="line" data-startTime="377">sure that you're doing </span><span class="line" data-startTime="377">the right things. </span> <span class="line" data-startTime="380">If you want to play with a </span><span class="line" data-startTime="380">certain API, one great way to </span><span class="line" data-startTime="384">work with the API on the web </span><span class="line" data-startTime="384">without coding even one line </span><span class="line" data-startTime="390">is just to go to </span><span class="line" data-startTime="390">developers.google.com and go </span><span class="line" data-startTime="393">here on the API Explorer. </span> <span class="line" data-startTime="395">And in our case, I choose the </span><span class="line" data-startTime="395">YouTube data API because this </span><span class="line" data-startTime="399">is the example that </span><span class="line" data-startTime="399">I prepared. </span> <span class="line" data-startTime="401">And here you can see that &mdash; </span><span class="line" data-startTime="402">let's say that I want to get </span><span class="line" data-startTime="402">from YouTube the idea in the </span><span class="line" data-startTime="405">snippet per video. </span></p>

<p><span class="line" data-startTime="407">Then I want the max </span><span class="line" data-startTime="407">results to be &mdash; </span><span class="line" data-startTime="410">I don't know &mdash; </span><span class="line" data-startTime="410">9. </span> <span class="line" data-startTime="412">And the query that I'll </span><span class="line" data-startTime="412">put, it could be </span><span class="line" data-startTime="415">ski, it could be snowboard. </span> <span class="line" data-startTime="417">And once I'm executing it, I'm </span><span class="line" data-startTime="417">getting here the response. </span> <span class="line" data-startTime="423">I could take basically these </span><span class="line" data-startTime="423">and just play in other </span><span class="line" data-startTime="426">environment on it. </span> <span class="line" data-startTime="428">But here you could say </span><span class="line" data-startTime="428">that I got 200, so </span><span class="line" data-startTime="430">everything is cool. </span> <span class="line" data-startTime="431">And here I'm getting a nice JSON </span><span class="line" data-startTime="431">object that basically is </span><span class="line" data-startTime="434">describing all the </span><span class="line" data-startTime="434">result sets. </span> <span class="line" data-startTime="437">And you could see that I'm </span><span class="line" data-startTime="437">getting the videos. </span></p>

<p><span class="line" data-startTime="438">I'm getting the thumbnails to </span><span class="line" data-startTime="438">the videos, the ID, everything </span><span class="line" data-startTime="442">that I basically requested. </span> <span class="line" data-startTime="444">Now, if we look at how this </span><span class="line" data-startTime="444">example looked on PHP, on PHP, </span><span class="line" data-startTime="451">it will be quite similar </span><span class="line" data-startTime="451">in a lot of sense. </span> <span class="line" data-startTime="454">So we'll come here, and it might </span><span class="line" data-startTime="454">be a bit crowded, but I </span><span class="line" data-startTime="461">hope that you can see here. </span> <span class="line" data-startTime="463">Basically we have a simple page </span><span class="line" data-startTime="463">that's letting us query a </span><span class="line" data-startTime="467">YouTube API. </span> <span class="line" data-startTime="468">We want to get from the user a </span><span class="line" data-startTime="468">search term and then probably </span><span class="line" data-startTime="473">to limit the result. </span> <span class="line" data-startTime="475">And that's it in the bottom </span><span class="line" data-startTime="475">for the search action. </span></p>

<p><span class="line" data-startTime="479">What I'm fetching here is two </span><span class="line" data-startTime="479">libraries, is two files that </span><span class="line" data-startTime="482">actually are exposing and </span><span class="line" data-startTime="482">encapsulating YouTube service. </span> <span class="line" data-startTime="485">So it's first the Google client, </span><span class="line" data-startTime="485">so just I'll have all </span><span class="line" data-startTime="488">the basic functionality and </span><span class="line" data-startTime="488">then the YouTube itself. </span> <span class="line" data-startTime="493">Once I'm doing that, I </span><span class="line" data-startTime="493">have here, of course, </span><span class="line" data-startTime="496">the developer key. </span> <span class="line" data-startTime="497">And now I'm just calling the </span><span class="line" data-startTime="497">constructor of Google Client </span><span class="line" data-startTime="503">and working with it. </span> <span class="line" data-startTime="504">So I'm setting the developer </span><span class="line" data-startTime="504">key, and I'm calling with this </span><span class="line" data-startTime="507">client to YouTube service. </span> <span class="line" data-startTime="510">After I do this exactly like I </span><span class="line" data-startTime="510">showed you in the Explorer </span><span class="line" data-startTime="513">API, I'm basically calling </span><span class="line" data-startTime="513">YouTube Search searchlist. </span> <span class="line" data-startTime="517">And you can see here in the </span><span class="line" data-startTime="517">Explorer API, that it's </span><span class="line" data-startTime="521">exactly the same endpoint. </span></p>

<p><span class="line" data-startTime="524">So this one is exactly </span><span class="line" data-startTime="524">like this one. </span> <span class="line" data-startTime="528">And again, very similar to what </span><span class="line" data-startTime="528">we did in the example on </span><span class="line" data-startTime="531">the API Explorer, I'm going, and </span><span class="line" data-startTime="531">I'm concentrating on the </span><span class="line" data-startTime="536">idea in the snippet. </span> <span class="line" data-startTime="538">I want to pass the query and, of </span><span class="line" data-startTime="538">course, the max results, so </span><span class="line" data-startTime="541">this is my payload. </span> <span class="line" data-startTime="543">And now all I'm doing is going </span><span class="line" data-startTime="543">on this nice loop and making </span><span class="line" data-startTime="547">sure that the result set &mdash; which </span><span class="line" data-startTime="547">is basically separated </span><span class="line" data-startTime="551">into three buckets. </span> <span class="line" data-startTime="552">One is the videos and the </span><span class="line" data-startTime="552">channels and then the playlist </span><span class="line" data-startTime="557">we'll bring back. </span> <span class="line" data-startTime="558">And in my body, I will just </span><span class="line" data-startTime="558">make sure that I'm </span><span class="line" data-startTime="562">constructing those lists. </span> <span class="line" data-startTime="564">So I'm using the ul and </span><span class="line" data-startTime="564">the ly tags just to </span><span class="line" data-startTime="569">construct it in here. </span></p>

<p><span class="line" data-startTime="570">Very simple. </span> <span class="line" data-startTime="574">I just embedded it here, </span><span class="line" data-startTime="574">and that's it. </span> <span class="line" data-startTime="576">Let's look how it's working </span><span class="line" data-startTime="576">on my local environment. </span> <span class="line" data-startTime="581">So let's close now with </span><span class="line" data-startTime="581">the Dev tool. </span> <span class="line" data-startTime="583">We'll look at it later. </span> <span class="line" data-startTime="585">So if I'm searching for &mdash; </span><span class="line" data-startTime="586">I don't know. </span> <span class="line" data-startTime="588">I'm limiting it to 10 results. </span> <span class="line" data-startTime="590">When I'm clicking search, </span><span class="line" data-startTime="590">basically it's going to </span><span class="line" data-startTime="593">YouTube, returning. </span> <span class="line" data-startTime="594">And as you can see here, </span><span class="line" data-startTime="594">basically I just added the </span><span class="line" data-startTime="597">image as well. </span> <span class="line" data-startTime="598">So unlike the previous example, </span><span class="line" data-startTime="598">we're getting more </span><span class="line" data-startTime="602">holistic search results, if you </span><span class="line" data-startTime="602">will, so it's a bit more </span><span class="line" data-startTime="606">informative. </span></p>

<p><span class="line" data-startTime="608">Exactly like you saw before it </span><span class="line" data-startTime="608">here on the API Explorer, I'm </span><span class="line" data-startTime="613">just fetching that elements from </span><span class="line" data-startTime="613">the result sets and just </span><span class="line" data-startTime="617">presenting them on </span><span class="line" data-startTime="617">the page itself. </span> <span class="line" data-startTime="621">Now, as you all know, we have </span><span class="line" data-startTime="621">a bunch of client libraries </span><span class="line" data-startTime="625">that are actually letting you </span><span class="line" data-startTime="625">leverage Google APIs. </span> <span class="line" data-startTime="629">On the web, you might use the </span><span class="line" data-startTime="629">JavaScript library, and I'll </span><span class="line" data-startTime="632">show you in a minute an example </span><span class="line" data-startTime="632">how easy and smooth it </span><span class="line" data-startTime="636">is to work with. </span> <span class="line" data-startTime="638">But if you're working with </span><span class="line" data-startTime="638">JavaScript on the server side, </span><span class="line" data-startTime="640">we have a nice library for </span><span class="line" data-startTime="640">Node.js, so please feel free </span><span class="line" data-startTime="643">to check it out. </span></p>

<p><span class="line" data-startTime="645">By the way, all the </span><span class="line" data-startTime="645">links are here. </span> <span class="line" data-startTime="646">So if you'll go to </span><span class="line" data-startTime="646">pictures-app.appspot.com, </span><span class="line" data-startTime="654">you'll be able to look at the </span><span class="line" data-startTime="654">slides that are from that </span><span class="line" data-startTime="659">previous I/O talk, but also, </span><span class="line" data-startTime="659">on slide 25, as you can see </span><span class="line" data-startTime="662">here, all the links for all the </span><span class="line" data-startTime="662">different libraries and </span><span class="line" data-startTime="664">languages that you </span><span class="line" data-startTime="664">could leverage. </span> <span class="line" data-startTime="666">So for the ones that are </span><span class="line" data-startTime="666">building native clients, both </span><span class="line" data-startTime="671">for iOS and Android, we </span><span class="line" data-startTime="671">have nice libraries. </span> <span class="line" data-startTime="675">And of course, on the </span><span class="line" data-startTime="675">server side, you </span><span class="line" data-startTime="678">have a bunch of languages. </span></p>

<p><span class="line" data-startTime="681">And actually we have even for </span><span class="line" data-startTime="681">.NET and GWT and many others. </span> <span class="line" data-startTime="689">So let's close that and see </span><span class="line" data-startTime="689">how we could run an </span><span class="line" data-startTime="697">authentication. </span> <span class="line" data-startTime="699">So in this specific example, </span><span class="line" data-startTime="699">let's first look at a code, </span><span class="line" data-startTime="703">and then we'll look </span><span class="line" data-startTime="703">at a live example. </span> <span class="line" data-startTime="705">I want to authenticate </span><span class="line" data-startTime="705">myself and get some </span><span class="line" data-startTime="707">information from G+. </span> <span class="line" data-startTime="708">In our case, probably it will </span><span class="line" data-startTime="708">be the image and the email. </span> <span class="line" data-startTime="712">But as you can imagine, you </span><span class="line" data-startTime="712">could run and do a lot of more </span><span class="line" data-startTime="716">things once you get the token, </span><span class="line" data-startTime="716">the handle of your user. </span> <span class="line" data-startTime="721">This is a very short example, </span><span class="line" data-startTime="721">and as always in JavaScript, </span><span class="line" data-startTime="725">let's jump to the end. </span> <span class="line" data-startTime="727">And first and foremost, we're </span><span class="line" data-startTime="727">calling Google client library, </span><span class="line" data-startTime="732">the JavaScript client library. </span> <span class="line" data-startTime="734">And we're going to get </span><span class="line" data-startTime="734">here a callback. </span></p>

<p><span class="line" data-startTime="735">So on load, we'll handle </span><span class="line" data-startTime="735">basically the callback and see </span><span class="line" data-startTime="745">what we're doing. </span> <span class="line" data-startTime="746">So we're setting, of course, </span><span class="line" data-startTime="746">the client ID and some </span><span class="line" data-startTime="748">boilerplate data like the </span><span class="line" data-startTime="748">API key and the scope. </span> <span class="line" data-startTime="754">And then when we're </span><span class="line" data-startTime="754">coming here to </span><span class="line" data-startTime="756">handle the client load. </span> <span class="line" data-startTime="757">We're setting those API keys, </span><span class="line" data-startTime="757">and we just want to call </span><span class="line" data-startTime="761">immediately the check </span><span class="line" data-startTime="761">authentication, so we did it </span><span class="line" data-startTime="763">with set timeout. </span> <span class="line" data-startTime="766">After we're doing it, we're </span><span class="line" data-startTime="766">just going to GAPI &mdash; </span><span class="line" data-startTime="769">Google API. </span> <span class="line" data-startTime="770">And this endpoint on the </span><span class="line" data-startTime="773">authentication we want to authorize. </span> <span class="line" data-startTime="776">The authorize will be done with </span><span class="line" data-startTime="776">the client ID, the scope. </span> <span class="line" data-startTime="780">And of course, we want </span><span class="line" data-startTime="780">to do it immediately. </span> <span class="line" data-startTime="782">And then we're giving it another </span><span class="line" data-startTime="782">callback to just </span><span class="line" data-startTime="785">handle the result set that </span><span class="line" data-startTime="785">we're getting back. </span> <span class="line" data-startTime="787">In our case, it's this one. </span> <span class="line" data-startTime="790">And when we're getting the </span><span class="line" data-startTime="790">authentication, we want to do </span><span class="line" data-startTime="793">several things. </span></p>

<p><span class="line" data-startTime="794">So first, if everything is OK </span><span class="line" data-startTime="794">and we don't have any error, </span><span class="line" data-startTime="799">let's just go here and hide the </span><span class="line" data-startTime="799">Authorize button so the </span><span class="line" data-startTime="803">user won't be confused. </span> <span class="line" data-startTime="805">And in a real world case, you </span><span class="line" data-startTime="805">might want at this stage to </span><span class="line" data-startTime="808">make sure that you're confirming </span><span class="line" data-startTime="808">and you're showing </span><span class="line" data-startTime="812">the user that he or </span><span class="line" data-startTime="812">she are logged in. </span> <span class="line" data-startTime="815">It might be through a nice </span><span class="line" data-startTime="815">image of the cells or any </span><span class="line" data-startTime="818">other nice bold way to show that </span><span class="line" data-startTime="818">they are now logged in </span><span class="line" data-startTime="821">and authenticated. </span> <span class="line" data-startTime="823">And now we're making </span><span class="line" data-startTime="823">the API call. </span> <span class="line" data-startTime="826">Of course, on the opposite </span><span class="line" data-startTime="826">direction, we do want to make </span><span class="line" data-startTime="830">sure that the button is visible, </span><span class="line" data-startTime="830">like you've seen </span><span class="line" data-startTime="833">here, so people could authorize </span><span class="line" data-startTime="833">themselves and log </span><span class="line" data-startTime="836">in or sign in to our app. </span></p>

<p><span class="line" data-startTime="839">Once we are handling the </span><span class="line" data-startTime="839">authentication, we want </span><span class="line" data-startTime="844">basically to make </span><span class="line" data-startTime="844">the API call. </span> <span class="line" data-startTime="848">We're going to G+ API. </span> <span class="line" data-startTime="850">We're controlling the version. </span> <span class="line" data-startTime="851">So in our case here, </span><span class="line" data-startTime="851">it would be d1. </span> <span class="line" data-startTime="854">And basically what I want to </span><span class="line" data-startTime="854">fetch from people is just me. </span> <span class="line" data-startTime="860">And I'm taking the image of </span><span class="line" data-startTime="860">myself and just putting it on </span><span class="line" data-startTime="866">the page itself. </span> <span class="line" data-startTime="869">Now let's work on the live </span><span class="line" data-startTime="869">example and see how it does. </span> <span class="line" data-startTime="872">So as you can see here, I'm </span><span class="line" data-startTime="872">being authenticated so it's </span><span class="line" data-startTime="876">immediately popping up the </span><span class="line" data-startTime="876">request for permission dialog. </span> <span class="line" data-startTime="880">In this case, you could see </span><span class="line" data-startTime="880">that I used the Chrome </span><span class="line" data-startTime="882">extension book examples, just </span><span class="line" data-startTime="882">because I have it handy. </span> <span class="line" data-startTime="885">And hopefully in the near </span><span class="line" data-startTime="885">future, you'll be able to see </span><span class="line" data-startTime="888">some live relevant examples </span><span class="line" data-startTime="888">to Chrome extensions. </span> <span class="line" data-startTime="891">But I'm allowing access, and </span><span class="line" data-startTime="891">then basically I've been </span><span class="line" data-startTime="894">redirected again to this page. </span> <span class="line" data-startTime="896">And as you can see, I have now </span><span class="line" data-startTime="896">my photo and my title here. </span></p>

<p><span class="line" data-startTime="901">So this is one example that's </span><span class="line" data-startTime="901">showing you the power </span><span class="line" data-startTime="903">[INAUDIBLE]. </span> <span class="line" data-startTime="904">And now let's see another </span><span class="line" data-startTime="904">simple example </span><span class="line" data-startTime="908">that's showing you. </span> <span class="line" data-startTime="909">So I have here another page, </span><span class="line" data-startTime="909">which is basically the </span><span class="line" data-startTime="914">[INAUDIBLE] or the sample that </span><span class="line" data-startTime="914">you're getting with Google API </span><span class="line" data-startTime="917">PHP client examples. </span> <span class="line" data-startTime="919">And here basically we'll do </span><span class="line" data-startTime="919">exactly the same, but instead </span><span class="line" data-startTime="923">of JavaScript, we'll </span><span class="line" data-startTime="923">just leverage PHP. </span> <span class="line" data-startTime="926">So I'm going to the directory </span><span class="line" data-startTime="926">of the example, UserInfo. </span> <span class="line" data-startTime="930">And after I log out, before the </span><span class="line" data-startTime="930">session, of course, I want </span><span class="line" data-startTime="933">now to authenticate myself. </span></p>

<p><span class="line" data-startTime="936">So again I'll get this nice </span><span class="line" data-startTime="936">authorization dialog. </span> <span class="line" data-startTime="941">And after I'm doing it, and as </span><span class="line" data-startTime="941">you can see here it was in </span><span class="line" data-startTime="943">Hebrew, I'm getting again in </span><span class="line" data-startTime="943">this case my email and photo. </span> <span class="line" data-startTime="950">How would the code look like? </span><span class="line" data-startTime="952">Let's jump real quick </span><span class="line" data-startTime="952">and let's remove </span><span class="line" data-startTime="956">this one for a second. </span> <span class="line" data-startTime="957">Yeah, so here, yeah. </span> <span class="line" data-startTime="962">So again I'm calling the Google </span><span class="line" data-startTime="962">OAuth 2.0 service. </span> <span class="line" data-startTime="967">And after we're setting the </span><span class="line" data-startTime="967">Google client and giving it a </span><span class="line" data-startTime="970">bunch of IDs &mdash; and by the way, </span><span class="line" data-startTime="970">the client ID, the developer </span><span class="line" data-startTime="974">key and everything else could </span><span class="line" data-startTime="974">be found here on your API </span><span class="line" data-startTime="980">access tab. </span></p>

<p><span class="line" data-startTime="982">So if you'll click on it, </span><span class="line" data-startTime="982">basically all the relevant </span><span class="line" data-startTime="985">information that you need to </span><span class="line" data-startTime="985">copy/paste, like the client </span><span class="line" data-startTime="988">ID, the client secret, and the </span><span class="line" data-startTime="988">API key, are all here. </span> <span class="line" data-startTime="994">So just remember API's console, </span><span class="line" data-startTime="997">and this is the location. </span> <span class="line" data-startTime="1000">So once you're doing that, </span><span class="line" data-startTime="1000">basically we're calling the </span><span class="line" data-startTime="1002">OAuth service with our client. </span> <span class="line" data-startTime="1005">And we are pressing the code, </span><span class="line" data-startTime="1005">and we want to fetch token. </span> <span class="line" data-startTime="1009">The token is something that </span><span class="line" data-startTime="1009">we'll carry with us so we'll </span><span class="line" data-startTime="1012">be able to confirm again and </span><span class="line" data-startTime="1012">again if we need to the </span><span class="line" data-startTime="1016">service itself. </span> <span class="line" data-startTime="1018">And since in this case already </span><span class="line" data-startTime="1018">at the beginning if we're </span><span class="line" data-startTime="1022">getting the token here, then </span><span class="line" data-startTime="1022">we just need to go do the </span><span class="line" data-startTime="1026">redirect, and we're all good. </span> <span class="line" data-startTime="1028">If not, we want to set the </span><span class="line" data-startTime="1028">token, make sure that if the </span><span class="line" data-startTime="1033">user is clicking on log </span><span class="line" data-startTime="1033">out, we're, of course, </span><span class="line" data-startTime="1036">revoking the token. </span></p>

<p><span class="line" data-startTime="1037">And here we're just calling </span><span class="line" data-startTime="1037">the client, and we want to </span><span class="line" data-startTime="1041">fetch the token. </span> <span class="line" data-startTime="1042">So after we're getting it and </span><span class="line" data-startTime="1042">this is returning as true </span><span class="line" data-startTime="1045">because we have the token in </span><span class="line" data-startTime="1045">the client, we're basically </span><span class="line" data-startTime="1048">going to the OAuth service. </span> <span class="line" data-startTime="1050">And with the user info object, </span><span class="line" data-startTime="1050">we want to get the </span><span class="line" data-startTime="1053">information. </span> <span class="line" data-startTime="1054">And as you saw in my case, it </span><span class="line" data-startTime="1054">was &mdash; in the PHP case, it was </span><span class="line" data-startTime="1058">the email and the picture, </span><span class="line" data-startTime="1058">the profile picture. </span> <span class="line" data-startTime="1062">And what we did with this is </span><span class="line" data-startTime="1062">just we put it on the page so </span><span class="line" data-startTime="1065">we'd be able to see it. </span> <span class="line" data-startTime="1067">Here, last but not least, we, of </span><span class="line" data-startTime="1067">course, want to save in our </span><span class="line" data-startTime="1071">SessionToken or any other place </span><span class="line" data-startTime="1071">that you find convenient </span><span class="line" data-startTime="1075">and safe for your app, the token </span><span class="line" data-startTime="1075">itself, so you will able </span><span class="line" data-startTime="1080">to leverage it and use it </span><span class="line" data-startTime="1080">later on in your app. </span> <span class="line" data-startTime="1084">And this is all we have here. </span> <span class="line" data-startTime="1086">So the bit HTML that we have </span><span class="line" data-startTime="1086">later on is just to make sure </span><span class="line" data-startTime="1090">that we have those two cases of </span><span class="line" data-startTime="1090">connect, or logged in, and </span><span class="line" data-startTime="1094">the logged out. </span></p>

<p><span class="line" data-startTime="1096">So this, I guess, </span><span class="line" data-startTime="1096">was a very short </span><span class="line" data-startTime="1102">introduction to Google APIs. </span> <span class="line" data-startTime="1105">Next week or in the near future, </span><span class="line" data-startTime="1105">I'll try to show you </span><span class="line" data-startTime="1108">how you could leverage those </span><span class="line" data-startTime="1108">type of APIs when competing </span><span class="line" data-startTime="1111">for your services. </span> <span class="line" data-startTime="1113">And that's with Google Could </span><span class="line" data-startTime="1113">Endpoint basically taking </span><span class="line" data-startTime="1116">those APIs that we're using </span><span class="line" data-startTime="1116">internally and just expose </span><span class="line" data-startTime="1121">them to the developer. </span> <span class="line" data-startTime="1122">So if you want to leverage </span><span class="line" data-startTime="1122">Google App Engine and create a </span><span class="line" data-startTime="1125">powerful scalable API on top of </span><span class="line" data-startTime="1125">it, you might want to use </span><span class="line" data-startTime="1129">Google Cloud Endpoint. </span></p>

<p><span class="line" data-startTime="1130">And then you're benefiting and </span><span class="line" data-startTime="1130">getting for free all the great </span><span class="line" data-startTime="1136">capabilities of the discovery </span><span class="line" data-startTime="1136">mechanism, the API Explorer, </span><span class="line" data-startTime="1139">and all the richness of </span><span class="line" data-startTime="1139">libraries that are </span><span class="line" data-startTime="1142">all ready for you. </span> <span class="line" data-startTime="1143">We'll speak about it hopefully </span><span class="line" data-startTime="1143">next week and, if not, in the </span><span class="line" data-startTime="1147">near future. </span> <span class="line" data-startTime="1148">And now is a great time for </span><span class="line" data-startTime="1148">questions if someone that </span><span class="line" data-startTime="1152">joined us have, please </span><span class="line" data-startTime="1152">feel free. </span> <span class="line" data-startTime="1163">OK, so later on, if someone have </span><span class="line" data-startTime="1163">any questions, just feel </span><span class="line" data-startTime="1167">free to reach me on </span><span class="line" data-startTime="1167">plus.google.com/plusgreenido &mdash; </span><span class="line" data-startTime="1174">one word. </span></p>

<p><span class="line" data-startTime="1175">And until next week, have a </span><span class="line" data-startTime="1175">great time and bye-bye. </span></p>