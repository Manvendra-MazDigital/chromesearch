<p class="speaker"><span class="line" data-starttime="2"><span class="speakerName">Ryan Boyd</span>: Hi, everyone. </span><span class="line" data-startTime="3">Welcome back for those of you </span><span class="line" data-startTime="3">who were in the first session </span><span class="line" data-startTime="6">here today. </span><span class="line" data-startTime="7">I'm happy to introduce </span><span class="line" data-startTime="7">here Dan Holevoet. </span><span class="line" data-startTime="9">Dan Holevoet is the lead on our </span><span class="line" data-startTime="9">developer relations team </span><span class="line" data-startTime="12">for App Engine, and he's going </span><span class="line" data-startTime="12">to be here today talking about </span><span class="line" data-startTime="15">using Google Cloud Endpoints to </span><span class="line" data-startTime="15">connect your mobile apps to </span><span class="line" data-startTime="19">the cloud without breaking </span><span class="line" data-startTime="19">a sweat. </span><span class="line" data-startTime="21">For those you weren't here in </span><span class="line" data-startTime="21">the first session, Cloud </span><span class="line" data-startTime="23">Endpoints is our technology </span><span class="line" data-startTime="23">that allows you to take </span><span class="line" data-startTime="25">advantage of Google's underlying </span><span class="line" data-startTime="25">API serving </span><span class="line" data-startTime="28">infrastructure that we use for </span><span class="line" data-startTime="28">building many of our own APIs. </span><span class="line" data-startTime="32">And so Dan is going to talk to </span><span class="line" data-startTime="32">you about how you can use that </span><span class="line" data-startTime="35">to build your APIs. </span><span class="line" data-startTime="37">Dan. </span></p>

<p class="speaker"><span class="line" data-starttime="37"><span class="speakerName">Dan Holevoet</span>: Thanks, Ryan. </span> <span class="line" data-startTime="39">A little too many spoilers </span><span class="line" data-startTime="39">in that there. </span> <span class="line" data-startTime="42">People aren't going to have </span><span class="line" data-startTime="42">any excitement here. </span> <span class="line" data-startTime="44">Yes. </span> <span class="line" data-startTime="44">So I'm Dan, and I'm here today </span><span class="line" data-startTime="44">to talk to you about Cloud </span><span class="line" data-startTime="47">Endpoints as Ryan said, which </span><span class="line" data-startTime="47">is a really cool way to </span><span class="line" data-startTime="50">connect your mobile backends </span><span class="line" data-startTime="50">to clients running in </span><span class="line" data-startTime="55">JavaScript, Android, </span><span class="line" data-startTime="55">or iOS devices. </span> <span class="line" data-startTime="57">So to start off before I get </span><span class="line" data-startTime="57">too far into the slides, if </span><span class="line" data-startTime="62">anyone wants to follow along </span><span class="line" data-startTime="62">at home, I've got a QR code </span><span class="line" data-startTime="65">here you can use to grab the </span><span class="line" data-startTime="65">slide link or short line at </span><span class="line" data-startTime="68">the top if you want to type </span><span class="line" data-startTime="68">that into your laptops. </span> <span class="line" data-startTime="71">I'll give you a second </span><span class="line" data-startTime="71">to grab that. </span></p>

<p><span class="line" data-startTime="90">I see a few devices still </span><span class="line" data-startTime="90">up in the air. </span> <span class="line" data-startTime="98">Three, two, one. </span> <span class="line" data-startTime="99">OK. </span> <span class="line" data-startTime="101">All right. </span> <span class="line" data-startTime="102">Perfect. </span> <span class="line" data-startTime="103">So to start off, I'm going to </span><span class="line" data-startTime="103">do a very brief overview of </span><span class="line" data-startTime="107">App Engine. </span> <span class="line" data-startTime="107">I don't know. </span> <span class="line" data-startTime="107">How many of you were in </span><span class="line" data-startTime="107">the previous talk. </span> <span class="line" data-startTime="110">OK. </span> <span class="line" data-startTime="111">Most of you. </span> <span class="line" data-startTime="111">So I'll go through this </span><span class="line" data-startTime="111">really quick. </span> <span class="line" data-startTime="113">So App Engine is a really great </span><span class="line" data-startTime="113">way for you to build </span><span class="line" data-startTime="116">applications running on Google's </span><span class="line" data-startTime="116">infrastructure that </span><span class="line" data-startTime="119">makes it easy to build, easy to </span><span class="line" data-startTime="119">scale, and easy to maintain </span><span class="line" data-startTime="123">your applications running </span><span class="line" data-startTime="123">in the cloud. </span></p>

<p><span class="line" data-startTime="124">So when I say easy to build, </span><span class="line" data-startTime="124">you can write your </span><span class="line" data-startTime="128">applications in three languages, </span><span class="line" data-startTime="128">three runtime that </span><span class="line" data-startTime="130">we have available, so that's </span><span class="line" data-startTime="130">Java, Python, and Go. </span> <span class="line" data-startTime="133">And in addition to that, we have </span><span class="line" data-startTime="133">a bunch of services that </span><span class="line" data-startTime="137">make it easier for you to build </span><span class="line" data-startTime="137">out these applications, </span><span class="line" data-startTime="139">so things like NoSQL datastore, </span><span class="line" data-startTime="139">Cloud SQL, </span><span class="line" data-startTime="143">Memcache, different types of </span><span class="line" data-startTime="143">environments that you can use </span><span class="line" data-startTime="146">to run your code, so like front </span><span class="line" data-startTime="146">ends and backends, task </span><span class="line" data-startTime="149">queues for dividing up work </span><span class="line" data-startTime="149">into small little tasks. </span> <span class="line" data-startTime="153">And then you can run them in the </span><span class="line" data-startTime="153">background, cron jobs for </span><span class="line" data-startTime="156">running things periodically, and </span><span class="line" data-startTime="156">then a set of other APIs </span><span class="line" data-startTime="159">and services that you can </span><span class="line" data-startTime="159">use that make your </span><span class="line" data-startTime="161">applications richer. </span> <span class="line" data-startTime="162">So user's API that allows you </span><span class="line" data-startTime="162">to have users log in with </span><span class="line" data-startTime="166">Google accounts, mail API for </span><span class="line" data-startTime="166">sending email, and image API </span><span class="line" data-startTime="170">for manipulating images, URL </span><span class="line" data-startTime="170">Fetch to basically interact </span><span class="line" data-startTime="173">with all the other web services </span><span class="line" data-startTime="173">running on the </span><span class="line" data-startTime="175">internet, MAP producing, traffic </span><span class="line" data-startTime="175">splitting, search, the </span><span class="line" data-startTime="179">list goes on and on. </span></p>

<p><span class="line" data-startTime="180">I'm not going to talk about all </span><span class="line" data-startTime="180">those today, but you can </span><span class="line" data-startTime="183">see a full list if you go </span><span class="line" data-startTime="183">to developers.googl </span><span class="line" data-startTime="185">e.com/appengine. </span> <span class="line" data-startTime="188">App Engine also makes it </span><span class="line" data-startTime="188">really easy to build </span><span class="line" data-startTime="190">applications at scale. </span> <span class="line" data-startTime="192">This is an actual traffic graph </span><span class="line" data-startTime="192">from an application that </span><span class="line" data-startTime="196">was experiencing a very </span><span class="line" data-startTime="196">traffic-heavy event. </span> <span class="line" data-startTime="199">I believe it was a concert on </span><span class="line" data-startTime="199">their website, live streamed. </span> <span class="line" data-startTime="203">So these peaks here, were </span><span class="line" data-startTime="203">basically going from zero </span><span class="line" data-startTime="206">requests per second here on this </span><span class="line" data-startTime="206">long bar on the left all </span><span class="line" data-startTime="210">the way up to a peak of 19,000 </span><span class="line" data-startTime="210">requests per second and then </span><span class="line" data-startTime="213">here a peak of 23,000 </span><span class="line" data-startTime="213">requests per second. </span> <span class="line" data-startTime="216">So this is all happening about </span><span class="line" data-startTime="216">over a period about an hour so </span><span class="line" data-startTime="219">you can see here these are </span><span class="line" data-startTime="219">really significant spikes, and </span><span class="line" data-startTime="223">there's very deep troughs after </span><span class="line" data-startTime="223">each of these fights </span><span class="line" data-startTime="226">because App Engine is very </span><span class="line" data-startTime="226">quick to respond to high </span><span class="line" data-startTime="229">demand, and it's also a very </span><span class="line" data-startTime="229">quick to scale back down once </span><span class="line" data-startTime="233">you no longer need </span><span class="line" data-startTime="233">the resources. </span></p>

<p><span class="line" data-startTime="236">So you're not paying for </span><span class="line" data-startTime="236">resources that you don't need </span><span class="line" data-startTime="238">because App Engine is scaling </span><span class="line" data-startTime="238">up and down very quickly to </span><span class="line" data-startTime="241">respond to traffic. </span> <span class="line" data-startTime="243">And then finally, I mentioned </span><span class="line" data-startTime="243">App Engine is </span><span class="line" data-startTime="245">very easy to maintain. </span> <span class="line" data-startTime="246">And I have a quote here from </span><span class="line" data-startTime="246">one of our partners over at </span><span class="line" data-startTime="249">Rovio who's building web </span><span class="line" data-startTime="249">applications on App Engine. </span> <span class="line" data-startTime="253">And the important thing to </span><span class="line" data-startTime="253">remember about App Engine is </span><span class="line" data-startTime="256">when you're deploying </span><span class="line" data-startTime="256">applications onto App Engine, </span><span class="line" data-startTime="259">you're not worrying if the </span><span class="line" data-startTime="259">server is going to stay up. </span> <span class="line" data-startTime="261">Google has an entire team of </span><span class="line" data-startTime="261">site reliability engineers </span><span class="line" data-startTime="264">making sure that applications </span><span class="line" data-startTime="264">running in our data centers </span><span class="line" data-startTime="268">are staying alive. </span> <span class="line" data-startTime="269">So this is something you don't </span><span class="line" data-startTime="269">have to really think about </span><span class="line" data-startTime="272">once you deploy on our cloud. </span></p>

<p><span class="line" data-startTime="276">This is probably a slide that's </span><span class="line" data-startTime="276">very familiar to you if </span><span class="line" data-startTime="278">you saw Ryan's presentation. </span> <span class="line" data-startTime="280">This is a typical month in </span><span class="line" data-startTime="280">the life of App Engine. </span> <span class="line" data-startTime="282">We have a million active </span><span class="line" data-startTime="282">applications running every </span><span class="line" data-startTime="285">month, more than two trillion </span><span class="line" data-startTime="285">datastore operations, and then </span><span class="line" data-startTime="289">my favorite statistic, half of </span><span class="line" data-startTime="289">all the active IP addresses in </span><span class="line" data-startTime="292">the world touch an App Engine </span><span class="line" data-startTime="292">service actually every week, </span><span class="line" data-startTime="295">not every month. </span> <span class="line" data-startTime="296">So these are things like </span><span class="line" data-startTime="296">user-facing applications also </span><span class="line" data-startTime="301">servers talking to each other, </span><span class="line" data-startTime="301">exchanging data, doing data </span><span class="line" data-startTime="303">processing, mobile applications, </span><span class="line" data-startTime="303">connecting to a </span><span class="line" data-startTime="307">backend like I'll be talking </span><span class="line" data-startTime="307">about today. </span> <span class="line" data-startTime="311">So the real meat and potatoes, </span><span class="line" data-startTime="311">why we're here today, building </span><span class="line" data-startTime="315">mobile backends with </span><span class="line" data-startTime="315">App Engine. </span></p>

<p><span class="line" data-startTime="317">So this is probably a story </span><span class="line" data-startTime="317">that many of you </span><span class="line" data-startTime="320">are familiar with. </span> <span class="line" data-startTime="320">How many of you have </span><span class="line" data-startTime="320">mobile apps? </span><span class="line" data-startTime="324">OK. </span> <span class="line" data-startTime="326">That's a good guess. </span> <span class="line" data-startTime="327">How many of you have backends </span><span class="line" data-startTime="327">for those mobile applications, </span><span class="line" data-startTime="330">they don't just run a device? </span><span class="line" data-startTime="331">OK. </span> <span class="line" data-startTime="332">Not as quite as many as I </span><span class="line" data-startTime="332">expected, but a lot of you. </span> <span class="line" data-startTime="335">So you start out. </span> <span class="line" data-startTime="336">You buy a server. </span> <span class="line" data-startTime="337">You put it somewhere. </span> <span class="line" data-startTime="338">Maybe you're running a server </span><span class="line" data-startTime="338">from someone that are </span><span class="line" data-startTime="340">co-located. </span> <span class="line" data-startTime="342">You build a stack basically </span><span class="line" data-startTime="342">picking what software it is </span><span class="line" data-startTime="345">you want to run. </span></p>

<p><span class="line" data-startTime="346">Maybe it's Apache. </span> <span class="line" data-startTime="347">Maybe it's No JS. </span> <span class="line" data-startTime="348">Whatever it is, you </span><span class="line" data-startTime="348">install that. </span> <span class="line" data-startTime="350">You figure out what services </span><span class="line" data-startTime="350">you need to support your </span><span class="line" data-startTime="353">application, things like </span><span class="line" data-startTime="353">chat, or mail, or </span><span class="line" data-startTime="355">maybe a search API. </span> <span class="line" data-startTime="357">Then you think, OK, well, how am </span><span class="line" data-startTime="357">I going to connect this to </span><span class="line" data-startTime="359">my mobile device? </span><span class="line" data-startTime="360">I'll probably write an API. </span> <span class="line" data-startTime="362">Well, do I need authorization? </span><span class="line" data-startTime="363">Do I need authentication? </span><span class="line" data-startTime="365">What wire format should I use? </span><span class="line" data-startTime="368">Writes are important when I'm </span><span class="line" data-startTime="368">sending them over the wire. </span> <span class="line" data-startTime="370">These are mobile devices. </span> <span class="line" data-startTime="371">I probably need compression. </span></p>

<p><span class="line" data-startTime="374">And then you think, OK, well, </span><span class="line" data-startTime="374">I've got all these different </span><span class="line" data-startTime="376">platforms I'm targeting. </span> <span class="line" data-startTime="377">I probably want to build a </span><span class="line" data-startTime="377">wrapper for all of these </span><span class="line" data-startTime="380">clients, right? </span><span class="line" data-startTime="381">So maybe I want a JavaScript </span><span class="line" data-startTime="381">client. </span> <span class="line" data-startTime="382">Maybe I want a Java client. </span> <span class="line" data-startTime="383">Maybe I want Objective </span><span class="line" data-startTime="383">C client. </span> <span class="line" data-startTime="385">Just target the major platforms </span><span class="line" data-startTime="385">where I'm building </span><span class="line" data-startTime="388">these applications. </span> <span class="line" data-startTime="390">And then you launch your </span><span class="line" data-startTime="390">application, and you realize </span><span class="line" data-startTime="393">you need to start over because </span><span class="line" data-startTime="393">the decisions that you made at </span><span class="line" data-startTime="395">the beginning of the process </span><span class="line" data-startTime="395">turned out they didn't scale </span><span class="line" data-startTime="397">quite the way that you </span><span class="line" data-startTime="397">wanted them to. </span></p>

<p><span class="line" data-startTime="399">And at this point, you realize </span><span class="line" data-startTime="399">what you're actually spending </span><span class="line" data-startTime="402">your time on is not building </span><span class="line" data-startTime="402">your application. </span> <span class="line" data-startTime="405">It's worrying about all this </span><span class="line" data-startTime="405">other stuff that wasn't the </span><span class="line" data-startTime="408">reason you started out </span><span class="line" data-startTime="408">building mobile apps. </span> <span class="line" data-startTime="411">You're not thinking about </span><span class="line" data-startTime="411">cool features that you </span><span class="line" data-startTime="413">can add to your game. </span> <span class="line" data-startTime="414">You're not thinking about </span><span class="line" data-startTime="414">how you can monetize. </span> <span class="line" data-startTime="416">You're not thinking how </span><span class="line" data-startTime="416">you get more users. </span> <span class="line" data-startTime="418">You're thinking about oh, my </span><span class="line" data-startTime="418">server is going to crash, </span><span class="line" data-startTime="421">because I can only handle </span><span class="line" data-startTime="421">10 more QPS before </span><span class="line" data-startTime="424">it explodes, right? </span><span class="line" data-startTime="425">And that's not a cool story. </span> <span class="line" data-startTime="426">It's not a cool place to be. </span> <span class="line" data-startTime="428">So this is a happy talk. </span> <span class="line" data-startTime="430">And I'm going to talk to you </span><span class="line" data-startTime="430">about how Endpoints solves a </span><span class="line" data-startTime="432">lot of these problems. </span></p>

<p><span class="line" data-startTime="434">So Endpoints allows you to </span><span class="line" data-startTime="434">extend your App Engine </span><span class="line" data-startTime="437">backends by easily adding APIs </span><span class="line" data-startTime="437">that you can consume from </span><span class="line" data-startTime="441">within mobile devices, </span><span class="line" data-startTime="441">so that's JavaScript, </span><span class="line" data-startTime="445">Android, and iOS. </span> <span class="line" data-startTime="447">And Endpoints has a lot of </span><span class="line" data-startTime="447">different features that I'll </span><span class="line" data-startTime="450">talk about. </span> <span class="line" data-startTime="450">So to start off, you </span><span class="line" data-startTime="450">can build your </span><span class="line" data-startTime="452">backends in Java and Python. </span> <span class="line" data-startTime="454">There's no ghost support at </span><span class="line" data-startTime="454">the moment, but we're, of </span><span class="line" data-startTime="457">course, looking into that </span><span class="line" data-startTime="457">because it's one of the </span><span class="line" data-startTime="458">languages supported </span><span class="line" data-startTime="458">on App Engine. </span> <span class="line" data-startTime="461">And all this is built on </span><span class="line" data-startTime="461">Google's API infrastructure. </span> <span class="line" data-startTime="464">So when you build APIs with </span><span class="line" data-startTime="464">Endpoints running on App </span><span class="line" data-startTime="467">Engine, those APIs are being </span><span class="line" data-startTime="467">hosted on the same API </span><span class="line" data-startTime="470">infrastructure that powers </span><span class="line" data-startTime="470">Google's other APIs. </span> <span class="line" data-startTime="473">So if you've ever used things </span><span class="line" data-startTime="473">like the G+ API, or the </span><span class="line" data-startTime="476">calendar API, or the Tasks API, </span><span class="line" data-startTime="476">all of those things run </span><span class="line" data-startTime="479">on the same infrastructure </span><span class="line" data-startTime="479">that powers Endpoints. </span> <span class="line" data-startTime="483">And there are some really cool </span><span class="line" data-startTime="483">things that you can get </span><span class="line" data-startTime="484">because of that shared </span><span class="line" data-startTime="484">infrastructure, and I'll talk </span><span class="line" data-startTime="486">a little bit more about </span><span class="line" data-startTime="486">these later. </span></p>

<p><span class="line" data-startTime="488">But if you've ever used like the </span><span class="line" data-startTime="488">API's Explorer as a way to </span><span class="line" data-startTime="492">try out new APIs or experiment </span><span class="line" data-startTime="492">with APIs, you get that for </span><span class="line" data-startTime="495">free by using Endpoints </span><span class="line" data-startTime="495">because it's the same </span><span class="line" data-startTime="498">infrastructure. </span> <span class="line" data-startTime="501">All of these APIs are our using </span><span class="line" data-startTime="501">JSON and they get free </span><span class="line" data-startTime="504">GZip compression over the wire, </span><span class="line" data-startTime="504">so you're sending nice, </span><span class="line" data-startTime="508">efficient packets to your </span><span class="line" data-startTime="508">mobile applications. </span> <span class="line" data-startTime="511">We provide three client </span><span class="line" data-startTime="511">libraries for </span><span class="line" data-startTime="513">all of these APIs. </span> <span class="line" data-startTime="514">So if you're building Java or </span><span class="line" data-startTime="514">Objective C applications, you </span><span class="line" data-startTime="518">get a nice, statically-typed </span><span class="line" data-startTime="518">client library automatically </span><span class="line" data-startTime="521">generated for you. </span> <span class="line" data-startTime="522">And the helper code that we're </span><span class="line" data-startTime="522">writing works with the same </span><span class="line" data-startTime="526">library that you would use if </span><span class="line" data-startTime="526">you were using those same </span><span class="line" data-startTime="530">other Google APIs. </span></p>

<p><span class="line" data-startTime="531">So if you're writing an app that </span><span class="line" data-startTime="531">uses the Google+ API and </span><span class="line" data-startTime="534">whatever API it is that </span><span class="line" data-startTime="534">you've built, you </span><span class="line" data-startTime="537">have one client library. </span> <span class="line" data-startTime="538">So you're not worrying about </span><span class="line" data-startTime="538">bloating all of your </span><span class="line" data-startTime="540">applications because you've </span><span class="line" data-startTime="540">got one client library for </span><span class="line" data-startTime="543">this feature and another client </span><span class="line" data-startTime="544">library for this feature. </span> <span class="line" data-startTime="544">It's the same client library. </span> <span class="line" data-startTime="546">And then we also have a </span><span class="line" data-startTime="546">JavaScript client library that </span><span class="line" data-startTime="549">you can use, of course, in </span><span class="line" data-startTime="549">the web browser, and I'll </span><span class="line" data-startTime="552">demonstrate all of these </span><span class="line" data-startTime="552">in a couple minutes. </span> <span class="line" data-startTime="556">OAuth 2 is built right into the </span><span class="line" data-startTime="556">product, so if you want to </span><span class="line" data-startTime="560">do authentication, it's really </span><span class="line" data-startTime="562">straightforward to set that up. </span> <span class="line" data-startTime="563">You can log into your </span><span class="line" data-startTime="563">applications using Google </span><span class="line" data-startTime="566">Account, and I'll actually talk </span><span class="line" data-startTime="566">a little bit more about </span><span class="line" data-startTime="568">this later as well. </span></p>

<p><span class="line" data-startTime="571">And then we have some </span><span class="line" data-startTime="571">great tooling </span><span class="line" data-startTime="572">support as part of Endpoints. </span> <span class="line" data-startTime="574">So if any of you have used the </span><span class="line" data-startTime="574">Google plug-in for Eclipse, </span><span class="line" data-startTime="577">we've extended that with the App </span><span class="line" data-startTime="577">Engine features and also </span><span class="line" data-startTime="581">Endpoints features to make </span><span class="line" data-startTime="581">it really easy to develop </span><span class="line" data-startTime="584">Endpoints APIs within the </span><span class="line" data-startTime="584">development environment that </span><span class="line" data-startTime="589">you're familiar with. </span> <span class="line" data-startTime="590">And of course, because this is </span><span class="line" data-startTime="590">part of the App Engine SDK, </span><span class="line" data-startTime="592">you get the same local </span><span class="line" data-startTime="592">development experience that </span><span class="line" data-startTime="595">you get with the rest of the </span><span class="line" data-startTime="595">product, and you'll see that </span><span class="line" data-startTime="597">in a moment as well. </span></p>

<p><span class="line" data-startTime="599">So Endpoints, how </span><span class="line" data-startTime="599">does it work? </span><span class="line" data-startTime="601">So you basically start out </span><span class="line" data-startTime="601">writing backend code. </span> <span class="line" data-startTime="604">All of my slides today are going </span><span class="line" data-startTime="604">to be demonstrating the </span><span class="line" data-startTime="606">backends in Java, but rest </span><span class="line" data-startTime="606">assured all this works and </span><span class="line" data-startTime="609">Python as well. </span> <span class="line" data-startTime="610">And I've got lots of sample code </span><span class="line" data-startTime="610">at the end of the slide </span><span class="line" data-startTime="613">deck that you can check </span><span class="line" data-startTime="613">out later on. </span> <span class="line" data-startTime="616">So we've got a very simple class </span><span class="line" data-startTime="616">here that represents a </span><span class="line" data-startTime="620">game and we're taking </span><span class="line" data-startTime="620">in a board object. </span></p>

<p><span class="line" data-startTime="625">We're going to update that </span><span class="line" data-startTime="625">and send it back. </span> <span class="line" data-startTime="627">Very straightforward code. </span> <span class="line" data-startTime="629">So let's turn this </span><span class="line" data-startTime="629">into an API. </span> <span class="line" data-startTime="631">So the first thing we have </span><span class="line" data-startTime="631">to do is, we add this API </span><span class="line" data-startTime="635">annotation here. </span> <span class="line" data-startTime="636">And then we can basically </span><span class="line" data-startTime="636">stop. </span> <span class="line" data-startTime="637">This is all we actually have to </span><span class="line" data-startTime="637">do in order to get an API. </span> <span class="line" data-startTime="642">Everything else is done by our </span><span class="line" data-startTime="642">SDK and the tooling that we </span><span class="line" data-startTime="645">provided, and you can get </span><span class="line" data-startTime="645">an API from this. </span> <span class="line" data-startTime="648">So this will turn it into </span><span class="line" data-startTime="648">something like game Endpoint. </span> <span class="line" data-startTime="652">By default, it will have one </span><span class="line" data-startTime="652">method update game that takes </span><span class="line" data-startTime="655">one of these board objects. </span> <span class="line" data-startTime="656">And there's certainly ways you </span><span class="line" data-startTime="656">can customize this, which I'll </span><span class="line" data-startTime="659">talk about as I do </span><span class="line" data-startTime="659">some live coding. </span></p>

<p><span class="line" data-startTime="662">But this is the bare </span><span class="line" data-startTime="662">minimum you need in </span><span class="line" data-startTime="664">order to get an API. </span> <span class="line" data-startTime="665">So it's very simple </span><span class="line" data-startTime="665">to start with. </span> <span class="line" data-startTime="667">So once you have this, we've </span><span class="line" data-startTime="667">got some tooling </span><span class="line" data-startTime="670">that I talked about. </span> <span class="line" data-startTime="671">This is basically a command that </span><span class="line" data-startTime="671">you'd run on the command </span><span class="line" data-startTime="674">line that gives you your </span><span class="line" data-startTime="674">Objective C client library. </span> <span class="line" data-startTime="677">Generates a bunch of </span><span class="line" data-startTime="677">files for you. </span> <span class="line" data-startTime="678">Drop those into Xcode, and then </span><span class="line" data-startTime="678">you can start consuming </span><span class="line" data-startTime="681">them with some lines </span><span class="line" data-startTime="681">like this. </span> <span class="line" data-startTime="683">So it's just a couple lines </span><span class="line" data-startTime="683">of code in order to make a </span><span class="line" data-startTime="686">request to your API that's </span><span class="line" data-startTime="686">running on App Engine. </span> <span class="line" data-startTime="690">So maybe I've convinced some of </span><span class="line" data-startTime="690">you that it's pretty neat, </span><span class="line" data-startTime="693">but I'm sure that there are </span><span class="line" data-startTime="693">folks out there who'd really </span><span class="line" data-startTime="695">like to see a demo. </span> <span class="line" data-startTime="696">So let's switch over </span><span class="line" data-startTime="696">into Eclipse. </span> <span class="line" data-startTime="704">All right. </span> <span class="line" data-startTime="705">So I have this really simple </span><span class="line" data-startTime="705">application, tic-tac-toe, that </span><span class="line" data-startTime="709">I have running on my </span><span class="line" data-startTime="709">local machine here. </span></p>

<p><span class="line" data-startTime="712">Actually, all start out with </span><span class="line" data-startTime="712">a demo of this app. </span> <span class="line" data-startTime="717">So like I said very, very </span><span class="line" data-startTime="717">simple application. </span> <span class="line" data-startTime="719">This is definitely going </span><span class="line" data-startTime="719">to make millions </span><span class="line" data-startTime="721">and millions of dollars. </span> <span class="line" data-startTime="723">So you can see here I've got </span><span class="line" data-startTime="723">this really simple board, and </span><span class="line" data-startTime="725">if I click on any of these </span><span class="line" data-startTime="725">buttons, each time I hit one </span><span class="line" data-startTime="729">of these buttons, this is taking </span><span class="line" data-startTime="729">the current state of </span><span class="line" data-startTime="730">the board, sending it off </span><span class="line" data-startTime="730">to my app Engine server. </span> <span class="line" data-startTime="733">The computer is filling in a </span><span class="line" data-startTime="733">move, sending it back to me, </span><span class="line" data-startTime="737">and then when I win, because </span><span class="line" data-startTime="737">the computer is not very </span><span class="line" data-startTime="739">smart, it's recording my score </span><span class="line" data-startTime="739">for all posterity and then </span><span class="line" data-startTime="742">refreshing this list </span><span class="line" data-startTime="742">at the bottom. </span> <span class="line" data-startTime="744">So let's see how we'd build </span><span class="line" data-startTime="744">something like that. </span> <span class="line" data-startTime="747">So we start out with the </span><span class="line" data-startTime="747">App Engine backend. </span></p>

<p><span class="line" data-startTime="750">So this is the code that </span><span class="line" data-startTime="750">I've written here. </span> <span class="line" data-startTime="752">So I have two types of </span><span class="line" data-startTime="752">primitive objects. </span> <span class="line" data-startTime="755">The first one is a board object, </span><span class="line" data-startTime="755">very, very simple, and </span><span class="line" data-startTime="759">the second one that I'm looking </span><span class="line" data-startTime="759">at here is the score </span><span class="line" data-startTime="762">object, which basically keeps </span><span class="line" data-startTime="762">track of all the games that I </span><span class="line" data-startTime="764">previously played. </span> <span class="line" data-startTime="766">So if you're familiar with App </span><span class="line" data-startTime="766">Engine, you might recognize </span><span class="line" data-startTime="769">this actually or other </span><span class="line" data-startTime="769">Java environments. </span> <span class="line" data-startTime="772">You might recognize this as a </span><span class="line" data-startTime="772">JDO class, so nothing changes </span><span class="line" data-startTime="777">about this. </span> <span class="line" data-startTime="777">This is the same type of JDO </span><span class="line" data-startTime="777">object that you would write in </span><span class="line" data-startTime="781">other environments or with </span><span class="line" data-startTime="781">another part of App Engine </span><span class="line" data-startTime="783">that don't use Endpoints. </span> <span class="line" data-startTime="785">So there's no changes </span><span class="line" data-startTime="785">to this code it all. </span> <span class="line" data-startTime="787">It just exists as </span><span class="line" data-startTime="787">it did before. </span> <span class="line" data-startTime="791">And then we have an Endpoint </span><span class="line" data-startTime="791">class that basically reads and </span><span class="line" data-startTime="794">writes these objects and sends </span><span class="line" data-startTime="794">them over the wire. </span></p>

<p><span class="line" data-startTime="798">So the first thing we want to </span><span class="line" data-startTime="798">do if we want to make this </span><span class="line" data-startTime="800">class an endpoint, is we will </span><span class="line" data-startTime="800">add this API annotation as I </span><span class="line" data-startTime="805">said before to make </span><span class="line" data-startTime="805">sure we import the </span><span class="line" data-startTime="807">right packages here. </span> <span class="line" data-startTime="809">And so what we're going to do </span><span class="line" data-startTime="809">is we could just stop with </span><span class="line" data-startTime="812">this, and we would </span><span class="line" data-startTime="812">have an API. </span> <span class="line" data-startTime="815">But we'd like to customize </span><span class="line" data-startTime="815">it a little bit. </span> <span class="line" data-startTime="817">So what we're going to do first </span><span class="line" data-startTime="817">is we're given a name. </span> <span class="line" data-startTime="819">I can also do things </span><span class="line" data-startTime="819">like specify what </span><span class="line" data-startTime="822">version I want to run. </span> <span class="line" data-startTime="823">If you want to have multiple </span><span class="line" data-startTime="823">versions of an API going at </span><span class="line" data-startTime="825">the same time, that's </span><span class="line" data-startTime="825">totally fine. </span></p>

<p><span class="line" data-startTime="826">You can totally do that. </span> <span class="line" data-startTime="828">By default, this will give me </span><span class="line" data-startTime="828">V1 of the API, which seems </span><span class="line" data-startTime="831">perfectly fine for </span><span class="line" data-startTime="831">demo purposes. </span> <span class="line" data-startTime="834">And then by adding this </span><span class="line" data-startTime="834">annotation, all of these other </span><span class="line" data-startTime="838">methods are automatically going </span><span class="line" data-startTime="838">to be added to the API </span><span class="line" data-startTime="842">that I built. </span> <span class="line" data-startTime="843">So I'll have a getMethod and </span><span class="line" data-startTime="843">I'll have a listMethod that </span><span class="line" data-startTime="846">returns all the previous </span><span class="line" data-startTime="846">scores that </span><span class="line" data-startTime="848">I've saved in my datastore. </span> <span class="line" data-startTime="851">But we also have this other </span><span class="line" data-startTime="851">endpoint or this other API as </span><span class="line" data-startTime="855">part of the same tic-tac-toe </span><span class="line" data-startTime="855">API. </span> <span class="line" data-startTime="857">This is a board endpoint that </span><span class="line" data-startTime="857">allows me to interact with the </span><span class="line" data-startTime="860">current state of the board. </span> <span class="line" data-startTime="861">So rather than having all of </span><span class="line" data-startTime="861">these things sort of munged </span><span class="line" data-startTime="864">into one name space, I'm going </span><span class="line" data-startTime="864">to give these custom names. </span></p>

<p><span class="line" data-startTime="868">So my API method now </span><span class="line" data-startTime="868">will be scores.get </span><span class="line" data-startTime="871">rather than just GET. </span> <span class="line" data-startTime="874">And you'll see the importance of </span><span class="line" data-startTime="874">that a little bit later as </span><span class="line" data-startTime="877">I actually demonstrate how </span><span class="line" data-startTime="877">to consume these APIs. </span> <span class="line" data-startTime="880">So make sure we're importing </span><span class="line" data-startTime="880">the right package there. </span> <span class="line" data-startTime="882">And then we'll do the same </span><span class="line" data-startTime="882">process for these other </span><span class="line" data-startTime="885">methods, so we've scores.list </span><span class="line" data-startTime="885">and then scores.insert. </span> <span class="line" data-startTime="891">And while I'm messing around </span><span class="line" data-startTime="891">with this code, one quick note </span><span class="line" data-startTime="895">on how to do the authentication </span><span class="line" data-startTime="895">piece here. </span> <span class="line" data-startTime="897">So for the backend, this is </span><span class="line" data-startTime="897">actually very simple. </span> <span class="line" data-startTime="900">If I wanted to figure out who </span><span class="line" data-startTime="900">the current user was making </span><span class="line" data-startTime="904">one of these requests, I just </span><span class="line" data-startTime="904">add the user parameter into my </span><span class="line" data-startTime="908">method signature. </span> <span class="line" data-startTime="909">There's one other thing that I </span><span class="line" data-startTime="909">would need to do at the top </span><span class="line" data-startTime="912">here in this annotation, but </span><span class="line" data-startTime="912">this is basically it. </span> <span class="line" data-startTime="915">So I have this user object, </span><span class="line" data-startTime="915">which represents the Google </span><span class="line" data-startTime="919">account that is making </span><span class="line" data-startTime="919">the API request. </span></p>

<p><span class="line" data-startTime="922">And if you're familiar with App </span><span class="line" data-startTime="922">Engine, this is the same </span><span class="line" data-startTime="924">user object calling </span><span class="line" data-startTime="924">google.appengine.api.users </span><span class="line" data-startTime="929">that you would see </span><span class="line" data-startTime="929">in other places. </span> <span class="line" data-startTime="931">So if you're doing App Engine </span><span class="line" data-startTime="931">sign in and other parts of </span><span class="line" data-startTime="933">your application, then you want </span><span class="line" data-startTime="933">to compare those user </span><span class="line" data-startTime="935">objects to the ones you're </span><span class="line" data-startTime="935">getting from Endpoints, </span><span class="line" data-startTime="938">they're exactly the same. </span> <span class="line" data-startTime="939">It's very, very simple to OAuth </span><span class="line" data-startTime="939">support into these APIs, </span><span class="line" data-startTime="942">which is not something that you </span><span class="line" data-startTime="942">can usually say when it </span><span class="line" data-startTime="945">comes to OAuth. </span> <span class="line" data-startTime="947">So we'll leave this </span><span class="line" data-startTime="947">out for now. </span> <span class="line" data-startTime="949">We'll talk about that a </span><span class="line" data-startTime="949">little bit more later. </span></p>

<p><span class="line" data-startTime="951">So at this point, I basically </span><span class="line" data-startTime="951">have my API already running. </span> <span class="line" data-startTime="955">So what we'll do is we'll deploy </span><span class="line" data-startTime="955">this to App Engine. </span> <span class="line" data-startTime="969">Take a quick sip of my drink. </span> <span class="line" data-startTime="974">All right. </span> <span class="line" data-startTime="974">Now my API is serving. </span> <span class="line" data-startTime="976">Excellent. </span> <span class="line" data-startTime="977">So let's take a look at it. </span> <span class="line" data-startTime="978">So I had this URL here running </span><span class="line" data-startTime="978">on local host. </span> <span class="line" data-startTime="981">We can actually switch over </span><span class="line" data-startTime="981">to the one that's </span><span class="line" data-startTime="985">running on LIVE server. </span> <span class="line" data-startTime="987">And the first thing that we're </span><span class="line" data-startTime="987">going to look at is a </span><span class="line" data-startTime="993">discovery document, and this is </span><span class="line" data-startTime="993">basically, a description of </span><span class="line" data-startTime="997">the API that I just wrote. </span> <span class="line" data-startTime="998">And this isn't necessarily </span><span class="line" data-startTime="998">intended for human </span><span class="line" data-startTime="1000">consumption. </span> <span class="line" data-startTime="1001">It's mostly intended for </span><span class="line" data-startTime="1001">other parts of the API </span><span class="line" data-startTime="1003">infrastructure to give us </span><span class="line" data-startTime="1003">things like the API's </span><span class="line" data-startTime="1006">Explorer, which I'll show you in </span><span class="line" data-startTime="1006">a minute or for generating </span><span class="line" data-startTime="1009">client libraries. </span> <span class="line" data-startTime="1010">So this discovery document </span><span class="line" data-startTime="1010">describes the state of my API. </span></p>

<p><span class="line" data-startTime="1014">So it's the types of things </span><span class="line" data-startTime="1014">like, what objects am I my </span><span class="line" data-startTime="1017">accepting and returning. </span> <span class="line" data-startTime="1020">What are the methods on my </span><span class="line" data-startTime="1020">API that I can call, </span><span class="line" data-startTime="1026">and things like that. </span> <span class="line" data-startTime="1027">So if I have a URL parameter, </span><span class="line" data-startTime="1027">it shows up in here. </span> <span class="line" data-startTime="1032">If I have things that show up </span><span class="line" data-startTime="1032">in the body, like I want to </span><span class="line" data-startTime="1037">insert a new score, that </span><span class="line" data-startTime="1037">shows up in the body. </span> <span class="line" data-startTime="1039">That you can see in here. </span> <span class="line" data-startTime="1042">And so with things like this, </span><span class="line" data-startTime="1042">I can then go into the API's </span><span class="line" data-startTime="1047">Explorer and actually I can </span><span class="line" data-startTime="1047">do this quick link. </span> <span class="line" data-startTime="1059">And this will load, basically </span><span class="line" data-startTime="1059">allow me to explore all the </span><span class="line" data-startTime="1064">APIs that I've deployed on to </span><span class="line" data-startTime="1064">my App Engine application so </span><span class="line" data-startTime="1066">if I were to strip this off, </span><span class="line" data-startTime="1066">this would show me all of </span><span class="line" data-startTime="1071">Google's APIs and we provide </span><span class="line" data-startTime="1071">this nice little shortcuts so </span><span class="line" data-startTime="1074">that you can just filter down </span><span class="line" data-startTime="1074">to the APIs that you've </span><span class="line" data-startTime="1077">deployed on your application. </span></p>

<p><span class="line" data-startTime="1078">And so we've got the tic-tac-toe </span><span class="line" data-startTime="1078">API here. </span> <span class="line" data-startTime="1081">And so we can try things like </span><span class="line" data-startTime="1081">get the current move or get a </span><span class="line" data-startTime="1085">computer's move given our </span><span class="line" data-startTime="1085">current state of the board. </span> <span class="line" data-startTime="1088">So the way that we represent </span><span class="line" data-startTime="1088">the board in this game is a </span><span class="line" data-startTime="1091">one-dimensional array of </span><span class="line" data-startTime="1091">dashes, X's and O's. </span> <span class="line" data-startTime="1094">So this is basically playing an </span><span class="line" data-startTime="1094">X in the center square, so </span><span class="line" data-startTime="1099">we'll send this off </span><span class="line" data-startTime="1099">to the computer. </span> <span class="line" data-startTime="1102">And we can see here this is </span><span class="line" data-startTime="1102">basically what our requests </span><span class="line" data-startTime="1105">looks like, typical </span><span class="line" data-startTime="1105">format that you </span><span class="line" data-startTime="1108">would be familiar with. </span> <span class="line" data-startTime="1109">So we're sending JSON from </span><span class="line" data-startTime="1109">the API's Explorer. </span> <span class="line" data-startTime="1112">This is what the body looks </span><span class="line" data-startTime="1112">like, and then we're getting </span><span class="line" data-startTime="1114">back this response which looks </span><span class="line" data-startTime="1114">like a move of a zero in the </span><span class="line" data-startTime="1119">top right corner. </span></p>

<p><span class="line" data-startTime="1121">So the computer is </span><span class="line" data-startTime="1121">not very smart. </span> <span class="line" data-startTime="1123">It will just play randomly. </span> <span class="line" data-startTime="1124">If I keep running this, </span><span class="line" data-startTime="1124">it will keep </span><span class="line" data-startTime="1127">generating new results. </span> <span class="line" data-startTime="1128">But that basically gives you an </span><span class="line" data-startTime="1128">idea of what the API call </span><span class="line" data-startTime="1135">convention looks like and what </span><span class="line" data-startTime="1135">the responses would look like. </span> <span class="line" data-startTime="1137">So we could also try some of the </span><span class="line" data-startTime="1137">other things too so I can </span><span class="line" data-startTime="1139">get a list of all the </span><span class="line" data-startTime="1139">previously-played games. </span> <span class="line" data-startTime="1143">And this will return this very </span><span class="line" data-startTime="1143">simple format, what the </span><span class="line" data-startTime="1147">outcome was, when it was played, </span><span class="line" data-startTime="1147">things like that of </span><span class="line" data-startTime="1149">all the previous games </span><span class="line" data-startTime="1149">that people played. </span> <span class="line" data-startTime="1152">Tic-tac-toe. </span> <span class="line" data-startTime="1155">And from this, it's actually </span><span class="line" data-startTime="1155">really simple to go into a </span><span class="line" data-startTime="1159">very simple JavaScript client. </span> <span class="line" data-startTime="1161">So I have this application </span><span class="line" data-startTime="1161">running </span><span class="line" data-startTime="1162">here live on our server. </span></p>

<p><span class="line" data-startTime="1165">This is a very simple UI very </span><span class="line" data-startTime="1165">much like the Android one. </span> <span class="line" data-startTime="1168">Every time I make one of these </span><span class="line" data-startTime="1168">moves, it's sending a request </span><span class="line" data-startTime="1171">off to my backend and </span><span class="line" data-startTime="1171">updating the game. </span> <span class="line" data-startTime="1176">And so if you actually were to </span><span class="line" data-startTime="1176">look at these JavaScript </span><span class="line" data-startTime="1178">console, which hopefully you </span><span class="line" data-startTime="1178">guys can see here on the </span><span class="line" data-startTime="1181">screen, I can play again. </span> <span class="line" data-startTime="1187">And you can see these requests </span><span class="line" data-startTime="1187">going off to my </span><span class="line" data-startTime="1190">backend as I play. </span> <span class="line" data-startTime="1195">And my favorite thing is that </span><span class="line" data-startTime="1195">you can make calls to the </span><span class="line" data-startTime="1203">client library right from </span><span class="line" data-startTime="1203">within the console, and </span><span class="line" data-startTime="1205">because Chrome has auto </span><span class="line" data-startTime="1205">complete, you can actually </span><span class="line" data-startTime="1207">experiment with the APIs </span><span class="line" data-startTime="1207">pretty easily. </span> <span class="line" data-startTime="1212">So you've got GAPI Client, which </span><span class="line" data-startTime="1212">is the code that you </span><span class="line" data-startTime="1215">always see in a client </span><span class="line" data-startTime="1215">library. </span> <span class="line" data-startTime="1217">And then we're interesting cal </span><span class="line" data-startTime="1217">the tic-tac-toe API and we </span><span class="line" data-startTime="1220">have the board method, and we </span><span class="line" data-startTime="1220">have the scores method. </span></p>

<p><span class="line" data-startTime="1224">So let's call board. </span> <span class="line" data-startTime="1227">And we can call getMove. </span> <span class="line" data-startTime="1230">And we'll pass in state and </span><span class="line" data-startTime="1230">this is JavaScript, so of </span><span class="line" data-startTime="1237">course, we need to callback. </span> <span class="line" data-startTime="1241">And we will log it. </span> <span class="line" data-startTime="1247">All right. </span> <span class="line" data-startTime="1247">So this is basically </span><span class="line" data-startTime="1247">the result &mdash; </span><span class="line" data-startTime="1253">maybe I have a typo in my &mdash; </span><span class="line" data-startTime="1255">Yes. </span> <span class="line" data-startTime="1259">There we go. </span> <span class="line" data-startTime="1261">All right. </span> <span class="line" data-startTime="1262">So we have this object that we </span><span class="line" data-startTime="1262">get back, and inside of the </span><span class="line" data-startTime="1264">result is the currently-updated </span><span class="line" data-startTime="1266">state of the board. </span> <span class="line" data-startTime="1268">So we can then consume that </span><span class="line" data-startTime="1268">within our application. </span> <span class="line" data-startTime="1270">Pretty simple. </span> <span class="line" data-startTime="1272">All right. </span></p>

<p><span class="line" data-startTime="1273">So this sort of demonstrates </span><span class="line" data-startTime="1273">the Java backend and the </span><span class="line" data-startTime="1277">JavaScript client case, but </span><span class="line" data-startTime="1277">you're probably also </span><span class="line" data-startTime="1280">interested in building native </span><span class="line" data-startTime="1280">mobile applications as well. </span> <span class="line" data-startTime="1283">So let's jump back into Eclipse, </span><span class="line" data-startTime="1283">and we can see how </span><span class="line" data-startTime="1285">you might consume one </span><span class="line" data-startTime="1285">of these clients </span><span class="line" data-startTime="1288">or APIs within Android. </span> <span class="line" data-startTime="1290">So the first thing that I would </span><span class="line" data-startTime="1290">do within my Eclipse </span><span class="line" data-startTime="1293">project is I would actually go </span><span class="line" data-startTime="1293">to the Google menu here, and I </span><span class="line" data-startTime="1297">would generate client or Cloud </span><span class="line" data-startTime="1297">Endpoint client library. </span> <span class="line" data-startTime="1300">And so what this will do is, it </span><span class="line" data-startTime="1300">will send off a request to </span><span class="line" data-startTime="1303">generate client libraries for </span><span class="line" data-startTime="1303">the API that I've just </span><span class="line" data-startTime="1307">constructed. </span> <span class="line" data-startTime="1307">This will make a whole bunch </span><span class="line" data-startTime="1307">of network requests and </span><span class="line" data-startTime="1310">basically download a zip file </span><span class="line" data-startTime="1310">for you, which you can copy </span><span class="line" data-startTime="1313">into your project. </span> <span class="line" data-startTime="1315">Rather than demoing that, I </span><span class="line" data-startTime="1315">actually have an application </span><span class="line" data-startTime="1317">already configured with the </span><span class="line" data-startTime="1317">appropriate files, which you </span><span class="line" data-startTime="1319">see here on the left. </span> <span class="line" data-startTime="1322">And I have this activity class, </span><span class="line" data-startTime="1322">which I can use to </span><span class="line" data-startTime="1326">interact with the API. </span></p>

<p><span class="line" data-startTime="1328">So I've already done all the </span><span class="line" data-startTime="1328">work for generating that </span><span class="line" data-startTime="1331">really simple UI the </span><span class="line" data-startTime="1331">you saw previously. </span> <span class="line" data-startTime="1334">So the thing that we're going </span><span class="line" data-startTime="1334">to add to this is the logic </span><span class="line" data-startTime="1336">that allows us to make requests </span><span class="line" data-startTime="1336">over the network. </span> <span class="line" data-startTime="1339">So we have three important </span><span class="line" data-startTime="1339">things to call. </span> <span class="line" data-startTime="1341">So we have getTheComputerMove, </span><span class="line" data-startTime="1341">which happens every time I hit </span><span class="line" data-startTime="1344">one of the squares and that </span><span class="line" data-startTime="1344">spawns an asynchronous task. </span> <span class="line" data-startTime="1349">We don't want to block </span><span class="line" data-startTime="1349">the UI thread. </span> <span class="line" data-startTime="1351">So the first thing that we're </span><span class="line" data-startTime="1351">going to do here is we're </span><span class="line" data-startTime="1353">going to get a new board object </span><span class="line" data-startTime="1353">by calling service, </span><span class="line" data-startTime="1357">which is basically an object </span><span class="line" data-startTime="1357">that we used to call our APIs. </span> <span class="line" data-startTime="1360">We're going to call board just </span><span class="line" data-startTime="1360">like we did in the JavaScript </span><span class="line" data-startTime="1363">case because that's </span><span class="line" data-startTime="1363">the resource that </span><span class="line" data-startTime="1365">we're interested in. </span> <span class="line" data-startTime="1366">And we're going to call getMove, </span><span class="line" data-startTime="1366">which is the method </span><span class="line" data-startTime="1370">that we want to call. </span> <span class="line" data-startTime="1371">And we're going to pass </span><span class="line" data-startTime="1371">in our board object. </span></p>

<p><span class="line" data-startTime="1374">So once we have this, we can </span><span class="line" data-startTime="1374">return it and we have this </span><span class="line" data-startTime="1377">onPostExecute method. </span> <span class="line" data-startTime="1379">This is all standard Android </span><span class="line" data-startTime="1379">development experience here, </span><span class="line" data-startTime="1383">which will check to see if </span><span class="line" data-startTime="1383">anyone's won and then update </span><span class="line" data-startTime="1387">the state of the board, and if </span><span class="line" data-startTime="1387">no one has won, then it will </span><span class="line" data-startTime="1391">go back to waiting </span><span class="line" data-startTime="1391">for the player. </span> <span class="line" data-startTime="1393">So if someone does win or lose </span><span class="line" data-startTime="1393">or tie, we will handle that </span><span class="line" data-startTime="1398">case by spawning a different </span><span class="line" data-startTime="1398">asynchronous task. </span> <span class="line" data-startTime="1400">And this one will send </span><span class="line" data-startTime="1400">the result of the </span><span class="line" data-startTime="1402">game off to the server. </span></p>

<p><span class="line" data-startTime="1403">So here we have service.scores, </span><span class="line" data-startTime="1403">because scores </span><span class="line" data-startTime="1407">is the resource we're interested </span><span class="line" data-startTime="1407">in, insert, which </span><span class="line" data-startTime="1411">basically makes a request to </span><span class="line" data-startTime="1411">add a new score to the </span><span class="line" data-startTime="1415">datastore, and then we'll </span><span class="line" data-startTime="1415">send that score </span><span class="line" data-startTime="1417">as the subject here. </span> <span class="line" data-startTime="1419">We execute that, and </span><span class="line" data-startTime="1419">then we're done. </span> <span class="line" data-startTime="1423">And then finally, we have this </span><span class="line" data-startTime="1423">method which will get us the </span><span class="line" data-startTime="1426">list of previously-played </span><span class="line" data-startTime="1426">games. </span> <span class="line" data-startTime="1428">So we'll do this one the </span><span class="line" data-startTime="1428">application loads or if we're </span><span class="line" data-startTime="1430">interested in updating that list </span><span class="line" data-startTime="1430">of scores that was at the </span><span class="line" data-startTime="1432">bottom of the game that </span><span class="line" data-startTime="1432">I showed you. </span> <span class="line" data-startTime="1435">And so to do that, again, this </span><span class="line" data-startTime="1435">is all very, very simple code, </span><span class="line" data-startTime="1439">very similar in style across all </span><span class="line" data-startTime="1439">these different API calls. </span></p>

<p><span class="line" data-startTime="1443">So we'll call </span><span class="line" data-startTime="1443">service.scores.list, and this </span><span class="line" data-startTime="1447">will give us back a list of </span><span class="line" data-startTime="1447">scores, which we can then jump </span><span class="line" data-startTime="1450">into a UI element within our </span><span class="line" data-startTime="1450">Android application. </span> <span class="line" data-startTime="1452">So now that I've done all of </span><span class="line" data-startTime="1452">that modification, we can run </span><span class="line" data-startTime="1456">this again inside </span><span class="line" data-startTime="1456">of the emulator. </span> <span class="line" data-startTime="1459">Yes, this is the device </span><span class="line" data-startTime="1459">I'd like to use. </span> <span class="line" data-startTime="1469">All right. </span> <span class="line" data-startTime="1470">So tic-tac-toe is loaded. </span> <span class="line" data-startTime="1472">And like before, you can see </span><span class="line" data-startTime="1472">it's logging all these things </span><span class="line" data-startTime="1476">on the bottom. </span></p>

<p><span class="line" data-startTime="1481">All of my idle instances </span><span class="line" data-startTime="1481">appeared to have died. </span> <span class="line" data-startTime="1484">Yes. </span> <span class="line" data-startTime="1484">All right. </span> <span class="line" data-startTime="1484">So there we go. </span> <span class="line" data-startTime="1485">To make your requests, I can </span><span class="line" data-startTime="1485">hit these buttons here and </span><span class="line" data-startTime="1488">play the game against </span><span class="line" data-startTime="1488">the computer. </span> <span class="line" data-startTime="1490">Again, it's still not </span><span class="line" data-startTime="1490">very smart, and so </span><span class="line" data-startTime="1492">of course, I win. </span> <span class="line" data-startTime="1493">But there you have it. </span> <span class="line" data-startTime="1494">Pretty straightforward. </span> <span class="line" data-startTime="1496">So that covers the </span><span class="line" data-startTime="1496">Android case. </span> <span class="line" data-startTime="1498">And there is also iOS, so we </span><span class="line" data-startTime="1498">will jump over into actually </span><span class="line" data-startTime="1503">first, the command line. </span> <span class="line" data-startTime="1505">So if you want to generate your </span><span class="line" data-startTime="1505">client iOS libraries, we </span><span class="line" data-startTime="1509">have this nice script, the </span><span class="line" data-startTime="1509">service generator, which will </span><span class="line" data-startTime="1511">generate the API library for you </span><span class="line" data-startTime="1511">and I can run this, point </span><span class="line" data-startTime="1515">it to the output of my &mdash; </span><span class="line" data-startTime="1518">basically, the discovery </span><span class="line" data-startTime="1518">document that I showed you </span><span class="line" data-startTime="1520">before and will generate all </span><span class="line" data-startTime="1520">these files into this nice </span><span class="line" data-startTime="1523">folder on the desktop here, </span><span class="line" data-startTime="1523">which I can then drag into my </span><span class="line" data-startTime="1527">Xcode application. </span></p>

<p><span class="line" data-startTime="1528">I've already done that </span><span class="line" data-startTime="1528">previously with </span><span class="line" data-startTime="1530">this project here. </span> <span class="line" data-startTime="1530">You can see this set of files. </span> <span class="line" data-startTime="1534">And then we have a very similar </span><span class="line" data-startTime="1534">development experience </span><span class="line" data-startTime="1536">to what we just did on Android </span><span class="line" data-startTime="1536">where we basically have a </span><span class="line" data-startTime="1539">service object and then we're </span><span class="line" data-startTime="1539">making calls to our API. </span> <span class="line" data-startTime="1543">So you can see here, </span><span class="line" data-startTime="1543">when we're getting </span><span class="line" data-startTime="1545">the computer move. </span> <span class="line" data-startTime="1546">We have this method which </span><span class="line" data-startTime="1546">queries the tic-tac-toe API. </span> <span class="line" data-startTime="1550">It queries for board, calling </span><span class="line" data-startTime="1550">getMove, and passing in an </span><span class="line" data-startTime="1555">object, which is this </span><span class="line" data-startTime="1555">board object here. </span> <span class="line" data-startTime="1558">When we are interested in saving </span><span class="line" data-startTime="1558">the previous game, </span><span class="line" data-startTime="1563">again, same type of calling </span><span class="line" data-startTime="1563">convention. </span></p>

<p><span class="line" data-startTime="1565">We're querying for scores, we're </span><span class="line" data-startTime="1565">recalling Insert, and </span><span class="line" data-startTime="1568">we're passing in an object </span><span class="line" data-startTime="1568">which is the score. </span> <span class="line" data-startTime="1572">And then when we're querying </span><span class="line" data-startTime="1572">the scores, we have </span><span class="line" data-startTime="1575">queryForScoresList, list being </span><span class="line" data-startTime="1575">the method that we're calling. </span> <span class="line" data-startTime="1579">And then this will generate a </span><span class="line" data-startTime="1579">list of scores which we can </span><span class="line" data-startTime="1582">then throw into a UI element. </span> <span class="line" data-startTime="1584">So let's run this now. </span> <span class="line" data-startTime="1587">And again, same sort of lame UI </span><span class="line" data-startTime="1587">that I have in the Android </span><span class="line" data-startTime="1591">application, and I can click on </span><span class="line" data-startTime="1591">these squares, play against </span><span class="line" data-startTime="1595">the computer, I win, it updates </span><span class="line" data-startTime="1595">my score, and so on. </span> <span class="line" data-startTime="1600">Now, to show that there's no </span><span class="line" data-startTime="1600">smoke and mirrors happening </span><span class="line" data-startTime="1602">behind the scenes, let's </span><span class="line" data-startTime="1602">jump over to the App </span><span class="line" data-startTime="1605">Engine admin console. </span> <span class="line" data-startTime="1606">And what this will demonstrate </span><span class="line" data-startTime="1606">is, you can actually look at </span><span class="line" data-startTime="1609">the logs for each of the </span><span class="line" data-startTime="1609">requests that just came from </span><span class="line" data-startTime="1611">all of these different </span><span class="line" data-startTime="1611">clients. </span> <span class="line" data-startTime="1613">So we can start here </span><span class="line" data-startTime="1613">at the bottom. </span></p>

<p><span class="line" data-startTime="1615">These are my requests </span><span class="line" data-startTime="1615">coming from Chrome. </span> <span class="line" data-startTime="1618">So you can see over here on </span><span class="line" data-startTime="1618">the right side Chrome 25. </span> <span class="line" data-startTime="1623">Then in the middle here, we have </span><span class="line" data-startTime="1623">requests coming from the </span><span class="line" data-startTime="1625">Google HTTP Java client. </span> <span class="line" data-startTime="1627">This is our Android </span><span class="line" data-startTime="1627">client library. </span> <span class="line" data-startTime="1629">And then finally, at the top </span><span class="line" data-startTime="1629">here, we have requests coming </span><span class="line" data-startTime="1632">from the Google API Objective C </span><span class="line" data-startTime="1632">client library, which is, of </span><span class="line" data-startTime="1636">course, the application running </span><span class="line" data-startTime="1636">on the iOS simulator. </span> <span class="line" data-startTime="1639">So you can see it's pretty </span><span class="line" data-startTime="1639">straightforward to build an </span><span class="line" data-startTime="1646">application, an API to power </span><span class="line" data-startTime="1646">that application, and then </span><span class="line" data-startTime="1649">connect it to all three of </span><span class="line" data-startTime="1649">these types of devices. </span> <span class="line" data-startTime="1653">So with that, you're probably </span><span class="line" data-startTime="1653">interested in giving it a try. </span></p>

<p><span class="line" data-startTime="1660">So I have another QR code for </span><span class="line" data-startTime="1660">you if you'd like to grab that </span><span class="line" data-startTime="1663">and play your own game </span><span class="line" data-startTime="1663">of tic-tac-toe </span><span class="line" data-startTime="1665">feel free to do so. </span> <span class="line" data-startTime="1673">And if anyone doesn't get a </span><span class="line" data-startTime="1673">chance to grab this, I have </span><span class="line" data-startTime="1675">links to all of the demo </span><span class="line" data-startTime="1675">applications that I've just </span><span class="line" data-startTime="1680">showed you, and you can feel </span><span class="line" data-startTime="1680">free to download those and run </span><span class="line" data-startTime="1684">them yourself when you're </span><span class="line" data-startTime="1684">back at home later. </span> <span class="line" data-startTime="1690">See a couple devices </span><span class="line" data-startTime="1690">still in the air. </span> <span class="line" data-startTime="1701">Going once. </span> <span class="line" data-startTime="1702">Going twice. </span> <span class="line" data-startTime="1706">Sold. </span> <span class="line" data-startTime="1707">All right. </span> <span class="line" data-startTime="1708">So the last piece that we're </span><span class="line" data-startTime="1708">going to talk about today is </span><span class="line" data-startTime="1711">adding authentication. </span></p>

<p><span class="line" data-startTime="1712">So adding authentication, as I </span><span class="line" data-startTime="1712">said before, it's relatively </span><span class="line" data-startTime="1715">straightforward, but it's a </span><span class="line" data-startTime="1715">little bit difficult for me to </span><span class="line" data-startTime="1719">demo, so I'm going to walk </span><span class="line" data-startTime="1719">through the slides, and if </span><span class="line" data-startTime="1721">anyone's interested in trying </span><span class="line" data-startTime="1721">this, we have all the sample </span><span class="line" data-startTime="1724">code provided at the end of the </span><span class="line" data-startTime="1724">deck, which you can then </span><span class="line" data-startTime="1729">download and compile at home. </span> <span class="line" data-startTime="1731">So we're going to talk </span><span class="line" data-startTime="1731">particularly about the </span><span class="line" data-startTime="1733">JavaScript case. </span> <span class="line" data-startTime="1735">So we have this application </span><span class="line" data-startTime="1735">backend that I made. </span> <span class="line" data-startTime="1738">We have this JavaScript client </span><span class="line" data-startTime="1738">that I demonstrated before. </span> <span class="line" data-startTime="1741">We're going to see what it takes </span><span class="line" data-startTime="1741">to add OAuth 2 into that </span><span class="line" data-startTime="1745">application. </span> <span class="line" data-startTime="1745">So the first thing that we </span><span class="line" data-startTime="1745">need to do is we need to </span><span class="line" data-startTime="1748">modify our API annotation. </span> <span class="line" data-startTime="1751">And this is basically </span><span class="line" data-startTime="1751">a one-line change. </span></p>

<p><span class="line" data-startTime="1754">It's really a couple lines here </span><span class="line" data-startTime="1754">because I've abstracted </span><span class="line" data-startTime="1757">out these client IDs into </span><span class="line" data-startTime="1757">their own class. </span> <span class="line" data-startTime="1760">it could be one line if </span><span class="line" data-startTime="1760">you wanted it to be. </span> <span class="line" data-startTime="1762">So this is the client ID </span><span class="line" data-startTime="1762">representing our JavaScript </span><span class="line" data-startTime="1766">application. </span> <span class="line" data-startTime="1767">So if you're familiar with </span><span class="line" data-startTime="1767">OAuth 2, you're probably </span><span class="line" data-startTime="1769">familiar with client IDs. </span> <span class="line" data-startTime="1771">If not, they're basically a </span><span class="line" data-startTime="1771">way that you can uniquely </span><span class="line" data-startTime="1774">identify an application </span><span class="line" data-startTime="1774">running code. </span></p>

<p><span class="line" data-startTime="1778">So here we're registering for </span><span class="line" data-startTime="1778">a client ID inside of the </span><span class="line" data-startTime="1781">Google API's console. </span> <span class="line" data-startTime="1783">If you're, again, familiar with </span><span class="line" data-startTime="1783">other Google API's, it's </span><span class="line" data-startTime="1785">exactly the same process you </span><span class="line" data-startTime="1785">would do in order to use any </span><span class="line" data-startTime="1789">of those APIs. </span> <span class="line" data-startTime="1791">And this will give us basically </span><span class="line" data-startTime="1791">a string that </span><span class="line" data-startTime="1793">represents our app, which we </span><span class="line" data-startTime="1793">can paste into this code. </span> <span class="line" data-startTime="1796">And this will get sent along </span><span class="line" data-startTime="1796">with requests for OAuth tokens </span><span class="line" data-startTime="1800">that come from this JavaScript </span><span class="line" data-startTime="1800">application. </span> <span class="line" data-startTime="1803">So now the next thing we need </span><span class="line" data-startTime="1803">to do is, we need to modify </span><span class="line" data-startTime="1806">our backend to accept this user </span><span class="line" data-startTime="1806">object that we get from </span><span class="line" data-startTime="1812">the client libraries. </span> <span class="line" data-startTime="1812">So the way we do that is we add </span><span class="line" data-startTime="1812">in this user object here </span><span class="line" data-startTime="1816">as I demonstrated before </span><span class="line" data-startTime="1816">in the code. </span></p>

<p><span class="line" data-startTime="1818">This will be populated </span><span class="line" data-startTime="1818">automatically with the Google </span><span class="line" data-startTime="1822">account of the user who has </span><span class="line" data-startTime="1822">sent us an OAuth token. </span> <span class="line" data-startTime="1826">Or in the case where there's </span><span class="line" data-startTime="1826">no OAuth token, the user </span><span class="line" data-startTime="1828">object will be null. </span> <span class="line" data-startTime="1829">And we can figure out what to </span><span class="line" data-startTime="1829">do in that case depending on </span><span class="line" data-startTime="1831">the application. </span> <span class="line" data-startTime="1833">So let's assume it's not null. </span> <span class="line" data-startTime="1834">If it's not null, then we're </span><span class="line" data-startTime="1834">going to set the player of the </span><span class="line" data-startTime="1837">game to be whoever it is </span><span class="line" data-startTime="1837">represented by the token. </span> <span class="line" data-startTime="1840">So this will give us nice per </span><span class="line" data-startTime="1840">user scores in our datastore. </span> <span class="line" data-startTime="1845">And then in the case where </span><span class="line" data-startTime="1845">there's no user present, we </span><span class="line" data-startTime="1848">throw an OAuth request exception </span><span class="line" data-startTime="1848">basically saying, </span><span class="line" data-startTime="1850">hey, you need to sign </span><span class="line" data-startTime="1850">in, otherwise, you </span><span class="line" data-startTime="1852">can't use this API. </span></p>

<p><span class="line" data-startTime="1854">And this will give us a nice </span><span class="line" data-startTime="1854">HTTP status code that we would </span><span class="line" data-startTime="1857">expect when the user </span><span class="line" data-startTime="1857">has to sign in. </span> <span class="line" data-startTime="1861">So that's all you need </span><span class="line" data-startTime="1861">to do in the backend. </span> <span class="line" data-startTime="1862">You just redeploy, automatically </span><span class="line" data-startTime="1862">works, and then </span><span class="line" data-startTime="1866">it's just updating </span><span class="line" data-startTime="1866">your client. </span> <span class="line" data-startTime="1867">So in the example I showed you, </span><span class="line" data-startTime="1867">we're loading one API, </span><span class="line" data-startTime="1872">tic-tac-toe. </span> <span class="line" data-startTime="1873">In this updated case, </span><span class="line" data-startTime="1873">we're also going to </span><span class="line" data-startTime="1875">load the OAuth 2 API. </span></p>

<p><span class="line" data-startTime="1877">And then once both of these </span><span class="line" data-startTime="1877">are called, we're going to </span><span class="line" data-startTime="1879">attempt to sign in the user. </span> <span class="line" data-startTime="1881">So in the case that the user </span><span class="line" data-startTime="1881">is already signed in in the </span><span class="line" data-startTime="1883">past, this will automatically </span><span class="line" data-startTime="1883">work and you'll be thrown </span><span class="line" data-startTime="1887">right into the execution of your </span><span class="line" data-startTime="1887">primary code within the </span><span class="line" data-startTime="1891">application. </span> <span class="line" data-startTime="1892">In the case where the user </span><span class="line" data-startTime="1892">hasn't signed in, this won't </span><span class="line" data-startTime="1895">do anything, and you will need </span><span class="line" data-startTime="1895">to catch that behavior later, </span><span class="line" data-startTime="1898">and I'll show you the right </span><span class="line" data-startTime="1898">way to do that. </span> <span class="line" data-startTime="1902">So basically, the sign-in </span><span class="line" data-startTime="1902">method, we have the client ID </span><span class="line" data-startTime="1905">that we just created. </span></p>

<p><span class="line" data-startTime="1907">We have scope, so basically, </span><span class="line" data-startTime="1907">we're interested in the email </span><span class="line" data-startTime="1909">scope of the user in this </span><span class="line" data-startTime="1909">particular case, and then we </span><span class="line" data-startTime="1912">have the mode. </span> <span class="line" data-startTime="1914">Mode basically determines </span><span class="line" data-startTime="1914">whether or not we want to try </span><span class="line" data-startTime="1917">to automatically sign </span><span class="line" data-startTime="1917">the user in. </span> <span class="line" data-startTime="1919">If we put mode to true, we will </span><span class="line" data-startTime="1919">not get a pop-up window. </span> <span class="line" data-startTime="1923">And so that basically means, </span><span class="line" data-startTime="1923">don't ask the user for </span><span class="line" data-startTime="1926">permission. </span> <span class="line" data-startTime="1926">Try to sign them in. </span> <span class="line" data-startTime="1927">If they've already signed </span><span class="line" data-startTime="1927">in, this will succeed. </span> <span class="line" data-startTime="1929">If they haven't signed in, </span><span class="line" data-startTime="1929">nothing will happen. </span> <span class="line" data-startTime="1932">So the user always has to </span><span class="line" data-startTime="1932">explicitly grant permission to </span><span class="line" data-startTime="1937">user applications. </span></p>

<p><span class="line" data-startTime="1938">This isn't going to do anything </span><span class="line" data-startTime="1938">sneaky behind the </span><span class="line" data-startTime="1940">scenes, but once they've granted </span><span class="line" data-startTime="1940">that access, you can </span><span class="line" data-startTime="1944">automatically sign them </span><span class="line" data-startTime="1944">in in the future. </span> <span class="line" data-startTime="1947">And then we're basically getting </span><span class="line" data-startTime="1947">a token calling a </span><span class="line" data-startTime="1949">callback, again, very familiar </span><span class="line" data-startTime="1949">for JavaScript developers. </span> <span class="line" data-startTime="1955">And so this method here is </span><span class="line" data-startTime="1955">basically boilerplate code </span><span class="line" data-startTime="1958">that you could copy into </span><span class="line" data-startTime="1958">your own applications. </span> <span class="line" data-startTime="1960">This is going to make sure </span><span class="line" data-startTime="1960">that the tokens are being </span><span class="line" data-startTime="1963">stored in the right place and </span><span class="line" data-startTime="1963">basically, make sure that the </span><span class="line" data-startTime="1968">user has actually signed in and </span><span class="line" data-startTime="1968">you have access to their </span><span class="line" data-startTime="1971">email address. </span> <span class="line" data-startTime="1971">Once that's true, you then </span><span class="line" data-startTime="1971">call your endpoints. </span> <span class="line" data-startTime="1976">And then the final thing </span><span class="line" data-startTime="1976">you need to add </span><span class="line" data-startTime="1978">is a sign-in button. </span></p>

<p><span class="line" data-startTime="1980">And so the purpose of the </span><span class="line" data-startTime="1980">sign-in button, of course, is </span><span class="line" data-startTime="1982">for the user that has never </span><span class="line" data-startTime="1982">signed into your application </span><span class="line" data-startTime="1985">to click the button triggering </span><span class="line" data-startTime="1985">the invocation of this method </span><span class="line" data-startTime="1989">here which will then </span><span class="line" data-startTime="1989">display a pop up. </span> <span class="line" data-startTime="1991">And so the pop up can only </span><span class="line" data-startTime="1991">happen if it's in response to </span><span class="line" data-startTime="1995">a user action. </span> <span class="line" data-startTime="1996">So pop-up blockers are in most </span><span class="line" data-startTime="1996">modern browsers at this point. </span> <span class="line" data-startTime="2000">If you tried to throw a pop-up </span><span class="line" data-startTime="2000">window without the user doing </span><span class="line" data-startTime="2003">anything, it would be blocked. </span> <span class="line" data-startTime="2004">But because they've clicked this </span><span class="line" data-startTime="2004">button, the pop-up window </span><span class="line" data-startTime="2007">will actually display. </span> <span class="line" data-startTime="2010">So if anyone wants to try the </span><span class="line" data-startTime="2010">authenticated version of </span><span class="line" data-startTime="2013">tic-tac-toe, one last </span><span class="line" data-startTime="2013">QR code for you. </span> <span class="line" data-startTime="2016">I'll leave this up here for </span><span class="line" data-startTime="2016">a second, and then I will </span><span class="line" data-startTime="2018">demonstrate application </span><span class="line" data-startTime="2018">myself. </span></p>

<p><span class="line" data-startTime="2019">You could probably guess </span><span class="line" data-startTime="2019">how it will go. </span> <span class="line" data-startTime="2032">All right. </span> <span class="line" data-startTime="2034">Tic-tac-toe. </span> <span class="line" data-startTime="2035">Let's sign in. </span> <span class="line" data-startTime="2037">So we hit this button. </span> <span class="line" data-startTime="2039">I'm already signed into my </span><span class="line" data-startTime="2039">Google account in other tabs, </span><span class="line" data-startTime="2042">so there's no sign-in process </span><span class="line" data-startTime="2042">that I have to </span><span class="line" data-startTime="2045">go through for that. </span> <span class="line" data-startTime="2046">You can see this is my test </span><span class="line" data-startTime="2046">account from the corner. </span> <span class="line" data-startTime="2048">So basically, the application </span><span class="line" data-startTime="2048">wants to </span><span class="line" data-startTime="2051">know who I am on Google. </span> <span class="line" data-startTime="2052">That's code for uniquely </span><span class="line" data-startTime="2052">identify your Google account. </span> <span class="line" data-startTime="2057">And because they're going to </span><span class="line" data-startTime="2057">give me a user object with an </span><span class="line" data-startTime="2060">App Engine, that also gives </span><span class="line" data-startTime="2060">access to the email address. </span></p>

<p><span class="line" data-startTime="2063">So these are typical permissions </span><span class="line" data-startTime="2063">that you would see </span><span class="line" data-startTime="2065">within other App Engine </span><span class="line" data-startTime="2065">applications. </span> <span class="line" data-startTime="2068">So that sounds reasonable </span><span class="line" data-startTime="2068">to me. </span> <span class="line" data-startTime="2070">So I'll access. </span> <span class="line" data-startTime="2071">I click the button, and </span><span class="line" data-startTime="2071">boom, I'm signed in. </span> <span class="line" data-startTime="2074">If we go to the bottom, I </span><span class="line" data-startTime="2074">haven't played any games </span><span class="line" data-startTime="2076">previously, so we can </span><span class="line" data-startTime="2076">start playing here. </span> <span class="line" data-startTime="2081">I win. </span> <span class="line" data-startTime="2082">Surprise. </span> <span class="line" data-startTime="2082">And my high score </span><span class="line" data-startTime="2082">is now saved. </span> <span class="line" data-startTime="2084">But if I were to reload this, </span><span class="line" data-startTime="2084">I'm automatically sign in, and </span><span class="line" data-startTime="2088">the games that I've played, only </span><span class="line" data-startTime="2088">I've played, are the ones </span><span class="line" data-startTime="2091">that show up at the bottom. </span> <span class="line" data-startTime="2092">I'm sure some of you out there </span><span class="line" data-startTime="2092">have won your own games of </span><span class="line" data-startTime="2095">tic-tac-toe, and they're not </span><span class="line" data-startTime="2095">basically polluting the list </span><span class="line" data-startTime="2099">of high scores that I want </span><span class="line" data-startTime="2099">to see for myself. </span></p>

<p><span class="line" data-startTime="2102">So that's pretty much it. </span> <span class="line" data-startTime="2103">So if anyone's curious how to </span><span class="line" data-startTime="2103">build their own APIs, we've </span><span class="line" data-startTime="2109">got links here to the Endpoints </span><span class="line" data-startTime="2109">documentation and </span><span class="line" data-startTime="2112">then we also have full sample </span><span class="line" data-startTime="2112">code for Java Backend, which </span><span class="line" data-startTime="2115">includes this JavaScript </span><span class="line" data-startTime="2115">example, and then Android and </span><span class="line" data-startTime="2118">iOS clients. </span> <span class="line" data-startTime="2120">And if there's Python developers </span><span class="line" data-startTime="2120">out there, we also </span><span class="line" data-startTime="2122">have a parallel example for </span><span class="line" data-startTime="2122">building this with Python too. </span> <span class="line" data-startTime="2127">So that's it. </span> <span class="line" data-startTime="2129">So if anyone has any </span><span class="line" data-startTime="2129">questions, I'm </span><span class="line" data-startTime="2130">happy to take them. </span> <span class="line" data-startTime="2134">Yes. </span></p>

<p class="speaker"><span class="line" data-starttime="2136"><span class="speakerName">Audience</span>: [INAUDIBLE]. </span></p>

<p class="speaker"><span class="line" data-starttime="2139"><span class="speakerName">Dan Holevoet</span>: You mean within </span><span class="line" data-startTime="2139">Endpoints or on </span><span class="line" data-startTime="2141">App Engine in general? </span></p>

<p class="speaker"><span class="line" data-starttime="2142"><span class="speakerName">Audience</span>: [INAUDIBLE]. </span></p>

<p class="speaker"><span class="line" data-starttime="2144"><span class="speakerName">Dan Holevoet</span>: So there is &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2145"><span class="speakerName">Audience</span>: Can you repeat </span><span class="line" data-startTime="2145">the question? </span></p>

<p class="speaker"><span class="line" data-starttime="2145"><span class="speakerName">Dan Holevoet</span>: Yes, I'll </span><span class="line" data-startTime="2145">repeat the question. </span><span class="line" data-startTime="2146">So the question was, any chance </span><span class="line" data-startTime="2146">we could support Rails </span><span class="line" data-startTime="2150">on App Engine. </span><span class="line" data-startTime="2151">And so there is no automatic </span><span class="line" data-startTime="2151">support right now but there is </span><span class="line" data-startTime="2156">support through the JVM. </span><span class="line" data-startTime="2158">So if you're comfortable running </span><span class="line" data-startTime="2158">Rails through the JVM, </span><span class="line" data-startTime="2162">that is something that </span><span class="line" data-startTime="2162">you could do. </span><span class="line" data-startTime="2164">Endpoints itself probably isn't </span><span class="line" data-startTime="2164">going to work too well </span><span class="line" data-startTime="2167">with that just because some of </span><span class="line" data-startTime="2167">the bindings aren't there. </span><span class="line" data-startTime="2170">But you could write a generic </span><span class="line" data-startTime="2170">Rails application on APP </span><span class="line" data-startTime="2172">Engine if you wanted to. </span><span class="line" data-startTime="2175">Other questions? </span></p>

<p class="speaker"><span class="line" data-starttime="2179"><span class="speakerName">Audience</span>: I have </span><span class="line" data-startTime="2179">two questions. </span></p>

<p class="speaker"><span class="line" data-starttime="2181"><span class="speakerName">Dan Holevoet</span>: Sure. </span></p>

<p class="speaker"><span class="line" data-starttime="2182"><span class="speakerName">Audience</span>: One is the last </span><span class="line" data-startTime="2182">session information on Go. </span><span class="line" data-startTime="2185">Can you talk a little bit </span><span class="line" data-startTime="2185">advantage of using Go? </span><span class="line" data-startTime="2188">The second question is, how </span><span class="line" data-startTime="2188">do you compare your </span><span class="line" data-startTime="2191">service with AWS? </span></p>

<p class="speaker"><span class="line" data-starttime="2194"><span class="speakerName">Dan Holevoet</span>: So the </span><span class="line" data-startTime="2194">two questions. </span> <span class="line" data-startTime="2195">The first question is, can I </span><span class="line" data-startTime="2195">talk a little bit more about </span><span class="line" data-startTime="2197">Go, some of the advantages </span><span class="line" data-startTime="2197">of Go. </span> <span class="line" data-startTime="2200">And the second one is, how would </span><span class="line" data-startTime="2200">I compare this to AWS. </span> <span class="line" data-startTime="2203">So the first question &mdash; </span><span class="line" data-startTime="2205">so Go is a language, of course, </span><span class="line" data-startTime="2205">designed by Google </span><span class="line" data-startTime="2209">engineers primarily to solve a </span><span class="line" data-startTime="2209">lot of the problems that they </span><span class="line" data-startTime="2212">encountered in building </span><span class="line" data-startTime="2212">complex applications. </span> <span class="line" data-startTime="2216">Within App Engine, there is some </span><span class="line" data-startTime="2216">unique advantages to Go </span><span class="line" data-startTime="2220">such as incredibly fast start </span><span class="line" data-startTime="2220">up time, so we're talking on </span><span class="line" data-startTime="2223">the order usually of </span><span class="line" data-startTime="2223">milliseconds when starting up </span><span class="line" data-startTime="2226">new instances. </span> <span class="line" data-startTime="2228">But it's also a very </span><span class="line" data-startTime="2228">modern language. </span></p>

<p><span class="line" data-startTime="2231">People really seem to enjoy </span><span class="line" data-startTime="2231">developing in Go. </span> <span class="line" data-startTime="2234">I haven't spent too much time </span><span class="line" data-startTime="2234">with it myself, so I'm maybe </span><span class="line" data-startTime="2236">not the best person to ask. </span> <span class="line" data-startTime="2238">But if Google software engineers </span><span class="line" data-startTime="2238">love it and say it's </span><span class="line" data-startTime="2244">great for building complex </span><span class="line" data-startTime="2244">applications, I trust their </span><span class="line" data-startTime="2246">word on it. </span> <span class="line" data-startTime="2249">And I mean, like I said before, </span><span class="line" data-startTime="2249">there isn't currently </span><span class="line" data-startTime="2253">support for Endpoints within </span><span class="line" data-startTime="2253">Go, but of course, it's </span><span class="line" data-startTime="2256">something we're looking at </span><span class="line" data-startTime="2256">because it's one of the three </span><span class="line" data-startTime="2259">languages supported </span><span class="line" data-startTime="2259">on App Engine. </span> <span class="line" data-startTime="2261">So for the second question, </span><span class="line" data-startTime="2261">how does App </span><span class="line" data-startTime="2264">Engine compare to AWS? </span><span class="line" data-startTime="2265">I mean, they're very, very </span><span class="line" data-startTime="2265">different products. </span></p>

<p><span class="line" data-startTime="2267">There are probably other </span><span class="line" data-startTime="2267">competitors to App Engine that </span><span class="line" data-startTime="2272">would make better comparisons. </span> <span class="line" data-startTime="2273">But I mean, with AWS, you're </span><span class="line" data-startTime="2273">getting your own VM. </span> <span class="line" data-startTime="2276">I'd be more willing to compare </span><span class="line" data-startTime="2276">that to Compute Engine than </span><span class="line" data-startTime="2279">App Engine, which is basically a </span><span class="line" data-startTime="2279">managed environment for you. </span> <span class="line" data-startTime="2283">You're not tweaking VM settings </span><span class="line" data-startTime="2283">with an App Engine. </span> <span class="line" data-startTime="2286">You're deploying the code and </span><span class="line" data-startTime="2286">then the team of engineers at </span><span class="line" data-startTime="2290">Google is really the one that's </span><span class="line" data-startTime="2290">worrying about all </span><span class="line" data-startTime="2292">these configuration settings. </span> <span class="line" data-startTime="2295">With that said, there are things </span><span class="line" data-startTime="2295">that you can configure </span><span class="line" data-startTime="2297">with an App Engine like how many </span><span class="line" data-startTime="2297">idle instances do I want </span><span class="line" data-startTime="2300">to have, how long should they </span><span class="line" data-startTime="2300">remain alive before they get </span><span class="line" data-startTime="2304">killed by the scheduler, </span><span class="line" data-startTime="2304">things like that. </span></p>

<p><span class="line" data-startTime="2306">But it's basically a very </span><span class="line" data-startTime="2306">different type of environment </span><span class="line" data-startTime="2311">than you would expect if you're </span><span class="line" data-startTime="2311">familiar with AWS. </span> <span class="line" data-startTime="2316">Other questions? </span></p>

<p class="speaker"><span class="line" data-starttime="2321"><span class="speakerName">Audience</span>: [INAUDIBLE]. </span></p>

<p class="speaker"><span class="line" data-starttime="2323"><span class="speakerName">Dan Holevoet</span>: So are </span><span class="line" data-startTime="2323">Endpoints already </span><span class="line" data-startTime="2324">available, is the question. </span><span class="line" data-startTime="2326">So Endpoints were released </span><span class="line" data-startTime="2326">as an experimental </span><span class="line" data-startTime="2329">feature last month. </span><span class="line" data-startTime="2331">And if you're familiar with </span><span class="line" data-startTime="2331">our branding, experimental </span><span class="line" data-startTime="2336">features can change, and we've </span><span class="line" data-startTime="2336">actually moved them past </span><span class="line" data-startTime="2340">experimental into what we're </span><span class="line" data-startTime="2340">calling preview. </span><span class="line" data-startTime="2342">And so those are features that </span><span class="line" data-startTime="2342">are well on their way to being </span><span class="line" data-startTime="2345">GA at which inspires more of a </span><span class="line" data-startTime="2345">vote of confidence, I think, </span><span class="line" data-startTime="2348">in people who are interested </span><span class="line" data-startTime="2348">in using them. </span><span class="line" data-startTime="2350">So Endpoints are a </span><span class="line" data-startTime="2350">preview feature. </span><span class="line" data-startTime="2352">Anyone has access to them if </span><span class="line" data-startTime="2352">they have an App Engine </span><span class="line" data-startTime="2355">account, so for you </span><span class="line" data-startTime="2355">to try them. </span></p>

<p class="speaker"><span class="line" data-starttime="2358"><span class="speakerName">Audience</span>: [INAUDIBLE]. </span></p>

<p class="speaker"><span class="line" data-starttime="2360"><span class="speakerName">Dan Holevoet</span>: We have a number </span><span class="line" data-startTime="2360">of people who are already </span><span class="line" data-startTime="2362">using them for production </span><span class="line" data-startTime="2362">applications. </span><span class="line" data-startTime="2365">And they haven't really seen </span><span class="line" data-startTime="2365">any issues with it. </span><span class="line" data-startTime="2369">So it doesn't have the same SLAs </span><span class="line" data-startTime="2369">that we have for the GA </span><span class="line" data-startTime="2373">features, but people have been </span><span class="line" data-startTime="2373">using them without problems. </span><span class="line" data-startTime="2377">Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="2379"><span class="speakerName">Audience</span>: [INAUDIBLE]. </span></p>

<p class="speaker"><span class="line" data-starttime="2384"><span class="speakerName">Dan Holevoet</span>: Sorry. </span><span class="line" data-startTime="2385">Could you repeat the question </span><span class="line" data-startTime="2385">one more time? </span></p>

<p class="speaker"><span class="line" data-starttime="2387"><span class="speakerName">Audience</span>: [INAUDIBLE]. </span></p>

<p class="speaker"><span class="line" data-starttime="2391"><span class="speakerName">Dan Holevoet</span>: Do </span><span class="line" data-startTime="2391">we have support </span><span class="line" data-startTime="2392">for a long-held requests? </span><span class="line" data-startTime="2393">I mean, no, not really. </span><span class="line" data-startTime="2397">I think that's probably the type </span><span class="line" data-startTime="2397">of situation where you'd </span><span class="line" data-startTime="2399">be better off with maybe </span><span class="line" data-startTime="2399">Compute Engine, </span><span class="line" data-startTime="2402">something like that. </span><span class="line" data-startTime="2405">That's not saying we couldn't </span><span class="line" data-startTime="2405">support them. </span><span class="line" data-startTime="2410">I'm trying to think. </span><span class="line" data-startTime="2411">I mean, we don't have support </span><span class="line" data-startTime="2411">for it right now. </span><span class="line" data-startTime="2415">Other questions? </span><span class="line" data-startTime="2418">Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="2419"><span class="speakerName">Audience</span>: [INAUDIBLE]. </span></p>

<p class="speaker"><span class="line" data-starttime="2424"><span class="speakerName">Dan Holevoet</span>: Yep. </span></p>

<p class="speaker"><span class="line" data-starttime="2425"><span class="speakerName">Audience</span>: [INAUDIBLE]. </span></p>

<p class="speaker"><span class="line" data-starttime="2427"><span class="speakerName">Dan Holevoet</span>: So the question was on the </span><span class="line" data-startTime="2427">tic-tac-toe game, what happens </span><span class="line" data-startTime="2430">when you're authorizing the end </span><span class="line" data-startTime="2430">user on Android or iOS. </span> <span class="line" data-startTime="2433">So I can actually show </span><span class="line" data-startTime="2433">you the iOS case. </span> <span class="line" data-startTime="2441">Let's see. </span> <span class="line" data-startTime="2441">Is this the right one? </span><span class="line" data-startTime="2449">Yeah, so the basic idea, </span><span class="line" data-startTime="2449">I mean, it's </span><span class="line" data-startTime="2452">very similar to the &mdash; </span><span class="line" data-startTime="2457">there we go. </span> <span class="line" data-startTime="2459">OK. </span> <span class="line" data-startTime="2460">Maybe I can't show you. </span> <span class="line" data-startTime="2461">Sorry. </span> <span class="line" data-startTime="2462">Basically, on Android, there's </span><span class="line" data-startTime="2462">actually no consent screen it </span><span class="line" data-startTime="2465">all, because the way we're </span><span class="line" data-startTime="2465">handling it is slightly </span><span class="line" data-startTime="2468">different from the JavaScript </span><span class="line" data-startTime="2468">and iOS case. </span> <span class="line" data-startTime="2471">In that case, we're assuming </span><span class="line" data-startTime="2471">that a developer is speaking </span><span class="line" data-startTime="2474">to his own application </span><span class="line" data-startTime="2474">automatically should know who </span><span class="line" data-startTime="2478">the user is. </span></p>

<p><span class="line" data-startTime="2480">And so in that case, there's </span><span class="line" data-startTime="2480">no consent screen. </span> <span class="line" data-startTime="2483">You automatically get access </span><span class="line" data-startTime="2483">to a user object </span><span class="line" data-startTime="2486">on the server side. </span> <span class="line" data-startTime="2488">In the iOS case, it's similar </span><span class="line" data-startTime="2488">to the JavaScript one. </span> <span class="line" data-startTime="2491">So you have to sign in. </span> <span class="line" data-startTime="2493">It's using a web flow, so the </span><span class="line" data-startTime="2493">user will type in their </span><span class="line" data-startTime="2496">credentials if they're not </span><span class="line" data-startTime="2496">already signed in. </span> <span class="line" data-startTime="2497">And you see that same consent </span><span class="line" data-startTime="2497">screen that I showed you that </span><span class="line" data-startTime="2500">would be in line in the UI </span><span class="line" data-startTime="2500">rather than pop up, of course. </span> <span class="line" data-startTime="2506">But the backend code is </span><span class="line" data-startTime="2506">entirely the same. </span> <span class="line" data-startTime="2508">Yeah. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="2509"><span class="speakerName">Audience</span>: [INAUDIBLE]. </span></p>

<p class="speaker"><span class="line" data-starttime="2514"><span class="speakerName">Dan Holevoet</span>: Sorry. </span><span class="line" data-startTime="2514">Can you repeat that one? </span></p>

<p class="speaker"><span class="line" data-starttime="2515"><span class="speakerName">Audience</span>: [INAUDIBLE]. </span></p>

<p class="speaker"><span class="line" data-starttime="2518"><span class="speakerName">Dan Holevoet</span>: Yeah. </span> <span class="line" data-startTime="2518">So Endpoints. </span> <span class="line" data-startTime="2520">The question was, does it </span><span class="line" data-startTime="2520">support native apps. </span> <span class="line" data-startTime="2521">Yes. </span> <span class="line" data-startTime="2522">So basically, you can write </span><span class="line" data-startTime="2522">web applications. </span> <span class="line" data-startTime="2525">You can write Android </span><span class="line" data-startTime="2525">applications. </span> <span class="line" data-startTime="2526">You can write IOS </span><span class="line" data-startTime="2526">applications. </span> <span class="line" data-startTime="2528">Works across all </span><span class="line" data-startTime="2528">three of those. </span> <span class="line" data-startTime="2531">And in the feature set that </span><span class="line" data-startTime="2531">we're targeting, initially, we </span><span class="line" data-startTime="2537">really focused on mobile, but </span><span class="line" data-startTime="2537">there's other client libraries </span><span class="line" data-startTime="2540">that are part of the Google </span><span class="line" data-startTime="2540">API infrastructure and </span><span class="line" data-startTime="2544">services and environment. </span> <span class="line" data-startTime="2547">And it will actually work </span><span class="line" data-startTime="2547">well with those two. </span> <span class="line" data-startTime="2549">So if you want to write like a </span><span class="line" data-startTime="2549">Windows Phone app, we have a </span><span class="line" data-startTime="2554">.net client library that </span><span class="line" data-startTime="2554">you can download. </span></p>

<p><span class="line" data-startTime="2556">And we haven't gone through </span><span class="line" data-startTime="2556">the whole experience quite </span><span class="line" data-startTime="2559">with the same level of detail </span><span class="line" data-startTime="2559">that we have with these three </span><span class="line" data-startTime="2563">libraries that I mentioned, but </span><span class="line" data-startTime="2563">there is support in those </span><span class="line" data-startTime="2566">other libraries at least </span><span class="line" data-startTime="2566">tentatively for </span><span class="line" data-startTime="2568">this type of thing. </span> <span class="line" data-startTime="2571">Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="2572"><span class="speakerName">Audience</span>: [INAUDIBLE]. </span></p>

<p class="speaker"><span class="line" data-starttime="2575"><span class="speakerName">Dan Holevoet</span>: Ah, ActionScript </span><span class="line" data-startTime="2575">client library. </span><span class="line" data-startTime="2576">That as a good question. </span><span class="line" data-startTime="2577">I can't remember off </span><span class="line" data-startTime="2577">the top of my head </span><span class="line" data-startTime="2579">whether we have one. </span><span class="line" data-startTime="2581">We either do have one or </span><span class="line" data-startTime="2581">there was discussion </span><span class="line" data-startTime="2583">of one at some point. </span><span class="line" data-startTime="2584">I can find out. </span></p>

<p class="speaker"><span class="line" data-starttime="2585"><span class="speakerName">Audience</span>: [INAUDIBLE]. </span></p>

<p class="speaker"><span class="line" data-starttime="2587"><span class="speakerName">Dan Holevoet</span>: Yeah. </span><span class="line" data-startTime="2588">ActionScript? </span></p>

<p class="speaker"><span class="line" data-starttime="2589"><span class="speakerName">Audience</span>: [INAUDIBLE]. </span></p>

<p class="speaker"><span class="line" data-starttime="2590"><span class="speakerName">Dan Holevoet</span>: Yeah. </span><span class="line" data-startTime="2594">Other questions? </span><span class="line" data-startTime="2595">Yes. </span></p>

<p class="speaker"><span class="line" data-starttime="2595"><span class="speakerName">Audience</span>: [INAUDIBLE]. </span></p>

<p class="speaker"><span class="line" data-starttime="2597"><span class="speakerName">Dan Holevoet</span>: Ah, Unity. </span><span class="line" data-startTime="2599">So Yeah. </span><span class="line" data-startTime="2602">I mean, so I mentioned there's </span><span class="line" data-startTime="2602">a C# client library. </span><span class="line" data-startTime="2606">And of course, there's a </span><span class="line" data-startTime="2606">JavaScript client library. </span><span class="line" data-startTime="2609">But I think that you would </span><span class="line" data-startTime="2609">probably need to do a bit of </span><span class="line" data-startTime="2613">work to get it working </span><span class="line" data-startTime="2613">with Unity. </span><span class="line" data-startTime="2617">So no out-of-the-box support. </span><span class="line" data-startTime="2621">Anything else? </span><span class="line" data-startTime="2625">Going once. </span><span class="line" data-startTime="2626">Going twice. </span><span class="line" data-startTime="2626">All right. </span><span class="line" data-startTime="2626">Well, thank you all very </span><span class="line" data-startTime="2626">much for coming. </span></p>