<p class="speaker"><span class="line" data-starttime="9"><span class="speakerName">Ido Green</span>: Hello, and welcome to </span><span class="line" data-startTime="9">another episode of GDL-IL, </span><span class="line" data-startTime="12">GDL-Israel. </span> <span class="line" data-startTime="13">Today, we're going to speak </span><span class="line" data-startTime="13">about NodeJS and Chrome, and </span><span class="line" data-startTime="16">how you could leverage the </span><span class="line" data-startTime="16">powerful DevTools that we have </span><span class="line" data-startTime="21">today and Chrome and Chromium </span><span class="line" data-startTime="21">in order to debug NodeJS </span><span class="line" data-startTime="26">applications. </span> <span class="line" data-startTime="28">Now, it's true that you could </span><span class="line" data-startTime="28">debug your NodeJS with </span><span class="line" data-startTime="33">WebStorm, there are some other </span><span class="line" data-startTime="33">options out there. </span> <span class="line" data-startTime="36">But I really like to focus on </span><span class="line" data-startTime="36">Chrome and the open-source </span><span class="line" data-startTime="41">project Chromium, because not </span><span class="line" data-startTime="41">only it's giving you the </span><span class="line" data-startTime="45">ability to it without any money, </span><span class="line" data-startTime="45">which is nice, it's </span><span class="line" data-startTime="49">actually a quite efficient way </span><span class="line" data-startTime="49">to get insight of what your </span><span class="line" data-startTime="53">application is doing and be more </span><span class="line" data-startTime="53">productive when you are </span><span class="line" data-startTime="58">building larger and larger </span><span class="line" data-startTime="58">applications. </span></p>

<p><span class="line" data-startTime="61">So without further ado, let me </span><span class="line" data-startTime="61">just share my screen with you. </span> <span class="line" data-startTime="64">And we'll do it quite </span><span class="line" data-startTime="64">quickly today. </span> <span class="line" data-startTime="68">So we'll start, and actually, </span><span class="line" data-startTime="68">I'll put all those links in </span><span class="line" data-startTime="72">show footnotes. </span> <span class="line" data-startTime="74">It's a blog post that I wrote </span><span class="line" data-startTime="74">and published yesterday. </span> <span class="line" data-startTime="77">And basically, we </span><span class="line" data-startTime="77">see that today &mdash; </span><span class="line" data-startTime="80">and I see it more and </span><span class="line" data-startTime="80">more in Node &mdash; </span><span class="line" data-startTime="82">you're starting with a small </span><span class="line" data-startTime="82">script, and then quite </span><span class="line" data-startTime="84">quickly, you're getting to a </span><span class="line" data-startTime="84">larger, larger app that you </span><span class="line" data-startTime="87">want to get insight and see how </span><span class="line" data-startTime="87">productive you could fix </span><span class="line" data-startTime="90">things and understand what is </span><span class="line" data-startTime="90">going on behind the scenes. </span> <span class="line" data-startTime="95">When we we're going to use it </span><span class="line" data-startTime="95">today, we're go, basically, to </span><span class="line" data-startTime="99">get what Blink is giving us, </span><span class="line" data-startTime="99">so the DevTools that are </span><span class="line" data-startTime="103">sitting inside it. </span> <span class="line" data-startTime="104">And you'll see that they are </span><span class="line" data-startTime="104">quite similar to the DevTools </span><span class="line" data-startTime="107">that we get in Chrome itself. </span> <span class="line" data-startTime="109">So if I open them quite quickly, </span><span class="line" data-startTime="109">as you saw here, </span><span class="line" data-startTime="112">we're getting quite a lot of </span><span class="line" data-startTime="112">tabs over here at the top. </span> <span class="line" data-startTime="116">In our case, when we're going </span><span class="line" data-startTime="116">to debug NodeJS, we only get </span><span class="line" data-startTime="121">to the source stub and </span><span class="line" data-startTime="121">the console one. </span></p>

<p><span class="line" data-startTime="124">And I'll show you in a minute </span><span class="line" data-startTime="124">what does it mean. </span> <span class="line" data-startTime="128">And let me just make </span><span class="line" data-startTime="128">it even larger. </span> <span class="line" data-startTime="131">So the first step, in order to </span><span class="line" data-startTime="131">install it, is of course, </span><span class="line" data-startTime="134">first and foremost, </span><span class="line" data-startTime="134">we install Node. </span> <span class="line" data-startTime="136">And after you install Node, </span><span class="line" data-startTime="136">you'll just run this command </span><span class="line" data-startTime="139">of installing the </span><span class="line" data-startTime="140">node-inspector, which is a model. </span> <span class="line" data-startTime="144">Luckily for us, npm, the ability </span><span class="line" data-startTime="144">to manage models </span><span class="line" data-startTime="149">inside Node is already coming </span><span class="line" data-startTime="149">when you're installing Node. </span> <span class="line" data-startTime="153">So if we just come here and make </span><span class="line" data-startTime="153">this one a bit bigger, </span><span class="line" data-startTime="162">what you could see here </span><span class="line" data-startTime="162">is that I'm just </span><span class="line" data-startTime="165">going to install it. </span> <span class="line" data-startTime="167">And I could see here that it </span><span class="line" data-startTime="167">quite quickly will let me know </span><span class="line" data-startTime="171">that I already have it. </span></p>

<p><span class="line" data-startTime="177">I need just to do </span><span class="line" data-startTime="177">it with a sudo. </span> <span class="line" data-startTime="179">And since I already have it, </span><span class="line" data-startTime="179">again, hopefully this time it </span><span class="line" data-startTime="190">will run without any problem. </span> <span class="line" data-startTime="198">Of course. </span> <span class="line" data-startTime="198">I wrote it with a mistake. </span> <span class="line" data-startTime="201">Let's take it again, </span><span class="line" data-startTime="201">hopefully this </span><span class="line" data-startTime="203">time without any mistakes. </span> <span class="line" data-startTime="209">And hopefully when you're typing </span><span class="line" data-startTime="209">it without mistakes </span><span class="line" data-startTime="212">like what I did, it will run </span><span class="line" data-startTime="212">fluently and much quickly. </span> <span class="line" data-startTime="219">After installing this model, </span><span class="line" data-startTime="219">and we have the ability, we </span><span class="line" data-startTime="223">need, basically, just to attach </span><span class="line" data-startTime="223">it to the script that </span><span class="line" data-startTime="226">we are going to work on. </span> <span class="line" data-startTime="231">So here it's just fetching </span><span class="line" data-startTime="231">a bunch of stuff. </span> <span class="line" data-startTime="235">And at the end of the day, we </span><span class="line" data-startTime="235">just have this ability. </span></p>

<p><span class="line" data-startTime="240">Now if we'll go and, let's </span><span class="line" data-startTime="240">say, run a specific Node </span><span class="line" data-startTime="248">script, like in this case, it's </span><span class="line" data-startTime="248">a Monte Carlo simulation </span><span class="line" data-startTime="251">that I showed you four weeks </span><span class="line" data-startTime="251">ago &mdash; and again, I'll put a </span><span class="line" data-startTime="255">link to it so if you want to </span><span class="line" data-startTime="255">see how to run Monte Carlo </span><span class="line" data-startTime="259">simulations inside NodeJS, </span><span class="line" data-startTime="259">you'd be able to do so. </span> <span class="line" data-startTime="262">Actually, in that episode, in </span><span class="line" data-startTime="262">the last episode, we did it </span><span class="line" data-startTime="264">inside Google Cloud, basically, </span><span class="line" data-startTime="264">Compute Engine. </span> <span class="line" data-startTime="268">And it's a quite powerful tool </span><span class="line" data-startTime="268">to run NodeJS applications. </span> <span class="line" data-startTime="272">Here, the only main difference, </span><span class="line" data-startTime="272">as you can see, is </span><span class="line" data-startTime="275">just putting this dash, </span><span class="line" data-startTime="275">dash debug break. </span></p>

<p><span class="line" data-startTime="280">So our script will just stop </span><span class="line" data-startTime="280">at the first line. </span> <span class="line" data-startTime="284">And when I'm doing it, I'm </span><span class="line" data-startTime="284">getting now the response of, </span><span class="line" data-startTime="286">OK, the debugger now is </span><span class="line" data-startTime="286">listening on port 58. </span> <span class="line" data-startTime="292">Here, you could see here that </span><span class="line" data-startTime="292">I already started the </span><span class="line" data-startTime="297">node-inspector. </span> <span class="line" data-startTime="298">So I'm getting the ability to </span><span class="line" data-startTime="298">just go and [INAUDIBLE] </span><span class="line" data-startTime="303">copy this dislocation. </span> <span class="line" data-startTime="306">And [INAUDIBLE] </span><span class="line" data-startTime="309">just another Chrome tab </span><span class="line" data-startTime="309">we could pass it, </span><span class="line" data-startTime="312">just refresh the page. </span> <span class="line" data-startTime="314">And now what's happening behind </span><span class="line" data-startTime="314">the scene is that it's </span><span class="line" data-startTime="317">connecting to our script. </span> <span class="line" data-startTime="321">And when we just let it run, </span><span class="line" data-startTime="321">right now it's detached. </span> <span class="line" data-startTime="326">But if I try it again &mdash; </span><span class="line" data-startTime="330">Yeah, it's not working. </span> <span class="line" data-startTime="332">Let's try it again. </span> <span class="line" data-startTime="334">We're running it. </span> <span class="line" data-startTime="336">And now let's try to call it. </span> <span class="line" data-startTime="349">We'll just have the running </span><span class="line" data-startTime="349">script in the background. </span></p>

<p><span class="line" data-startTime="354">But now that we do have it, if </span><span class="line" data-startTime="354">we'll just run, you could see </span><span class="line" data-startTime="359">immediately see that </span><span class="line" data-startTime="359">it's going. </span> <span class="line" data-startTime="360">It's connecting to it. </span> <span class="line" data-startTime="361">And I have it with a breakpoint </span><span class="line" data-startTime="361">at the beginning. </span> <span class="line" data-startTime="366">What they could do is </span><span class="line" data-startTime="366">go in and do much </span><span class="line" data-startTime="368">more interesting stuff. </span> <span class="line" data-startTime="370">It's just going to my code. </span> <span class="line" data-startTime="373">And let's say that I'm putting a </span><span class="line" data-startTime="373">breakpoint at the beginning. </span> <span class="line" data-startTime="375">And now I'm just running </span><span class="line" data-startTime="375">to do is breakpoints. </span> <span class="line" data-startTime="378">Some powerful things could </span><span class="line" data-startTime="378">be achieved here. </span> <span class="line" data-startTime="380">So first, I just could inspect </span><span class="line" data-startTime="380">what's going on with each and </span><span class="line" data-startTime="383">every variable. </span> <span class="line" data-startTime="384">And as you could see here, </span><span class="line" data-startTime="384">it's undefined. </span></p>

<p><span class="line" data-startTime="386">But after I'm passing it, I </span><span class="line" data-startTime="386">see exactly what is the </span><span class="line" data-startTime="389">variable that I got here. </span> <span class="line" data-startTime="391">That's quite trivial. </span> <span class="line" data-startTime="392">I could do more sophisticated </span><span class="line" data-startTime="392">stuff, as you all know, just </span><span class="line" data-startTime="396">setting out a breakpoint, and </span><span class="line" data-startTime="396">running to it quite quickly. </span> <span class="line" data-startTime="400">And then, of course, I could </span><span class="line" data-startTime="400">dive into the function itself, </span><span class="line" data-startTime="404">run scenario blending. </span> <span class="line" data-startTime="406">But if I just want to see what's </span><span class="line" data-startTime="406">going on after the </span><span class="line" data-startTime="409">function has returned, I could </span><span class="line" data-startTime="409">now go to the expression </span><span class="line" data-startTime="412">itself, see that </span><span class="line" data-startTime="412">it's containing </span><span class="line" data-startTime="414">some interesting values. </span> <span class="line" data-startTime="416">I could do local modification. </span></p>

<p><span class="line" data-startTime="418">I could get edit to the watch. </span> <span class="line" data-startTime="420">And as you can see here, now </span><span class="line" data-startTime="420">I have it permanently. </span> <span class="line" data-startTime="423">So I could do some nice things </span><span class="line" data-startTime="423">[INAUDIBLE] see exactly what's </span><span class="line" data-startTime="427">going on here. </span> <span class="line" data-startTime="428">I could also, of course, </span><span class="line" data-startTime="428">click Escape and get </span><span class="line" data-startTime="431">in the console here. </span> <span class="line" data-startTime="432">And in the console, the great </span><span class="line" data-startTime="432">benefits that you already have </span><span class="line" data-startTime="436">in Node, like doing nice things </span><span class="line" data-startTime="436">like autocompletes on </span><span class="line" data-startTime="442">the variables that you have in </span><span class="line" data-startTime="442">your scripts, and then diving </span><span class="line" data-startTime="445">into a certain object to see </span><span class="line" data-startTime="445">what's going on there, and </span><span class="line" data-startTime="449">lots of other things, </span><span class="line" data-startTime="449">of course. </span> <span class="line" data-startTime="451">You have the call stack, so you </span><span class="line" data-startTime="451">could see exactly what's </span><span class="line" data-startTime="454">going on and how the application </span><span class="line" data-startTime="454">path, in terms of </span><span class="line" data-startTime="458">the function calls went. </span></p>

<p><span class="line" data-startTime="460">And the scope, of course, of the </span><span class="line" data-startTime="460">variables, what's going on </span><span class="line" data-startTime="463">in each and every one of them. </span> <span class="line" data-startTime="465">And, of course, breakpoints. </span> <span class="line" data-startTime="467">So if you want to see where </span><span class="line" data-startTime="467">you set the breakpoints. </span> <span class="line" data-startTime="470">In our case, it was at the </span><span class="line" data-startTime="470">beginning of the script, and </span><span class="line" data-startTime="472">then a bit later on. </span> <span class="line" data-startTime="474">And lots of others </span><span class="line" data-startTime="474">possibilities. </span> <span class="line" data-startTime="477">Of course, when you are just </span><span class="line" data-startTime="477">releasing the lock of the </span><span class="line" data-startTime="481">breakpoints, and you could see </span><span class="line" data-startTime="481">here in this window that the </span><span class="line" data-startTime="484">script will continue to run. </span> <span class="line" data-startTime="486">And let me try to adjust that. </span> <span class="line" data-startTime="489">So of course, since we are </span><span class="line" data-startTime="489">breaking a point inside </span><span class="line" data-startTime="493">function, that's inside a loop, </span><span class="line" data-startTime="493">we continue to do so. </span></p>

<p><span class="line" data-startTime="496">But now that I removed it, and </span><span class="line" data-startTime="496">I could move this one, as </span><span class="line" data-startTime="499">well, I could just run it. </span> <span class="line" data-startTime="501">And as you can see here, quite </span><span class="line" data-startTime="501">nicely, it's all running in </span><span class="line" data-startTime="504">the background. </span> <span class="line" data-startTime="504">We actually ran 10,000 </span><span class="line" data-startTime="504">trials, and got the </span><span class="line" data-startTime="511">response quite quickly. </span> <span class="line" data-startTime="513">Actually it took us this amount </span><span class="line" data-startTime="513">of time because we </span><span class="line" data-startTime="516">showed how to do things. </span> <span class="line" data-startTime="517">But if we run it without </span><span class="line" data-startTime="517">breaking, to just let me show </span><span class="line" data-startTime="521">you the powerful node, in terms </span><span class="line" data-startTime="521">of performance, how </span><span class="line" data-startTime="526">quickly doing things. </span> <span class="line" data-startTime="528">So we got 10,000 trials </span><span class="line" data-startTime="528">in 357 milliseconds, </span><span class="line" data-startTime="532">which is quite nice. </span> <span class="line" data-startTime="535">So that's basically </span><span class="line" data-startTime="535">what we got. </span> <span class="line" data-startTime="537">The node-inspector's giving </span><span class="line" data-startTime="537">you the powerful DevTools </span><span class="line" data-startTime="540">under your arm when you're going </span><span class="line" data-startTime="540">and want to check and </span><span class="line" data-startTime="545">verify and debug your scripts. </span> <span class="line" data-startTime="547">Hopefully in the near future, </span><span class="line" data-startTime="547">we'll have here other </span><span class="line" data-startTime="549">thoughts, like the profiler, the </span><span class="line" data-startTime="549">audit, and more and more. </span> <span class="line" data-startTime="553">And all the links for how to do </span><span class="line" data-startTime="553">it and what are the steps, </span><span class="line" data-startTime="560">as you can see here, will be </span><span class="line" data-startTime="562">published in the show footnotes. </span></p>

<p><span class="line" data-startTime="564">So feel free to just go and </span><span class="line" data-startTime="564">try it on yourselves. </span> <span class="line" data-startTime="568">If you want to have questions or </span><span class="line" data-startTime="568">comments, please feel free </span><span class="line" data-startTime="572">to reach out to me on greenido </span><span class="line" data-startTime="572">at Twitter or greenido in G+. </span> <span class="line" data-startTime="577">So until next time, thank you </span><span class="line" data-startTime="577">very much and be strong. </span> <span class="line" data-startTime="581">Thank you. </span> <span class="line" data-startTime="582">Bye bye. </span></p>