<style>* {font-family: "Open Sans", sans-serif}
a {color: #77aaff}
a.video {border-bottom: 1px solid #ddd; display: block; margin: 0 0 2em 0; padding: 0 0 2em 0}
h2 {color: #444; font-size: 18px;}
span.speakerName {color: black; font-weight: 900;}
body {padding: 2em}
p {color: #444; margin: 0; text-indent: 1.5em;}
p.speaker {margin: 1em 0 0 0; text-indent: 0;}
div#transcript > p:first-child {text-indent: 0;}
</style>

<h1>GDC 2012: Best practices in developing a web game</h1>

<h2>Colt McAnlis</h2>

<a class="video" href="http://youtu.be/huXucPChX3g">youtu.be/huXucPChX3g</a><div id="transcript"><p class="speaker"><span class="line" data-starttime="5"><span class="speakerName">Colt McAnlis</span>: Everybody. </span> <span class="line" data-startTime="5">My name is Colt McAnlis. </span> <span class="line" data-startTime="6">I'm a game developer advocate </span><span class="line" data-startTime="6">here at Google, focusing on </span><span class="line" data-startTime="9">Native Client and Chrome. </span> <span class="line" data-startTime="11">Thank you all for coming </span><span class="line" data-startTime="11">to the Google Dev Day. </span> <span class="line" data-startTime="13">We've got a lot of great talks </span><span class="line" data-startTime="13">so far today and hopefully </span><span class="line" data-startTime="16">this will continue in our </span><span class="line" data-startTime="16">processes to get you ready to </span><span class="line" data-startTime="20">use web gaming, I suppose </span><span class="line" data-startTime="20">is the big thing. </span> <span class="line" data-startTime="22">Here at GDC, there's a lot of </span><span class="line" data-startTime="22">focus on console, but everyone </span><span class="line" data-startTime="25">is moving towards web gaming. </span> <span class="line" data-startTime="26">And we understand that this is </span><span class="line" data-startTime="26">an important trend in sort of </span><span class="line" data-startTime="29">the evolution of gaming </span><span class="line" data-startTime="29">as a whole. </span> <span class="line" data-startTime="31">And what we're going to talk </span><span class="line" data-startTime="31">about today is best practices </span><span class="line" data-startTime="33">in developing those </span><span class="line" data-startTime="33">web gaming. </span> <span class="line" data-startTime="34">So being at Google, you sort of </span><span class="line" data-startTime="34">have an interesting ability </span><span class="line" data-startTime="38">to look at the broad spectrum </span><span class="line" data-startTime="38">of data and the number of </span><span class="line" data-startTime="40">developers out there on the web </span><span class="line" data-startTime="40">doing some amazing things, </span><span class="line" data-startTime="44">and mine that data, look at it </span><span class="line" data-startTime="44">from different angles, and </span><span class="line" data-startTime="47">sort of construct the best </span><span class="line" data-startTime="47">practices document. </span></p>

<p><span class="line" data-startTime="49">And that's really what </span><span class="line" data-startTime="49">this talk is about. </span> <span class="line" data-startTime="51">This doc very specifically is </span><span class="line" data-startTime="51">focused to developers who are </span><span class="line" data-startTime="54">not already multi-millionaires </span><span class="line" data-startTime="54">at developing web games. </span> <span class="line" data-startTime="59">If you're already if you're a </span><span class="line" data-startTime="59">making millions and millions </span><span class="line" data-startTime="61">of dollars with your web game, </span><span class="line" data-startTime="61">chances are you know </span><span class="line" data-startTime="64">everything that I'm about </span><span class="line" data-startTime="64">to talk about. </span> <span class="line" data-startTime="65">So feel free, check </span><span class="line" data-startTime="65">your emails. </span> <span class="line" data-startTime="67">Zone out. </span> <span class="line" data-startTime="68">Figure out what parties you're </span><span class="line" data-startTime="68">going to at GDC. </span></p>

<p><span class="line" data-startTime="70">Have fun with that. </span> <span class="line" data-startTime="72">In mean time for everybody </span><span class="line" data-startTime="72">else, we're going to talk </span><span class="line" data-startTime="75">today about developing a web </span><span class="line" data-startTime="75">game in modern browsers. </span> <span class="line" data-startTime="77">Now the interesting point </span><span class="line" data-startTime="77">here is twofold. </span> <span class="line" data-startTime="80">First off is I'm saying </span><span class="line" data-startTime="80">in modern browsers. </span> <span class="line" data-startTime="83">So I think we can all agree that </span><span class="line" data-startTime="83">when we talk about web </span><span class="line" data-startTime="86">gaming, there's sort of this </span><span class="line" data-startTime="86">threshold of minimum feature </span><span class="line" data-startTime="90">set that we're not willing </span><span class="line" data-startTime="90">to go below. </span> <span class="line" data-startTime="92">A lot of developers when you </span><span class="line" data-startTime="92">talk about web gaming and they </span><span class="line" data-startTime="94">say well, what about ubiquity? </span><span class="line" data-startTime="95">What about reach? </span><span class="line" data-startTime="96">But at the same time, they're </span><span class="line" data-startTime="96">not really able to make the </span><span class="line" data-startTime="100">experience of their game </span><span class="line" data-startTime="100">translate to these older </span><span class="line" data-startTime="102">browsers that don't have </span><span class="line" data-startTime="102">the same capabilities. </span> <span class="line" data-startTime="105">So today, I want to make sure </span><span class="line" data-startTime="105">that we're focusing things </span><span class="line" data-startTime="108">since you are at the Google </span><span class="line" data-startTime="108">Developer Day, that we're </span><span class="line" data-startTime="110">actually talking about Chrome. </span></p>

<p><span class="line" data-startTime="112">Chrome is considered </span><span class="line" data-startTime="112">a modern browser. </span> <span class="line" data-startTime="114">It's a very important </span><span class="line" data-startTime="114">linchpin in the </span><span class="line" data-startTime="117">pushing of things forward. </span> <span class="line" data-startTime="118">Google has a lot of vested </span><span class="line" data-startTime="118">interest in making sure that </span><span class="line" data-startTime="121">this is a platform that we can </span><span class="line" data-startTime="121">continue to push the internet </span><span class="line" data-startTime="123">forward in positive ways, and </span><span class="line" data-startTime="123">basically enrich the ecosystem </span><span class="line" data-startTime="126">for all of humanity. </span> <span class="line" data-startTime="127">Because pretty much everyone </span><span class="line" data-startTime="127">uses the internet nowadays. </span> <span class="line" data-startTime="130">And if you don't use the </span><span class="line" data-startTime="130">internet, hopefully </span><span class="line" data-startTime="132">we'll fix that soon. </span></p>

<p><span class="line" data-startTime="134">Anyhow, let's get started. </span> <span class="line" data-startTime="135">So let's start from the top. </span> <span class="line" data-startTime="137">If you're a console developer </span><span class="line" data-startTime="137">and you've never shipped a web </span><span class="line" data-startTime="139">game, you have no idea </span><span class="line" data-startTime="139">we're talking about. </span> <span class="line" data-startTime="142">And you generally have no idea </span><span class="line" data-startTime="142">what entails web games. </span> <span class="line" data-startTime="145">So let's talk about </span><span class="line" data-startTime="145">that for a minute. </span> <span class="line" data-startTime="147">So first off, a web game </span><span class="line" data-startTime="147">generally have </span><span class="line" data-startTime="149">some sort of client. </span> <span class="line" data-startTime="149">The client is downloaded from a </span><span class="line" data-startTime="149">server to the client to the </span><span class="line" data-startTime="153">end user's machine in a web </span><span class="line" data-startTime="153">page that does some </span><span class="line" data-startTime="156">interesting things. </span> <span class="line" data-startTime="157">On the end user's machine, it </span><span class="line" data-startTime="157">usually does some sort of </span><span class="line" data-startTime="159">scripting and displays. </span> <span class="line" data-startTime="160">This means code execution as </span><span class="line" data-startTime="160">well as visual display &mdash; </span><span class="line" data-startTime="163">2D, 3D, or whatnot. </span></p>

<p><span class="line" data-startTime="166">In addition to that, </span><span class="line" data-startTime="166">this is served &mdash; </span><span class="line" data-startTime="168">the client, including the </span><span class="line" data-startTime="168">scripting data and all the </span><span class="line" data-startTime="170">information is to display &mdash; </span><span class="line" data-startTime="171">is served from some sort </span><span class="line" data-startTime="171">of content server. </span> <span class="line" data-startTime="174">This could be a web server or a </span><span class="line" data-startTime="175">scalable distributed network. </span> <span class="line" data-startTime="176">And it also has some relational </span><span class="line" data-startTime="178">context to a database. </span> <span class="line" data-startTime="180">This is because most people </span><span class="line" data-startTime="180">nowadays in web gaming, they </span><span class="line" data-startTime="182">require you to log in. </span> <span class="line" data-startTime="184">They store your saved game state </span><span class="line" data-startTime="184">in the cloud somewhere &mdash; </span><span class="line" data-startTime="187">have you purchase an item, who's </span><span class="line" data-startTime="187">your friends, have you </span><span class="line" data-startTime="191">invited this person, </span><span class="line" data-startTime="191">what level are you. </span> <span class="line" data-startTime="193">This information is </span><span class="line" data-startTime="193">all stored in some </span><span class="line" data-startTime="194">sort of large database. </span> <span class="line" data-startTime="195">And I could rattle off a bunch </span><span class="line" data-startTime="195">of acronyms about what </span><span class="line" data-startTime="198">databases are and what databases </span><span class="line" data-startTime="198">aren't, but we'll </span><span class="line" data-startTime="200">stick to just saying </span><span class="line" data-startTime="200">that clients </span><span class="line" data-startTime="202">communicate with databases. </span></p>

<p><span class="line" data-startTime="204">Once you've got your content </span><span class="line" data-startTime="204">server to distribute your </span><span class="line" data-startTime="206">content to your client side and </span><span class="line" data-startTime="206">your database to sort of </span><span class="line" data-startTime="209">understand the relation to the </span><span class="line" data-startTime="209">user and the universe that </span><span class="line" data-startTime="212">you're trying to generate, some </span><span class="line" data-startTime="212">games also have a game </span><span class="line" data-startTime="216">play server. </span> <span class="line" data-startTime="216">Now a game play server is really </span><span class="line" data-startTime="216">the realm of what we </span><span class="line" data-startTime="219">call AAA niche gaming. </span> <span class="line" data-startTime="221">So this is things like first </span><span class="line" data-startTime="221">person shooters, real time </span><span class="line" data-startTime="224">strategy games, things that </span><span class="line" data-startTime="224">run at 60 Hertz on some </span><span class="line" data-startTime="227">ungodly monitor that you need </span><span class="line" data-startTime="227">some computer from the future </span><span class="line" data-startTime="230">to generally be able to run </span><span class="line" data-startTime="230">on your local machine. </span></p>

<p><span class="line" data-startTime="232">These games effectively require </span><span class="line" data-startTime="232">some piece of hardware </span><span class="line" data-startTime="235">running in some server farm </span><span class="line" data-startTime="235">actually running the </span><span class="line" data-startTime="237">simulation of the game to keep </span><span class="line" data-startTime="237">all of the clients in sync at </span><span class="line" data-startTime="240">the proper frequencies. </span> <span class="line" data-startTime="242">Now some games require </span><span class="line" data-startTime="242">this on the web. </span> <span class="line" data-startTime="244">Some don't. </span> <span class="line" data-startTime="245">But it's important to </span><span class="line" data-startTime="245">point this out here. </span> <span class="line" data-startTime="247">So once you've got this working, </span><span class="line" data-startTime="247">sooner or later </span><span class="line" data-startTime="249">you're going to want </span><span class="line" data-startTime="249">a social graph. </span> <span class="line" data-startTime="250">This is the real power </span><span class="line" data-startTime="250">of the web. </span></p>

<p><span class="line" data-startTime="252">When you start talking about </span><span class="line" data-startTime="252">what's the difference between </span><span class="line" data-startTime="255">a web game and a console game </span><span class="line" data-startTime="255">and a PC game that you go buy </span><span class="line" data-startTime="259">from a retailer, what you're </span><span class="line" data-startTime="259">really looking at is that a </span><span class="line" data-startTime="261">web game gives you direct access </span><span class="line" data-startTime="261">to a social graph in an </span><span class="line" data-startTime="265">immersive manner that </span><span class="line" data-startTime="265">you can't get </span><span class="line" data-startTime="266">in those other relations. </span> <span class="line" data-startTime="268">And then once you have all of </span><span class="line" data-startTime="268">this, the final thing a web </span><span class="line" data-startTime="271">game does is monetize. </span> <span class="line" data-startTime="272">At the end of the day, you </span><span class="line" data-startTime="272">guys gotta make money. </span> <span class="line" data-startTime="274">We've all got significant others </span><span class="line" data-startTime="274">and mother-in-laws who </span><span class="line" data-startTime="277">say we should get real jobs </span><span class="line" data-startTime="277">instead of making video games </span><span class="line" data-startTime="279">for a living. </span> <span class="line" data-startTime="280">We want to prove them wrong by </span><span class="line" data-startTime="280">monetizing effectively and </span><span class="line" data-startTime="284">making it rain with </span><span class="line" data-startTime="284">dollar bills. </span></p>

<p><span class="line" data-startTime="285">That's sort of the goal. </span> <span class="line" data-startTime="287">The good news here is that as </span><span class="line" data-startTime="287">Google as a platform provider, </span><span class="line" data-startTime="292">we've actually got software </span><span class="line" data-startTime="292">services in place to handle </span><span class="line" data-startTime="297">and address all of these needs </span><span class="line" data-startTime="297">for a web game on your behalf. </span> <span class="line" data-startTime="300">And the rest of the talk, we're </span><span class="line" data-startTime="300">going to be talking </span><span class="line" data-startTime="302">about the best practices </span><span class="line" data-startTime="302">in doing all of these </span><span class="line" data-startTime="304">items you see here. </span> <span class="line" data-startTime="305">But we're going to do it from </span><span class="line" data-startTime="305">the context of the Google </span><span class="line" data-startTime="308">services, mainly because of </span><span class="line" data-startTime="308">well, obviously we want you to </span><span class="line" data-startTime="310">use our services. </span></p>

<p><span class="line" data-startTime="311">We think that they're </span><span class="line" data-startTime="311">fantastic. </span> <span class="line" data-startTime="312">But also, it just sort of gives </span><span class="line" data-startTime="312">us a line in the sand as </span><span class="line" data-startTime="316">far as documentation </span><span class="line" data-startTime="316">is concerned. </span> <span class="line" data-startTime="318">We want to make sure that we can </span><span class="line" data-startTime="318">provide the documentation </span><span class="line" data-startTime="320">for the ideas that we're </span><span class="line" data-startTime="320">talking about. </span> <span class="line" data-startTime="322">So then our content databases, </span><span class="line" data-startTime="322">what we're going to talk about </span><span class="line" data-startTime="325">today is Google App Engine. </span> <span class="line" data-startTime="326">It provides you both content </span><span class="line" data-startTime="326">distribution for web pages and </span><span class="line" data-startTime="329">static data, dynamic data, </span><span class="line" data-startTime="329">everything you need, as well </span><span class="line" data-startTime="332">as a relational database. </span></p>

<p><span class="line" data-startTime="333">You actually store your </span><span class="line" data-startTime="333">table information, </span><span class="line" data-startTime="335">players and what not. </span> <span class="line" data-startTime="336">For social graph, we've </span><span class="line" data-startTime="336">got Google+. </span> <span class="line" data-startTime="338">If you don't have a Google+ </span><span class="line" data-startTime="338">account, go get one now. </span> <span class="line" data-startTime="341">Make sure you sign up by the </span><span class="line" data-startTime="341">end of the talk so then you </span><span class="line" data-startTime="343">can follow me on Google+ where </span><span class="line" data-startTime="343">I spend most of my time </span><span class="line" data-startTime="346">posting about web gaming and </span><span class="line" data-startTime="346">Native Client development. </span> <span class="line" data-startTime="349">And for monetization, we've </span><span class="line" data-startTime="349">got this great integration </span><span class="line" data-startTime="351">point called Google Wallet which </span><span class="line" data-startTime="351">is super easy to use. </span> <span class="line" data-startTime="355">It has a lot of benefits that </span><span class="line" data-startTime="355">we'll talk to you towards the </span><span class="line" data-startTime="356">end of the slide. </span> <span class="line" data-startTime="357">In addition to these right here, </span><span class="line" data-startTime="357">we've also got a couple </span><span class="line" data-startTime="360">others that you should be </span><span class="line" data-startTime="360">interested in the we'll talk </span><span class="line" data-startTime="362">about today. </span></p>

<p><span class="line" data-startTime="363">The first is Google Analytics. </span> <span class="line" data-startTime="364">Google Analytics is typically </span><span class="line" data-startTime="364">designed as a way to track </span><span class="line" data-startTime="368">your users' movements and who </span><span class="line" data-startTime="368">visits your website, where </span><span class="line" data-startTime="370">they come from, how they're </span><span class="line" data-startTime="370">using your website, what's </span><span class="line" data-startTime="372">wrong, what's broken, what's </span><span class="line" data-startTime="372">popular, and whatnot. </span> <span class="line" data-startTime="375">But this could actually be </span><span class="line" data-startTime="375">modified with a few APIs to </span><span class="line" data-startTime="377">work very well for games. </span> <span class="line" data-startTime="379">We'll talk about how </span><span class="line" data-startTime="379">you use that. </span> <span class="line" data-startTime="380">And then finally is the </span><span class="line" data-startTime="380">Chrome Web Store. </span> <span class="line" data-startTime="381">Chrome Web Store is an amazing </span><span class="line" data-startTime="381">sort of outlet that Google has </span><span class="line" data-startTime="386">launched about a year and a </span><span class="line" data-startTime="386">half ago now that provides </span><span class="line" data-startTime="389">sort of a content discovery </span><span class="line" data-startTime="389">portal for all things web. </span></p>

<p><span class="line" data-startTime="392">We've got an amazing plethora </span><span class="line" data-startTime="392">of applications both </span><span class="line" data-startTime="394">games and not games. </span> <span class="line" data-startTime="396">But if you're looking for an </span><span class="line" data-startTime="396">amazing place for users to </span><span class="line" data-startTime="399">develop your content in a </span><span class="line" data-startTime="399">curated, informative way, </span><span class="line" data-startTime="402">definitely check out the </span><span class="line" data-startTime="402">Chrome Web Store. </span> <span class="line" data-startTime="404">Now on this graph here you'll </span><span class="line" data-startTime="404">notice that we don't really </span><span class="line" data-startTime="406">have a solution for </span><span class="line" data-startTime="406">gameplay servers. </span> <span class="line" data-startTime="408">And the only thing I can say </span><span class="line" data-startTime="408">about that is stay tuned. </span> <span class="line" data-startTime="412">So the rundown. </span> <span class="line" data-startTime="413">So grab your coffee, grab your </span><span class="line" data-startTime="413">laptop, grab your phone. </span> <span class="line" data-startTime="415">Let's talk about what we're </span><span class="line" data-startTime="415">going to do today. </span></p>

<p><span class="line" data-startTime="416">So we're going to talk about </span><span class="line" data-startTime="416">content distribution, </span><span class="line" data-startTime="418">databases, proper </span><span class="line" data-startTime="418">practices there. </span> <span class="line" data-startTime="420">We're going to talk about login </span><span class="line" data-startTime="420">and authentication. </span> <span class="line" data-startTime="422">You'd actually be surprised </span><span class="line" data-startTime="422">about how many problems there </span><span class="line" data-startTime="425">are with login and </span><span class="line" data-startTime="425">authentication that make users </span><span class="line" data-startTime="427">drop off the radar. </span> <span class="line" data-startTime="428">Then we're going to talk about </span><span class="line" data-startTime="428">localization, rendering, web </span><span class="line" data-startTime="431">and platform, and </span><span class="line" data-startTime="431">user metrics. </span> <span class="line" data-startTime="433">These are all important </span><span class="line" data-startTime="433">things. </span> <span class="line" data-startTime="434">And then finally, we're going </span><span class="line" data-startTime="434">to finish this off with </span><span class="line" data-startTime="436">monetization which &mdash; </span><span class="line" data-startTime="437">I put that at the end because </span><span class="line" data-startTime="437">we all know you're only here </span><span class="line" data-startTime="439">to talk about monetization. </span> <span class="line" data-startTime="440">The rest of this stuff </span><span class="line" data-startTime="440">is icing on the cake. </span> <span class="line" data-startTime="443">So let's talk about </span><span class="line" data-startTime="443">serving content. </span></p>

<p><span class="line" data-startTime="444">Start at the beginning. </span> <span class="line" data-startTime="446">So let's say all of your </span><span class="line" data-startTime="446">data is served </span><span class="line" data-startTime="448">from some server somewhere. </span> <span class="line" data-startTime="451">Your data is usually uploaded </span><span class="line" data-startTime="451">to the web. </span> <span class="line" data-startTime="453">That web creates the </span><span class="line" data-startTime="453">information. </span> <span class="line" data-startTime="455">It stores it. </span> <span class="line" data-startTime="456">It scales it. </span> <span class="line" data-startTime="456">It replicates it. </span> <span class="line" data-startTime="457">You can see here are some </span><span class="line" data-startTime="457">of standard items do you </span><span class="line" data-startTime="459">typically see on your server &mdash; </span><span class="line" data-startTime="460">HTML, JavaScript, images, </span><span class="line" data-startTime="460">JSON files, ZIPs, </span><span class="line" data-startTime="464">sound files, and whatnot. </span> <span class="line" data-startTime="466">What happens is that </span><span class="line" data-startTime="466">the client &mdash; </span><span class="line" data-startTime="468">the user machine effectively &mdash; </span><span class="line" data-startTime="469">sits around and it will </span><span class="line" data-startTime="469">generally do a page load or </span><span class="line" data-startTime="472">resource or load or from </span><span class="line" data-startTime="472">JavaScript an XHttpRequest you </span><span class="line" data-startTime="476">can Google that and figure </span><span class="line" data-startTime="476">out what the </span><span class="line" data-startTime="477">proper syntax is there &mdash; </span><span class="line" data-startTime="479">to fetch this data from </span><span class="line" data-startTime="479">the internet or </span><span class="line" data-startTime="482">the server in general. </span> <span class="line" data-startTime="483">The cool thing is </span><span class="line" data-startTime="483">that Chrome &mdash; </span><span class="line" data-startTime="485">again, we're going to </span><span class="line" data-startTime="485">focus on that &mdash; </span><span class="line" data-startTime="487">Chrome will automatically cache </span><span class="line" data-startTime="487">anything given through </span><span class="line" data-startTime="489">this load for you. </span></p>

<p><span class="line" data-startTime="490">So if you actually do a page </span><span class="line" data-startTime="490">load, Chrome will go ahead and </span><span class="line" data-startTime="493">grab the HTML and JavaScript </span><span class="line" data-startTime="493">and JPGs and </span><span class="line" data-startTime="496">JSON data for you. </span> <span class="line" data-startTime="497">If you need to grab your ZIP </span><span class="line" data-startTime="497">files or your OGG datas, </span><span class="line" data-startTime="499">you're probably going through </span><span class="line" data-startTime="499">some resource load or some </span><span class="line" data-startTime="501">XHttpRequest. And when you do </span><span class="line" data-startTime="501">those, Chrome will cache that </span><span class="line" data-startTime="505">data as well. </span> <span class="line" data-startTime="507">The good news about this is </span><span class="line" data-startTime="507">that caching is automatic. </span> <span class="line" data-startTime="510">You don't have to do anything </span><span class="line" data-startTime="510">to take advantage of It. </span> <span class="line" data-startTime="512">You grab your data. </span> <span class="line" data-startTime="513">It's stored on the local disk. </span> <span class="line" data-startTime="514">When the user requests that data </span><span class="line" data-startTime="514">again, Chrome will check </span><span class="line" data-startTime="517">the local disk first. If it's </span><span class="line" data-startTime="517">there, it'll grab it and load </span><span class="line" data-startTime="520">it up and use it. </span></p>

<p><span class="line" data-startTime="522">It it's timed out or if it </span><span class="line" data-startTime="522">detects that there's some of </span><span class="line" data-startTime="524">the reason it needs, it'll go </span><span class="line" data-startTime="524">back to the web and grab it </span><span class="line" data-startTime="526">from there. </span> <span class="line" data-startTime="527">This is all handled </span><span class="line" data-startTime="527">on your behalf. </span> <span class="line" data-startTime="528">The bad news about this though </span><span class="line" data-startTime="528">is that it is in fact handled </span><span class="line" data-startTime="531">on your behalf, which means that </span><span class="line" data-startTime="531">any time during the day </span><span class="line" data-startTime="534">the user can either delete their </span><span class="line" data-startTime="534">cache or go download 17 </span><span class="line" data-startTime="537">gigs of other data. </span> <span class="line" data-startTime="538">And that data will invalidate </span><span class="line" data-startTime="538">the cache and </span><span class="line" data-startTime="540">push your stuff out. </span> <span class="line" data-startTime="542">So really, you have no ability </span><span class="line" data-startTime="542">to track when your data's </span><span class="line" data-startTime="545">going to be evicted, and how </span><span class="line" data-startTime="545">that's going to relate to the </span><span class="line" data-startTime="548">end user experience. </span></p>

<p><span class="line" data-startTime="550">So the good news is modern </span><span class="line" data-startTime="550">browsers actually implement a </span><span class="line" data-startTime="553">specific file store API. </span> <span class="line" data-startTime="555">The file store API allows you </span><span class="line" data-startTime="555">to write to a persistent </span><span class="line" data-startTime="559">obfuscated sandbox section </span><span class="line" data-startTime="559">of the user's hard drive. </span> <span class="line" data-startTime="562">Which means that when you </span><span class="line" data-startTime="562">actually grab this data from </span><span class="line" data-startTime="564">the web, you can actually store </span><span class="line" data-startTime="564">it somewhere so that you </span><span class="line" data-startTime="568">control the caching, so that </span><span class="line" data-startTime="568">then you directly control the </span><span class="line" data-startTime="571">user's experience with </span><span class="line" data-startTime="571">the caching. </span> <span class="line" data-startTime="572">And that's very important. </span> <span class="line" data-startTime="573">If you've got 14 gigabytes of </span><span class="line" data-startTime="573">data sitting around, you're </span><span class="line" data-startTime="576">going to want to know how the </span><span class="line" data-startTime="576">user is loading it and when </span><span class="line" data-startTime="578">they're loading so that you </span><span class="line" data-startTime="578">can optimize for their </span><span class="line" data-startTime="580">experience. </span> <span class="line" data-startTime="581">At the end of the day, they're </span><span class="line" data-startTime="581">the guys give you the money. </span> <span class="line" data-startTime="583">You gotta make it </span><span class="line" data-startTime="583">right for them. </span> <span class="line" data-startTime="586">So let's talk about scaling. </span></p>

<p><span class="line" data-startTime="587">So let's say you've made in the </span><span class="line" data-startTime="587">most amazing game ever. </span> <span class="line" data-startTime="590">It's called catfightpig.com. </span> <span class="line" data-startTime="593">Whatever. </span> <span class="line" data-startTime="593">I don't know. </span> <span class="line" data-startTime="594">And you make this game. </span> <span class="line" data-startTime="595">You put it up on the web. </span> <span class="line" data-startTime="596">And then all of a sudden, you </span><span class="line" data-startTime="596">get a million billion 100,000 </span><span class="line" data-startTime="599">people that decide to download </span><span class="line" data-startTime="599">your game and play and run it. </span> <span class="line" data-startTime="603">Well, the problem is that </span><span class="line" data-startTime="603">you've just went viral. </span> <span class="line" data-startTime="605">And if you don't have a proper </span><span class="line" data-startTime="605">scaling solution on your </span><span class="line" data-startTime="608">server side to handle the </span><span class="line" data-startTime="608">scaling the just happened on </span><span class="line" data-startTime="610">the client side, your viral </span><span class="line" data-startTime="610">ability is going to go through </span><span class="line" data-startTime="613">the floor really quick. </span></p>

<p><span class="line" data-startTime="614">So what happens is you need to </span><span class="line" data-startTime="614">move to something like a </span><span class="line" data-startTime="617">distributable content </span><span class="line" data-startTime="617">distribution server. </span> <span class="line" data-startTime="619">So you need to find some way, </span><span class="line" data-startTime="619">use some service out there to </span><span class="line" data-startTime="622">actually replicate your content </span><span class="line" data-startTime="622">across all of these </span><span class="line" data-startTime="624">different servers so that it can </span><span class="line" data-startTime="624">be handed to the clients </span><span class="line" data-startTime="626">as they request it. </span> <span class="line" data-startTime="628">Now there's some great services </span><span class="line" data-startTime="628">out there, for </span><span class="line" data-startTime="629">example Google App Engine which </span><span class="line" data-startTime="629">will handle replication </span><span class="line" data-startTime="633">as well as regional replication </span><span class="line" data-startTime="633">on your behalf. </span> <span class="line" data-startTime="637">That means that say someone in </span><span class="line" data-startTime="637">France is accessing your data, </span><span class="line" data-startTime="641">and you've uploaded it to </span><span class="line" data-startTime="641">servers here in California. </span> <span class="line" data-startTime="644">They're still going to get fast </span><span class="line" data-startTime="644">access speeds to that </span><span class="line" data-startTime="647">data because Google's handled </span><span class="line" data-startTime="647">all the back end of making </span><span class="line" data-startTime="650">sure that it exists on a web </span><span class="line" data-startTime="650">server that's near that user </span><span class="line" data-startTime="653">so they get it at the </span><span class="line" data-startTime="653">correct speeds. </span> <span class="line" data-startTime="655">The good thing is you don't </span><span class="line" data-startTime="655">have to worry about that. </span> <span class="line" data-startTime="657">If you've just rented some web </span><span class="line" data-startTime="657">server sitting somewhere in </span><span class="line" data-startTime="660">someone's basement, you're not </span><span class="line" data-startTime="660">going to get the same ability. </span></p>

<p><span class="line" data-startTime="662">So international customers or </span><span class="line" data-startTime="662">customers that may not have </span><span class="line" data-startTime="665">direct access to that guy's </span><span class="line" data-startTime="665">basement, Bill's basement </span><span class="line" data-startTime="668">we'll call it, are going to </span><span class="line" data-startTime="668">get a lower feature set. </span> <span class="line" data-startTime="672">So when you're serving this </span><span class="line" data-startTime="672">data, it's important to think </span><span class="line" data-startTime="674">about what the costs associated </span><span class="line" data-startTime="674">with it are. </span> <span class="line" data-startTime="676">Hosting data has a cost. And </span><span class="line" data-startTime="676">let's talk about how it's </span><span class="line" data-startTime="678">being used. </span> <span class="line" data-startTime="679">So today, typically developers </span><span class="line" data-startTime="679">use loose files. </span> <span class="line" data-startTime="682">They define &mdash; </span><span class="line" data-startTime="683">and this is sort of defined as </span><span class="line" data-startTime="683">a result of the way that HTML </span><span class="line" data-startTime="687">and JavaScript works. </span> <span class="line" data-startTime="688">You can simply go in there. </span> <span class="line" data-startTime="689">You define an image. </span> <span class="line" data-startTime="690">You define a JavaScript link. </span> <span class="line" data-startTime="691">You define these as an exact </span><span class="line" data-startTime="691">path to a resource on the web. </span> <span class="line" data-startTime="696">So what happens is the browser </span><span class="line" data-startTime="696">will effectively issue </span><span class="line" data-startTime="699">asynchronous loads for all </span><span class="line" data-startTime="699">of these web resources. </span> <span class="line" data-startTime="702">So it'll go out to </span><span class="line" data-startTime="702">the internet. </span> <span class="line" data-startTime="703">It'll say hey, please </span><span class="line" data-startTime="703">give me this thing. </span></p>

<p><span class="line" data-startTime="704">Let me know once you've </span><span class="line" data-startTime="704">received it. </span> <span class="line" data-startTime="706">Now this is fantastic. </span> <span class="line" data-startTime="708">This mean that the web browser </span><span class="line" data-startTime="708">and the client are sort of </span><span class="line" data-startTime="710">optimizing the load process </span><span class="line" data-startTime="710">based on your behalf, sending </span><span class="line" data-startTime="714">all this stuff out </span><span class="line" data-startTime="714">and getting them. </span> <span class="line" data-startTime="716">And of course, when it does </span><span class="line" data-startTime="716">receive it, it puts it in the </span><span class="line" data-startTime="718">Chrome cache, which is </span><span class="line" data-startTime="718">again good for you. </span> <span class="line" data-startTime="719">Of course, we talked about the </span><span class="line" data-startTime="719">Chrome cache before and all </span><span class="line" data-startTime="722">the benefits and downsides </span><span class="line" data-startTime="722">of that. </span> <span class="line" data-startTime="724">Now anyone who's shipped a game </span><span class="line" data-startTime="724">on the PC or on console </span><span class="line" data-startTime="729">knows that archiving is a </span><span class="line" data-startTime="729">much, much better way to </span><span class="line" data-startTime="731">handle this. </span></p>

<p><span class="line" data-startTime="732">Because of the fact that any </span><span class="line" data-startTime="732">time you read from a resource </span><span class="line" data-startTime="735">or a medium &mdash; </span><span class="line" data-startTime="736">be it hard drive or CD or </span><span class="line" data-startTime="736">even the internet &mdash; </span><span class="line" data-startTime="740">you're going to induce a lot </span><span class="line" data-startTime="740">of bandwidth incurrence. </span> <span class="line" data-startTime="743">So you're going to say </span><span class="line" data-startTime="743">give me this load. </span> <span class="line" data-startTime="744">It's going to take 10 seconds, </span><span class="line" data-startTime="744">20 seconds, a minute, two </span><span class="line" data-startTime="747">minutes, whatever. </span> <span class="line" data-startTime="748">You want to reduce that </span><span class="line" data-startTime="748">amount of time. </span> <span class="line" data-startTime="749">Now if you have tons and tons </span><span class="line" data-startTime="749">and tons and tons of files, </span><span class="line" data-startTime="752">you may have to be blocking some </span><span class="line" data-startTime="752">files, loading others in </span><span class="line" data-startTime="756">different orders. </span> <span class="line" data-startTime="757">It just gets into madness. </span> <span class="line" data-startTime="758">So what most developers do is </span><span class="line" data-startTime="758">they'll actually zip all of </span><span class="line" data-startTime="760">this data up, or they'll archive </span><span class="line" data-startTime="760">the information. </span></p>

<p><span class="line" data-startTime="762">They put all of their loose </span><span class="line" data-startTime="762">files into a single archive, </span><span class="line" data-startTime="764">and then they download </span><span class="line" data-startTime="764">that archive. </span> <span class="line" data-startTime="767">Now once you do this though, </span><span class="line" data-startTime="767">you have to note that the </span><span class="line" data-startTime="769">archiving of this information </span><span class="line" data-startTime="769">is not going to come through </span><span class="line" data-startTime="771">the same paths. </span> <span class="line" data-startTime="773">What you want to be doing to </span><span class="line" data-startTime="773">make sure that this archive </span><span class="line" data-startTime="775">comes down properly </span><span class="line" data-startTime="775">is store it in the </span><span class="line" data-startTime="776">persistent file store. </span> <span class="line" data-startTime="778">And then you're going to want to </span><span class="line" data-startTime="778">modify your runtime code so </span><span class="line" data-startTime="780">that it checks the persistent </span><span class="line" data-startTime="780">file store for the existence </span><span class="line" data-startTime="783">of the zip first before actually </span><span class="line" data-startTime="783">communicating with </span><span class="line" data-startTime="785">the rest of their system. </span> <span class="line" data-startTime="786">So this is a benefit. </span> <span class="line" data-startTime="787">This means that you are now </span><span class="line" data-startTime="787">controlling how the assets are </span><span class="line" data-startTime="790">bundled, how they're </span><span class="line" data-startTime="790">distributed, how they get to </span><span class="line" data-startTime="793">the user's machine, and how the </span><span class="line" data-startTime="793">user machine responds to </span><span class="line" data-startTime="795">having them. </span></p>

<p><span class="line" data-startTime="796">This gives you a </span><span class="line" data-startTime="796">lot of control. </span> <span class="line" data-startTime="797">Again, this is important because </span><span class="line" data-startTime="797">it optimizes for the </span><span class="line" data-startTime="800">user's experience. </span> <span class="line" data-startTime="801">You can stream data in, you can </span><span class="line" data-startTime="801">stream it out, et cetera. </span> <span class="line" data-startTime="805">Now one of the bad sides of </span><span class="line" data-startTime="805">archiving is twofold. </span> <span class="line" data-startTime="808">First off is that you sort of </span><span class="line" data-startTime="808">lose the ability to just </span><span class="line" data-startTime="811">randomly grab files </span><span class="line" data-startTime="811">from the internet. </span> <span class="line" data-startTime="812">You have to grab these </span><span class="line" data-startTime="812">larger blobs. </span> <span class="line" data-startTime="814">And these larger blobs then </span><span class="line" data-startTime="814">sometimes take more time, so </span><span class="line" data-startTime="816">you have to make different </span><span class="line" data-startTime="816">loading screens and </span><span class="line" data-startTime="818">asynchronous results and </span><span class="line" data-startTime="818">all these other things. </span> <span class="line" data-startTime="820">So you want to move towards </span><span class="line" data-startTime="820">something called segmenting. </span> <span class="line" data-startTime="823">Effectively, the idea behind </span><span class="line" data-startTime="823">this is it you're not going to </span><span class="line" data-startTime="825">just create one large zip file </span><span class="line" data-startTime="825">for all of your assets. </span> <span class="line" data-startTime="827">You're going to create many </span><span class="line" data-startTime="827">smaller archives. </span></p>

<p><span class="line" data-startTime="830">And these archives are going </span><span class="line" data-startTime="830">to be bundle based upon </span><span class="line" data-startTime="832">different parameters </span><span class="line" data-startTime="832">and metrics. </span> <span class="line" data-startTime="834">For instance, you could say that </span><span class="line" data-startTime="834">your original zip file is </span><span class="line" data-startTime="837">only five megs. </span> <span class="line" data-startTime="838">That zip file contains </span><span class="line" data-startTime="838">everything like the main menu </span><span class="line" data-startTime="841">and the starting guide so the </span><span class="line" data-startTime="841">user can load your game and </span><span class="line" data-startTime="843">see a spinning character and do </span><span class="line" data-startTime="843">their character creation. </span> <span class="line" data-startTime="846">Meanwhile, it's actually </span><span class="line" data-startTime="846">streaming in the other </span><span class="line" data-startTime="848">archive behind it. </span> <span class="line" data-startTime="850">So this allows your user to get </span><span class="line" data-startTime="850">into the game immediately, </span><span class="line" data-startTime="852">and then spend time doing </span><span class="line" data-startTime="852">something instead of waiting </span><span class="line" data-startTime="854">for the loading bar to get </span><span class="line" data-startTime="854">all their data in there. </span> <span class="line" data-startTime="857">Another reason to segment your </span><span class="line" data-startTime="857">assets is due to monetization. </span> <span class="line" data-startTime="861">So let's say that your </span><span class="line" data-startTime="861">particular game where you sell </span><span class="line" data-startTime="865">chunks of game content in </span><span class="line" data-startTime="865">one gigabyte bursts. </span> <span class="line" data-startTime="868">So chapter five, chapter </span><span class="line" data-startTime="868">six, chapter seven. </span></p>

<p><span class="line" data-startTime="870">And there's a large demand for </span><span class="line" data-startTime="870">each one of those from a </span><span class="line" data-startTime="873">monetization standpoint. </span> <span class="line" data-startTime="874">What you're going to want to do </span><span class="line" data-startTime="874">is you're going to want to </span><span class="line" data-startTime="875">segment each of those in two </span><span class="line" data-startTime="875">separate monetization </span><span class="line" data-startTime="878">categories so that you don't </span><span class="line" data-startTime="878">stream that data to the user </span><span class="line" data-startTime="882">until they've actually </span><span class="line" data-startTime="882">paid you for it. </span> <span class="line" data-startTime="883">Again, hosting and streaming </span><span class="line" data-startTime="883">cost something. </span> <span class="line" data-startTime="887">So you want to optimize the </span><span class="line" data-startTime="887">content that you're streaming </span><span class="line" data-startTime="889">to the user based upon whether </span><span class="line" data-startTime="889">or not they've paid you. </span> <span class="line" data-startTime="892">You don't want to have a 15 </span><span class="line" data-startTime="892">gigabyte game, stream it all </span><span class="line" data-startTime="894">of the user, and only </span><span class="line" data-startTime="894">have 2% of those </span><span class="line" data-startTime="896">users actually convert. </span> <span class="line" data-startTime="897">That means you're going to be </span><span class="line" data-startTime="897">wasting a lot of money. </span></p>

<p><span class="line" data-startTime="899">It doesn't make sense. </span> <span class="line" data-startTime="901">With this though, you're going </span><span class="line" data-startTime="901">to need some sort of manifest </span><span class="line" data-startTime="905">file because the final cool </span><span class="line" data-startTime="905">thing about archiving and some </span><span class="line" data-startTime="908">sort of segmented set up is </span><span class="line" data-startTime="908">you actually need a way to </span><span class="line" data-startTime="911">define what zips are invalid </span><span class="line" data-startTime="911">and not invalid from the </span><span class="line" data-startTime="914">persistent file store. </span> <span class="line" data-startTime="916">So the user will go grab a zip </span><span class="line" data-startTime="916">from the net, they'll store it </span><span class="line" data-startTime="918">to the local persistent store, </span><span class="line" data-startTime="918">and then you go upload a new </span><span class="line" data-startTime="921">zip because you've made balance </span><span class="line" data-startTime="921">changes or whatnot. </span> <span class="line" data-startTime="923">Now the user needs the ability </span><span class="line" data-startTime="923">to query some sort of file </span><span class="line" data-startTime="926">that says whether or not that </span><span class="line" data-startTime="926">zip is out of date. </span> <span class="line" data-startTime="928">So that way, they say hey, </span><span class="line" data-startTime="928">this is out of date. </span> <span class="line" data-startTime="930">We need to go fetch it from </span><span class="line" data-startTime="930">the server and update our </span><span class="line" data-startTime="932">local cache view. </span></p>

<p><span class="line" data-startTime="934">So basically you want to segment </span><span class="line" data-startTime="934">all of your stuff </span><span class="line" data-startTime="936">based upon game resources, </span><span class="line" data-startTime="936">monetization resources, and </span><span class="line" data-startTime="938">then create some sort of </span><span class="line" data-startTime="938">manifest file that allows the </span><span class="line" data-startTime="941">client machine to keep </span><span class="line" data-startTime="941">up with that data. </span> <span class="line" data-startTime="944">Now let's talk about Google </span><span class="line" data-startTime="944">App Engine specifically. </span> <span class="line" data-startTime="947">Let's just focus on that for a </span><span class="line" data-startTime="947">minute and say that that's </span><span class="line" data-startTime="949">where you're hosting </span><span class="line" data-startTime="949">your concept. </span> <span class="line" data-startTime="950">So you can store your segmented </span><span class="line" data-startTime="952">binary archives here. </span> <span class="line" data-startTime="953">That's fantastic. </span> <span class="line" data-startTime="954">This allows you to carefully </span><span class="line" data-startTime="954">control your server costs. </span> <span class="line" data-startTime="956">Again, this is a metric that </span><span class="line" data-startTime="956">matters to you because how </span><span class="line" data-startTime="960">you're serving your data </span><span class="line" data-startTime="960">directly relates to how much </span><span class="line" data-startTime="962">it costs you to serve </span><span class="line" data-startTime="962">that data. </span> <span class="line" data-startTime="964">Google App Engine allows you </span><span class="line" data-startTime="964">to store any asset that's </span><span class="line" data-startTime="967">under 32 megabytes HTML style </span><span class="line" data-startTime="967">or sort of direct store. </span></p>

<p><span class="line" data-startTime="972">Which means you just upload it </span><span class="line" data-startTime="972">and it's no big deal and it's </span><span class="line" data-startTime="974">stored just like </span><span class="line" data-startTime="974">any other file. </span> <span class="line" data-startTime="976">It's sort of seamless </span><span class="line" data-startTime="976">integration for you. </span> <span class="line" data-startTime="979">You can read the documentation </span><span class="line" data-startTime="979">on how exactly that works. </span> <span class="line" data-startTime="981">For anything above 32 megabytes </span><span class="line" data-startTime="981">though, you have to </span><span class="line" data-startTime="984">store it from a different </span><span class="line" data-startTime="984">file store and that's </span><span class="line" data-startTime="986">the blobstore API. </span> <span class="line" data-startTime="987">Now it's still hosted on Google </span><span class="line" data-startTime="987">App Engine, but you </span><span class="line" data-startTime="989">have to use a separate </span><span class="line" data-startTime="989">API to access it. </span> <span class="line" data-startTime="991">And this is again really </span><span class="line" data-startTime="991">important. </span> <span class="line" data-startTime="992">This sort of forces you to </span><span class="line" data-startTime="992">optimize how you're getting </span><span class="line" data-startTime="995">your data, because there may </span><span class="line" data-startTime="995">be tiered costs available. </span> <span class="line" data-startTime="998">There may be specifics streaming </span><span class="line" data-startTime="998">solutions you need </span><span class="line" data-startTime="1001">to be aware of. </span> <span class="line" data-startTime="1001">This is important stuff. </span> <span class="line" data-startTime="1004">Also for that, you need </span><span class="line" data-startTime="1004">to set the browser </span><span class="line" data-startTime="1006">cache expiration date. </span> <span class="line" data-startTime="1007">So any of this binary data </span><span class="line" data-startTime="1007">that's served from Google App </span><span class="line" data-startTime="1011">Engine, when it hits the </span><span class="line" data-startTime="1011">client, the client's </span><span class="line" data-startTime="1013">effectively going to </span><span class="line" data-startTime="1013">say here's how long </span><span class="line" data-startTime="1015">this data is valid. </span></p>

<p><span class="line" data-startTime="1017">Here's how long I think you </span><span class="line" data-startTime="1017">should keep this around. </span> <span class="line" data-startTime="1019">So the cache then has this large </span><span class="line" data-startTime="1019">amazing metric that says </span><span class="line" data-startTime="1022">hey, all of these items in the </span><span class="line" data-startTime="1022">cache, they've expired, they </span><span class="line" data-startTime="1026">can be expelled to bring </span><span class="line" data-startTime="1026">new data in. </span> <span class="line" data-startTime="1029">You can actually set the browser </span><span class="line" data-startTime="1029">time for that file. </span> <span class="line" data-startTime="1033">And if you click that link </span><span class="line" data-startTime="1033">there, you can actually set it </span><span class="line" data-startTime="1035">to be some larger time. </span> <span class="line" data-startTime="1036">I think the default is </span><span class="line" data-startTime="1036">actually 10 minutes. </span> <span class="line" data-startTime="1038">So that means for a user playing </span><span class="line" data-startTime="1038">your game, let's say </span><span class="line" data-startTime="1041">there's 56 hours of game play. </span> <span class="line" data-startTime="1044">If you don't set this particular </span><span class="line" data-startTime="1044">header for the data </span><span class="line" data-startTime="1047">that's served to your client, </span><span class="line" data-startTime="1047">that means that the client, </span><span class="line" data-startTime="1049">the browser, Chrome, the cache, </span><span class="line" data-startTime="1049">will say that after 10 </span><span class="line" data-startTime="1052">minutes, all that data can be </span><span class="line" data-startTime="1052">invalidated and flushed to </span><span class="line" data-startTime="1054">something else. </span></p>

<p><span class="line" data-startTime="1055">Now if you're using the </span><span class="line" data-startTime="1055">persistent file store, this </span><span class="line" data-startTime="1057">shouldn't necessarily </span><span class="line" data-startTime="1057">be a big deal. </span> <span class="line" data-startTime="1058">But in some cases it's </span><span class="line" data-startTime="1058">still smart to set </span><span class="line" data-startTime="1061">that expiration date. </span> <span class="line" data-startTime="1063">This brings us to a public </span><span class="line" data-startTime="1063">service announcement. </span> <span class="line" data-startTime="1066">Do not use the existence of data </span><span class="line" data-startTime="1066">on the user's machine to </span><span class="line" data-startTime="1070">represent that the user has </span><span class="line" data-startTime="1070">purchased that data. </span> <span class="line" data-startTime="1074">So anyone in here who has </span><span class="line" data-startTime="1074">handled any sort of problems </span><span class="line" data-startTime="1077">with piracy for video games </span><span class="line" data-startTime="1077">knows this to be true. </span> <span class="line" data-startTime="1080">Effectively, if a user purchases </span><span class="line" data-startTime="1080">your item and then </span><span class="line" data-startTime="1084">refunds that purchase and the </span><span class="line" data-startTime="1084">item's data has been streamed </span><span class="line" data-startTime="1088">to them and stored on disk and </span><span class="line" data-startTime="1088">the user who loads your game </span><span class="line" data-startTime="1091">up, what happens? </span><span class="line" data-startTime="1093">If your code actually goes </span><span class="line" data-startTime="1093">through and says, oh the sword </span><span class="line" data-startTime="1097">of Antioch exists </span><span class="line" data-startTime="1097">on your desk. </span></p>

<p><span class="line" data-startTime="1098">You must have access to it. </span> <span class="line" data-startTime="1100">Then the user could effectively </span><span class="line" data-startTime="1100">buy all the items, </span><span class="line" data-startTime="1102">get them all downloaded, return </span><span class="line" data-startTime="1102">all the items. You </span><span class="line" data-startTime="1104">don't get any money, but they </span><span class="line" data-startTime="1104">get all the free stuff. </span> <span class="line" data-startTime="1106">That's not good. </span> <span class="line" data-startTime="1107">You want to make sure that </span><span class="line" data-startTime="1107">you don't do it that way. </span> <span class="line" data-startTime="1108">So public service </span><span class="line" data-startTime="1108">announcement. </span> <span class="line" data-startTime="1109">Do not use the existence of </span><span class="line" data-startTime="1109">the data on the disc that </span><span class="line" data-startTime="1111">you've streamed to the user to </span><span class="line" data-startTime="1111">represent the fact that the </span><span class="line" data-startTime="1114">user has bought the item. </span></p>

<p><span class="line" data-startTime="1115">Just don't do it. </span> <span class="line" data-startTime="1116">It's madness. </span> <span class="line" data-startTime="1119">Let's talk about databases. </span> <span class="line" data-startTime="1123">This is again correlated </span><span class="line" data-startTime="1123">databases, so </span><span class="line" data-startTime="1125">not like binary databases. </span> <span class="line" data-startTime="1128">So App Engine has relational </span><span class="line" data-startTime="1128">databases using </span><span class="line" data-startTime="1131">the GQL query language. </span> <span class="line" data-startTime="1133">And if you click on the GQL </span><span class="line" data-startTime="1133">link, it'll take you to a nice </span><span class="line" data-startTime="1135">amazing page that talks about </span><span class="line" data-startTime="1135">the syntax, how to use it, how </span><span class="line" data-startTime="1138">not to use it. </span> <span class="line" data-startTime="1138">It also gives you great in-depth </span><span class="line" data-startTime="1138">examples about how to </span><span class="line" data-startTime="1141">get started using it and all </span><span class="line" data-startTime="1141">these amazing things. </span> <span class="line" data-startTime="1143">As far as app Engine is </span><span class="line" data-startTime="1143">concerned, it really gives you </span><span class="line" data-startTime="1145">the trifecta of hosting data, </span><span class="line" data-startTime="1145">hosting content, and also </span><span class="line" data-startTime="1148">giving you database. </span></p>

<p><span class="line" data-startTime="1151">The cool thing too is it </span><span class="line" data-startTime="1151">auto-scales to handle demand. </span> <span class="line" data-startTime="1153">This is the most important </span><span class="line" data-startTime="1153">thing. </span> <span class="line" data-startTime="1156">Let's say that you go a year and </span><span class="line" data-startTime="1156">a half of having your app </span><span class="line" data-startTime="1159">online and nobody </span><span class="line" data-startTime="1159">downloads it. </span> <span class="line" data-startTime="1161">Then one day, you add in a cat </span><span class="line" data-startTime="1161">with a really cool pink wizard </span><span class="line" data-startTime="1165">hat, then all of a sudden </span><span class="line" data-startTime="1165">the entire internet has </span><span class="line" data-startTime="1167">to have your game. </span> <span class="line" data-startTime="1168">When the entire internet starts </span><span class="line" data-startTime="1168">knocking on your door, </span><span class="line" data-startTime="1171">the servers for Google App </span><span class="line" data-startTime="1171">Engine will scale up </span><span class="line" data-startTime="1173">dynamically to handle </span><span class="line" data-startTime="1173">that balance load. </span> <span class="line" data-startTime="1175">You don't have to do anything. </span></p>

<p><span class="line" data-startTime="1177">If you've rented your </span><span class="line" data-startTime="1177">own servers, this </span><span class="line" data-startTime="1178">is a massive problem. </span> <span class="line" data-startTime="1179">All of a sudden you need to </span><span class="line" data-startTime="1179">employ five IT guys and six </span><span class="line" data-startTime="1182">more server racks and buy all </span><span class="line" data-startTime="1182">this hardware that then in </span><span class="line" data-startTime="1185">another month you </span><span class="line" data-startTime="1185">may not need. </span> <span class="line" data-startTime="1187">So you've invested a lot of </span><span class="line" data-startTime="1187">sunk cost into something </span><span class="line" data-startTime="1189">that's pretty much seasonal. </span> <span class="line" data-startTime="1191">The fact that App </span><span class="line" data-startTime="1191">Engine handles </span><span class="line" data-startTime="1193">that for you is amazing. </span> <span class="line" data-startTime="1195">Of course, the cost is based </span><span class="line" data-startTime="1195">upon performance here. </span> <span class="line" data-startTime="1198">So this means that as more users </span><span class="line" data-startTime="1198">are using your service </span><span class="line" data-startTime="1201">and monetizing through you </span><span class="line" data-startTime="1201">service, of course the cost </span><span class="line" data-startTime="1203">goes up a little bit. </span> <span class="line" data-startTime="1204">The goal is to make sure that </span><span class="line" data-startTime="1204">the ratio between these two is </span><span class="line" data-startTime="1206">always set in your favor. </span></p>

<p><span class="line" data-startTime="1209">And to do this, to make sure </span><span class="line" data-startTime="1209">of this the first thing you </span><span class="line" data-startTime="1211">need to do is make </span><span class="line" data-startTime="1211">sure the set the </span><span class="line" data-startTime="1212">cache-time for any GET responses. </span> <span class="line" data-startTime="1215">And now a GET response on the </span><span class="line" data-startTime="1215">internet for those of you </span><span class="line" data-startTime="1217">haven't used it, you </span><span class="line" data-startTime="1217">get effectively a </span><span class="line" data-startTime="1219">POST and GET reset &mdash; </span><span class="line" data-startTime="1221">a POST and GET message is </span><span class="line" data-startTime="1221">defined as either querying </span><span class="line" data-startTime="1226">data from some database or </span><span class="line" data-startTime="1226">server or page versus setting </span><span class="line" data-startTime="1229">data to that server or </span><span class="line" data-startTime="1229">database or page. </span> <span class="line" data-startTime="1231">Now again, a GET effectively </span><span class="line" data-startTime="1231">is a pull request. </span> <span class="line" data-startTime="1234">So what's occurring here </span><span class="line" data-startTime="1234">is that you're pulling </span><span class="line" data-startTime="1236">information from Google </span><span class="line" data-startTime="1236">App Engine. </span> <span class="line" data-startTime="1238">And what's happening is when you </span><span class="line" data-startTime="1238">requests that data, Google </span><span class="line" data-startTime="1241">App Engine will go find </span><span class="line" data-startTime="1241">that data, say OK, </span><span class="line" data-startTime="1244">this result has occurred. </span></p>

<p><span class="line" data-startTime="1245">I'm going to cache this away </span><span class="line" data-startTime="1245">in case this user or a next </span><span class="line" data-startTime="1248">user or someone else goes and </span><span class="line" data-startTime="1248">tries to fetch the same data. </span> <span class="line" data-startTime="1251">If it finds it in its cache </span><span class="line" data-startTime="1251">automatically, it'll go ahead </span><span class="line" data-startTime="1254">and return that data for you. </span> <span class="line" data-startTime="1255">But you need to set the </span><span class="line" data-startTime="1255">cache-time for that. </span> <span class="line" data-startTime="1258">Otherwise much like the Chrome </span><span class="line" data-startTime="1258">cache in the client's machine, </span><span class="line" data-startTime="1262">it'll evict it based </span><span class="line" data-startTime="1262">upon duration. </span> <span class="line" data-startTime="1263">So here's how to do </span><span class="line" data-startTime="1263">that in Python. </span> <span class="line" data-startTime="1265">Again, there's great links on </span><span class="line" data-startTime="1265">the intertubes about how to do </span><span class="line" data-startTime="1268">this directly. </span></p>

<p><span class="line" data-startTime="1269">So we create a date object. </span> <span class="line" data-startTime="1270">We set it to a specific age </span><span class="line" data-startTime="1270">way, way in the future. </span> <span class="line" data-startTime="1273">And then in our response packet </span><span class="line" data-startTime="1273">that Google App Engine </span><span class="line" data-startTime="1276">provides to the client, we </span><span class="line" data-startTime="1276">actually set the maximum age </span><span class="line" data-startTime="1278">for that data to some </span><span class="line" data-startTime="1278">large metric. </span> <span class="line" data-startTime="1281">So this allows the clients </span><span class="line" data-startTime="1281">to then cache it on </span><span class="line" data-startTime="1283">their side, as well. </span> <span class="line" data-startTime="1283">Which is good because then the </span><span class="line" data-startTime="1283">client says hey, I'm going to </span><span class="line" data-startTime="1285">query the same data. </span> <span class="line" data-startTime="1286">I don't even have to </span><span class="line" data-startTime="1286">go to the internet. </span> <span class="line" data-startTime="1288">I just grab it locally. </span> <span class="line" data-startTime="1290">This brings us to the next point </span><span class="line" data-startTime="1290">is using Memcache which </span><span class="line" data-startTime="1293">is on the server side of that. </span></p>

<p><span class="line" data-startTime="1294">Click the link, get </span><span class="line" data-startTime="1294">more information. </span> <span class="line" data-startTime="1296">Memcache is effectively intended </span><span class="line" data-startTime="1296">for fast access to </span><span class="line" data-startTime="1299">cache results of queries. </span> <span class="line" data-startTime="1300">Now again, you've got 100 </span><span class="line" data-startTime="1300">million users all hitting your </span><span class="line" data-startTime="1303">Google App Engine instance at </span><span class="line" data-startTime="1303">one time, all querying data, </span><span class="line" data-startTime="1305">all grabbing it from different </span><span class="line" data-startTime="1305">directions. </span> <span class="line" data-startTime="1307">It would be great if you were </span><span class="line" data-startTime="1307">able to analyze that and </span><span class="line" data-startTime="1310">figure out what the most common </span><span class="line" data-startTime="1310">things are and then </span><span class="line" data-startTime="1312">optimize different </span><span class="line" data-startTime="1312">sets for that. </span> <span class="line" data-startTime="1314">Now if you don't have that </span><span class="line" data-startTime="1314">ability your or the stuff is </span><span class="line" data-startTime="1316">just too far across the map, </span><span class="line" data-startTime="1316">then you want to use something </span><span class="line" data-startTime="1318">called Memcache. </span> <span class="line" data-startTime="1321">And Memcache works like this. </span> <span class="line" data-startTime="1322">Effectively you test whether or </span><span class="line" data-startTime="1322">not the Memcache has some </span><span class="line" data-startTime="1325">specific data. </span> <span class="line" data-startTime="1326">If it has the data, then </span><span class="line" data-startTime="1326">you return that data. </span></p>

<p><span class="line" data-startTime="1329">So let's say the user says I </span><span class="line" data-startTime="1329">want to find out how many </span><span class="line" data-startTime="1332">people are playing the game </span><span class="line" data-startTime="1332">right now in Argentina. </span> <span class="line" data-startTime="1335">And you store that </span><span class="line" data-startTime="1335">in into Memcache. </span> <span class="line" data-startTime="1339">It's already there, so you </span><span class="line" data-startTime="1339">return the number of people </span><span class="line" data-startTime="1340">playing the game in Argentina. </span> <span class="line" data-startTime="1342">If it doesn't exist &mdash; </span><span class="line" data-startTime="1342">if the data hasn't </span><span class="line" data-startTime="1343">been stored in Memcache &mdash; </span><span class="line" data-startTime="1345">then you actually get the data, </span><span class="line" data-startTime="1345">find out how many people </span><span class="line" data-startTime="1347">are playing, store it into </span><span class="line" data-startTime="1347">Memcache, and then return it </span><span class="line" data-startTime="1350">to the user. </span> <span class="line" data-startTime="1350">So this means the next person </span><span class="line" data-startTime="1350">that comes through the says </span><span class="line" data-startTime="1352">hey, I'm in Argentina, find the </span><span class="line" data-startTime="1352">number of people playing, </span><span class="line" data-startTime="1354">it'll return the </span><span class="line" data-startTime="1354">proper result. </span> <span class="line" data-startTime="1356">And of course, there's a lot of </span><span class="line" data-startTime="1356">amazing things behind the </span><span class="line" data-startTime="1358">scenes about what happens when </span><span class="line" data-startTime="1358">that data changes without them </span><span class="line" data-startTime="1361">knowing about it, things </span><span class="line" data-startTime="1361">like that. </span> <span class="line" data-startTime="1362">We aren't going to </span><span class="line" data-startTime="1362">get into that. </span></p>

<p><span class="line" data-startTime="1364">Click the link, learn more. </span> <span class="line" data-startTime="1365">Expand your horizons. </span> <span class="line" data-startTime="1366">Learn some new stuff today. </span> <span class="line" data-startTime="1369">So most of your clients will </span><span class="line" data-startTime="1369">again as we talked about have </span><span class="line" data-startTime="1373">some sort of networked </span><span class="line" data-startTime="1373">component. </span> <span class="line" data-startTime="1374">You're going to want to </span><span class="line" data-startTime="1374">communicate with other players </span><span class="line" data-startTime="1376">is the basic multiplayer </span><span class="line" data-startTime="1376">thing. </span> <span class="line" data-startTime="1378">You're on the internet. </span> <span class="line" data-startTime="1378">You want to play with </span><span class="line" data-startTime="1378">other people. </span> <span class="line" data-startTime="1380">Social is more fun. </span> <span class="line" data-startTime="1382">So there's one technique </span><span class="line" data-startTime="1382">to do. </span> <span class="line" data-startTime="1383">This is called polling, which </span><span class="line" data-startTime="1383">is effectively where each </span><span class="line" data-startTime="1385">client that's connected to a </span><span class="line" data-startTime="1385">service will actually poll the </span><span class="line" data-startTime="1388">server and say hey, has </span><span class="line" data-startTime="1388">anything changed. </span> <span class="line" data-startTime="1390">If something's changed, the </span><span class="line" data-startTime="1390">server pushes the data to the </span><span class="line" data-startTime="1392">client through the request </span><span class="line" data-startTime="1392">process, and </span><span class="line" data-startTime="1394">everyone moves forward. </span> <span class="line" data-startTime="1395">The problem with this is that </span><span class="line" data-startTime="1395">for low latency games, games </span><span class="line" data-startTime="1399">where things only update once </span><span class="line" data-startTime="1399">every 5 minutes, 10 minutes, </span><span class="line" data-startTime="1402">30 seconds, something like that, </span><span class="line" data-startTime="1402">you're going to spend a </span><span class="line" data-startTime="1404">lot of time asking the server </span><span class="line" data-startTime="1404">for things effectively </span><span class="line" data-startTime="1407">clogging your pipe, </span><span class="line" data-startTime="1407">upping your cost, </span><span class="line" data-startTime="1409">et cetera, et cetera. </span></p>

<p><span class="line" data-startTime="1411">And this can be avoided by using </span><span class="line" data-startTime="1411">something on Google App </span><span class="line" data-startTime="1414">Engine called the Channel API. </span> <span class="line" data-startTime="1415">The Channel API effectively </span><span class="line" data-startTime="1415">allows your client to </span><span class="line" data-startTime="1418">communicate the server and open </span><span class="line" data-startTime="1418">a pipe that stays open. </span> <span class="line" data-startTime="1422">So then the server when data </span><span class="line" data-startTime="1422">does change, like the number </span><span class="line" data-startTime="1424">of players in Argentina, that </span><span class="line" data-startTime="1424">when that does change, the </span><span class="line" data-startTime="1427">server tells the client hey, </span><span class="line" data-startTime="1427">this data has changed. </span> <span class="line" data-startTime="1429">I need you to update </span><span class="line" data-startTime="1429">on your side. </span> <span class="line" data-startTime="1431">This allows your client your </span><span class="line" data-startTime="1431">server to communicate only </span><span class="line" data-startTime="1433">when they have to. </span> <span class="line" data-startTime="1435">And this is a good, </span><span class="line" data-startTime="1435">good thing. </span> <span class="line" data-startTime="1436">Because this means that your </span><span class="line" data-startTime="1436">overhead for communication is </span><span class="line" data-startTime="1439">low, the amount of cost </span><span class="line" data-startTime="1439">spent on transfer and </span><span class="line" data-startTime="1442">bandwidth is low. </span></p>

<p><span class="line" data-startTime="1442">This Is a fantastic thing. </span> <span class="line" data-startTime="1444">One of the downsides with the </span><span class="line" data-startTime="1444">Channel API right now is that </span><span class="line" data-startTime="1447">it can only communicate </span><span class="line" data-startTime="1447">with JavaScript. </span> <span class="line" data-startTime="1449">So this is really highlighted </span><span class="line" data-startTime="1449">and designed for </span><span class="line" data-startTime="1451">web games in general. </span> <span class="line" data-startTime="1452">For those of you who want to </span><span class="line" data-startTime="1452">communicate with the Channel </span><span class="line" data-startTime="1455">API on Google App Engine and </span><span class="line" data-startTime="1455">using C++ or some other sort </span><span class="line" data-startTime="1459">of language, it's worth noting </span><span class="line" data-startTime="1459">that the Channel API is </span><span class="line" data-startTime="1462">actually based upon a protocol </span><span class="line" data-startTime="1462">called XMPP. </span></p>

<p><span class="line" data-startTime="1466">And effectively it wraps all </span><span class="line" data-startTime="1466">the communication and </span><span class="line" data-startTime="1468">handshaking up into JavaScript </span><span class="line" data-startTime="1468">and provides a JavaScript </span><span class="line" data-startTime="1470">library to you. </span> <span class="line" data-startTime="1471">Now if you are so inclined that </span><span class="line" data-startTime="1471">you would like to use </span><span class="line" data-startTime="1474">this technology, feel free to </span><span class="line" data-startTime="1474">actually deconstruct what the </span><span class="line" data-startTime="1477">JavaScript is wrapping and </span><span class="line" data-startTime="1477">figure out the proper </span><span class="line" data-startTime="1479">handshakes and message </span><span class="line" data-startTime="1479">passing. </span> <span class="line" data-startTime="1481">That's up to you. </span> <span class="line" data-startTime="1482">I have talked with some people </span><span class="line" data-startTime="1482">and don't see any particular </span><span class="line" data-startTime="1485">wrappers for different languages </span><span class="line" data-startTime="1485">in the pipe. </span> <span class="line" data-startTime="1487">But if there's a lot of </span><span class="line" data-startTime="1487">user demand, maybe </span><span class="line" data-startTime="1488">we can change that. </span></p>

<p><span class="line" data-startTime="1489">So email me. </span> <span class="line" data-startTime="1490">I'm here to help. </span> <span class="line" data-startTime="1492">Login and authentication. </span> <span class="line" data-startTime="1493">This is a pain point. </span> <span class="line" data-startTime="1495">So how many of you in here got </span><span class="line" data-startTime="1495">wanted to play a game and then </span><span class="line" data-startTime="1500">as soon as it asks you to log </span><span class="line" data-startTime="1500">in or create an account, you </span><span class="line" data-startTime="1503">just shut the game off. </span> <span class="line" data-startTime="1506">That's barrier zero. </span> <span class="line" data-startTime="1507">Like man, I just want </span><span class="line" data-startTime="1507">to play this game. </span> <span class="line" data-startTime="1509">Why do you need my data? </span><span class="line" data-startTime="1510">I don't want to give </span><span class="line" data-startTime="1510">you my information. </span> <span class="line" data-startTime="1511">I'm afraid what you're going to </span><span class="line" data-startTime="1511">do with it or I don't want </span><span class="line" data-startTime="1513">to get spammed. </span> <span class="line" data-startTime="1514">So let's talk about best </span><span class="line" data-startTime="1514">practices for login and </span><span class="line" data-startTime="1516">authentication. </span> <span class="line" data-startTime="1518">So everyone's seen this. </span></p>

<p><span class="line" data-startTime="1520">This is a standard login. </span> <span class="line" data-startTime="1521">Please login. </span> <span class="line" data-startTime="1522">If you don't have an account, </span><span class="line" data-startTime="1522">click here to create one. </span> <span class="line" data-startTime="1524">The problem is, your website </span><span class="line" data-startTime="1524">may have that, but so every </span><span class="line" data-startTime="1528">other site on the internet. </span> <span class="line" data-startTime="1529">Everyone says I want to </span><span class="line" data-startTime="1529">create your login. </span> <span class="line" data-startTime="1531">I want to create an account. </span> <span class="line" data-startTime="1532">I want to hold user information, </span><span class="line" data-startTime="1532">et cetera. </span> <span class="line" data-startTime="1534">This is not beneficial </span><span class="line" data-startTime="1534">for the user. </span> <span class="line" data-startTime="1536">The user does not want </span><span class="line" data-startTime="1536">to come to your page </span><span class="line" data-startTime="1538">to create an account. </span> <span class="line" data-startTime="1538">That's not the reason </span><span class="line" data-startTime="1538">they're there. </span> <span class="line" data-startTime="1540">The reason they're there </span><span class="line" data-startTime="1540">is to play your game. </span> <span class="line" data-startTime="1541">And you want to reduce the </span><span class="line" data-startTime="1541">barrier to that, because that </span><span class="line" data-startTime="1544">means you'll get more money. </span> <span class="line" data-startTime="1546">So the goal here is rather than </span><span class="line" data-startTime="1546">asking the user to create </span><span class="line" data-startTime="1548">an account, allow them to use an </span><span class="line" data-startTime="1548">existing account to login. </span> <span class="line" data-startTime="1552">And there's some great </span><span class="line" data-startTime="1552">technologies out there that </span><span class="line" data-startTime="1554">allow this. </span></p>

<p><span class="line" data-startTime="1555">One of them is OpenID. </span> <span class="line" data-startTime="1556">I'm going to talk about OpenID </span><span class="line" data-startTime="1556">here for a second. </span> <span class="line" data-startTime="1558">OpenID effectively </span><span class="line" data-startTime="1558">allows you &mdash; </span><span class="line" data-startTime="1560">it's effectively </span><span class="line" data-startTime="1560">a decentralized </span><span class="line" data-startTime="1562">authentication service. </span> <span class="line" data-startTime="1564">So the user can effectively use </span><span class="line" data-startTime="1564">multiple different logins </span><span class="line" data-startTime="1568">to access your account. </span> <span class="line" data-startTime="1569">And effectively what occurs here </span><span class="line" data-startTime="1569">is the user will click </span><span class="line" data-startTime="1571">their given account provider </span><span class="line" data-startTime="1571">that they want &mdash; </span><span class="line" data-startTime="1574">Google, Yahoo, Blogger, </span><span class="line" data-startTime="1574">something like that. </span> <span class="line" data-startTime="1576">They'll click sign in. </span> <span class="line" data-startTime="1577">Sign in auto-direct the user </span><span class="line" data-startTime="1577">to another page handled by </span><span class="line" data-startTime="1581">those providers. </span> <span class="line" data-startTime="1582">Authentication will occur </span><span class="line" data-startTime="1582">on their side. </span></p>

<p><span class="line" data-startTime="1584">You will then get a proper </span><span class="line" data-startTime="1584">result saying did they pass or </span><span class="line" data-startTime="1587">did they fail. </span> <span class="line" data-startTime="1588">So you don't even have to handle </span><span class="line" data-startTime="1588">all the handshaking. </span> <span class="line" data-startTime="1589">All you have to do is provide </span><span class="line" data-startTime="1589">the link, the information, let </span><span class="line" data-startTime="1592">them let them handle it. </span> <span class="line" data-startTime="1593">This is fantastic. </span> <span class="line" data-startTime="1594">This means you get ti take all </span><span class="line" data-startTime="1594">of those different dialogues </span><span class="line" data-startTime="1596">and bring them down. </span> <span class="line" data-startTime="1597">So the user can use something </span><span class="line" data-startTime="1597">they already have to login. </span></p>

<p><span class="line" data-startTime="1600">Reduction of barriers. </span> <span class="line" data-startTime="1601">It's what we're all about. </span> <span class="line" data-startTime="1603">Now how this works with your </span><span class="line" data-startTime="1603">side though is that when the </span><span class="line" data-startTime="1607">user logs in with one of these </span><span class="line" data-startTime="1607">other services or through </span><span class="line" data-startTime="1609">OpenID, it's going to hand you </span><span class="line" data-startTime="1609">an authentication key. </span> <span class="line" data-startTime="1612">It's going to say here's </span><span class="line" data-startTime="1612">the GUID for this user. </span> <span class="line" data-startTime="1615">Now it's important that you do </span><span class="line" data-startTime="1615">not pass this user ID around </span><span class="line" data-startTime="1619">sort of willynilly. </span> <span class="line" data-startTime="1620">This is a very important </span><span class="line" data-startTime="1620">concept here. </span> <span class="line" data-startTime="1621">So you're going to have your </span><span class="line" data-startTime="1621">relational data table here, </span><span class="line" data-startTime="1624">and you're going to receive </span><span class="line" data-startTime="1624">that auth key. </span> <span class="line" data-startTime="1625">The problem is you're also going </span><span class="line" data-startTime="1625">to receive the auth key </span><span class="line" data-startTime="1627">probably for a number of other </span><span class="line" data-startTime="1627">providers as well. </span> <span class="line" data-startTime="1629">So let's say you really want </span><span class="line" data-startTime="1629">to go the gamut here. </span></p>

<p><span class="line" data-startTime="1631">You're allow the user to use </span><span class="line" data-startTime="1631">login their Google+ ID, with </span><span class="line" data-startTime="1634">their Facebook ID, with their </span><span class="line" data-startTime="1634">Apple ID, and all these other </span><span class="line" data-startTime="1636">sorts of things. </span> <span class="line" data-startTime="1637">You're going to have unique </span><span class="line" data-startTime="1637">IDs populating this table. </span> <span class="line" data-startTime="1640">So the question is there, if </span><span class="line" data-startTime="1640">you're going to hand those </span><span class="line" data-startTime="1642">keys around, which one </span><span class="line" data-startTime="1642">do you pass around? </span><span class="line" data-startTime="1644">Is the first one they uses? </span><span class="line" data-startTime="1645">Is it the last one they use? </span><span class="line" data-startTime="1646">It is some MD5 hash of all </span><span class="line" data-startTime="1646">the things concatenated. </span> <span class="line" data-startTime="1649">No. </span> <span class="line" data-startTime="1650">The better way to do </span><span class="line" data-startTime="1650">this is to actually </span><span class="line" data-startTime="1651">create a user game key. </span> <span class="line" data-startTime="1652">So the first time the user logs </span><span class="line" data-startTime="1652">into your service, if </span><span class="line" data-startTime="1655">their unique ID in some way, </span><span class="line" data-startTime="1655">shape, or form doesn't exist </span><span class="line" data-startTime="1658">already in the database, go </span><span class="line" data-startTime="1658">ahead and create one and </span><span class="line" data-startTime="1660">create a new user key. </span> <span class="line" data-startTime="1661">You want to use that </span><span class="line" data-startTime="1661">user key everywhere </span><span class="line" data-startTime="1663">else in your database. </span> <span class="line" data-startTime="1664">So if you've got your primary </span><span class="line" data-startTime="1664">player information, the number </span><span class="line" data-startTime="1667">of games they have, their </span><span class="line" data-startTime="1667">friends list, this should all </span><span class="line" data-startTime="1671">be sorted by the game key that's </span><span class="line" data-startTime="1671">unique to your game, </span><span class="line" data-startTime="1674">not the key that's unique to </span><span class="line" data-startTime="1674">their authentication provider. </span></p>

<p><span class="line" data-startTime="1677">It's very important for you. </span> <span class="line" data-startTime="1679">In addition to this, this </span><span class="line" data-startTime="1679">is actually sort of an </span><span class="line" data-startTime="1681">interesting concept that people </span><span class="line" data-startTime="1681">go back and forth on. </span> <span class="line" data-startTime="1684">On one side you, want to reduce </span><span class="line" data-startTime="1684">the barrier to the user </span><span class="line" data-startTime="1686">logging into your service </span><span class="line" data-startTime="1686">because you want to make sure </span><span class="line" data-startTime="1689">to make sure that they get </span><span class="line" data-startTime="1689">there, they get to play in the </span><span class="line" data-startTime="1690">game, and they get the service </span><span class="line" data-startTime="1690">benefits from logging in that </span><span class="line" data-startTime="1693">you provide for them. </span> <span class="line" data-startTime="1694">On the other side though, you </span><span class="line" data-startTime="1694">want to create a massive </span><span class="line" data-startTime="1697">amount of security. </span> <span class="line" data-startTime="1698">I think one of the constant news </span><span class="line" data-startTime="1698">articles you have always </span><span class="line" data-startTime="1702">showing up on the internet </span><span class="line" data-startTime="1702">is my account </span><span class="line" data-startTime="1704">got hacked by blank. </span> <span class="line" data-startTime="1706">People are constantly losing </span><span class="line" data-startTime="1706">their accounts. </span> <span class="line" data-startTime="1708">They're constantly </span><span class="line" data-startTime="1708">losing their game </span><span class="line" data-startTime="1709">progress, their servers. </span></p>

<p><span class="line" data-startTime="1710">And within in-app purchase being </span><span class="line" data-startTime="1710">sort of where it is and </span><span class="line" data-startTime="1714">the dominating force it has in </span><span class="line" data-startTime="1714">the monetization realm right </span><span class="line" data-startTime="1718">now, you want to make sure that </span><span class="line" data-startTime="1718">users have a secure way </span><span class="line" data-startTime="1721">of logging into your game and </span><span class="line" data-startTime="1721">keeping their content secure, </span><span class="line" data-startTime="1724">so that their sister or their </span><span class="line" data-startTime="1724">brother or their angry ex </span><span class="line" data-startTime="1726">doesn't go and do something </span><span class="line" data-startTime="1726">malicious. </span> <span class="line" data-startTime="1729">So one way to do this is </span><span class="line" data-startTime="1729">two-step security How this </span><span class="line" data-startTime="1732">works is that the user logs in </span><span class="line" data-startTime="1732">with their first ID, so their </span><span class="line" data-startTime="1735">username and the password. </span> <span class="line" data-startTime="1736">And they're then prompted to </span><span class="line" data-startTime="1736">enter a verification code </span><span class="line" data-startTime="1740">generated by some application. </span></p>

<p><span class="line" data-startTime="1742">Now this application could come </span><span class="line" data-startTime="1742">in many forms. It could </span><span class="line" data-startTime="1744">be a key ring that has </span><span class="line" data-startTime="1744">information associated to it. </span> <span class="line" data-startTime="1748">It can come from your mobile </span><span class="line" data-startTime="1748">phone, et cetera, et cetera. </span> <span class="line" data-startTime="1750">But the purpose is that the user </span><span class="line" data-startTime="1750">has to then authenticate </span><span class="line" data-startTime="1753">with a random number that's </span><span class="line" data-startTime="1753">generated on some time series. </span> <span class="line" data-startTime="1757">So for you or random person to </span><span class="line" data-startTime="1757">access someone else's account </span><span class="line" data-startTime="1760">that has two-step authentication </span><span class="line" data-startTime="1760">set up, you not </span><span class="line" data-startTime="1763">only have to have their </span><span class="line" data-startTime="1763">username, but you have to have </span><span class="line" data-startTime="1765">their password as well, and you </span><span class="line" data-startTime="1765">have to have their mobile </span><span class="line" data-startTime="1767">phone and be able to get access </span><span class="line" data-startTime="1767">in their mobile phone </span><span class="line" data-startTime="1771">to that program that actually </span><span class="line" data-startTime="1771">provides this key. </span></p>

<p><span class="line" data-startTime="1773">Now this is pretty good security </span><span class="line" data-startTime="1773">across the board. </span> <span class="line" data-startTime="1776">The good news is for you that </span><span class="line" data-startTime="1776">you can set up this service on </span><span class="line" data-startTime="1780">your web server and on your </span><span class="line" data-startTime="1780">account for free and use it </span><span class="line" data-startTime="1783">for free, and provide it </span><span class="line" data-startTime="1783">to your users for free. </span> <span class="line" data-startTime="1786">Really there's no reason </span><span class="line" data-startTime="1786">to not allow this. </span> <span class="line" data-startTime="1788">Now don't force it. </span> <span class="line" data-startTime="1789">Allow your users to decide </span><span class="line" data-startTime="1789">if they want it or not. </span> <span class="line" data-startTime="1791">But there's no reason </span><span class="line" data-startTime="1791">to not do it. </span> <span class="line" data-startTime="1793">In fact there's a great link </span><span class="line" data-startTime="1793">here at the bottom. </span></p>

<p><span class="line" data-startTime="1795">If you click that, it'll take to </span><span class="line" data-startTime="1795">page that has a JavaScript </span><span class="line" data-startTime="1797">implementation, a server side </span><span class="line" data-startTime="1797">implementation, and actually </span><span class="line" data-startTime="1800">shows you how to put the whole </span><span class="line" data-startTime="1800">thing together within like 20 </span><span class="line" data-startTime="1803">minutes of work. </span> <span class="line" data-startTime="1803">Now that's fantastic. </span> <span class="line" data-startTime="1805">And the cool thing is they can </span><span class="line" data-startTime="1805">use their existing Google </span><span class="line" data-startTime="1807">authenticator application on </span><span class="line" data-startTime="1807">their iPhone or their Android </span><span class="line" data-startTime="1810">phone, so they could </span><span class="line" data-startTime="1810">use your service. </span> <span class="line" data-startTime="1812">It's a great thing to do. </span> <span class="line" data-startTime="1814">Localization. </span> <span class="line" data-startTime="1815">This is a big one. </span> <span class="line" data-startTime="1817">Console developers. </span></p>

<p><span class="line" data-startTime="1818">Let's see your hands if you've </span><span class="line" data-startTime="1818">ever ran into problems with </span><span class="line" data-startTime="1821">localization. </span> <span class="line" data-startTime="1822">Everyone. </span> <span class="line" data-startTime="1823">Exactly. </span> <span class="line" data-startTime="1823">It's not a big deal. </span> <span class="line" data-startTime="1826">Localizing matters. </span> <span class="line" data-startTime="1827">And this should matter more as </span><span class="line" data-startTime="1827">a web game than any sort of </span><span class="line" data-startTime="1829">console developer or any </span><span class="line" data-startTime="1829">PC developer has </span><span class="line" data-startTime="1832">ever told you before. </span> <span class="line" data-startTime="1833">There are big markets </span><span class="line" data-startTime="1833">internationally. </span> <span class="line" data-startTime="1836">We've seen some games monetize </span><span class="line" data-startTime="1836">horribly in the States that </span><span class="line" data-startTime="1839">completely blew up in Europe. </span></p>

<p><span class="line" data-startTime="1842">Like David Hasselhoff. </span> <span class="line" data-startTime="1844">No one bought this guy's musical </span><span class="line" data-startTime="1844">album in America. </span> <span class="line" data-startTime="1847">But for some reason, </span><span class="line" data-startTime="1847">he's a pop diva in </span><span class="line" data-startTime="1850">Europe and in Germany. </span> <span class="line" data-startTime="1851">I don't get. </span> <span class="line" data-startTime="1852">I didn't like his music. </span> <span class="line" data-startTime="1853">I listened to it. </span> <span class="line" data-startTime="1854">It wasn't for me, but </span><span class="line" data-startTime="1854">hey, I'm this guy. </span> <span class="line" data-startTime="1857">So the fact is that if you're </span><span class="line" data-startTime="1857">going actually take your game </span><span class="line" data-startTime="1860">and move it into these markets </span><span class="line" data-startTime="1860">to try to capitalize on the </span><span class="line" data-startTime="1863">monetization opportunities </span><span class="line" data-startTime="1863">there, the first step you need </span><span class="line" data-startTime="1866">to look at is language. </span> <span class="line" data-startTime="1867">Your game has a certain amount </span><span class="line" data-startTime="1867">of strings or certain amount </span><span class="line" data-startTime="1871">of text that's being prompted </span><span class="line" data-startTime="1871">to the user. </span></p>

<p><span class="line" data-startTime="1873">You've got menus. </span> <span class="line" data-startTime="1874">You got dialogues. </span> <span class="line" data-startTime="1875">You've got item descriptions. </span> <span class="line" data-startTime="1876">You've got cost description. </span> <span class="line" data-startTime="1877">You have quest understandings. </span> <span class="line" data-startTime="1879">You've got a lot of text. </span> <span class="line" data-startTime="1881">If you want to move into these </span><span class="line" data-startTime="1881">other markets, you need to </span><span class="line" data-startTime="1883">communicate in their language </span><span class="line" data-startTime="1883">because not everyone speaks </span><span class="line" data-startTime="1885">the language that you speak. </span> <span class="line" data-startTime="1887">The problem is that all the </span><span class="line" data-startTime="1887">languages don't act the same. </span> <span class="line" data-startTime="1889">For instance, the first problem </span><span class="line" data-startTime="1889">is the languages all </span><span class="line" data-startTime="1892">read in different directions. </span> <span class="line" data-startTime="1893">So let's say you've created </span><span class="line" data-startTime="1893">this amazing storyline and </span><span class="line" data-startTime="1897">your UI designer came through </span><span class="line" data-startTime="1897">created amazing UI for this </span><span class="line" data-startTime="1900">for the storyline to present it </span><span class="line" data-startTime="1900">to the user and display it. </span> <span class="line" data-startTime="1903">The problem is when you put it </span><span class="line" data-startTime="1903">in Japanese, Japanese reads </span><span class="line" data-startTime="1905">vertically instead </span><span class="line" data-startTime="1905">of horizontally. </span></p>

<p><span class="line" data-startTime="1907">So what happens now? </span><span class="line" data-startTime="1909">How does the UI stand </span><span class="line" data-startTime="1909">up to that? </span><span class="line" data-startTime="1912">This sort of forces you to go </span><span class="line" data-startTime="1912">back and change your UI layout </span><span class="line" data-startTime="1914">based upon the languages </span><span class="line" data-startTime="1914">that are available. </span> <span class="line" data-startTime="1917">In addition that, long words </span><span class="line" data-startTime="1917">and phrases are a problem. </span> <span class="line" data-startTime="1920">How the language is translated </span><span class="line" data-startTime="1920">in your language, English for </span><span class="line" data-startTime="1923">example, to other languages, </span><span class="line" data-startTime="1923">German, may </span><span class="line" data-startTime="1926">be completely different. </span> <span class="line" data-startTime="1926">Like what's 3 words or 15 </span><span class="line" data-startTime="1926">characters in English maybe 37 </span><span class="line" data-startTime="1930">characters in German. </span></p>

<p><span class="line" data-startTime="1931">A great story about this </span><span class="line" data-startTime="1931">is in-app purchase. </span> <span class="line" data-startTime="1934">So the in-app purchase guys had </span><span class="line" data-startTime="1934">originally created some </span><span class="line" data-startTime="1937">specific UI and specific </span><span class="line" data-startTime="1937">dialogue, and had a specific </span><span class="line" data-startTime="1941">window size and had it all </span><span class="line" data-startTime="1941">scaling and working perfectly. </span> <span class="line" data-startTime="1944">But when that data was </span><span class="line" data-startTime="1944">auto-translated to German, </span><span class="line" data-startTime="1947">what happened was the text </span><span class="line" data-startTime="1947">actually pushed the buy button </span><span class="line" data-startTime="1951">off the side of the </span><span class="line" data-startTime="1951">screen and you </span><span class="line" data-startTime="1953">couldn't resize the window. </span> <span class="line" data-startTime="1954">So what happened was if you were </span><span class="line" data-startTime="1954">trying to buy this item </span><span class="line" data-startTime="1956">in Germany, you couldn't buy it </span><span class="line" data-startTime="1956">because the buy button was </span><span class="line" data-startTime="1958">completely gone. </span></p>

<p><span class="line" data-startTime="1960">This is the type of problems </span><span class="line" data-startTime="1960">that you need to be thinking </span><span class="line" data-startTime="1962">about with your UI. </span> <span class="line" data-startTime="1964">Of course, word wrap and </span><span class="line" data-startTime="1964">everything was implemented </span><span class="line" data-startTime="1965">very quickly. </span> <span class="line" data-startTime="1966">And then everyone was able to </span><span class="line" data-startTime="1966">purchase, but the problem is </span><span class="line" data-startTime="1968">that this is real. </span> <span class="line" data-startTime="1970">So how you do then. </span> <span class="line" data-startTime="1971">So let's say OK, cool. </span> <span class="line" data-startTime="1972">I want to localize my product. </span> <span class="line" data-startTime="1974">The first step is detecting </span><span class="line" data-startTime="1974">the user's language. </span> <span class="line" data-startTime="1977">In JavaScript, you can use a </span><span class="line" data-startTime="1977">nifty little function here </span><span class="line" data-startTime="1979">navigator.language. </span> <span class="line" data-startTime="1980">Simple and easy to use. </span> <span class="line" data-startTime="1982">The problem is that this </span><span class="line" data-startTime="1982">actually isn't </span><span class="line" data-startTime="1985">changeable by the user. </span> <span class="line" data-startTime="1986">So if the user actually goes </span><span class="line" data-startTime="1986">into their browser and checks </span><span class="line" data-startTime="1989">the language in their browser, </span><span class="line" data-startTime="1989">it doesn't change the result </span><span class="line" data-startTime="1992">of navigator.language. </span> <span class="line" data-startTime="1993">This is actually a common </span><span class="line" data-startTime="1993">problem that </span><span class="line" data-startTime="1995">everyone deals with. </span></p>

<p><span class="line" data-startTime="1997">What it does change, though, </span><span class="line" data-startTime="1997">is it changes is the </span><span class="line" data-startTime="2000">HTTPaccept header when you're </span><span class="line" data-startTime="2000">doing a GET or SET response. </span> <span class="line" data-startTime="2003">So there's kind of a work around </span><span class="line" data-startTime="2003">in hack, but I'm giving </span><span class="line" data-startTime="2006">a fast pass here so you </span><span class="line" data-startTime="2006">don't have to deal </span><span class="line" data-startTime="2008">with the same problem. </span> <span class="line" data-startTime="2009">So what you can do it this is </span><span class="line" data-startTime="2009">knowing that the GET and SET </span><span class="line" data-startTime="2012">requests actually have the real </span><span class="line" data-startTime="2012">language that the user </span><span class="line" data-startTime="2014">has set in their browser, you </span><span class="line" data-startTime="2014">could actually poll a server </span><span class="line" data-startTime="2017">and get the result back </span><span class="line" data-startTime="2017">and that'll have the </span><span class="line" data-startTime="2019">real language in it. </span> <span class="line" data-startTime="2020">And here's how to do that. </span> <span class="line" data-startTime="2022">There's a great website </span><span class="line" data-startTime="2022">up there called </span><span class="line" data-startTime="2023">ajaxhttpheaders.appspot.com. </span></p>

<p><span class="line" data-startTime="2025">He's a very generous guy. </span> <span class="line" data-startTime="2026">You can click the link at the </span><span class="line" data-startTime="2026">bottom to go his post about </span><span class="line" data-startTime="2029">how he did all this stuff. </span> <span class="line" data-startTime="2030">But effectively, you </span><span class="line" data-startTime="2030">send off an AJAX </span><span class="line" data-startTime="2032">request to that location. </span> <span class="line" data-startTime="2035">When you get your response, </span><span class="line" data-startTime="2035">you query for a specific </span><span class="line" data-startTime="2037">Accept-Language. </span> <span class="line" data-startTime="2038">And that's going to have the two </span><span class="line" data-startTime="2038">digit code that actually </span><span class="line" data-startTime="2041">responds to the user's </span><span class="line" data-startTime="2041">language. </span> <span class="line" data-startTime="2043">Once you get that two digit </span><span class="line" data-startTime="2043">code, you can then pass that </span><span class="line" data-startTime="2045">off your localization process </span><span class="line" data-startTime="2045">and that will then define </span><span class="line" data-startTime="2048">which table you pull </span><span class="line" data-startTime="2048">strings from. </span></p>

<p><span class="line" data-startTime="2051">The link at the bottom by the </span><span class="line" data-startTime="2051">way has the source code for </span><span class="line" data-startTime="2053">the client side JavaScript </span><span class="line" data-startTime="2053">function which you're looking </span><span class="line" data-startTime="2055">at here, as well as the server </span><span class="line" data-startTime="2055">side code which is posted at </span><span class="line" data-startTime="2058">ajaxhttpheaders. </span> <span class="line" data-startTime="2060">And I think he actually has </span><span class="line" data-startTime="2060">a jQuery module as well. </span> <span class="line" data-startTime="2063">So if you're trying to </span><span class="line" data-startTime="2063">detect the language, </span><span class="line" data-startTime="2065">navigator.language works well, </span><span class="line" data-startTime="2065">but this is actually sort of </span><span class="line" data-startTime="2068">the definitive thing. </span> <span class="line" data-startTime="2070">Now the cool thing is &mdash; and I </span><span class="line" data-startTime="2070">feel this isn't really a best </span><span class="line" data-startTime="2073">practice, but this is important </span><span class="line" data-startTime="2073">to point this out as </span><span class="line" data-startTime="2075">a tool chain process &mdash; </span><span class="line" data-startTime="2076">is that there are some </span><span class="line" data-startTime="2076">tools to actually do </span><span class="line" data-startTime="2078">translation for you. </span></p>

<p><span class="line" data-startTime="2079">Most the time for game </span><span class="line" data-startTime="2079">development, you usually get </span><span class="line" data-startTime="2081">all your strings in a file, </span><span class="line" data-startTime="2081">outsource that to some firm in </span><span class="line" data-startTime="2085">Dublin usually is the case, and </span><span class="line" data-startTime="2085">they'll charge you some </span><span class="line" data-startTime="2089">money and they'll give you back </span><span class="line" data-startTime="2089">everything translated. </span> <span class="line" data-startTime="2091">This doesn't always work. </span> <span class="line" data-startTime="2092">Like sometimes you need to </span><span class="line" data-startTime="2092">iterate on things, you don't </span><span class="line" data-startTime="2094">have time to translating </span><span class="line" data-startTime="2094">or you don't </span><span class="line" data-startTime="2095">have a budget to translate. </span> <span class="line" data-startTime="2096">There's some really cool tools </span><span class="line" data-startTime="2096">that Google provides that </span><span class="line" data-startTime="2098">allows you to fix that. </span> <span class="line" data-startTime="2100">The first is Google Translate. </span> <span class="line" data-startTime="2101">So you can type in some stuff </span><span class="line" data-startTime="2101">on one side, convert it the </span><span class="line" data-startTime="2104">other language on the other. </span> <span class="line" data-startTime="2105">This is easy. </span></p>

<p><span class="line" data-startTime="2105">Copy, paste, you're </span><span class="line" data-startTime="2105">good to go. </span> <span class="line" data-startTime="2108">This doesn't work in situations </span><span class="line" data-startTime="2108">though where </span><span class="line" data-startTime="2110">there's sort of live chat. </span> <span class="line" data-startTime="2112">So let's say you've got a </span><span class="line" data-startTime="2112">chat window up and I'm </span><span class="line" data-startTime="2113">communicating to someone </span><span class="line" data-startTime="2113">who's speaking Spanish. </span> <span class="line" data-startTime="2116">I need the ability to </span><span class="line" data-startTime="2116">take my string and </span><span class="line" data-startTime="2117">convert it to their language. </span> <span class="line" data-startTime="2119">Google Translate provides an API </span><span class="line" data-startTime="2119">where you can put in your </span><span class="line" data-startTime="2122">language, put in what language </span><span class="line" data-startTime="2122">you want it to go to, and </span><span class="line" data-startTime="2125">it'll return a packet with the </span><span class="line" data-startTime="2125">proper translated strength. </span> <span class="line" data-startTime="2130">In addition to that, it also </span><span class="line" data-startTime="2130">provide a detect function. </span> <span class="line" data-startTime="2133">So let's say the user is using </span><span class="line" data-startTime="2133">a language and they haven't </span><span class="line" data-startTime="2135">specified it properly </span><span class="line" data-startTime="2135">or whatnot. </span> <span class="line" data-startTime="2137">Let the string get passed into </span><span class="line" data-startTime="2137">Google Translate API, and </span><span class="line" data-startTime="2140">Google Translate will sort of </span><span class="line" data-startTime="2140">parse through its massive </span><span class="line" data-startTime="2143">database of languages and words </span><span class="line" data-startTime="2143">and return to you what </span><span class="line" data-startTime="2145">the language is. </span> <span class="line" data-startTime="2146">Now again this is fantastic </span><span class="line" data-startTime="2146">because you can use it sort of </span><span class="line" data-startTime="2149">at a tool level. </span></p>

<p><span class="line" data-startTime="2150">You could actually say write a </span><span class="line" data-startTime="2150">little application that will </span><span class="line" data-startTime="2153">take all of your table strings </span><span class="line" data-startTime="2153">written in your source </span><span class="line" data-startTime="2155">language like English, and for </span><span class="line" data-startTime="2155">each string send off a query </span><span class="line" data-startTime="2159">to Google Translate </span><span class="line" data-startTime="2159">and it'll give you </span><span class="line" data-startTime="2160">the translated string. </span> <span class="line" data-startTime="2162">This works, although </span><span class="line" data-startTime="2162">it takes some time. </span> <span class="line" data-startTime="2164">So the better solution is </span><span class="line" data-startTime="2164">actually to use an amazing </span><span class="line" data-startTime="2167">product called Translator </span><span class="line" data-startTime="2167">Toolkit. </span> <span class="line" data-startTime="2170">And Translator Toolkit is free </span><span class="line" data-startTime="2170">for anyone to go and use. </span> <span class="line" data-startTime="2172">Translator Toolkit allows </span><span class="line" data-startTime="2172">you to upload a file &mdash; </span><span class="line" data-startTime="2175">XML, HTML, CSV, things like </span><span class="line" data-startTime="2175">that &mdash; and it'll actually </span><span class="line" data-startTime="2179">translate the whole thing for </span><span class="line" data-startTime="2179">you just in one shot go. </span> <span class="line" data-startTime="2181">So this is actually the tool </span><span class="line" data-startTime="2181">you want to be using. </span></p>

<p><span class="line" data-startTime="2183">If you've got all of your </span><span class="line" data-startTime="2183">strings segmented into </span><span class="line" data-startTime="2185">different sections, you can take </span><span class="line" data-startTime="2185">each one of those files, </span><span class="line" data-startTime="2187">upload it to Google Translator, </span><span class="line" data-startTime="2187">the Toolkit, hit </span><span class="line" data-startTime="2191">the button, and it'll </span><span class="line" data-startTime="2191">push it out. </span> <span class="line" data-startTime="2192">Now the cool thing is here is it </span><span class="line" data-startTime="2192">actually allows you to step </span><span class="line" data-startTime="2195">through each one of the items </span><span class="line" data-startTime="2195">that it's translated. </span> <span class="line" data-startTime="2197">So you can actually see Hello, </span><span class="line" data-startTime="2197">world see example blahblahblah </span><span class="line" data-startTime="2201">actually gets translated </span><span class="line" data-startTime="2201">into this over here. </span> <span class="line" data-startTime="2203">I hope the Native Client team </span><span class="line" data-startTime="2203">does not mind me using their </span><span class="line" data-startTime="2206">page for example purposes. </span> <span class="line" data-startTime="2207">So definitely use these tools </span><span class="line" data-startTime="2207">if you're doing translation. </span> <span class="line" data-startTime="2210">Let's talk about display </span><span class="line" data-startTime="2210">and rendering. </span> <span class="line" data-startTime="2212">So we've got a game. </span> <span class="line" data-startTime="2213">We've talked about the </span><span class="line" data-startTime="2213">server side aspects. </span> <span class="line" data-startTime="2214">Let's talk about the </span><span class="line" data-startTime="2214">client side. </span></p>

<p><span class="line" data-startTime="2215">The client side. </span> <span class="line" data-startTime="2216">You're going to display </span><span class="line" data-startTime="2216">your game. </span> <span class="line" data-startTime="2217">Let's talk about what </span><span class="line" data-startTime="2217">that means. </span> <span class="line" data-startTime="2220">First off is this </span><span class="line" data-startTime="2220">is a modern web. </span> <span class="line" data-startTime="2222">We have to face it. </span> <span class="line" data-startTime="2223">If we really want people to </span><span class="line" data-startTime="2223">take gaming on the web </span><span class="line" data-startTime="2225">seriously and take all of the </span><span class="line" data-startTime="2225">skill sets that we've </span><span class="line" data-startTime="2227">acclimated over the past 30 </span><span class="line" data-startTime="2227">years of gaming on PC and </span><span class="line" data-startTime="2230">gaming on consoles, we have to </span><span class="line" data-startTime="2230">talk about the GPU being used </span><span class="line" data-startTime="2234">in a web page and in </span><span class="line" data-startTime="2234">a web browser. </span> <span class="line" data-startTime="2236">And the good news is, </span><span class="line" data-startTime="2236">we've got this. </span> <span class="line" data-startTime="2237">We've got technologies like </span><span class="line" data-startTime="2237">OpenGL in Native Client. </span> <span class="line" data-startTime="2241">We've got technologies like </span><span class="line" data-startTime="2241">WebGL, and we also have </span><span class="line" data-startTime="2244">technologies like </span><span class="line" data-startTime="2244">Hardware-Accelerated Canvas. </span> <span class="line" data-startTime="2245">We'll talk about that </span><span class="line" data-startTime="2245">in a minute. </span> <span class="line" data-startTime="2247">The important thing here those </span><span class="line" data-startTime="2247">is I'm sure you've all heard </span><span class="line" data-startTime="2249">the news that with these </span><span class="line" data-startTime="2249">technologies, you need to be </span><span class="line" data-startTime="2251">aware that some of the driver </span><span class="line" data-startTime="2251">implementations may not be </span><span class="line" data-startTime="2254">secure, may not be safe. </span></p>

<p><span class="line" data-startTime="2256">This means that potential </span><span class="line" data-startTime="2256">malicious users can write some </span><span class="line" data-startTime="2259">sort of code, a GPU-specific </span><span class="line" data-startTime="2259">code, that when a user loads </span><span class="line" data-startTime="2262">it on the local machine does </span><span class="line" data-startTime="2262">something nasty and gnarly. </span> <span class="line" data-startTime="2265">For the most part, the teams </span><span class="line" data-startTime="2265">work in the modern browsers to </span><span class="line" data-startTime="2268">fix these, update these, and </span><span class="line" data-startTime="2268">make that sure these patches </span><span class="line" data-startTime="2270">are proper. </span> <span class="line" data-startTime="2270">For the stuff they just can't </span><span class="line" data-startTime="2270">fix, there's actually a </span><span class="line" data-startTime="2273">presented blacklisted drivers. </span> <span class="line" data-startTime="2274">They say that if you try to load </span><span class="line" data-startTime="2274">this content and you have </span><span class="line" data-startTime="2277">this driver on your </span><span class="line" data-startTime="2277">machine, nah. </span> <span class="line" data-startTime="2279">Not going to happen. </span></p>

<p><span class="line" data-startTime="2280">Why? </span><span class="line" data-startTime="2280">Because the security risk is </span><span class="line" data-startTime="2280">more important than the </span><span class="line" data-startTime="2283">content viewing. </span> <span class="line" data-startTime="2284">Now this is really important. </span> <span class="line" data-startTime="2286">Think of you. </span> <span class="line" data-startTime="2287">You are a developer and you put </span><span class="line" data-startTime="2287">content on the web, and </span><span class="line" data-startTime="2289">you put a game on the web and </span><span class="line" data-startTime="2289">the user goes to that site and </span><span class="line" data-startTime="2293">potentially is available for </span><span class="line" data-startTime="2293">some sort of hack or </span><span class="line" data-startTime="2295">something going on. </span> <span class="line" data-startTime="2296">That's not good, because they're </span><span class="line" data-startTime="2296">going to come back and </span><span class="line" data-startTime="2298">say that it's your problem, not </span><span class="line" data-startTime="2298">the web browser's problem </span><span class="line" data-startTime="2301">or the malicious person's </span><span class="line" data-startTime="2301">problem or </span><span class="line" data-startTime="2302">someone else's problem. </span> <span class="line" data-startTime="2303">So you like this. </span> <span class="line" data-startTime="2304">You want to make sure that you </span><span class="line" data-startTime="2304">can detect if they have a </span><span class="line" data-startTime="2307">blacklisted driver, respond </span><span class="line" data-startTime="2307">to it early. </span></p>

<p><span class="line" data-startTime="2309">Here's I do that. </span> <span class="line" data-startTime="2310">It's she really simple. </span> <span class="line" data-startTime="2312">You take this little </span><span class="line" data-startTime="2312">snippet of code. </span> <span class="line" data-startTime="2313">Effectively all you're doing in </span><span class="line" data-startTime="2313">JavaScript is you get the </span><span class="line" data-startTime="2316">canvas element and you try to </span><span class="line" data-startTime="2316">create a WebGL context. </span> <span class="line" data-startTime="2319">If the WebGL context fails, </span><span class="line" data-startTime="2319">chances are the user either </span><span class="line" data-startTime="2322">has inadequate resources to </span><span class="line" data-startTime="2322">run the game, which you </span><span class="line" data-startTime="2326">wouldn't want them to be able to </span><span class="line" data-startTime="2326">run it anyway, or they have </span><span class="line" data-startTime="2328">a blacklisted driver. </span> <span class="line" data-startTime="2329">In either case, running this </span><span class="line" data-startTime="2329">little script right here </span><span class="line" data-startTime="2332">before you start caching </span><span class="line" data-startTime="2332">or loading or doing any </span><span class="line" data-startTime="2334">processing is of vital </span><span class="line" data-startTime="2334">importance because you can </span><span class="line" data-startTime="2337">then tell the user hey, </span><span class="line" data-startTime="2337">something's wrong. </span></p>

<p><span class="line" data-startTime="2339">Go update, go do something. </span> <span class="line" data-startTime="2340">Does need to. </span> <span class="line" data-startTime="2341">In addition here &mdash; you can </span><span class="line" data-startTime="2341">actually see something else &mdash; </span><span class="line" data-startTime="2344">is that if this passes, you can </span><span class="line" data-startTime="2344">actually do other tests </span><span class="line" data-startTime="2347">here like does your hardware </span><span class="line" data-startTime="2347">support this max texture size? </span><span class="line" data-startTime="2352">Which is also really </span><span class="line" data-startTime="2352">important. </span> <span class="line" data-startTime="2353">You have to scale to make sure </span><span class="line" data-startTime="2353">that the hardware which is not </span><span class="line" data-startTime="2356">homogeneous can play well </span><span class="line" data-startTime="2356">with your game. </span> <span class="line" data-startTime="2359">Now most internet users aren't </span><span class="line" data-startTime="2359">going to like this because </span><span class="line" data-startTime="2362">this means that I have to create </span><span class="line" data-startTime="2362">different versions of </span><span class="line" data-startTime="2364">my product for different </span><span class="line" data-startTime="2364">tiers of performance. </span> <span class="line" data-startTime="2366">But in reality, PC developers </span><span class="line" data-startTime="2366">have had </span><span class="line" data-startTime="2369">this problem for years. </span></p>

<p><span class="line" data-startTime="2370">This is nothing new to us. </span> <span class="line" data-startTime="2371">We've been dealing with </span><span class="line" data-startTime="2371">this a long time. </span> <span class="line" data-startTime="2372">And the same problems and </span><span class="line" data-startTime="2372">the same solutions </span><span class="line" data-startTime="2374">have existed there. </span> <span class="line" data-startTime="2375">This is a well-documented thing </span><span class="line" data-startTime="2375">about how to deal with. </span> <span class="line" data-startTime="2378">So I suggest if this is an </span><span class="line" data-startTime="2378">issue that you're worried </span><span class="line" data-startTime="2380">about, definitely read up </span><span class="line" data-startTime="2380">on the documentation. </span> <span class="line" data-startTime="2383">Now the next thing you </span><span class="line" data-startTime="2383">need to be concerned </span><span class="line" data-startTime="2385">with is sandbox rendering. </span> <span class="line" data-startTime="2386">Now you have to understand that </span><span class="line" data-startTime="2386">again with these drivers </span><span class="line" data-startTime="2390">and the security issues </span><span class="line" data-startTime="2390">involved that we don't </span><span class="line" data-startTime="2393">actually allow the script code </span><span class="line" data-startTime="2393">that's being executed to go </span><span class="line" data-startTime="2395">right to the driver </span><span class="line" data-startTime="2395">and right to the </span><span class="line" data-startTime="2397">graphics processing unit. </span> <span class="line" data-startTime="2397">This could expose a whole slew </span><span class="line" data-startTime="2397">of problems. So instead what </span><span class="line" data-startTime="2400">occurs is we actually put all </span><span class="line" data-startTime="2400">of the processing and direct </span><span class="line" data-startTime="2404">correlation with the APIs in </span><span class="line" data-startTime="2404">a separate process that's </span><span class="line" data-startTime="2407">running somewhere else. </span></p>

<p><span class="line" data-startTime="2407">So you got your main Chrome </span><span class="line" data-startTime="2407">process and you've got a </span><span class="line" data-startTime="2410">rendering process. </span> <span class="line" data-startTime="2411">All of the data is then pushed </span><span class="line" data-startTime="2411">into an RPC buffer. </span> <span class="line" data-startTime="2415">That RPC buffer will get the </span><span class="line" data-startTime="2415">commands and then some time in </span><span class="line" data-startTime="2418">the future, push them to </span><span class="line" data-startTime="2418">the render process. </span> <span class="line" data-startTime="2420">And what this means you're sort </span><span class="line" data-startTime="2420">of creating a frame of </span><span class="line" data-startTime="2422">buffering and a frame of latency </span><span class="line" data-startTime="2422">in getting all this </span><span class="line" data-startTime="2424">through the pipe. </span> <span class="line" data-startTime="2426">To dig into this a little bit </span><span class="line" data-startTime="2426">deeper, you have to be wary </span><span class="line" data-startTime="2429">and the reason this is the </span><span class="line" data-startTime="2429">problem is you're got to get </span><span class="line" data-startTime="2431">something called </span><span class="line" data-startTime="2431">a render stall. </span> <span class="line" data-startTime="2433">Basically what happens is you're </span><span class="line" data-startTime="2433">going to do some work. </span> <span class="line" data-startTime="2434">You're going to draw some </span><span class="line" data-startTime="2434">objects, you're going to </span><span class="line" data-startTime="2436">update some vertex buffers, and </span><span class="line" data-startTime="2436">you're going to fill in </span><span class="line" data-startTime="2438">your entire RPC buffer. </span></p>

<p><span class="line" data-startTime="2440">So that when you go to try and </span><span class="line" data-startTime="2440">do something that pushes in </span><span class="line" data-startTime="2443">that RPC buffer, it's </span><span class="line" data-startTime="2443">going to block. </span> <span class="line" data-startTime="2444">It's going to say I've </span><span class="line" data-startTime="2444">got no more room. </span> <span class="line" data-startTime="2446">What's going to happen there is </span><span class="line" data-startTime="2446">even though you're not done </span><span class="line" data-startTime="2448">with your frame and you have </span><span class="line" data-startTime="2448">all this other stuff to do, </span><span class="line" data-startTime="2451">it's going to insert a </span><span class="line" data-startTime="2451">sync FLUSH command, </span><span class="line" data-startTime="2454">effectively a glFinish. </span> <span class="line" data-startTime="2455">What a sync FLUSH command's </span><span class="line" data-startTime="2455">going to do is it's going to </span><span class="line" data-startTime="2457">wait for that entire buffer </span><span class="line" data-startTime="2457">to be consumed </span><span class="line" data-startTime="2459">by the render process. </span> <span class="line" data-startTime="2460">And it's going to block your </span><span class="line" data-startTime="2460">calling application until that </span><span class="line" data-startTime="2463">work is done. </span> <span class="line" data-startTime="2464">So what's going to happen </span><span class="line" data-startTime="2464">is you will be </span><span class="line" data-startTime="2466">chugging along fine. </span> <span class="line" data-startTime="2467">You'll see that the timing </span><span class="line" data-startTime="2467">observation for draw objects </span><span class="line" data-startTime="2470">and update VBs is pretty </span><span class="line" data-startTime="2470">much consistent. </span> <span class="line" data-startTime="2472">And then all of a sudden, </span><span class="line" data-startTime="2472">you're going to hit 30 </span><span class="line" data-startTime="2474">milliseconds draw </span><span class="line" data-startTime="2474">object frame. </span> <span class="line" data-startTime="2475">And this is not ideal, because </span><span class="line" data-startTime="2475">you're going to </span><span class="line" data-startTime="2477">try to drill down. </span></p>

<p><span class="line" data-startTime="2478">You're going to be like why is </span><span class="line" data-startTime="2478">this one draw object taking so </span><span class="line" data-startTime="2480">long, and if I move it around </span><span class="line" data-startTime="2480">it's not in the same spot and </span><span class="line" data-startTime="2483">oh, my God. </span> <span class="line" data-startTime="2483">What's happening? </span><span class="line" data-startTime="2484">What's happening is it has </span><span class="line" data-startTime="2484">nothing to do with the way </span><span class="line" data-startTime="2486">you're calling the API. </span> <span class="line" data-startTime="2487">It has everything to do with </span><span class="line" data-startTime="2487">what API's doing on the back </span><span class="line" data-startTime="2489">end that you have very </span><span class="line" data-startTime="2489">little control over. </span> <span class="line" data-startTime="2491">But you do have some control. </span> <span class="line" data-startTime="2492">And This is really important. </span> <span class="line" data-startTime="2495">Swap buffers at the end of a </span><span class="line" data-startTime="2495">frame for rendering in WebGL </span><span class="line" data-startTime="2498">or OpenGL ES 2.0 in Native </span><span class="line" data-startTime="2498">Client will actually kick off </span><span class="line" data-startTime="2501">a glFinish call on </span><span class="line" data-startTime="2501">your behalf. </span></p>

<p><span class="line" data-startTime="2502">And what this does is it </span><span class="line" data-startTime="2502">actually force the RPC buffer </span><span class="line" data-startTime="2505">to get flushed for you. </span> <span class="line" data-startTime="2507">Now the intent here is can we </span><span class="line" data-startTime="2507">insert flushes ahead of time </span><span class="line" data-startTime="2512">to make sure that we never hit </span><span class="line" data-startTime="2512">one of these sync flushes. </span> <span class="line" data-startTime="2514">So to do this, effectively what </span><span class="line" data-startTime="2514">you have to do is you </span><span class="line" data-startTime="2517">have to figure out the optimal </span><span class="line" data-startTime="2517">places to insert a glFlush </span><span class="line" data-startTime="2520">command in your rendering </span><span class="line" data-startTime="2520">process. </span> <span class="line" data-startTime="2522">This will allow you to do some </span><span class="line" data-startTime="2522">drawing, flush the buffer, do </span><span class="line" data-startTime="2525">some more drawing, and flush </span><span class="line" data-startTime="2525">the buffer again. </span> <span class="line" data-startTime="2528">This will keep you from ever </span><span class="line" data-startTime="2528">hitting the sync flush if you </span><span class="line" data-startTime="2530">do it right. </span> <span class="line" data-startTime="2531">You may hit it every now again </span><span class="line" data-startTime="2531">in periods of high bandwidth </span><span class="line" data-startTime="2534">or high amount of processing </span><span class="line" data-startTime="2534">churn. </span></p>

<p><span class="line" data-startTime="2535">But the goal is to analyze your </span><span class="line" data-startTime="2535">system, figure out where </span><span class="line" data-startTime="2538">the heavy points are, in insert </span><span class="line" data-startTime="2538">these manual flushes in </span><span class="line" data-startTime="2542">strategic positions to reduce </span><span class="line" data-startTime="2542">and keep that pipeline moving </span><span class="line" data-startTime="2547">as efficient as possible. </span> <span class="line" data-startTime="2548">Think of it like a factory. </span> <span class="line" data-startTime="2550">Like you're trying to build </span><span class="line" data-startTime="2550">cars, you're trying to keep </span><span class="line" data-startTime="2551">everything going through smooth </span><span class="line" data-startTime="2551">so that there's no </span><span class="line" data-startTime="2553">pipeline bottlenecks. </span> <span class="line" data-startTime="2556">So canvas rendering. </span> <span class="line" data-startTime="2557">I talked about this. </span> <span class="line" data-startTime="2560">The latest versions of Chrome </span><span class="line" data-startTime="2560">actually have GPU accelerated </span><span class="line" data-startTime="2563">campus rendering. </span> <span class="line" data-startTime="2564">I believe this is unveiled </span><span class="line" data-startTime="2564">as default in Chrome 17. </span> <span class="line" data-startTime="2568">It might be Chrome 16. </span></p>

<p><span class="line" data-startTime="2569">Fact check me on that. </span> <span class="line" data-startTime="2571">But what this means is that </span><span class="line" data-startTime="2571">you as a developer can </span><span class="line" data-startTime="2573">actually just use the same </span><span class="line" data-startTime="2573">canvas commands &mdash; </span><span class="line" data-startTime="2576">draw, tesselate, do all </span><span class="line" data-startTime="2576">these other things &mdash; </span><span class="line" data-startTime="2578">and behind the scenes Chrome </span><span class="line" data-startTime="2578">will actually go through and </span><span class="line" data-startTime="2581">use the GPU on your behalf. </span> <span class="line" data-startTime="2582">This is amazing because this </span><span class="line" data-startTime="2582">means that all of the concept </span><span class="line" data-startTime="2585">and all of the nuances of </span><span class="line" data-startTime="2585">managing texture state, </span><span class="line" data-startTime="2588">setting data, and doing all this </span><span class="line" data-startTime="2588">other stuff is handled </span><span class="line" data-startTime="2590">behind the scenes </span><span class="line" data-startTime="2590">on your behalf. </span> <span class="line" data-startTime="2591">That's great. </span></p>

<p><span class="line" data-startTime="2592">That means you can just make </span><span class="line" data-startTime="2592">your game and focus </span><span class="line" data-startTime="2593">on making your game. </span> <span class="line" data-startTime="2594">It's definitely hand-free </span><span class="line" data-startTime="2594">usage. </span> <span class="line" data-startTime="2596">It's behind the scenes. </span> <span class="line" data-startTime="2597">And the user most importantly </span><span class="line" data-startTime="2597">can toggle this with a flag. </span> <span class="line" data-startTime="2600">So if by some chance they've got </span><span class="line" data-startTime="2600">a beefier CPU than they do </span><span class="line" data-startTime="2603">a GPU, the user can then go in </span><span class="line" data-startTime="2603">toggle, turnoff hardware </span><span class="line" data-startTime="2607">accelerated canvas, and go </span><span class="line" data-startTime="2607">back to the CPU path. </span> <span class="line" data-startTime="2610">We see this commonly in </span><span class="line" data-startTime="2610">notebooks or netbooks that may </span><span class="line" data-startTime="2613">have like six cores sitting </span><span class="line" data-startTime="2613">around but still have an </span><span class="line" data-startTime="2615">integrated graphics chip that </span><span class="line" data-startTime="2615">can't run Shader Model 1.1. </span> <span class="line" data-startTime="2621">Cool. </span> <span class="line" data-startTime="2621">So you've got all this stuff </span><span class="line" data-startTime="2621">working forward. </span></p>

<p><span class="line" data-startTime="2623">You've got this game </span><span class="line" data-startTime="2623">environment. </span> <span class="line" data-startTime="2624">You've got it all set up. </span> <span class="line" data-startTime="2625">Let's talk about the platform </span><span class="line" data-startTime="2625">environment. </span> <span class="line" data-startTime="2627">So now that you're doing a web </span><span class="line" data-startTime="2627">game, let's talk about some </span><span class="line" data-startTime="2628">things you have to </span><span class="line" data-startTime="2628">be aware of. </span> <span class="line" data-startTime="2631">Users will tab away </span><span class="line" data-startTime="2631">from your game. </span> <span class="line" data-startTime="2633">If you're running in a browser, </span><span class="line" data-startTime="2633">users consistently </span><span class="line" data-startTime="2635">tab across to check their </span><span class="line" data-startTime="2635">email, during a loading </span><span class="line" data-startTime="2638">screen, or they get a chat, or </span><span class="line" data-startTime="2638">Groupon pops up and says, oh </span><span class="line" data-startTime="2642">my gosh, there's an amazing </span><span class="line" data-startTime="2642">cat for sale in Southern </span><span class="line" data-startTime="2645">California. </span></p>

<p><span class="line" data-startTime="2645">Like there's different reasons </span><span class="line" data-startTime="2645">for you to tab away. </span> <span class="line" data-startTime="2648">You can detect this, and this </span><span class="line" data-startTime="2648">is an important thing. </span> <span class="line" data-startTime="2650">You can actually listen for the </span><span class="line" data-startTime="2650">visibilitychange event in </span><span class="line" data-startTime="2652">JavaScript. </span> <span class="line" data-startTime="2653">And that visibilitychange </span><span class="line" data-startTime="2653">event will give you a </span><span class="line" data-startTime="2655">notification when the user </span><span class="line" data-startTime="2655">has tabbed away. </span> <span class="line" data-startTime="2657">And you need to respond </span><span class="line" data-startTime="2657">according to this so. </span> <span class="line" data-startTime="2659">So for instance, you need to </span><span class="line" data-startTime="2659">pause the game first off. </span> <span class="line" data-startTime="2661">If the player's in a multiplayer </span><span class="line" data-startTime="2661">match or doing </span><span class="line" data-startTime="2663">something important, you don't </span><span class="line" data-startTime="2663">want them tabbing away to </span><span class="line" data-startTime="2665">cause a problem in the game. </span> <span class="line" data-startTime="2667">You want to make sure that you </span><span class="line" data-startTime="2667">pause properly and make sure </span><span class="line" data-startTime="2669">everything's kosher. </span> <span class="line" data-startTime="2670">You can also reduce or </span><span class="line" data-startTime="2670">turn off volume. </span></p>

<p><span class="line" data-startTime="2673">This depends on your game. </span> <span class="line" data-startTime="2674">Some people just choose to </span><span class="line" data-startTime="2674">reduce the volume so you kind </span><span class="line" data-startTime="2676">of notice that you're </span><span class="line" data-startTime="2676">still playing a game </span><span class="line" data-startTime="2678">and aware of it. </span> <span class="line" data-startTime="2679">If you turn off the volume, </span><span class="line" data-startTime="2679">sometimes it's easy for the </span><span class="line" data-startTime="2681">user to forget they're </span><span class="line" data-startTime="2681">playing. </span> <span class="line" data-startTime="2683">It's also worth noting that </span><span class="line" data-startTime="2683">setInterval during the time </span><span class="line" data-startTime="2687">that the user is a way will </span><span class="line" data-startTime="2687">actually slow down to about a </span><span class="line" data-startTime="2690">1,000 milliseconds, so about one </span><span class="line" data-startTime="2690">second pulses for anything </span><span class="line" data-startTime="2693">using setInterval. </span> <span class="line" data-startTime="2694">If you're using </span><span class="line" data-startTime="2694">RequestAnimationFrame, it will </span><span class="line" data-startTime="2695">stop completely. </span> <span class="line" data-startTime="2696">So make sure that you're aware </span><span class="line" data-startTime="2696">of these things in JavaScript. </span> <span class="line" data-startTime="2699">If you're using either </span><span class="line" data-startTime="2699">setInterval or </span><span class="line" data-startTime="2700">RequestAnimationFrame and the </span><span class="line" data-startTime="2700">user tabs away, these things </span><span class="line" data-startTime="2703">will occur. </span></p>

<p><span class="line" data-startTime="2703">And you need to respond </span><span class="line" data-startTime="2703">accordingly to them. </span> <span class="line" data-startTime="2706">Bugs in the wild. </span> <span class="line" data-startTime="2707">So users will run your product, </span><span class="line" data-startTime="2707">and they will run </span><span class="line" data-startTime="2710">your product on their machine in </span><span class="line" data-startTime="2710">their environment on their </span><span class="line" data-startTime="2712">particular test harnesses with </span><span class="line" data-startTime="2712">their particular installation </span><span class="line" data-startTime="2715">configurations and extensions </span><span class="line" data-startTime="2715">and pop-ups and everything </span><span class="line" data-startTime="2718">else that's all there. </span> <span class="line" data-startTime="2719">And they're going to hit </span><span class="line" data-startTime="2719">a bug sooner or later. </span> <span class="line" data-startTime="2721">It's just the configuration </span><span class="line" data-startTime="2721">world. </span> <span class="line" data-startTime="2722">Your job is to detect this on </span><span class="line" data-startTime="2722">their machine and get the </span><span class="line" data-startTime="2725">information back in an </span><span class="line" data-startTime="2725">appropriate way so that you </span><span class="line" data-startTime="2727">can update your product to </span><span class="line" data-startTime="2727">be a better product. </span> <span class="line" data-startTime="2730">Again all going back to </span><span class="line" data-startTime="2730">optimizing for the end user </span><span class="line" data-startTime="2732">experience. </span> <span class="line" data-startTime="2733">So you can detect this. </span></p>

<p><span class="line" data-startTime="2734">So if the user has an error </span><span class="line" data-startTime="2734">that's thrown, you can use </span><span class="line" data-startTime="2737">window.onerror. </span> <span class="line" data-startTime="2738">Or if you're using any browser </span><span class="line" data-startTime="2738">that implements v8, which is </span><span class="line" data-startTime="2742">Chrome's JavaScript virtual </span><span class="line" data-startTime="2742">machine, you can actually use </span><span class="line" data-startTime="2747">Error.captureStackTrace and </span><span class="line" data-startTime="2747">this will give you a full </span><span class="line" data-startTime="2749">stack trace to where </span><span class="line" data-startTime="2749">the error is. </span> <span class="line" data-startTime="2751">Once you detect this, you need </span><span class="line" data-startTime="2751">to respond accordingly. </span> <span class="line" data-startTime="2753">You need to gather </span><span class="line" data-startTime="2753">information. </span> <span class="line" data-startTime="2755">So it's not just enough </span><span class="line" data-startTime="2755">sometimes to get your stack. </span> <span class="line" data-startTime="2758">You actually need to gather </span><span class="line" data-startTime="2758">other information like the </span><span class="line" data-startTime="2760">game specific or game </span><span class="line" data-startTime="2760">state, the operating </span><span class="line" data-startTime="2763">system, the player ID. </span></p>

<p><span class="line" data-startTime="2764">Maybe this one player keeps </span><span class="line" data-startTime="2764">getting crashes, and you need </span><span class="line" data-startTime="2767">to correlate that </span><span class="line" data-startTime="2767">with who it is. </span> <span class="line" data-startTime="2770">In addition to that, there's two </span><span class="line" data-startTime="2770">really cool things here, </span><span class="line" data-startTime="2773">window.performance and </span><span class="line" data-startTime="2773">chrome.tabs.captureVisibleTab. </span> <span class="line" data-startTime="2776">These are excellent useful </span><span class="line" data-startTime="2776">resources as well, because it </span><span class="line" data-startTime="2778">allows you give a </span><span class="line" data-startTime="2778">bigger picture. </span> <span class="line" data-startTime="2781">For instance, what if the reason </span><span class="line" data-startTime="2781">that the game keeps </span><span class="line" data-startTime="2784">crashing on this user's machine </span><span class="line" data-startTime="2784">is because they have </span><span class="line" data-startTime="2786">some extension installed that </span><span class="line" data-startTime="2786">allows them to arbitrarily </span><span class="line" data-startTime="2789">break point JavaScript or make </span><span class="line" data-startTime="2789">everything in a floating point </span><span class="line" data-startTime="2792">integer or something. </span> <span class="line" data-startTime="2793">Who knows? </span><span class="line" data-startTime="2794">Querying these things allow </span><span class="line" data-startTime="2794">you to get better </span><span class="line" data-startTime="2796">visibility in that. </span> <span class="line" data-startTime="2798">Once you get the information &mdash; </span><span class="line" data-startTime="2798">so you detected it, you've </span><span class="line" data-startTime="2800">gathered your information, </span><span class="line" data-startTime="2800">and now you need to </span><span class="line" data-startTime="2801">get it back to you. </span> <span class="line" data-startTime="2802">And there's two primary </span><span class="line" data-startTime="2802">ways to do this. </span></p>

<p><span class="line" data-startTime="2804">The first of course is you </span><span class="line" data-startTime="2804">just spin up a thread and </span><span class="line" data-startTime="2805">shoot off an email to yourself, </span><span class="line" data-startTime="2807">which is fine and dandy. </span> <span class="line" data-startTime="2808">Of course, you have to worry </span><span class="line" data-startTime="2808">about what that means to send </span><span class="line" data-startTime="2810">an email from the user's </span><span class="line" data-startTime="2810">account and </span><span class="line" data-startTime="2812">all this other stuff. </span> <span class="line" data-startTime="2813">You can also upload it. </span> <span class="line" data-startTime="2814">And there's two nice little </span><span class="line" data-startTime="2814">software solutions called </span><span class="line" data-startTime="2818">jsErrLog and jdrop. </span> <span class="line" data-startTime="2820">Click the links. </span> <span class="line" data-startTime="2821">Check those out. </span> <span class="line" data-startTime="2822">Basically those allow you to </span><span class="line" data-startTime="2822">sort of upload some sort of </span><span class="line" data-startTime="2824">JSONized string data to a server </span><span class="line" data-startTime="2824">database somewhere, and </span><span class="line" data-startTime="2827">then you can come back at your </span><span class="line" data-startTime="2827">convenience and scrub through </span><span class="line" data-startTime="2830">the number of crashes for that </span><span class="line" data-startTime="2830">day, rank them, implement them </span><span class="line" data-startTime="2833">into your bug system, and </span><span class="line" data-startTime="2833">respond accordingly. </span> <span class="line" data-startTime="2838">Now here's an interesting </span><span class="line" data-startTime="2838">point. </span> <span class="line" data-startTime="2839">And a lot of people don't &mdash; </span><span class="line" data-startTime="2841">they sort of understand </span><span class="line" data-startTime="2841">this, but it's a </span><span class="line" data-startTime="2842">nuance that they miss &mdash; </span><span class="line" data-startTime="2843">is that you make sure </span><span class="line" data-startTime="2843">that your error </span><span class="line" data-startTime="2845">reporting is stable. </span> <span class="line" data-startTime="2846">The most annoying thing I've </span><span class="line" data-startTime="2846">ever had to debug is my </span><span class="line" data-startTime="2849">debugging code. </span></p>

<p><span class="line" data-startTime="2850">Like my I'm finding a crash </span><span class="line" data-startTime="2850">that's being caused by </span><span class="line" data-startTime="2853">something that I can't use </span><span class="line" data-startTime="2853">because my code that's trying </span><span class="line" data-startTime="2856">to detect the crash </span><span class="line" data-startTime="2856">is actually the </span><span class="line" data-startTime="2857">thing causing the crash. </span> <span class="line" data-startTime="2858">Like it's a sort of Inception, </span><span class="line" data-startTime="2858">[UNINTELLIGIBLE] </span><span class="line" data-startTime="2860">all the way down. </span> <span class="line" data-startTime="2862">So make sure your error </span><span class="line" data-startTime="2862">reporting is stable. </span> <span class="line" data-startTime="2863">When you do detect a user, it's </span><span class="line" data-startTime="2863">sort of best practices to </span><span class="line" data-startTime="2868">tell the user that you've </span><span class="line" data-startTime="2868">detected this and display it </span><span class="line" data-startTime="2870">to the user in some very </span><span class="line" data-startTime="2870">friendly methodology. </span> <span class="line" data-startTime="2873">Make sure that you communicate </span><span class="line" data-startTime="2873">that it's not their fault. </span></p>

<p><span class="line" data-startTime="2876">Nothing's more annoying than a </span><span class="line" data-startTime="2876">game that tells me that I'm </span><span class="line" data-startTime="2878">playing it wrong. </span> <span class="line" data-startTime="2879">Your users don't like that. </span> <span class="line" data-startTime="2881">Definitely avoid technical </span><span class="line" data-startTime="2881">language. </span> <span class="line" data-startTime="2882">When Chrome crashes, </span><span class="line" data-startTime="2882">what do get? </span><span class="line" data-startTime="2884">You get a little funny </span><span class="line" data-startTime="2884">icon that kind of </span><span class="line" data-startTime="2886">brightens your day. </span> <span class="line" data-startTime="2886">And it says hey, something's </span><span class="line" data-startTime="2886">crashed. </span> <span class="line" data-startTime="2888">Sometimes it says ah, snap </span><span class="line" data-startTime="2888">or he's dead, Jim. </span> <span class="line" data-startTime="2891">It makes humor. </span> <span class="line" data-startTime="2892">It makes light of the fact that </span><span class="line" data-startTime="2892">your data is somehow no </span><span class="line" data-startTime="2895">longer there but don't worry. </span></p>

<p><span class="line" data-startTime="2897">Grass will still grow, babies </span><span class="line" data-startTime="2897">will still laugh, and we will </span><span class="line" data-startTime="2900">recover your data at a </span><span class="line" data-startTime="2900">point in the future. </span> <span class="line" data-startTime="2903">Once you display it, </span><span class="line" data-startTime="2903">make sure that you </span><span class="line" data-startTime="2905">respect your user's privacy. </span> <span class="line" data-startTime="2907">Ensure that the user knows what </span><span class="line" data-startTime="2907">you're gathering, what </span><span class="line" data-startTime="2909">you're returning as far as </span><span class="line" data-startTime="2909">your data's concern. </span> <span class="line" data-startTime="2912">And allow the user to opt-out. </span> <span class="line" data-startTime="2913">This is just sort of </span><span class="line" data-startTime="2913">a nice thing to do. </span> <span class="line" data-startTime="2915">Allow the user to say </span><span class="line" data-startTime="2915">you what, I know </span><span class="line" data-startTime="2917">what the problem was. </span> <span class="line" data-startTime="2917">I was trying to hack </span><span class="line" data-startTime="2917">you system. </span></p>

<p><span class="line" data-startTime="2919">Please don't use this </span><span class="line" data-startTime="2919">information. </span> <span class="line" data-startTime="2920">Or hey, I know what </span><span class="line" data-startTime="2920">the problem is. </span> <span class="line" data-startTime="2921">It's this other plug-in. </span> <span class="line" data-startTime="2922">Don't send the information </span><span class="line" data-startTime="2922">around. </span> <span class="line" data-startTime="2924">Allow them to opt-out. </span> <span class="line" data-startTime="2926">Once you've got your JavaScript </span><span class="line" data-startTime="2926">data, it's </span><span class="line" data-startTime="2928">important to minify </span><span class="line" data-startTime="2928">and obfuscate it. </span> <span class="line" data-startTime="2930">This is actually really </span><span class="line" data-startTime="2930">important. </span> <span class="line" data-startTime="2931">So your JavaScript code will </span><span class="line" data-startTime="2931">actually take up a large chunk </span><span class="line" data-startTime="2934">of your memory footprint. </span> <span class="line" data-startTime="2935">And you want to reduce sort of </span><span class="line" data-startTime="2935">duplicate characters and white </span><span class="line" data-startTime="2938">spaces and other things so that </span><span class="line" data-startTime="2938">it's transferred to the </span><span class="line" data-startTime="2941">user in the most efficient </span><span class="line" data-startTime="2941">methodology possible for </span><span class="line" data-startTime="2944">JavaScript. </span> <span class="line" data-startTime="2946">The closure compile offers this </span><span class="line" data-startTime="2946">as well as obfuscation. </span></p>

<p><span class="line" data-startTime="2949">So this will actually allow your </span><span class="line" data-startTime="2949">code to be obfuscated to </span><span class="line" data-startTime="2951">a level that a standard human </span><span class="line" data-startTime="2951">being just taking a look at </span><span class="line" data-startTime="2954">the code won't be able to </span><span class="line" data-startTime="2954">actually detect what's going </span><span class="line" data-startTime="2956">on inside of it. </span> <span class="line" data-startTime="2957">They'll need to spend some time </span><span class="line" data-startTime="2959">deobfuscating it to get there. </span> <span class="line" data-startTime="2963">plovr, I think is the proper </span><span class="line" data-startTime="2963">way to do this is sort of a </span><span class="line" data-startTime="2965">front end to the closure </span><span class="line" data-startTime="2965">compiler. </span> <span class="line" data-startTime="2967">Definitely take a </span><span class="line" data-startTime="2967">look at that. </span> <span class="line" data-startTime="2968">And HTML5 boiler plate also </span><span class="line" data-startTime="2968">contains some really amazing </span><span class="line" data-startTime="2971">tools for minimization and </span><span class="line" data-startTime="2971">obfuscation that you should be </span><span class="line" data-startTime="2974">looking at if you're writing </span><span class="line" data-startTime="2974">content in JavaScript that is </span><span class="line" data-startTime="2977">performance and size heavy. </span> <span class="line" data-startTime="2980">User metrics. </span> <span class="line" data-startTime="2980">Now we're getting into </span><span class="line" data-startTime="2980">the cool stuff. </span></p>

<p><span class="line" data-startTime="2982">So you should know who your </span><span class="line" data-startTime="2982">players are and you should be </span><span class="line" data-startTime="2986">using Google Analytics </span><span class="line" data-startTime="2986">to do this. </span> <span class="line" data-startTime="2988">Now Google Analytics as I've </span><span class="line" data-startTime="2988">said before is traditionally a </span><span class="line" data-startTime="2991">web service that allows you to </span><span class="line" data-startTime="2991">track who's visiting your </span><span class="line" data-startTime="2994">site, where they're coming from, </span><span class="line" data-startTime="2994">what pages get the most </span><span class="line" data-startTime="2996">traffic, et cetera, et </span><span class="line" data-startTime="2996">cetera, et cetera. </span> <span class="line" data-startTime="2998">But you can also kickoff custom </span><span class="line" data-startTime="3000">events, and this is amazing. </span> <span class="line" data-startTime="3001">This means that from JavaScript, </span><span class="line" data-startTime="3001">you can kick off </span><span class="line" data-startTime="3004">an event that's attached to </span><span class="line" data-startTime="3004">something going on your game. </span> <span class="line" data-startTime="3008">So you can say every time a </span><span class="line" data-startTime="3008">user, any user finishes level </span><span class="line" data-startTime="3011">two I'm going to report that to </span><span class="line" data-startTime="3011">Google Analytics and keep </span><span class="line" data-startTime="3014">that data around. </span> <span class="line" data-startTime="3015">Now I don't have a slide for it, </span><span class="line" data-startTime="3015">but the tools for Google </span><span class="line" data-startTime="3018">Analytics are actually </span><span class="line" data-startTime="3018">really amazing. </span> <span class="line" data-startTime="3019">They're kind of from the future </span><span class="line" data-startTime="3019">in terms of ability to </span><span class="line" data-startTime="3022">analyze data and look at it </span><span class="line" data-startTime="3022">for specific spikes and </span><span class="line" data-startTime="3025">reasons that you need. </span> <span class="line" data-startTime="3026">So if you save things like </span><span class="line" data-startTime="3026">finish level 2, finish the </span><span class="line" data-startTime="3028">game, how many users chatted, </span><span class="line" data-startTime="3028">how many users joined a group, </span><span class="line" data-startTime="3032">how many users kicked </span><span class="line" data-startTime="3032">a chicken. </span></p>

<p><span class="line" data-startTime="3034">This is important information. </span> <span class="line" data-startTime="3035">If you put chickens and you </span><span class="line" data-startTime="3035">allow a user to kick a </span><span class="line" data-startTime="3037">chicken, you should probably </span><span class="line" data-startTime="3037">figure out how many users are </span><span class="line" data-startTime="3039">actually doing that thing so you </span><span class="line" data-startTime="3039">can figure out whether or </span><span class="line" data-startTime="3041">not you need to make it </span><span class="line" data-startTime="3041">a quest or an upgrade. </span> <span class="line" data-startTime="3043">Like hey, you've kicked </span><span class="line" data-startTime="3043">a million chickens. </span> <span class="line" data-startTime="3047">Halo 3 did a great </span><span class="line" data-startTime="3047">job of this. </span> <span class="line" data-startTime="3049">And this is actually one of the </span><span class="line" data-startTime="3049">first documented sort of </span><span class="line" data-startTime="3051">in the wild publications. </span> <span class="line" data-startTime="3052">What you're looking at </span><span class="line" data-startTime="3052">here is a heat map. </span> <span class="line" data-startTime="3055">What happened was the designers </span><span class="line" data-startTime="3055">of Halo 3 during the </span><span class="line" data-startTime="3057">early testing days started </span><span class="line" data-startTime="3057">logging every </span><span class="line" data-startTime="3060">place that a user died. </span></p>

<p><span class="line" data-startTime="3061">So any time a player died, they </span><span class="line" data-startTime="3061">put that point in space. </span> <span class="line" data-startTime="3065">And then they would generate </span><span class="line" data-startTime="3065">these heat maps of specific </span><span class="line" data-startTime="3068">multiplayer maps every day. </span> <span class="line" data-startTime="3070">And what you see here is in the </span><span class="line" data-startTime="3070">red, that's where all the </span><span class="line" data-startTime="3073">deaths occur. </span> <span class="line" data-startTime="3074">You can see in the blue, </span><span class="line" data-startTime="3074">not so many deaths. </span> <span class="line" data-startTime="3076">Now you can take this </span><span class="line" data-startTime="3076">information and then </span><span class="line" data-startTime="3078">correlate, hey, see </span><span class="line" data-startTime="3078">these red areas? </span><span class="line" data-startTime="3081">That's where all </span><span class="line" data-startTime="3081">the action is. </span> <span class="line" data-startTime="3082">Why is all the action there? </span><span class="line" data-startTime="3084">Is there some sort of power up, </span><span class="line" data-startTime="3084">or is it a choke point, or </span><span class="line" data-startTime="3087">is it a strategic interest You </span><span class="line" data-startTime="3087">can then take this information </span><span class="line" data-startTime="3089">and go back to redesign </span><span class="line" data-startTime="3089">how your game works </span><span class="line" data-startTime="3092">based upon this data. </span> <span class="line" data-startTime="3093">And you can do this through </span><span class="line" data-startTime="3093">Google Analytics kicking off </span><span class="line" data-startTime="3096">these custom events. </span> <span class="line" data-startTime="3098">So the high points. </span></p>

<p><span class="line" data-startTime="3099">What do you want to track? </span><span class="line" data-startTime="3100">So let's say cool. </span> <span class="line" data-startTime="3100">You buy into it. </span> <span class="line" data-startTime="3101">You're going to use it. </span> <span class="line" data-startTime="3101">What are you going to track? </span><span class="line" data-startTime="3103">You should use Google Analytics </span><span class="line" data-startTime="3103">for the number of </span><span class="line" data-startTime="3104">daily, weekly, and monthly users </span><span class="line" data-startTime="3104">that are actually using </span><span class="line" data-startTime="3106">your product. </span> <span class="line" data-startTime="3107">You should track the number of </span><span class="line" data-startTime="3107">players coming from what site. </span> <span class="line" data-startTime="3110">You should know whether or not </span><span class="line" data-startTime="3110">you're getting more players </span><span class="line" data-startTime="3112">from Rock, Paper, Shotgun versus </span><span class="line" data-startTime="3112">Kotaku, and know how to </span><span class="line" data-startTime="3116">respond accordingly to that. </span> <span class="line" data-startTime="3117">You should definitely know how </span><span class="line" data-startTime="3117">many players actually click </span><span class="line" data-startTime="3121">the buy button. </span> <span class="line" data-startTime="3121">That's super important. </span></p>

<p><span class="line" data-startTime="3122">Because you should also know </span><span class="line" data-startTime="3122">how many players actually </span><span class="line" data-startTime="3125">complete the buy button. </span> <span class="line" data-startTime="3126">This is an important metric. </span> <span class="line" data-startTime="3127">This tells you how many people </span><span class="line" data-startTime="3127">are dropping off inside of the </span><span class="line" data-startTime="3130">monetization process. </span> <span class="line" data-startTime="3131">How many do were willing to </span><span class="line" data-startTime="3131">buy the product versus how </span><span class="line" data-startTime="3133">many people actually do. </span> <span class="line" data-startTime="3136">Now for some things, Google </span><span class="line" data-startTime="3136">Analytics doesn't work well. </span> <span class="line" data-startTime="3138">And in these cases, you should </span><span class="line" data-startTime="3138">probably propagate data back </span><span class="line" data-startTime="3140">to your own server. </span></p>

<p><span class="line" data-startTime="3141">For some in-game events, </span><span class="line" data-startTime="3141">this is probably the </span><span class="line" data-startTime="3143">best way to do it. </span> <span class="line" data-startTime="3145">Like number of crashes, bugs, </span><span class="line" data-startTime="3145">specific errors, or anything </span><span class="line" data-startTime="3148">that may need some specific </span><span class="line" data-startTime="3148">processing that Google </span><span class="line" data-startTime="3150">Analytics isn't best </span><span class="line" data-startTime="3150">suited for. </span> <span class="line" data-startTime="3153">AB testing. </span> <span class="line" data-startTime="3154">This is a great thing you </span><span class="line" data-startTime="3154">should all be doing. </span> <span class="line" data-startTime="3155">Now web developers know this. </span> <span class="line" data-startTime="3157">They know that there is a secret </span><span class="line" data-startTime="3157">sauce to a better game. </span> <span class="line" data-startTime="3160">And it comes from the fact </span><span class="line" data-startTime="3160">that there's a direct </span><span class="line" data-startTime="3162">disconnect between game </span><span class="line" data-startTime="3162">developers and users. </span></p>

<p><span class="line" data-startTime="3165">This is just the </span><span class="line" data-startTime="3165">way of things. </span> <span class="line" data-startTime="3166">As a game developer, I super </span><span class="line" data-startTime="3166">think that this amazing quest </span><span class="line" data-startTime="3171">where I take a chicken and wear </span><span class="line" data-startTime="3171">it as a hat for three </span><span class="line" data-startTime="3173">hours is the most amazing, </span><span class="line" data-startTime="3173">visceral experience that every </span><span class="line" data-startTime="3176">player will ever go </span><span class="line" data-startTime="3176">through ever. </span> <span class="line" data-startTime="3178">In reality, only two people play </span><span class="line" data-startTime="3178">this game, me and my mom </span><span class="line" data-startTime="3180">because I told her to play </span><span class="line" data-startTime="3180">it and give me feedback. </span> <span class="line" data-startTime="3182">Now why I'm getting feedback </span><span class="line" data-startTime="3182">from my mom on a quest, that's </span><span class="line" data-startTime="3184">a different talk. </span> <span class="line" data-startTime="3185">We'll talk about that later. </span> <span class="line" data-startTime="3186">But the important thing is that </span><span class="line" data-startTime="3186">in order to connect with </span><span class="line" data-startTime="3189">my user which is the person </span><span class="line" data-startTime="3189">playing the game, I need a </span><span class="line" data-startTime="3192">different way to get </span><span class="line" data-startTime="3192">that information. </span> <span class="line" data-startTime="3195">AB testing is the process of </span><span class="line" data-startTime="3195">issuing a separate build to a </span><span class="line" data-startTime="3199">percentage of your users in such </span><span class="line" data-startTime="3199">a way that you can then </span><span class="line" data-startTime="3202">track the results to determine </span><span class="line" data-startTime="3202">what your proper outcome is. </span> <span class="line" data-startTime="3205">So for instance, the most simple </span><span class="line" data-startTime="3205">version of this is </span><span class="line" data-startTime="3208">currently our buy button </span><span class="line" data-startTime="3208">when you want to </span><span class="line" data-startTime="3210">buy an item is red. </span></p>

<p><span class="line" data-startTime="3211">What if we change </span><span class="line" data-startTime="3211">it to be blue? </span><span class="line" data-startTime="3214">Does that have any effect on </span><span class="line" data-startTime="3214">the amount of people that </span><span class="line" data-startTime="3216">monetize our game? </span><span class="line" data-startTime="3217">Let's find out. </span> <span class="line" data-startTime="3218">Let's make a build with a blue </span><span class="line" data-startTime="3218">button, issue it to 50% of the </span><span class="line" data-startTime="3221">people that log in today. </span> <span class="line" data-startTime="3222">50% of people keep </span><span class="line" data-startTime="3222">the red button. </span> <span class="line" data-startTime="3224">Did we see any change? </span><span class="line" data-startTime="3226">If not, if so what does </span><span class="line" data-startTime="3226">that mean to you? </span><span class="line" data-startTime="3229">This allows you to </span><span class="line" data-startTime="3229">make changes that </span><span class="line" data-startTime="3230">optimize your outcome. </span> <span class="line" data-startTime="3231">Because it's not just as simple </span><span class="line" data-startTime="3231">as what kind of button </span><span class="line" data-startTime="3234">color it is. </span> <span class="line" data-startTime="3234">But it's also based </span><span class="line" data-startTime="3234">upon region. </span> <span class="line" data-startTime="3236">Like do people in Germany </span><span class="line" data-startTime="3236">buy the same way </span><span class="line" data-startTime="3239">as people in America? </span><span class="line" data-startTime="3240">Could I change my layout </span><span class="line" data-startTime="3240">to optimize </span><span class="line" data-startTime="3242">for that region better? </span><span class="line" data-startTime="3243">You can actually create multiple </span><span class="line" data-startTime="3243">versions of your game </span><span class="line" data-startTime="3246">and your front end effectively </span><span class="line" data-startTime="3246">based upon region. </span></p>

<p><span class="line" data-startTime="3248">Like maybe in Japan, your game </span><span class="line" data-startTime="3248">needs more happy happy fun </span><span class="line" data-startTime="3252">time music. </span> <span class="line" data-startTime="3252">You don't know that until you </span><span class="line" data-startTime="3252">issue AB testing to get to </span><span class="line" data-startTime="3255">that information. </span> <span class="line" data-startTime="3257">All right. </span> <span class="line" data-startTime="3257">The thing you've all been </span><span class="line" data-startTime="3257">waiting for &mdash; monetization. </span> <span class="line" data-startTime="3260">Our deep dark scientists here at </span><span class="line" data-startTime="3260">Google have taken a look at </span><span class="line" data-startTime="3263">monetization and what's been </span><span class="line" data-startTime="3263">working for games. </span> <span class="line" data-startTime="3265">And in an anonymous fashion, </span><span class="line" data-startTime="3265">we're going to sort of report </span><span class="line" data-startTime="3268">some of the things that you </span><span class="line" data-startTime="3268">should be looking at if you're </span><span class="line" data-startTime="3270">developing web games today. </span></p>

<p><span class="line" data-startTime="3272">So the first off is that </span><span class="line" data-startTime="3272">monetization is a dark art. </span> <span class="line" data-startTime="3274">What works for one game does </span><span class="line" data-startTime="3274">not work for every game. </span> <span class="line" data-startTime="3277">And you need to make sure you </span><span class="line" data-startTime="3277">understand that first off. </span> <span class="line" data-startTime="3279">You can't just grab a game and </span><span class="line" data-startTime="3279">say I'm going to monetize like </span><span class="line" data-startTime="3282">they're monetizing. </span> <span class="line" data-startTime="3282">It has a lot to do with how </span><span class="line" data-startTime="3282">integrated it is with your </span><span class="line" data-startTime="3286">game, with your product, and </span><span class="line" data-startTime="3286">with your environment. </span> <span class="line" data-startTime="3288">So with that being said, you </span><span class="line" data-startTime="3288">need to make sure that you're </span><span class="line" data-startTime="3291">holding the user's hand. </span> <span class="line" data-startTime="3293">For instance, we go through </span><span class="line" data-startTime="3293">this entire process of </span><span class="line" data-startTime="3295">teaching the user how to play </span><span class="line" data-startTime="3295">the game, and we never teach </span><span class="line" data-startTime="3297">them how to purchase an item. </span> <span class="line" data-startTime="3299">We've actually seen that the </span><span class="line" data-startTime="3299">games that include purchase in </span><span class="line" data-startTime="3303">the tutorial monetize on average </span><span class="line" data-startTime="3303">about 30% better than </span><span class="line" data-startTime="3308">those who don't. </span></p>

<p><span class="line" data-startTime="3310">That's amazing. </span> <span class="line" data-startTime="3312">Just showing the user how to &mdash; </span><span class="line" data-startTime="3314">give them some free credits. </span> <span class="line" data-startTime="3315">Let them buy something during </span><span class="line" data-startTime="3315">the tutorial to show them the </span><span class="line" data-startTime="3318">store so that they're </span><span class="line" data-startTime="3318">not afraid of it. </span> <span class="line" data-startTime="3320">Show them what the </span><span class="line" data-startTime="3320">benefits are. </span> <span class="line" data-startTime="3322">Allow them to browse around. </span> <span class="line" data-startTime="3323">We've got some other cool </span><span class="line" data-startTime="3323">statistics that show the user </span><span class="line" data-startTime="3325">who do buy during that process </span><span class="line" data-startTime="3325">are tons more sticky. </span> <span class="line" data-startTime="3328">We'll share that information </span><span class="line" data-startTime="3328">at a different time. </span> <span class="line" data-startTime="3331">Most importantly with this is </span><span class="line" data-startTime="3331">why they should purchase. </span> <span class="line" data-startTime="3334">Getting them early in this </span><span class="line" data-startTime="3334">process and showing them how </span><span class="line" data-startTime="3336">they should purchase </span><span class="line" data-startTime="3336">allows them to also </span><span class="line" data-startTime="3338">see why it's available. </span> <span class="line" data-startTime="3339">Most of the time users play a </span><span class="line" data-startTime="3339">game, they don't have any </span><span class="line" data-startTime="3341">bearing or understanding about </span><span class="line" data-startTime="3341">what's available and why they </span><span class="line" data-startTime="3344">care about it. </span> <span class="line" data-startTime="3344">For instance, I never knew there </span><span class="line" data-startTime="3344">was a sword of Antioch </span><span class="line" data-startTime="3347">that was worth 50-50 power. </span></p>

<p><span class="line" data-startTime="3349">It allowed me to assault </span><span class="line" data-startTime="3349">chickens from here until the </span><span class="line" data-startTime="3352">Great Gates of Nagral. </span> <span class="line" data-startTime="3354">But now that I do know, I </span><span class="line" data-startTime="3354">want to buy that sword. </span> <span class="line" data-startTime="3356">Getting them in there </span><span class="line" data-startTime="3356">and showing them </span><span class="line" data-startTime="3358">that item is important. </span> <span class="line" data-startTime="3360">This is a great graph. </span> <span class="line" data-startTime="3362">This is an amazing graph. </span> <span class="line" data-startTime="3363">And if you've been reading </span><span class="line" data-startTime="3363">anything on monetization in </span><span class="line" data-startTime="3365">games recently, you should </span><span class="line" data-startTime="3365">already know </span><span class="line" data-startTime="3366">the outcome of this. </span> <span class="line" data-startTime="3367">What this shows is three </span><span class="line" data-startTime="3367">line points. </span> <span class="line" data-startTime="3370">This is from a particular </span><span class="line" data-startTime="3370">product that launched a full </span><span class="line" data-startTime="3373">version that you could </span><span class="line" data-startTime="3373">buy up front. </span></p>

<p><span class="line" data-startTime="3375">So you pay $5.99 and you get the </span><span class="line" data-startTime="3375">full version, and a free </span><span class="line" data-startTime="3378">version at the same time. </span> <span class="line" data-startTime="3379">So they said pay $5 </span><span class="line" data-startTime="3379">or don't pay $5. </span> <span class="line" data-startTime="3382">I don't really care. </span> <span class="line" data-startTime="3383">It also provided in-app purchase </span><span class="line" data-startTime="3383">so that you can </span><span class="line" data-startTime="3385">actually purchase items </span><span class="line" data-startTime="3385">in the game. </span> <span class="line" data-startTime="3388">So you're looking at this </span><span class="line" data-startTime="3388">time line here. </span> <span class="line" data-startTime="3391">In the blue on the bottom, </span><span class="line" data-startTime="3391">you're actually looking at the </span><span class="line" data-startTime="3393">full purchase. </span> <span class="line" data-startTime="3394">So this is just the amount of </span><span class="line" data-startTime="3394">money that came from buying </span><span class="line" data-startTime="3397">the game, just without </span><span class="line" data-startTime="3397">anything else. </span> <span class="line" data-startTime="3399">Just buy the game up front. </span></p>

<p><span class="line" data-startTime="3400">You can see that in the blue. </span> <span class="line" data-startTime="3401">The green is the amount of money </span><span class="line" data-startTime="3401">made from the people who </span><span class="line" data-startTime="3405">bought the full game &mdash; </span><span class="line" data-startTime="3405">so upfront price &mdash; </span><span class="line" data-startTime="3408">as well as in-app purchase. </span> <span class="line" data-startTime="3410">So they bought the game, they </span><span class="line" data-startTime="3410">spent $5, and then they spend </span><span class="line" data-startTime="3412">an additional $10 or $11 </span><span class="line" data-startTime="3412">buying upgraded items. </span> <span class="line" data-startTime="3416">The pink or the orange depending </span><span class="line" data-startTime="3416">on what your monitor </span><span class="line" data-startTime="3419">color is and how this gets </span><span class="line" data-startTime="3419">compressed on YouTube is </span><span class="line" data-startTime="3421">actually the total input </span><span class="line" data-startTime="3421">from the free app </span><span class="line" data-startTime="3425">just for in-app purchase. </span> <span class="line" data-startTime="3427">Which means these people didn't </span><span class="line" data-startTime="3427">buy up front version. </span> <span class="line" data-startTime="3429">They just spent all of their </span><span class="line" data-startTime="3429">money in the game actually </span><span class="line" data-startTime="3431">buying items. It's through </span><span class="line" data-startTime="3431">the roof in a </span><span class="line" data-startTime="3433">couple different places. </span> <span class="line" data-startTime="3434">But in general, it just </span><span class="line" data-startTime="3434">over-monetizes everything. </span> <span class="line" data-startTime="3436">And the reason for this </span><span class="line" data-startTime="3436">can be twofold. </span></p>

<p><span class="line" data-startTime="3438">Number one, it could be that the </span><span class="line" data-startTime="3438">number of users who got in </span><span class="line" data-startTime="3441">the door to buy the item </span><span class="line" data-startTime="3441">were much larger. </span> <span class="line" data-startTime="3443">So let's say that the free </span><span class="line" data-startTime="3443">version to in-app purchase had </span><span class="line" data-startTime="3447">3x to 4x the number of users. </span> <span class="line" data-startTime="3449">Or the users just felt more </span><span class="line" data-startTime="3449">generous because they didn't </span><span class="line" data-startTime="3451">already pay $5 to get </span><span class="line" data-startTime="3451">the application. </span> <span class="line" data-startTime="3453">But the point of this graph &mdash; </span><span class="line" data-startTime="3453">and we're seeing other results </span><span class="line" data-startTime="3456">show this &mdash; </span><span class="line" data-startTime="3456">is that making your game free to </span><span class="line" data-startTime="3456">play, some content free to </span><span class="line" data-startTime="3460">play with some form of in-app </span><span class="line" data-startTime="3460">purchase for content expansion </span><span class="line" data-startTime="3464">is definitely the way to go. </span></p>

<p><span class="line" data-startTime="3466">Now once you do this though, </span><span class="line" data-startTime="3466">you're going to ask yourself </span><span class="line" data-startTime="3468">what kind of virtual goods </span><span class="line" data-startTime="3468">should I be selling? </span><span class="line" data-startTime="3471">If we're going to embrace this </span><span class="line" data-startTime="3471">in-app purchase thing, what </span><span class="line" data-startTime="3473">should I be doing? </span><span class="line" data-startTime="3473">There's a great graph by </span><span class="line" data-startTime="3473">Flurry that's online. </span> <span class="line" data-startTime="3476">Go grab it. </span> <span class="line" data-startTime="3477">Take a look at it. </span> <span class="line" data-startTime="3478">Which actually shows the </span><span class="line" data-startTime="3478">breakdown of durable goods and </span><span class="line" data-startTime="3480">who's buying what. </span> <span class="line" data-startTime="3481">So first off, we notice that </span><span class="line" data-startTime="3481">personalization items through </span><span class="line" data-startTime="3485">in-app purchase are </span><span class="line" data-startTime="3485">only about 2%. </span> <span class="line" data-startTime="3486">So only about 2% of transactions </span><span class="line" data-startTime="3486">in this graph are </span><span class="line" data-startTime="3490">for hey, I would like to buy </span><span class="line" data-startTime="3490">that shiny chicken hat that </span><span class="line" data-startTime="3494">clucks any time I get next </span><span class="line" data-startTime="3494">to someone else who </span><span class="line" data-startTime="3496">has a chicken hat. </span></p>

<p><span class="line" data-startTime="3497">Only about 2%. </span> <span class="line" data-startTime="3498">About 30% are durable items. </span> <span class="line" data-startTime="3498">These are effectively items </span><span class="line" data-startTime="3501">that you buy and then keep the </span><span class="line" data-startTime="3501">rest of your gaming existence. </span> <span class="line" data-startTime="3504">So the sword of Antioch that I </span><span class="line" data-startTime="3504">then keep until I'm level 90. </span> <span class="line" data-startTime="3508">Only about 30% buy that. </span> <span class="line" data-startTime="3509">Where the big money is actually </span><span class="line" data-startTime="3509">in consumable goods. </span> <span class="line" data-startTime="3512">And basically consumable </span><span class="line" data-startTime="3512">goods are goods that </span><span class="line" data-startTime="3514">have a limited lifespan. </span> <span class="line" data-startTime="3516">So pay $0.99 to get a speed </span><span class="line" data-startTime="3516">boost for the next hour. </span> <span class="line" data-startTime="3520">Or also included in this item </span><span class="line" data-startTime="3520">is virtual currency. </span> <span class="line" data-startTime="3524">So pay $5 to get 200 coins. </span> <span class="line" data-startTime="3527">And then the coins can then be </span><span class="line" data-startTime="3527">used to purchase other items </span><span class="line" data-startTime="3530">in the game. </span> <span class="line" data-startTime="3531">Virtual currency is considered </span><span class="line" data-startTime="3531">a consumable good. </span> <span class="line" data-startTime="3533">And as you can see, that whole </span><span class="line" data-startTime="3533">section of consumables &mdash; </span><span class="line" data-startTime="3535">so limited lifetime objects &mdash; </span><span class="line" data-startTime="3537">are actually dominating how </span><span class="line" data-startTime="3537">people are buying nowadays. </span></p>

<p><span class="line" data-startTime="3541">So let's talk about virtual </span><span class="line" data-startTime="3541">currency for a second. </span> <span class="line" data-startTime="3543">So if you have virtual currency, </span><span class="line" data-startTime="3543">the numbers actually </span><span class="line" data-startTime="3545">show that you should have a </span><span class="line" data-startTime="3545">multiple currency system. </span> <span class="line" data-startTime="3548">Not a multiple virtual currency, </span><span class="line" data-startTime="3548">but a multiple </span><span class="line" data-startTime="3550">currency system. </span> <span class="line" data-startTime="3551">So you should be able to allow </span><span class="line" data-startTime="3551">your users to effectively buy </span><span class="line" data-startTime="3553">premium currency from in-app </span><span class="line" data-startTime="3553">purchases, and then also have </span><span class="line" data-startTime="3557">some sort of grind currency </span><span class="line" data-startTime="3557">from game play. </span></p>

<p><span class="line" data-startTime="3560">So I play this level, I </span><span class="line" data-startTime="3560">kick a chicken, the </span><span class="line" data-startTime="3563">chicken drops one bronze. </span> <span class="line" data-startTime="3565">Cool. </span> <span class="line" data-startTime="3565">I got a bronze. </span> <span class="line" data-startTime="3566">But then I can go and </span><span class="line" data-startTime="3566">buy for $5 100 gold. </span> <span class="line" data-startTime="3571">And really the metric here this </span><span class="line" data-startTime="3571">starts getting cool is </span><span class="line" data-startTime="3574">that you allow trading </span><span class="line" data-startTime="3574">between currencies. </span> <span class="line" data-startTime="3576">So I can turn my 100 gold into </span><span class="line" data-startTime="3576">5,000 copper or vice-versa. </span> <span class="line" data-startTime="3581">And this creates this really </span><span class="line" data-startTime="3581">interesting dynamic that the </span><span class="line" data-startTime="3584">user feels like they're smart </span><span class="line" data-startTime="3584">because they feel like they're </span><span class="line" data-startTime="3586">in control. </span></p>

<p><span class="line" data-startTime="3587">They can either spend $5 to get </span><span class="line" data-startTime="3587">the item or they can go </span><span class="line" data-startTime="3590">grind for five hours to get </span><span class="line" data-startTime="3590">the same item and the same </span><span class="line" data-startTime="3592">cost and then translate between </span><span class="line" data-startTime="3592">the two to buy more </span><span class="line" data-startTime="3594">items. This is really cool. </span> <span class="line" data-startTime="3596">Empowering your user and letting </span><span class="line" data-startTime="3596">them know that they're </span><span class="line" data-startTime="3598">in control and they feel smart </span><span class="line" data-startTime="3598">is the best way to monetize </span><span class="line" data-startTime="3601">and keep players coming back. </span> <span class="line" data-startTime="3603">It also enables instant </span><span class="line" data-startTime="3603">gratification. </span> <span class="line" data-startTime="3605">So if I go to buy an item and </span><span class="line" data-startTime="3605">I don't have enough virtual </span><span class="line" data-startTime="3609">currency sitting around, you </span><span class="line" data-startTime="3609">should probably allow the user </span><span class="line" data-startTime="3612">to buy that item without </span><span class="line" data-startTime="3612">virtual currency. </span> <span class="line" data-startTime="3614">Nothing's more annoying than </span><span class="line" data-startTime="3614">saying I want to buy this </span><span class="line" data-startTime="3616">sword, but before I can actually </span><span class="line" data-startTime="3616">pay you for it, I </span><span class="line" data-startTime="3618">have to go buy 100 coin </span><span class="line" data-startTime="3618">points and then go </span><span class="line" data-startTime="3622">back and buy the sword. </span></p>

<p><span class="line" data-startTime="3622">No. </span> <span class="line" data-startTime="3623">What you should say is hey, you </span><span class="line" data-startTime="3623">don't have enough credits </span><span class="line" data-startTime="3625">available to you. </span> <span class="line" data-startTime="3626">Would you like to buy this sword </span><span class="line" data-startTime="3626">for face value at $7.99. </span> <span class="line" data-startTime="3630">And this is also a great point </span><span class="line" data-startTime="3630">that once you present this to </span><span class="line" data-startTime="3632">the user, you actually have </span><span class="line" data-startTime="3632">a chance to upsell. </span> <span class="line" data-startTime="3634">You've now got their </span><span class="line" data-startTime="3634">attention. </span> <span class="line" data-startTime="3636">Hey, you don't have enough </span><span class="line" data-startTime="3636">points to buy this. </span> <span class="line" data-startTime="3638">You can either buy it for $7.99 </span><span class="line" data-startTime="3638">or what you could do is </span><span class="line" data-startTime="3642">buy 1,000 credits and </span><span class="line" data-startTime="3642">we'll give you the </span><span class="line" data-startTime="3643">sword for 50% off. </span> <span class="line" data-startTime="3646">That's an interesting </span><span class="line" data-startTime="3646">correlation. </span> <span class="line" data-startTime="3648">You now have the user's </span><span class="line" data-startTime="3648">attention. </span> <span class="line" data-startTime="3649">It's tied to an object they </span><span class="line" data-startTime="3649">want, and they see value in a </span><span class="line" data-startTime="3653">different proposition. </span> <span class="line" data-startTime="3654">That's really cool and you </span><span class="line" data-startTime="3654">should take advantage of that. </span></p>

<p><span class="line" data-startTime="3657">You should also take advantage </span><span class="line" data-startTime="3657">of simplified purchase flow. </span> <span class="line" data-startTime="3660">So when the user wants to buy </span><span class="line" data-startTime="3660">your item, you should make it </span><span class="line" data-startTime="3663">as easy as possible </span><span class="line" data-startTime="3663">for them to do so. </span> <span class="line" data-startTime="3665">So leverage in-app </span><span class="line" data-startTime="3665">payment APIs. </span> <span class="line" data-startTime="3667">Rather than directing the user </span><span class="line" data-startTime="3667">to some other site that they </span><span class="line" data-startTime="3669">then have to go through that </span><span class="line" data-startTime="3669">site and get through that </span><span class="line" data-startTime="3671">purchase flow in and then get an </span><span class="line" data-startTime="3671">item and then come back and </span><span class="line" data-startTime="3674">enter a key code, that </span><span class="line" data-startTime="3674">just doesn't work. </span> <span class="line" data-startTime="3675">You should be using </span><span class="line" data-startTime="3675">in-app APIs. </span> <span class="line" data-startTime="3678">And some of these things </span><span class="line" data-startTime="3678">have great features. </span> <span class="line" data-startTime="3680">So for example, you get access </span><span class="line" data-startTime="3680">to millions of credit cards </span><span class="line" data-startTime="3683">for these APIs. </span></p>

<p><span class="line" data-startTime="3685">You have powerful fraud </span><span class="line" data-startTime="3685">engines that </span><span class="line" data-startTime="3686">exist on the back side. </span> <span class="line" data-startTime="3687">Plug and play purchase </span><span class="line" data-startTime="3687">flow through </span><span class="line" data-startTime="3689">JavaScript and whatnot. </span> <span class="line" data-startTime="3690">And you get to play </span><span class="line" data-startTime="3690">in a few clicks. </span> <span class="line" data-startTime="3692">And Google Wallet provides </span><span class="line" data-startTime="3692">all of these things. </span> <span class="line" data-startTime="3694">So with Google Wallet, you can </span><span class="line" data-startTime="3694">actually issue JavaScript </span><span class="line" data-startTime="3696">commands to a server, allow the </span><span class="line" data-startTime="3696">user to buy items. You get </span><span class="line" data-startTime="3701">access to anyone who's got </span><span class="line" data-startTime="3701">availability of a credit card </span><span class="line" data-startTime="3703">existing in Google Wallet. </span> <span class="line" data-startTime="3704">We've already got fraud engines </span><span class="line" data-startTime="3704">set up, purchase flow, </span><span class="line" data-startTime="3707">and all this other stuff. </span> <span class="line" data-startTime="3708">Use Google Wallet. </span> <span class="line" data-startTime="3709">You should definitely leverage </span><span class="line" data-startTime="3709">this as opposed to forcing the </span><span class="line" data-startTime="3711">user to go through some </span><span class="line" data-startTime="3711">third party site. </span> <span class="line" data-startTime="3714">So let's talk about the high </span><span class="line" data-startTime="3714">points here or the takeaways </span><span class="line" data-startTime="3717">or take outs. </span> <span class="line" data-startTime="3718">So first off, bundle your assets </span><span class="line" data-startTime="3718">into segment archives. </span></p>

<p><span class="line" data-startTime="3721">Really important. </span> <span class="line" data-startTime="3722">Set your proper caching times </span><span class="line" data-startTime="3722">for both data and query stuff </span><span class="line" data-startTime="3725">on Google App Engine. </span> <span class="line" data-startTime="3727">Provide a single login for your </span><span class="line" data-startTime="3727">users so that they don't </span><span class="line" data-startTime="3730">have to create multiple sessions </span><span class="line" data-startTime="3730">or multiple users. </span> <span class="line" data-startTime="3732">Localize your content </span><span class="line" data-startTime="3732">properly. </span> <span class="line" data-startTime="3734">Super important there. </span> <span class="line" data-startTime="3735">Be able to detect your GPU </span><span class="line" data-startTime="3735">blacklisted and performance </span><span class="line" data-startTime="3738">problems and alert </span><span class="line" data-startTime="3738">the user early. </span> <span class="line" data-startTime="3740">Nothing's more annoying than a </span><span class="line" data-startTime="3740">user spending an hour trying </span><span class="line" data-startTime="3743">to get a game to run to finally </span><span class="line" data-startTime="3743">be told through </span><span class="line" data-startTime="3745">frustration that they can't </span><span class="line" data-startTime="3745">play the application. </span> <span class="line" data-startTime="3748">Make sure that you detect and </span><span class="line" data-startTime="3748">fetch bugs in a wild. </span> <span class="line" data-startTime="3751">You need to be able to know </span><span class="line" data-startTime="3751">what's going on in the </span><span class="line" data-startTime="3753">universe that you can fix </span><span class="line" data-startTime="3753">it and create a better </span><span class="line" data-startTime="3754">experience. </span> <span class="line" data-startTime="3755">You should also make sure that </span><span class="line" data-startTime="3755">when the user tabs away that </span><span class="line" data-startTime="3758">you detect that and </span><span class="line" data-startTime="3758">respond properly. </span> <span class="line" data-startTime="3760">You should track the data of </span><span class="line" data-startTime="3760">your users so you can optimize </span><span class="line" data-startTime="3763">your game for their </span><span class="line" data-startTime="3763">experience. </span></p>

<p><span class="line" data-startTime="3765">And you should choose a </span><span class="line" data-startTime="3765">monetization metric </span><span class="line" data-startTime="3767">that fits your game. </span> <span class="line" data-startTime="3768">It's probably one of the most </span><span class="line" data-startTime="3768">important points there. </span> <span class="line" data-startTime="3770">And if you do, once you have </span><span class="line" data-startTime="3770">chosen that monetization </span><span class="line" data-startTime="3772">method if you do you choose </span><span class="line" data-startTime="3772">a path that focuses on </span><span class="line" data-startTime="3775">consumable goods, make sure you </span><span class="line" data-startTime="3775">focus on consumable and </span><span class="line" data-startTime="3778">durable because that's where the </span><span class="line" data-startTime="3778">largest portion of the pie </span><span class="line" data-startTime="3780">is for in-app purchase. </span> <span class="line" data-startTime="3782">And then finally, for in-app </span><span class="line" data-startTime="3782">purchase, definitely use the </span><span class="line" data-startTime="3784">Google Wallet API. </span> <span class="line" data-startTime="3785">It's available. </span> <span class="line" data-startTime="3785">It's usable. </span> <span class="line" data-startTime="3786">It's quick to get started and </span><span class="line" data-startTime="3786">it's amazing what kind of </span><span class="line" data-startTime="3788">power it gives you. </span> <span class="line" data-startTime="3790">So in general, it takes lots of </span><span class="line" data-startTime="3790">work to develop a game that </span><span class="line" data-startTime="3793">has nothing to do </span><span class="line" data-startTime="3793">with your game. </span> <span class="line" data-startTime="3795">A lot of the things we talked </span><span class="line" data-startTime="3795">about had nothing to do with </span><span class="line" data-startTime="3797">path finding or play balancing </span><span class="line" data-startTime="3797">or how to properly get a sword </span><span class="line" data-startTime="3801">to whack a demon, like </span><span class="line" data-startTime="3801">nothing of that. </span> <span class="line" data-startTime="3803">This is all back end stuff. </span></p>

<p><span class="line" data-startTime="3804">And because of that, you should </span><span class="line" data-startTime="3804">be leveraging services </span><span class="line" data-startTime="3807">that make it easy. </span> <span class="line" data-startTime="3807">You want to be spending time </span><span class="line" data-startTime="3807">optimizing your game, not </span><span class="line" data-startTime="3810">spending time optimizing </span><span class="line" data-startTime="3810">these other services. </span> <span class="line" data-startTime="3812">The fantastic thing is Google's </span><span class="line" data-startTime="3812">got a lot of services </span><span class="line" data-startTime="3815">that we have available for </span><span class="line" data-startTime="3815">you to get started. </span> <span class="line" data-startTime="3817">Definitely use them. </span> <span class="line" data-startTime="3818">Definitely take advantage of </span><span class="line" data-startTime="3818">them, and make sure you get </span><span class="line" data-startTime="3820">your game the best it can be. </span> <span class="line" data-startTime="3821">So a big thanks to Pong Yang </span><span class="line" data-startTime="3821">and Fred Sauer, as well as </span><span class="line" data-startTime="3825">Chrome Developer Relations </span><span class="line" data-startTime="3825">for input on this talk. </span> <span class="line" data-startTime="3827">Thank you very much. </span></p>

<p><span class="line" data-startTime="3829">Hit me up with any questions you </span><span class="line" data-startTime="3829">have. I'm available here. </span></p></div>