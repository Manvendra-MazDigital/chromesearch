<p class="speaker"><span class="line" data-starttime="0"><span class="speakerName">Eric Bidelman</span>: Welcome, </span><span class="line" data-startTime="0">everybody. </span><span class="line" data-startTime="0">Thank you so much for coming </span><span class="line" data-startTime="0">to Web Components. </span><span class="line" data-startTime="3">You're going to learn a lot </span><span class="line" data-startTime="3">in the next 40 minutes. </span><span class="line" data-startTime="6">Thank you to everyone &mdash; </span><span class="line" data-startTime="8">[APPLAUSE] </span></p>

<p class="speaker"><span class="line" data-starttime="9"><span class="speakerName">Eric Bidelman</span>: I haven't </span><span class="line" data-startTime="9">started it yet. </span> <span class="line" data-startTime="10">You guys, you guys. </span> <span class="line" data-startTime="12">You might not learn anything. </span> <span class="line" data-startTime="12">You don't even know what I </span><span class="line" data-startTime="12">have in this slide deck. </span> <span class="line" data-startTime="15">So a little bit about myself, </span><span class="line" data-startTime="15">so you know who's up here in </span><span class="line" data-startTime="18">front of you. </span> <span class="line" data-startTime="18">My name is Eric Bidelman. </span> <span class="line" data-startTime="19">I work on the Google </span><span class="line" data-startTime="19">Chrome team. </span> <span class="line" data-startTime="21">I'm on the developer relations </span><span class="line" data-startTime="21">team there. </span> <span class="line" data-startTime="23">We're going to talk about a lot </span><span class="line" data-startTime="23">of stuff, so there might </span><span class="line" data-startTime="25">not be enough time </span><span class="line" data-startTime="25">for questions. </span> <span class="line" data-startTime="27">Feel free, please, tweet at me, </span><span class="line" data-startTime="27">Google+ me, come poke me </span><span class="line" data-startTime="31">afterwards at Office Hours. </span> <span class="line" data-startTime="35">So I have 40 minutes to cover </span><span class="line" data-startTime="35">the future web platform, which </span><span class="line" data-startTime="40">is a complete fail. </span></p>

<p><span class="line" data-startTime="42">We could talk about this for </span><span class="line" data-startTime="42">three days straight. </span> <span class="line" data-startTime="44">There should be a conference </span><span class="line" data-startTime="44">devoted to Web Components. </span> <span class="line" data-startTime="46">There's so much stuff now that's </span><span class="line" data-startTime="46">starting to even land </span><span class="line" data-startTime="49">in browsers that it's just </span><span class="line" data-startTime="49">amazing, and I fundamentally </span><span class="line" data-startTime="52">think it's going to change </span><span class="line" data-startTime="52">the way we think </span><span class="line" data-startTime="53">about developing apps. </span> <span class="line" data-startTime="55">This is what you're </span><span class="line" data-startTime="55">going to feel like </span><span class="line" data-startTime="56">for the next 40 minutes. </span> <span class="line" data-startTime="57">We're going to throw a lot </span><span class="line" data-startTime="57">of stuff your way. </span> <span class="line" data-startTime="60">Boosh! </span><span class="line" data-startTime="61">And then hopefully, around that </span><span class="line" data-startTime="61">35 minute mark, you'll </span><span class="line" data-startTime="65">have this moment of zen. </span></p>

<p><span class="line" data-startTime="66">Hopefully some of this stuff </span><span class="line" data-startTime="66">will make sense, and you'll </span><span class="line" data-startTime="69">really see where this </span><span class="line" data-startTime="69">is trying to go. </span> <span class="line" data-startTime="73">So if you've been following Web </span><span class="line" data-startTime="73">Components, or this term </span><span class="line" data-startTime="76">Web Components, even at a sort </span><span class="line" data-startTime="76">of bird's eye view, what the </span><span class="line" data-startTime="79">heck are we talking about? </span><span class="line" data-startTime="81">Well, we're talking about </span><span class="line" data-startTime="81">custom elements in HTML. </span> <span class="line" data-startTime="84">You can define a new vocabulary </span><span class="line" data-startTime="84">for HTML. </span> <span class="line" data-startTime="87">So the blink tag, for example, </span><span class="line" data-startTime="87">is not dead. </span> <span class="line" data-startTime="89">The blink tag is </span><span class="line" data-startTime="89">alive and well. </span> <span class="line" data-startTime="90">We can call it x-blink, and </span><span class="line" data-startTime="90">all it is &mdash; it's a custom </span><span class="line" data-startTime="94">element that I've implemented </span><span class="line" data-startTime="94">using CSS, and it just has an </span><span class="line" data-startTime="96">opacity change using </span><span class="line" data-startTime="96">transitions. </span></p>

<p><span class="line" data-startTime="100">That's kind of a </span><span class="line" data-startTime="100">silly example. </span> <span class="line" data-startTime="101">But you can do something like </span><span class="line" data-startTime="101">the gangnam-style tag. </span> <span class="line" data-startTime="105">[MUSIC - PSY, "GANGNAM STYLE"] </span></p>

<p class="speaker"><span class="line" data-starttime="107"><span class="speakerName">Eric Bidelman</span>: And that's </span><span class="line" data-startTime="107">all it does, right? </span><span class="line" data-startTime="110">A CSS action. </span><span class="line" data-startTime="114">So as a user of this component, </span><span class="line" data-startTime="114">all I have to do is </span><span class="line" data-startTime="116">include the gangnam-style tag </span><span class="line" data-startTime="116">on my page, and I get &mdash; </span><span class="line" data-startTime="120">[MUSIC - PSY, "GANGNAM STYLE"] </span></p>

<p class="speaker"><span class="line" data-starttime="123"><span class="speakerName">Eric Bidelman</span>: Of course, </span><span class="line" data-startTime="123">there's more practical </span><span class="line" data-startTime="124">examples, and maybe this one's </span><span class="line" data-startTime="124">not practical either, but it's </span><span class="line" data-startTime="127">not just defining new </span><span class="line" data-startTime="127">elements in HTML. </span><span class="line" data-startTime="129">It's actually extending </span><span class="line" data-startTime="129">existing. </span><span class="line" data-startTime="131">If you don't like the way the </span><span class="line" data-startTime="131">native HTML button does its </span><span class="line" data-startTime="134">thing, you can say a button is a </span><span class="line" data-startTime="134">mega-button, and define that </span><span class="line" data-startTime="138">mega-button to do something like </span><span class="line" data-startTime="138">on a CSS transition, have </span><span class="line" data-startTime="141">this crazy gradient, and then </span><span class="line" data-startTime="141">when you click it &mdash; </span><span class="line" data-startTime="144">[MOO] </span></p>

<p class="speaker"><span class="line" data-starttime="146"><span class="speakerName">Eric Bidelman</span>: It moos at you. </span> <span class="line" data-startTime="147">So defining your own, </span><span class="line" data-startTime="147">extending &mdash; you'll see some </span><span class="line" data-startTime="151">more practical examples, but </span><span class="line" data-startTime="151">that's what this is all about. </span> <span class="line" data-startTime="155">Being able to expand on </span><span class="line" data-startTime="155">what we have in HTML. </span> <span class="line" data-startTime="159">So when I think of </span><span class="line" data-startTime="159">Web Components &mdash; </span><span class="line" data-startTime="162">so this ecosystem, </span><span class="line" data-startTime="162">this umbrella </span><span class="line" data-startTime="164">terminology for new stuff &mdash; </span><span class="line" data-startTime="166">I think of four main areas. </span> <span class="line" data-startTime="168">I think of Shadow DOM. </span> <span class="line" data-startTime="169">This is sort of the foundational </span><span class="line" data-startTime="169">glue, the mortar, </span><span class="line" data-startTime="172">this is how we get </span><span class="line" data-startTime="172">encapsulation </span><span class="line" data-startTime="175">for free on the web. </span> <span class="line" data-startTime="177">HTML templates. </span></p>

<p><span class="line" data-startTime="178">So if you're going to build a </span><span class="line" data-startTime="178">custom element, a widget, a </span><span class="line" data-startTime="181">component for your page, you </span><span class="line" data-startTime="181">need to be able to scaffold </span><span class="line" data-startTime="183">out sort of inert chunks of </span><span class="line" data-startTime="183">markup, and then use those </span><span class="line" data-startTime="187">later as people stamp </span><span class="line" data-startTime="187">out your element. </span> <span class="line" data-startTime="190">Custom elements brings </span><span class="line" data-startTime="190">all this together. </span> <span class="line" data-startTime="192">This is how you define a new tag </span><span class="line" data-startTime="192">in HTML and put all these </span><span class="line" data-startTime="195">lower level technologies </span><span class="line" data-startTime="195">together. </span> <span class="line" data-startTime="198">Think of that as your </span><span class="line" data-startTime="198">Bat utility belt. </span> <span class="line" data-startTime="202">And lastly, HTML import sort </span><span class="line" data-startTime="202">of is used for repackaging, </span><span class="line" data-startTime="205">repurposing. </span></p>

<p><span class="line" data-startTime="206">If somebody writes this awesome </span><span class="line" data-startTime="206">component someplace </span><span class="line" data-startTime="208">over on the web, throws it up </span><span class="line" data-startTime="208">on a CDN, I can then import </span><span class="line" data-startTime="211">that into my page </span><span class="line" data-startTime="211">and reuse that. </span> <span class="line" data-startTime="213">So we have now this proper </span><span class="line" data-startTime="213">notion of reusability on the </span><span class="line" data-startTime="217">web, which is awesome. </span> <span class="line" data-startTime="219">So all in all, a collection </span><span class="line" data-startTime="219">of new API </span><span class="line" data-startTime="222">primitives in the browser. </span> <span class="line" data-startTime="223">That's what I think about when </span><span class="line" data-startTime="223">I hear Web Components. </span> <span class="line" data-startTime="226">And we'll talk about each of </span><span class="line" data-startTime="226">these in this presentation. </span> <span class="line" data-startTime="230">So 40 minutes, and I have 36 </span><span class="line" data-startTime="230">to cover all this stuff. </span> <span class="line" data-startTime="233">So HTML templates is </span><span class="line" data-startTime="233">the first beast. </span> <span class="line" data-startTime="238">This is really cool. </span></p>

<p><span class="line" data-startTime="240">With one tag, we now have </span><span class="line" data-startTime="240">proper, like, at the browser </span><span class="line" data-startTime="243">level, the ability to template </span><span class="line" data-startTime="243">out a certain section of </span><span class="line" data-startTime="246">markup to be a template. </span> <span class="line" data-startTime="248">And this is great, because what </span><span class="line" data-startTime="248">you put in this is just </span><span class="line" data-startTime="251">DOM, right? </span><span class="line" data-startTime="251">So I'm working with DOM, the </span><span class="line" data-startTime="251">browser knows DOM, it's easy </span><span class="line" data-startTime="255">to work with. </span> <span class="line" data-startTime="255">That's really awesome. </span> <span class="line" data-startTime="257">But the best part about template </span><span class="line" data-startTime="257">is that it's parsed </span><span class="line" data-startTime="259">and not rendered. </span> <span class="line" data-startTime="260">And basically what that means </span><span class="line" data-startTime="260">is that things like scripts </span><span class="line" data-startTime="263">are not going to run. </span> <span class="line" data-startTime="263">If I have a script tag in this </span><span class="line" data-startTime="263">template, it's not going to </span><span class="line" data-startTime="265">run until I actually stamp this </span><span class="line" data-startTime="265">template out and use it. </span> <span class="line" data-startTime="268">So that's really cool. </span></p>

<p><span class="line" data-startTime="269">Stylesheets and images aren't </span><span class="line" data-startTime="269">going to load until I stamp </span><span class="line" data-startTime="272">this template out. </span> <span class="line" data-startTime="273">So that's great from a </span><span class="line" data-startTime="273">resource perspective. </span> <span class="line" data-startTime="275">You're not loading things in. </span> <span class="line" data-startTime="277">If the user never sees this </span><span class="line" data-startTime="277">template &mdash; maybe it's a view </span><span class="line" data-startTime="279">or something &mdash; </span><span class="line" data-startTime="280">you're not actually going </span><span class="line" data-startTime="280">to waste bandwidth </span><span class="line" data-startTime="282">until you use it. </span> <span class="line" data-startTime="283">And media's not played. </span> <span class="line" data-startTime="284">So if you had a video in here </span><span class="line" data-startTime="284">that had autoplay true, that's </span><span class="line" data-startTime="287">not going to do anything until </span><span class="line" data-startTime="287">you actually invoke and stamp </span><span class="line" data-startTime="290">this template out. </span> <span class="line" data-startTime="292">The other really nice property </span><span class="line" data-startTime="292">about the template element is </span><span class="line" data-startTime="295">that it's hidden from </span><span class="line" data-startTime="295">the document. </span> <span class="line" data-startTime="297">So that basically means you </span><span class="line" data-startTime="297">can't traverse into it. </span> <span class="line" data-startTime="299">It's in its own separate </span><span class="line" data-startTime="299">little world. </span></p>

<p><span class="line" data-startTime="301">So for an example, if I try to </span><span class="line" data-startTime="301">query selector in and try to </span><span class="line" data-startTime="305">rip out that comment div that I </span><span class="line" data-startTime="305">have in my template, I'm not </span><span class="line" data-startTime="308">going to be able to do that, </span><span class="line" data-startTime="308">because, again, it's in its </span><span class="line" data-startTime="310">own sort of context. </span> <span class="line" data-startTime="313">So it truly is a template that </span><span class="line" data-startTime="313">you can use and reuse. </span> <span class="line" data-startTime="317">And so how do we </span><span class="line" data-startTime="317">use a template? </span><span class="line" data-startTime="318">There's two ways. </span> <span class="line" data-startTime="319">The first is there's a content </span><span class="line" data-startTime="319">property on the template </span><span class="line" data-startTime="323">element itself. </span> <span class="line" data-startTime="324">And that'll just give you </span><span class="line" data-startTime="324">a document fragment. </span> <span class="line" data-startTime="326">So that'll just give </span><span class="line" data-startTime="326">you a chunk of DOM </span><span class="line" data-startTime="327">you can work with. </span> <span class="line" data-startTime="328">And the second is, if you want, </span><span class="line" data-startTime="328">you can do innerHTML and </span><span class="line" data-startTime="331">work with that. </span> <span class="line" data-startTime="333">So the process for using </span><span class="line" data-startTime="333">a template &mdash; </span><span class="line" data-startTime="335">clone it, grabbing that content </span><span class="line" data-startTime="335">in any way you want, </span><span class="line" data-startTime="338">stamp it out, and then that's </span><span class="line" data-startTime="338">what activates it. </span></p>

<p><span class="line" data-startTime="340">That's what makes the stuff </span><span class="line" data-startTime="340">inside of it go live. </span> <span class="line" data-startTime="342">Then you see what's in it. </span> <span class="line" data-startTime="344">So by default, it's actually </span><span class="line" data-startTime="344">display none, right? </span><span class="line" data-startTime="347">So a quick example. </span> <span class="line" data-startTime="348">I have the same template </span><span class="line" data-startTime="348">that I had before. </span> <span class="line" data-startTime="350">Just a blank source and </span><span class="line" data-startTime="350">an empty comment div. </span> <span class="line" data-startTime="355">I can rip out the content </span><span class="line" data-startTime="355">property. </span> <span class="line" data-startTime="357">And this is a great example of </span><span class="line" data-startTime="357">showing the dynamicism of </span><span class="line" data-startTime="360">this, right? </span><span class="line" data-startTime="360">So I'm setting the </span><span class="line" data-startTime="360">image source at </span><span class="line" data-startTime="362">runtime, which is great. </span> <span class="line" data-startTime="363">I can change a template as I </span><span class="line" data-startTime="363">need to before I stamp it out. </span> <span class="line" data-startTime="367">And then the last line </span><span class="line" data-startTime="367">there is actually </span><span class="line" data-startTime="368">where the magic happens. </span> <span class="line" data-startTime="369">So I'll get that content, I'll </span><span class="line" data-startTime="369">clone its node with all its </span><span class="line" data-startTime="372">attributes, and that's what </span><span class="line" data-startTime="372">makes that stuff go live. </span> <span class="line" data-startTime="375">So at that point, this logo PNG </span><span class="line" data-startTime="375">would be pulled down, if I </span><span class="line" data-startTime="378">had stylesheets in the template, </span><span class="line" data-startTime="378">they be pulled down, </span><span class="line" data-startTime="380">media would be playing </span><span class="line" data-startTime="380">if it had autoplay. </span> <span class="line" data-startTime="383">So clone, stamp out, and </span><span class="line" data-startTime="383">then stuff goes live. </span></p>

<p><span class="line" data-startTime="387">Another example. </span> <span class="line" data-startTime="388">So this is actually really </span><span class="line" data-startTime="388">great, because it shows the </span><span class="line" data-startTime="390">inertness of script. </span> <span class="line" data-startTime="391">So if I refresh this slide deck </span><span class="line" data-startTime="391">1,000 times, it's never </span><span class="line" data-startTime="395">going to run this alert &mdash; </span><span class="line" data-startTime="397">OK, thanks, bye &mdash; </span><span class="line" data-startTime="398">until I actually stamp </span><span class="line" data-startTime="398">the template out. </span> <span class="line" data-startTime="400">So we'll do the exact </span><span class="line" data-startTime="400">same thing. </span> <span class="line" data-startTime="401">This time, I'm going to </span><span class="line" data-startTime="401">basically just going to </span><span class="line" data-startTime="404">increment this value. </span> <span class="line" data-startTime="405">Every time I stamp it </span><span class="line" data-startTime="405">out, an instance </span><span class="line" data-startTime="406">is going to be created. </span> <span class="line" data-startTime="408">And then the script </span><span class="line" data-startTime="408">will run as well. </span></p>

<p><span class="line" data-startTime="409">So when I press this </span><span class="line" data-startTime="409">run button, </span><span class="line" data-startTime="410">hopefully that will happen. </span> <span class="line" data-startTime="412">You'll see, OK, thanks, bye. </span> <span class="line" data-startTime="413">That script is immediately </span><span class="line" data-startTime="413">invoked when I stamp the </span><span class="line" data-startTime="415">template out. </span> <span class="line" data-startTime="417">And I'm showing how to </span><span class="line" data-startTime="417">increment that value. </span> <span class="line" data-startTime="419">So I'm changing the guts of </span><span class="line" data-startTime="419">the template on the fly. </span> <span class="line" data-startTime="425">So HTML templates are a </span><span class="line" data-startTime="425">relatively new spec, actually, </span><span class="line" data-startTime="427">but support is actually coming </span><span class="line" data-startTime="427">along really nicely. </span> <span class="line" data-startTime="431">So Firefox already has this, </span><span class="line" data-startTime="431">Chrome has this now, I'm </span><span class="line" data-startTime="434">including Opera Beta Mobile on </span><span class="line" data-startTime="434">this, because they recently </span><span class="line" data-startTime="436">moved to Chromium. </span> <span class="line" data-startTime="438">So very cool. </span> <span class="line" data-startTime="438">Proper at the DOM level </span><span class="line" data-startTime="438">HTML templates. </span> <span class="line" data-startTime="442">Inert templates. </span> <span class="line" data-startTime="443">So that's the first </span><span class="line" data-startTime="443">building block. </span> <span class="line" data-startTime="444">Quick introduction. </span> <span class="line" data-startTime="446">Let's move on to Shadow DOM. </span> <span class="line" data-startTime="448">So Shadow DOM is an absolute </span><span class="line" data-startTime="448">complex beast. </span></p>

<p><span class="line" data-startTime="453">That's not Shadow DOM. </span> <span class="line" data-startTime="453">This is also not Shadow DOM. </span> <span class="line" data-startTime="454">This is a cool car that has </span><span class="line" data-startTime="454">the license plate SHDWDOM. </span> <span class="line" data-startTime="459">But what Shadow DOM </span><span class="line" data-startTime="459">really is &mdash; </span><span class="line" data-startTime="461">it gives us markup </span><span class="line" data-startTime="461">encapsulation, it gives us DOM </span><span class="line" data-startTime="464">encapsulation, it gives us CSS </span><span class="line" data-startTime="464">style boundary protection. </span> <span class="line" data-startTime="468">So if you're writing a custom </span><span class="line" data-startTime="468">widget, if you're writing a </span><span class="line" data-startTime="469">component, you want your </span><span class="line" data-startTime="469">widget to look </span><span class="line" data-startTime="471">in a certain way. </span></p>

<p><span class="line" data-startTime="472">You've maybe designed </span><span class="line" data-startTime="472">it to be that way. </span> <span class="line" data-startTime="473">You don't want things bleeding </span><span class="line" data-startTime="473">in or things bleeding out. </span> <span class="line" data-startTime="477">So it gives us style </span><span class="line" data-startTime="477">boundaries. </span> <span class="line" data-startTime="478">And what it really does is it </span><span class="line" data-startTime="478">exposes to us web developers </span><span class="line" data-startTime="482">the same mechanics browser </span><span class="line" data-startTime="482">vendors have been using to </span><span class="line" data-startTime="485">implement their own </span><span class="line" data-startTime="485">HTML elements. </span> <span class="line" data-startTime="487">And so I mean by that &mdash; </span><span class="line" data-startTime="490">you might also say, well, hey, </span><span class="line" data-startTime="490">Eric, the web already has </span><span class="line" data-startTime="492">encapsulation. </span> <span class="line" data-startTime="493">It's the iframe, right? </span><span class="line" data-startTime="494">The iframe is great. </span> <span class="line" data-startTime="495">We can import third party </span><span class="line" data-startTime="495">content into our page. </span> <span class="line" data-startTime="498">But I would actually argue </span><span class="line" data-startTime="498">it's super bloated. </span> <span class="line" data-startTime="500">For this use case, it's </span><span class="line" data-startTime="500">super bloated. </span></p>

<p><span class="line" data-startTime="502">It creates a new document </span><span class="line" data-startTime="502">context, scripting into it is </span><span class="line" data-startTime="505">very hard, you have to do </span><span class="line" data-startTime="505">crazy postMessage hacks. </span> <span class="line" data-startTime="507">If you want an iframe to shrink </span><span class="line" data-startTime="507">wrap to your content, </span><span class="line" data-startTime="510">you have to figure that stuff </span><span class="line" data-startTime="510">out in JavaScript, and it's </span><span class="line" data-startTime="513">just a mess. </span> <span class="line" data-startTime="514">And for the use case of </span><span class="line" data-startTime="514">component on a page, it's </span><span class="line" data-startTime="518">super bloated. </span> <span class="line" data-startTime="520">But actually, what we have is </span><span class="line" data-startTime="520">something lurking in the </span><span class="line" data-startTime="523">shadows, no pun intended. </span> <span class="line" data-startTime="525">And so there's a couple truths </span><span class="line" data-startTime="525">here that I want to highlight </span><span class="line" data-startTime="527">to you right now, and that's </span><span class="line" data-startTime="527">that DOM nodes today can </span><span class="line" data-startTime="530">already hidden DOM, and that the </span><span class="line" data-startTime="530">hidden DOM that they host </span><span class="line" data-startTime="535">cannot actually be traversed </span><span class="line" data-startTime="535">into from our scripts. </span> <span class="line" data-startTime="538">We can't actually navigate into </span><span class="line" data-startTime="538">those or document course </span><span class="line" data-startTime="541">lecture into them. </span></p>

<p><span class="line" data-startTime="543">There's a couple of pretty </span><span class="line" data-startTime="543">good examples actually </span><span class="line" data-startTime="546">implemented in the web platform </span><span class="line" data-startTime="546">today, and those are </span><span class="line" data-startTime="548">some of the more complex </span><span class="line" data-startTime="548">input types. </span> <span class="line" data-startTime="550">So input type date, or </span><span class="line" data-startTime="550">input type time are </span><span class="line" data-startTime="552">really great examples. </span> <span class="line" data-startTime="554">With my keyboard, I can </span><span class="line" data-startTime="554">navigate these, I can </span><span class="line" data-startTime="556">increment these, so there's </span><span class="line" data-startTime="556">clearly something going on </span><span class="line" data-startTime="559">under the hood here. </span> <span class="line" data-startTime="560">It's pretty interesting. </span> <span class="line" data-startTime="561">I have a little increment </span><span class="line" data-startTime="561">widget, and there's this </span><span class="line" data-startTime="563">boom &mdash; there's this calendar </span><span class="line" data-startTime="563">picker under the hood. </span> <span class="line" data-startTime="566">All I do as a user is declare </span><span class="line" data-startTime="566">this input type date on my </span><span class="line" data-startTime="570">page, and I get all this extra </span><span class="line" data-startTime="570">goodness for free. </span> <span class="line" data-startTime="574">So if I actually drill </span><span class="line" data-startTime="574">into this &mdash; </span><span class="line" data-startTime="576">I'm an interested developer. </span></p>

<p><span class="line" data-startTime="577">I want to drill into </span><span class="line" data-startTime="577">the dev tools. </span> <span class="line" data-startTime="583">You can turn on the dev tools </span><span class="line" data-startTime="583">under the wrench here, or the </span><span class="line" data-startTime="586">gear, show Shadow Dom. </span> <span class="line" data-startTime="588">And so this is something </span><span class="line" data-startTime="588">you turn on. </span> <span class="line" data-startTime="591">And then immediately when I do </span><span class="line" data-startTime="591">that, anything that has a </span><span class="line" data-startTime="593">Shadow Dom in the web platform, </span><span class="line" data-startTime="593">I can drill down </span><span class="line" data-startTime="596">into that's going to have </span><span class="line" data-startTime="596">this little triangle. </span> <span class="line" data-startTime="599">Hopefully you guys can </span><span class="line" data-startTime="599">see that here. </span> <span class="line" data-startTime="603">And so the input &mdash; </span><span class="line" data-startTime="604">there's a hidden document </span><span class="line" data-startTime="604">[INAUDIBLE]. </span> <span class="line" data-startTime="606">There's a hidden Shadow DOM </span><span class="line" data-startTime="606">attached to this input tag. </span> <span class="line" data-startTime="610">And you can see what's happening </span><span class="line" data-startTime="610">is that the browser </span><span class="line" data-startTime="613">vendors have implemented this </span><span class="line" data-startTime="613">tag, the guts of it, the </span><span class="line" data-startTime="615">internals, using nothing </span><span class="line" data-startTime="615">but markup. </span> <span class="line" data-startTime="617">So they've used what we as web </span><span class="line" data-startTime="618">developers have in our toolbelt &mdash; </span><span class="line" data-startTime="620">markup &mdash; they've implemented </span><span class="line" data-startTime="620">that with their native widget, </span><span class="line" data-startTime="623">not using C++ but markup. </span> <span class="line" data-startTime="625">I think it's pretty cool. </span> <span class="line" data-startTime="626">But from a user perspective, all </span><span class="line" data-startTime="626">I have to do on this page </span><span class="line" data-startTime="630">is just declare this element. </span> <span class="line" data-startTime="632">And there's other examples. </span></p>

<p><span class="line" data-startTime="633">Video tag has all these buttons </span><span class="line" data-startTime="633">and stuff and sliders. </span> <span class="line" data-startTime="636">Really cool. </span> <span class="line" data-startTime="637">Textarea has a Shadow DOM. </span> <span class="line" data-startTime="638">Details has a Shadow DOM. </span> <span class="line" data-startTime="640">So all in all, the browser </span><span class="line" data-startTime="640">vendors have been </span><span class="line" data-startTime="643">holding out on us. </span> <span class="line" data-startTime="644">Shame on them. </span> <span class="line" data-startTime="645">But now they're exposing </span><span class="line" data-startTime="645">this to us. </span> <span class="line" data-startTime="646">They're exposing the ability </span><span class="line" data-startTime="646">to create Shadow DOM. </span> <span class="line" data-startTime="648">And so here's a quick example of </span><span class="line" data-startTime="648">how to actually create this </span><span class="line" data-startTime="651">Shadow DOM. </span> <span class="line" data-startTime="652">I have my markup on the left </span><span class="line" data-startTime="652">here &mdash; my host element that </span><span class="line" data-startTime="655">I'm attaching this </span><span class="line" data-startTime="655">hidden markup to. </span></p>

<p><span class="line" data-startTime="658">And what I do is I just call </span><span class="line" data-startTime="658">a query selector for that </span><span class="line" data-startTime="660">element, and I call </span><span class="line" data-startTime="660">createShadowRoot. </span> <span class="line" data-startTime="662">So this is vendor </span><span class="line" data-startTime="662">prefixed, FYI. </span> <span class="line" data-startTime="665">So createShadowRoot, and in that </span><span class="line" data-startTime="665">shadow root's inner HTML, </span><span class="line" data-startTime="668">I'm just going to fill </span><span class="line" data-startTime="668">in some markup. </span> <span class="line" data-startTime="670">I'm going to put in an H2 that </span><span class="line" data-startTime="670">says, yo, y ou got replaced. </span> <span class="line" data-startTime="673">And I'm going to put in by my </span><span class="line" data-startTime="673">awesome content just a div. </span> <span class="line" data-startTime="677">And you can see what actually </span><span class="line" data-startTime="677">renders, right, in that, once </span><span class="line" data-startTime="680">I've attached that Shadow DOM, </span><span class="line" data-startTime="680">is the Shadow DOM content. </span> <span class="line" data-startTime="682">It's not this stuff up </span><span class="line" data-startTime="682">here &mdash; and we'll talk </span><span class="line" data-startTime="684">about that in a bit. </span> <span class="line" data-startTime="686">It's the Shadow DOM. </span> <span class="line" data-startTime="686">The Shadow DOM rules all. </span> <span class="line" data-startTime="688">And here's an alternative </span><span class="line" data-startTime="688">view. </span></p>

<p><span class="line" data-startTime="689">This is what you would see in </span><span class="line" data-startTime="689">the dev tools, for instance. </span> <span class="line" data-startTime="691">You see that hidden document </span><span class="line" data-startTime="691">fragment representing the </span><span class="line" data-startTime="694">Shadow DOM. </span> <span class="line" data-startTime="697">So one thing that's really </span><span class="line" data-startTime="697">important if we're creating a </span><span class="line" data-startTime="699">custom element is you want </span><span class="line" data-startTime="699">some style protections. </span> <span class="line" data-startTime="701">You want to be able </span><span class="line" data-startTime="701">to style things. </span> <span class="line" data-startTime="703">Things that aren't styled are </span><span class="line" data-startTime="703">kind of unsexy on the web. </span> <span class="line" data-startTime="705">So we have, with Shadow DOM, </span><span class="line" data-startTime="705">the ability of style </span><span class="line" data-startTime="707">encapsulation for free. </span> <span class="line" data-startTime="708">This is one of the great </span><span class="line" data-startTime="708">properties of it. </span> <span class="line" data-startTime="711">So in this instance, I'm using </span><span class="line" data-startTime="711">the same sort of inner HTML </span><span class="line" data-startTime="715">that I was before, the </span><span class="line" data-startTime="715">H2 and the div that </span><span class="line" data-startTime="717">says yo, you got replaced. </span> <span class="line" data-startTime="719">But this time, I'm including </span><span class="line" data-startTime="719">a style tag that's going to </span><span class="line" data-startTime="721">color all of my internal H2s </span><span class="line" data-startTime="721">red, which is exactly why you </span><span class="line" data-startTime="725">see at the bottom that yo you </span><span class="line" data-startTime="725">got replaced is now red. </span></p>

<p><span class="line" data-startTime="728">But this is really cool, because </span><span class="line" data-startTime="728">I have an H2 at the </span><span class="line" data-startTime="730">top of the slide deck, right? </span><span class="line" data-startTime="731">The slide title's an H2. </span> <span class="line" data-startTime="733">And that's not being styled </span><span class="line" data-startTime="733">red, because again, style </span><span class="line" data-startTime="735">encapsulation inside of my </span><span class="line" data-startTime="735">Shadow DOM, inside of my </span><span class="line" data-startTime="738">shadow root. </span> <span class="line" data-startTime="738">Very cool. </span> <span class="line" data-startTime="740">But we also have the ability </span><span class="line" data-startTime="740">to control this. </span> <span class="line" data-startTime="742">So if you're creating, again, </span><span class="line" data-startTime="742">a component, and you want to </span><span class="line" data-startTime="745">embed this thing on your page, </span><span class="line" data-startTime="745">maybe you have a certain look </span><span class="line" data-startTime="748">and feel that you want </span><span class="line" data-startTime="748">to preserve. </span> <span class="line" data-startTime="752">You don't want that thing to </span><span class="line" data-startTime="752">look completely out of place </span><span class="line" data-startTime="756">on your page. </span> <span class="line" data-startTime="756">You want it to be seamlessly </span><span class="line" data-startTime="756">integrated. </span> <span class="line" data-startTime="758">So we have a couple properties </span><span class="line" data-startTime="758">we can set. </span></p>

<p><span class="line" data-startTime="760">We have reset style inheritance, </span><span class="line" data-startTime="760">and we have apply </span><span class="line" data-startTime="763">author styles. </span> <span class="line" data-startTime="764">Apply author styles is great. </span> <span class="line" data-startTime="765">If I turn that on, set that to </span><span class="line" data-startTime="765">true, you can immediately see </span><span class="line" data-startTime="768">that my Shadow DOM content is </span><span class="line" data-startTime="768">now taking on the look and </span><span class="line" data-startTime="771">feel of this slide deck. </span> <span class="line" data-startTime="772">Font faces are the same, </span><span class="line" data-startTime="772">line heights are same. </span> <span class="line" data-startTime="776">Reset style inheritance </span><span class="line" data-startTime="776">just says, at </span><span class="line" data-startTime="778">that Shadow DOM boundary &mdash; </span><span class="line" data-startTime="779">so there's this magical boundary </span><span class="line" data-startTime="779">that when your </span><span class="line" data-startTime="782">content turns rendering &mdash; </span><span class="line" data-startTime="783">at that place, [INAUDIBLE] </span><span class="line" data-startTime="783">define Shadow DOM, any CSS </span><span class="line" data-startTime="787">properties that are </span><span class="line" data-startTime="788">inheritable, just resets those. </span> <span class="line" data-startTime="789">So that's kind of </span><span class="line" data-startTime="789">a clean slate. </span> <span class="line" data-startTime="791">That's how I can define my </span><span class="line" data-startTime="791">own styles, and not have </span><span class="line" data-startTime="793">inheritable properties bleed </span><span class="line" data-startTime="793">through into my Shadow DOM and </span><span class="line" data-startTime="797">my custom element. </span></p>

<p><span class="line" data-startTime="800">All right. </span> <span class="line" data-startTime="803">Something else you probably want </span><span class="line" data-startTime="803">to do if you're creating </span><span class="line" data-startTime="805">a custom element is actually </span><span class="line" data-startTime="805">provide some default </span><span class="line" data-startTime="808">stylings for it. </span> <span class="line" data-startTime="809">So say I want my element to be </span><span class="line" data-startTime="809">displayed block by default, or </span><span class="line" data-startTime="812">have a transition effect when </span><span class="line" data-startTime="812">somebody hovers over it. </span> <span class="line" data-startTime="816">This is how I can do that from </span><span class="line" data-startTime="816">internal to my Shadow DOM. </span> <span class="line" data-startTime="819">So there's a new @host at-rule </span><span class="line" data-startTime="819">that you can define. </span> <span class="line" data-startTime="822">So this style tag would be </span><span class="line" data-startTime="822">inside of my Shadow DOM, and I </span><span class="line" data-startTime="825">define inside of it. </span> <span class="line" data-startTime="827">I don't care what tag it is. </span> <span class="line" data-startTime="828">You could be gangnam-style </span><span class="line" data-startTime="828">tag, you could be photo </span><span class="line" data-startTime="831">[INAUDIBLE] tag, you could </span><span class="line" data-startTime="831">be the x-blink tag. </span> <span class="line" data-startTime="833">Whatever you are, set yourself </span><span class="line" data-startTime="833">to be opacity 0.2 and </span><span class="line" data-startTime="837">transition with an </span><span class="line" data-startTime="837">opacity to 1 when </span><span class="line" data-startTime="839">somebody hovers over you. </span> <span class="line" data-startTime="841">So styling the host element or </span><span class="line" data-startTime="841">the component you're styling &mdash; </span><span class="line" data-startTime="845">this is how you actually </span><span class="line" data-startTime="845">provide some </span><span class="line" data-startTime="846">default styles for that. </span> <span class="line" data-startTime="847">You can set widths, whatever </span><span class="line" data-startTime="847">you want to do, right? </span><span class="line" data-startTime="852">So if you remember in the </span><span class="line" data-startTime="852">previous example, when I </span><span class="line" data-startTime="854">created that Shadow DOM, </span><span class="line" data-startTime="854">everything inside of that </span><span class="line" data-startTime="857">thing that I was attaching </span><span class="line" data-startTime="857">myself to completely went </span><span class="line" data-startTime="859">away, and what was rendered </span><span class="line" data-startTime="859">was the Shadow DOM. </span></p>

<p><span class="line" data-startTime="861">So you're probably saying, </span><span class="line" data-startTime="861">hey, what's up with that? </span><span class="line" data-startTime="863">And that's where insertion </span><span class="line" data-startTime="863">points come in. </span> <span class="line" data-startTime="865">So insertion points are super </span><span class="line" data-startTime="865">powerful, because they allow </span><span class="line" data-startTime="868">you to sort of define &mdash; </span><span class="line" data-startTime="869">I think of it as a declarative </span><span class="line" data-startTime="869">API, but that's probably not </span><span class="line" data-startTime="872">the best description for it. </span> <span class="line" data-startTime="874">But what I have here is the </span><span class="line" data-startTime="874">same markup on my left. </span> <span class="line" data-startTime="876">That's my host. </span> <span class="line" data-startTime="877">That's the thing I'm going to </span><span class="line" data-startTime="877">attach the Shadow DOM to. </span> <span class="line" data-startTime="879">My Shadow DOM is on the right, </span><span class="line" data-startTime="879">so I'm trying to </span><span class="line" data-startTime="882">style all H2s red. </span> <span class="line" data-startTime="884">And what I have here is a couple </span><span class="line" data-startTime="884">of insertion points. </span></p>

<p><span class="line" data-startTime="886">And so this is a way, internal </span><span class="line" data-startTime="886">to your Shadow DOM, to define </span><span class="line" data-startTime="889">a structure similar to that </span><span class="line" data-startTime="889">input type date, right? </span><span class="line" data-startTime="891">It has this crazy internal </span><span class="line" data-startTime="891">structure. </span> <span class="line" data-startTime="894">I can define placeholders for </span><span class="line" data-startTime="894">content from the left side, </span><span class="line" data-startTime="898">nodes from my host node, </span><span class="line" data-startTime="898">to then be funneled and </span><span class="line" data-startTime="900">distributed inside of my </span><span class="line" data-startTime="900">insertion points inside of my </span><span class="line" data-startTime="903">Shadow DOM. </span> <span class="line" data-startTime="903">So internal structure in my </span><span class="line" data-startTime="903">Shadow DOM, and then the user </span><span class="line" data-startTime="906">can sort of put these nodes </span><span class="line" data-startTime="906">where they want, and I'm </span><span class="line" data-startTime="909">defining that internal </span><span class="line" data-startTime="909">structure. </span> <span class="line" data-startTime="910">So content tag is your </span><span class="line" data-startTime="910">insertion point. </span> <span class="line" data-startTime="913">And basically you use CSS </span><span class="line" data-startTime="913">selectors to select out nodes </span><span class="line" data-startTime="916">from the host and be funneled </span><span class="line" data-startTime="916">into the Shadow DOM. </span> <span class="line" data-startTime="919">So this first example here is </span><span class="line" data-startTime="919">I'm selecting out all the H2s </span><span class="line" data-startTime="924">in my host node, and so that's </span><span class="line" data-startTime="924">why you see the my subtitle in </span><span class="line" data-startTime="928">the live demo at bottom. </span> <span class="line" data-startTime="929">That's why that's rendered </span><span class="line" data-startTime="929">first, rather than this title </span><span class="line" data-startTime="932">that I've defined in </span><span class="line" data-startTime="932">the original host. </span></p>

<p><span class="line" data-startTime="934">The second one selects out all </span><span class="line" data-startTime="934">elements that have the class </span><span class="line" data-startTime="937">title, so that's why you're </span><span class="line" data-startTime="937">seeing my title, the H1 follow </span><span class="line" data-startTime="941">that my subtitle when this </span><span class="line" data-startTime="941">thing's actually rendered in </span><span class="line" data-startTime="943">the browser. </span> <span class="line" data-startTime="945">I have some other markup inside </span><span class="line" data-startTime="945">of my Shadow DOM, and </span><span class="line" data-startTime="948">the last one, right, just says, </span><span class="line" data-startTime="948">hey, select everything </span><span class="line" data-startTime="950">else that wasn't selected </span><span class="line" data-startTime="950">out previously </span><span class="line" data-startTime="951">in insertion points. </span> <span class="line" data-startTime="952">And so everything else in here </span><span class="line" data-startTime="952">that I haven't selected out </span><span class="line" data-startTime="955">previously, which is why an </span><span class="line" data-startTime="955">amazing description comes </span><span class="line" data-startTime="958">along for the ride </span><span class="line" data-startTime="958">at the end there. </span></p>

<p><span class="line" data-startTime="960">Insertion points are crazy. </span> <span class="line" data-startTime="961">It kind of boggled my mind when </span><span class="line" data-startTime="961">I first started learning </span><span class="line" data-startTime="964">about them. </span> <span class="line" data-startTime="964">So I actually created a tool </span><span class="line" data-startTime="964">to help myself and to help </span><span class="line" data-startTime="967">everybody that wants to </span><span class="line" data-startTime="967">learn about this. </span> <span class="line" data-startTime="969">This is a pretty cool </span><span class="line" data-startTime="969">visualizer tool. </span> <span class="line" data-startTime="971">Everything in blue is </span><span class="line" data-startTime="971">your host node. </span> <span class="line" data-startTime="973">These are nodes that are coming </span><span class="line" data-startTime="973">from that host that </span><span class="line" data-startTime="975">you're attaching </span><span class="line" data-startTime="975">Shadow DOM to. </span> <span class="line" data-startTime="977">Yellow is Shadow DOM content, </span><span class="line" data-startTime="977">so these are nodes and </span><span class="line" data-startTime="980">elements defining Shadow DOM. </span> <span class="line" data-startTime="981">So you can see what I do </span><span class="line" data-startTime="981">is I have this sort </span><span class="line" data-startTime="984">of visualizer here. </span> <span class="line" data-startTime="985">You've got your host node, and </span><span class="line" data-startTime="985">immediately, what the rendered </span><span class="line" data-startTime="988">compose tree looks like is the </span><span class="line" data-startTime="988">Shadow DOM is winning, right? </span><span class="line" data-startTime="990">So the first thing it's </span><span class="line" data-startTime="990">rendering is the Shadow Dom, </span><span class="line" data-startTime="993">and as I hover over these, you </span><span class="line" data-startTime="993">can see where they're coming </span><span class="line" data-startTime="995">from in the different </span><span class="line" data-startTime="995">sections. </span></p>

<p><span class="line" data-startTime="999">In this header, for instance, </span><span class="line" data-startTime="999">I have an insertion point. </span> <span class="line" data-startTime="1001">It's selecting out those H2s. </span> <span class="line" data-startTime="1004">One thing nice about </span><span class="line" data-startTime="1004">this is that I can </span><span class="line" data-startTime="1006">edit this on the fly. </span> <span class="line" data-startTime="1007">If I try to change this </span><span class="line" data-startTime="1007">insertion point to select out </span><span class="line" data-startTime="1010">H1s, it essentially becomes a </span><span class="line" data-startTime="1010">no op in that case, right? </span><span class="line" data-startTime="1013">There's nothing that it's </span><span class="line" data-startTime="1013">selecting out, because I don't </span><span class="line" data-startTime="1015">have any H1s in my host that </span><span class="line" data-startTime="1015">are moving over to </span><span class="line" data-startTime="1018">the Shadow DOM world. </span> <span class="line" data-startTime="1020">And I can also do the </span><span class="line" data-startTime="1020">same thing up here. </span> <span class="line" data-startTime="1022">So if I add a bunch more H2s, </span><span class="line" data-startTime="1022">it doesn't matter where they </span><span class="line" data-startTime="1026">are, right? </span><span class="line" data-startTime="1027">That insertion point is </span><span class="line" data-startTime="1027">still going to select. </span> <span class="line" data-startTime="1029">That one that's selecting the </span><span class="line" data-startTime="1029">H2s is still going to select </span><span class="line" data-startTime="1031">those out and funnel those </span><span class="line" data-startTime="1031">into the correct location </span><span class="line" data-startTime="1033">internal to my widget </span><span class="line" data-startTime="1033">Shadow DOM. </span> <span class="line" data-startTime="1037">Very cool. </span> <span class="line" data-startTime="1037">Very powerful, when you think </span><span class="line" data-startTime="1037">about complex widgets, and </span><span class="line" data-startTime="1040">we'll see some examples </span><span class="line" data-startTime="1040">later on. </span> <span class="line" data-startTime="1042">Shadow DOM available in Chrome, </span><span class="line" data-startTime="1042">and a couple of the </span><span class="line" data-startTime="1044">mobile browsers. </span></p>

<p><span class="line" data-startTime="1045">But I just want to point out </span><span class="line" data-startTime="1045">there's a great session later </span><span class="line" data-startTime="1047">on actually right </span><span class="line" data-startTime="1047">in this room. </span> <span class="line" data-startTime="1049">There's polyfills for </span><span class="line" data-startTime="1049">all the stuff. </span> <span class="line" data-startTime="1051">So you can actually play with </span><span class="line" data-startTime="1051">this stuff today, which is </span><span class="line" data-startTime="1053">really exciting. </span> <span class="line" data-startTime="1053">Shadow DOM is super complex, but </span><span class="line" data-startTime="1053">having this encapsulated </span><span class="line" data-startTime="1056">world is very, very powerful. </span> <span class="line" data-startTime="1059">Templates. </span> <span class="line" data-startTime="1060">Shadow DOM. </span> <span class="line" data-startTime="1061">Let's talk about custom </span><span class="line" data-startTime="1061">elements. </span> <span class="line" data-startTime="1063">Anybody feel like this yet? </span><span class="line" data-startTime="1067">I feel like this every day. </span> <span class="line" data-startTime="1070">Custom elements. </span> <span class="line" data-startTime="1072">Custom elements is sort of where </span><span class="line" data-startTime="1072">all this comes together. </span> <span class="line" data-startTime="1076">It gives you with the element </span><span class="line" data-startTime="1076">tag the ability to define new </span><span class="line" data-startTime="1079">HTML elements. </span></p>

<p><span class="line" data-startTime="1080">So basically, if I want to </span><span class="line" data-startTime="1080">create the x-foo tag, I create </span><span class="line" data-startTime="1084">this element definition with a </span><span class="line" data-startTime="1084">name property, and the name is </span><span class="line" data-startTime="1087">the custom element name </span><span class="line" data-startTime="1087">that I'm creating. </span> <span class="line" data-startTime="1089">And so the only caveat here as </span><span class="line" data-startTime="1089">you see on the little hover </span><span class="line" data-startTime="1091">here is that the name has </span><span class="line" data-startTime="1091">to have a hyphen in it. </span> <span class="line" data-startTime="1094">So it's got to have </span><span class="line" data-startTime="1094">this dash in it. </span> <span class="line" data-startTime="1097">Similar to regular DOM </span><span class="line" data-startTime="1097">elements &mdash; the audio tag is a </span><span class="line" data-startTime="1100">great example. </span> <span class="line" data-startTime="1100">I can create an audio tag using </span><span class="line" data-startTime="1100">the new operator in </span><span class="line" data-startTime="1103">JavaScript. </span> <span class="line" data-startTime="1105">I can define a constructor on my </span><span class="line" data-startTime="1105">element as well, so people </span><span class="line" data-startTime="1108">can then use that constructor </span><span class="line" data-startTime="1108">or use the new operator to </span><span class="line" data-startTime="1111">construct my element </span><span class="line" data-startTime="1111">using new x-foo. </span></p>

<p><span class="line" data-startTime="1114">So that's really cool. </span> <span class="line" data-startTime="1114">There's nothing different </span><span class="line" data-startTime="1114">here. </span> <span class="line" data-startTime="1116">We're just defining a new </span><span class="line" data-startTime="1116">element, and you should be </span><span class="line" data-startTime="1118">able to do all the things that </span><span class="line" data-startTime="1118">you can normally do. </span> <span class="line" data-startTime="1122">So until I actually have this </span><span class="line" data-startTime="1122">definition, the browser sees </span><span class="line" data-startTime="1124">this, it registers this element, </span><span class="line" data-startTime="1124">it knows about it. </span> <span class="line" data-startTime="1127">x-foo, if I try to use </span><span class="line" data-startTime="1127">that, it's just </span><span class="line" data-startTime="1129">to be the HTML element. </span> <span class="line" data-startTime="1130">It's not going to be </span><span class="line" data-startTime="1130">anything special. </span> <span class="line" data-startTime="1132">But what you can do &mdash; </span><span class="line" data-startTime="1133">there's a new CSS pseudo class, </span><span class="line" data-startTime="1133">the unresolved pseudo </span><span class="line" data-startTime="1137">class, that you can use to </span><span class="line" data-startTime="1137">prevent things like flash of </span><span class="line" data-startTime="1139">unstyled content. </span> <span class="line" data-startTime="1141">So if I want to, before the </span><span class="line" data-startTime="1141">browser knows about &mdash; so I </span><span class="line" data-startTime="1143">have a bunch x-foos on my page, </span><span class="line" data-startTime="1143">and I'm importing those </span><span class="line" data-startTime="1146">later, maybe, I can choose to </span><span class="line" data-startTime="1146">style any unresolved element &mdash; </span><span class="line" data-startTime="1150">I can set it to opacity </span><span class="line" data-startTime="1150">is 0, so it's kind of </span><span class="line" data-startTime="1152">hidden from the user. </span></p>

<p><span class="line" data-startTime="1153">And then when the browser knows </span><span class="line" data-startTime="1153">about it, the x-foo tag </span><span class="line" data-startTime="1157">exists, transition </span><span class="line" data-startTime="1157">that opacity in. </span> <span class="line" data-startTime="1159">So that's kind of a cool pro </span><span class="line" data-startTime="1159">tip user experience there. </span> <span class="line" data-startTime="1164">You get life cycle callbacks </span><span class="line" data-startTime="1164">for everything. </span> <span class="line" data-startTime="1167">So there's a ready callback </span><span class="line" data-startTime="1167">that's called. </span> <span class="line" data-startTime="1168">There's an inserted callback </span><span class="line" data-startTime="1168">that's called, </span><span class="line" data-startTime="1170">and a remove callback. </span> <span class="line" data-startTime="1172">And the use case here is maybe </span><span class="line" data-startTime="1172">you have a really complex </span><span class="line" data-startTime="1174">component that uses something </span><span class="line" data-startTime="1174">like index DB, right? </span><span class="line" data-startTime="1177">And you have a lot of cleanup </span><span class="line" data-startTime="1177">that you need to do before </span><span class="line" data-startTime="1178">somebody rips and removes that </span><span class="line" data-startTime="1178">DOM node from their page. </span> <span class="line" data-startTime="1182">And so you want to have </span><span class="line" data-startTime="1182">things clean up. </span> <span class="line" data-startTime="1185">So in your remove callback, you </span><span class="line" data-startTime="1185">would make those calls. </span></p>

<p><span class="line" data-startTime="1187">And so there's sort of a life </span><span class="line" data-startTime="1187">cycle of events and callbacks </span><span class="line" data-startTime="1190">for everything. </span> <span class="line" data-startTime="1190">You really have insight </span><span class="line" data-startTime="1190">into what's going </span><span class="line" data-startTime="1192">on with your element. </span> <span class="line" data-startTime="1194">Here's an example of creating </span><span class="line" data-startTime="1194">a definition. </span> <span class="line" data-startTime="1196">Just a pretty simple, standard, </span><span class="line" data-startTime="1196">cookie cutter </span><span class="line" data-startTime="1199">element definition. </span> <span class="line" data-startTime="1200">So I can put markup in here, </span><span class="line" data-startTime="1200">I can put script, I have a </span><span class="line" data-startTime="1203">section tag here. </span> <span class="line" data-startTime="1205">In my registration flow, in my </span><span class="line" data-startTime="1205">restoration process for this </span><span class="line" data-startTime="1208">element, here is that </span><span class="line" data-startTime="1208">ready callback. </span> <span class="line" data-startTime="1209">So when this element has been </span><span class="line" data-startTime="1209">registered in a browser, all </span><span class="line" data-startTime="1214">I'm doing is just setting its </span><span class="line" data-startTime="1214">inner text content to this </span><span class="line" data-startTime="1217">section's text content. </span> <span class="line" data-startTime="1219">So it's pretty silly, but if I </span><span class="line" data-startTime="1219">right click on this guy, this </span><span class="line" data-startTime="1222">demo at the bottom here, and you </span><span class="line" data-startTime="1222">see this, just to prove to </span><span class="line" data-startTime="1226">you, hopefully you see </span><span class="line" data-startTime="1226">the x-foo down there. </span></p>

<p><span class="line" data-startTime="1233">And all it is, is just set </span><span class="line" data-startTime="1233">to that inner text. </span> <span class="line" data-startTime="1236">It's a pretty silly custom </span><span class="line" data-startTime="1236">element, but it's just to show </span><span class="line" data-startTime="1239">you how simple it is. </span> <span class="line" data-startTime="1241">And similarly to native elements </span><span class="line" data-startTime="1241">in the web platform, </span><span class="line" data-startTime="1245">you can create a </span><span class="line" data-startTime="1245">JavaScript API. </span> <span class="line" data-startTime="1247">You can create an imperative </span><span class="line" data-startTime="1247">API on your element. </span> <span class="line" data-startTime="1249">So in this case, if somebody </span><span class="line" data-startTime="1249">called x-foo &mdash; </span><span class="line" data-startTime="1253">the x-foo tag, they had that </span><span class="line" data-startTime="1253">element that's created in </span><span class="line" data-startTime="1256">JavaScript and called </span><span class="line" data-startTime="1256">dash.foo, they </span><span class="line" data-startTime="1258">would get an alert. </span> <span class="line" data-startTime="1258">So I can define a declarative </span><span class="line" data-startTime="1258">element, but also an </span><span class="line" data-startTime="1262">imperative API for it. </span> <span class="line" data-startTime="1265">So how do we use this thing once </span><span class="line" data-startTime="1265">we define this awesome </span><span class="line" data-startTime="1268">thing that's going to </span><span class="line" data-startTime="1268">change the world? </span><span class="line" data-startTime="1271">And the answer is, it's no </span><span class="line" data-startTime="1272">different than normal elements. </span> <span class="line" data-startTime="1274">So I can declare it. </span> <span class="line" data-startTime="1275">I can use x-foo once that </span><span class="line" data-startTime="1275">element definition is seen by </span><span class="line" data-startTime="1278">the browser. </span></p>

<p><span class="line" data-startTime="1280">I can create it in DOM, right? </span><span class="line" data-startTime="1281">I can create using </span><span class="line" data-startTime="1283">documentCreateElement with my x-foo. </span> <span class="line" data-startTime="1285">That's the tag I'm creating. </span> <span class="line" data-startTime="1287">And this example just shows you, </span><span class="line" data-startTime="1287">you can set up a click </span><span class="line" data-startTime="1289">listener, right? </span><span class="line" data-startTime="1290">And then when somebody clicks on </span><span class="line" data-startTime="1290">your element, you just call </span><span class="line" data-startTime="1293">that method you've defined </span><span class="line" data-startTime="1293">in your definition. </span> <span class="line" data-startTime="1296">So we'll call that foo method </span><span class="line" data-startTime="1296">when the user clicks it. </span> <span class="line" data-startTime="1299">The last way, if we have that </span><span class="line" data-startTime="1299">constructor attribute defined </span><span class="line" data-startTime="1302">on our element definition, </span><span class="line" data-startTime="1302">people can use and create our </span><span class="line" data-startTime="1306">elements with the </span><span class="line" data-startTime="1306">new operator. </span> <span class="line" data-startTime="1307">So three standard ways you use </span><span class="line" data-startTime="1307">an element in HTML &mdash; no </span><span class="line" data-startTime="1313">different than the custom </span><span class="line" data-startTime="1313">element world. </span> <span class="line" data-startTime="1317">If you want, you can go </span><span class="line" data-startTime="1317">completely in JavaScript. </span> <span class="line" data-startTime="1319">If you want to register an </span><span class="line" data-startTime="1319">element, create it in </span><span class="line" data-startTime="1322">JavaScript, you can do that </span><span class="line" data-startTime="1322">using document.register. </span></p>

<p><span class="line" data-startTime="1325">So in this example, same element </span><span class="line" data-startTime="1325">as I had before &mdash; so </span><span class="line" data-startTime="1329">just a quick glance, right? </span><span class="line" data-startTime="1330">The section tag, the ready </span><span class="line" data-startTime="1330">callback, the foo method. </span> <span class="line" data-startTime="1334">Same thing just in the </span><span class="line" data-startTime="1334">JavaScript version. </span> <span class="line" data-startTime="1336">So I can use object.create, and </span><span class="line" data-startTime="1336">I'm saying, OK, create an </span><span class="line" data-startTime="1339">element for me. </span> <span class="line" data-startTime="1340">We're going to be inheriting </span><span class="line" data-startTime="1340">from the HTML prototype. </span> <span class="line" data-startTime="1343">So basically just a </span><span class="line" data-startTime="1343">standard element. </span> <span class="line" data-startTime="1347">I'll set up that ready callback </span><span class="line" data-startTime="1347">in JavaScript on the </span><span class="line" data-startTime="1348">prototype chain. </span></p>

<p><span class="line" data-startTime="1349">And again, the ready callback, </span><span class="line" data-startTime="1349">in this case, all it does is </span><span class="line" data-startTime="1352">set the inner text </span><span class="line" data-startTime="1352">to I'm an x-foo. </span> <span class="line" data-startTime="1355">Example of creating the </span><span class="line" data-startTime="1355">imperative API. </span> <span class="line" data-startTime="1358">So I'll add that foo function </span><span class="line" data-startTime="1358">to my prototype chain, which </span><span class="line" data-startTime="1361">just alerts itself. </span> <span class="line" data-startTime="1362">And the last thing here &mdash; to </span><span class="line" data-startTime="1362">actually get this thing </span><span class="line" data-startTime="1364">registered in the browser, call </span><span class="line" data-startTime="1364">document.register, vendor </span><span class="line" data-startTime="1368">prefixed, with the first </span><span class="line" data-startTime="1368">argument is your tag name that </span><span class="line" data-startTime="1371">you want to register, and the </span><span class="line" data-startTime="1371">second is an object describing </span><span class="line" data-startTime="1373">that prototype you </span><span class="line" data-startTime="1373">just set up. </span> <span class="line" data-startTime="1375">And so once you do that, this </span><span class="line" data-startTime="1375">thing returns a constructor </span><span class="line" data-startTime="1378">that you can then use as you </span><span class="line" data-startTime="1378">would normally expect. </span> <span class="line" data-startTime="1380">New x-foo, document.create, </span><span class="line" data-startTime="1380">x-foo tag. </span></p>

<p><span class="line" data-startTime="1385">Totally standard stuff. </span> <span class="line" data-startTime="1391">How about extending </span><span class="line" data-startTime="1391">existing elements? </span><span class="line" data-startTime="1393">You saw in the button is </span><span class="line" data-startTime="1393">mega-button demo, right, I </span><span class="line" data-startTime="1397">didn't like the way a </span><span class="line" data-startTime="1397">button acted, so I </span><span class="line" data-startTime="1398">wanted to extend it. </span> <span class="line" data-startTime="1400">And so the way you do that in </span><span class="line" data-startTime="1400">your element definition is </span><span class="line" data-startTime="1401">with one property here. </span> <span class="line" data-startTime="1403">Just extends="button". </span> <span class="line" data-startTime="1404">So I create a definition for </span><span class="line" data-startTime="1404">mega-button, and I say </span><span class="line" data-startTime="1407">extends="button". </span> <span class="line" data-startTime="1408">That's all you're doing. </span> <span class="line" data-startTime="1413">If you want, there's the </span><span class="line" data-startTime="1413">JavaScript version. </span> <span class="line" data-startTime="1414">Same example, but in the </span><span class="line" data-startTime="1414">JavaScript world. </span> <span class="line" data-startTime="1417">So this time, I'll use </span><span class="line" data-startTime="1417">object.create, and instead of </span><span class="line" data-startTime="1420">inheriting from HTML element, </span><span class="line" data-startTime="1420">I'm inheriting from a </span><span class="line" data-startTime="1425">specialized version of that. </span> <span class="line" data-startTime="1426">So I'm inheriting from HTML </span><span class="line" data-startTime="1426">button elements prototype. </span> <span class="line" data-startTime="1430">And then you register it using </span><span class="line" data-startTime="1430">document.register, give it the </span><span class="line" data-startTime="1432">tag name, and that prototype </span><span class="line" data-startTime="1432">you've set up. </span> <span class="line" data-startTime="1435">These are called type extension </span><span class="line" data-startTime="1435">custom elements, so </span><span class="line" data-startTime="1437">the button is a syntax. </span></p>

<p><span class="line" data-startTime="1439">And there's actually a new </span><span class="line" data-startTime="1439">overloaded version of create </span><span class="line" data-startTime="1442">element &mdash; </span><span class="line" data-startTime="1442">document.createElement &mdash; </span><span class="line" data-startTime="1444">and the first argument you give </span><span class="line" data-startTime="1444">it is the thing you want </span><span class="line" data-startTime="1446">to create, and so the button. </span> <span class="line" data-startTime="1447">And the second argument is </span><span class="line" data-startTime="1447">the is portion of that. </span> <span class="line" data-startTime="1451">So the button is mega-button, </span><span class="line" data-startTime="1451">and what you get back, that </span><span class="line" data-startTime="1454">would be the markup that's </span><span class="line" data-startTime="1454">created for that. </span> <span class="line" data-startTime="1457">So that's a type extension </span><span class="line" data-startTime="1457">custom element. </span> <span class="line" data-startTime="1458">So creating new ones, extending </span><span class="line" data-startTime="1458">existing ones. </span> <span class="line" data-startTime="1461">What about template </span><span class="line" data-startTime="1461">and Shadow DOM? </span><span class="line" data-startTime="1463">I talked about that </span><span class="line" data-startTime="1463">stuff earlier. </span></p>

<p><span class="line" data-startTime="1464">It seems really cool. </span> <span class="line" data-startTime="1467">It's hard to understand. </span> <span class="line" data-startTime="1468">Where does all fit into </span><span class="line" data-startTime="1468">this picture? </span><span class="line" data-startTime="1470">And that is really that custom </span><span class="line" data-startTime="1470">elements and Shadow </span><span class="line" data-startTime="1474">DOM really are BFFs. </span> <span class="line" data-startTime="1476">And so here's an example of </span><span class="line" data-startTime="1476">using that stuff I talked </span><span class="line" data-startTime="1478">about before. </span> <span class="line" data-startTime="1479">If I want to encapsulate my </span><span class="line" data-startTime="1479">markup and hide it in Shadow </span><span class="line" data-startTime="1481">DOM so people can't traverse </span><span class="line" data-startTime="1481">into it, I </span><span class="line" data-startTime="1484">basically set up a template. </span> <span class="line" data-startTime="1485">So I'm using HTML templates </span><span class="line" data-startTime="1485">inside of my custom element </span><span class="line" data-startTime="1488">definition. </span> <span class="line" data-startTime="1489">You can see that I'm using the </span><span class="line" data-startTime="1489">@host at-rule to style my </span><span class="line" data-startTime="1493">element in a certain way. </span> <span class="line" data-startTime="1494">So in this case, I'm saying hey, </span><span class="line" data-startTime="1494">please be display block </span><span class="line" data-startTime="1497">at the bottom by default, </span><span class="line" data-startTime="1497">and also have </span><span class="line" data-startTime="1500">your background yellow. </span></p>

<p><span class="line" data-startTime="1501">So I'm styling my x-foo-shadow </span><span class="line" data-startTime="1501">tag to be </span><span class="line" data-startTime="1505">these default styles. </span> <span class="line" data-startTime="1507">I have some markup in here. </span> <span class="line" data-startTime="1509">And in this case, since I have </span><span class="line" data-startTime="1509">Shadow DOM, in my registration </span><span class="line" data-startTime="1512">process, in my ready callback </span><span class="line" data-startTime="1512">when the page has seen this </span><span class="line" data-startTime="1516">element definition, I </span><span class="line" data-startTime="1516">create Shadow DOM. </span> <span class="line" data-startTime="1518">So I don't just set </span><span class="line" data-startTime="1518">inner text. </span> <span class="line" data-startTime="1520">I have to create this Shadow </span><span class="line" data-startTime="1520">DOM from this template. </span> <span class="line" data-startTime="1522">This refers to the actual </span><span class="line" data-startTime="1522">element itself. </span> <span class="line" data-startTime="1525">So that's my host node. </span> <span class="line" data-startTime="1528">I'm creating Shadow DOM and </span><span class="line" data-startTime="1528">attaching it to my x-foo </span><span class="line" data-startTime="1530">shadow tag. </span> <span class="line" data-startTime="1532">And I append the template </span><span class="line" data-startTime="1532">contents. </span> <span class="line" data-startTime="1534">So I'll clone the content, </span><span class="line" data-startTime="1534">right, just as you saw from </span><span class="line" data-startTime="1537">earlier in the slides. </span></p>

<p><span class="line" data-startTime="1538">I'll clone that, and that's </span><span class="line" data-startTime="1538">going to be my Shadow DOM is </span><span class="line" data-startTime="1541">the clone of this template. </span> <span class="line" data-startTime="1543">So the live demo at the bottom </span><span class="line" data-startTime="1543">here, instead of having </span><span class="line" data-startTime="1545">something that I can view from </span><span class="line" data-startTime="1545">the outside world and traverse </span><span class="line" data-startTime="1548">into, it's now encapsulated. </span> <span class="line" data-startTime="1551">It's not only style </span><span class="line" data-startTime="1551">encapsulation, but markup </span><span class="line" data-startTime="1553">encapsulation. </span> <span class="line" data-startTime="1554">So my x-foo down here, if I try </span><span class="line" data-startTime="1554">to traverse into it, you </span><span class="line" data-startTime="1558">see that document fragment </span><span class="line" data-startTime="1558">now that's been attached. </span> <span class="line" data-startTime="1560">That's my Shadow DOM. </span> <span class="line" data-startTime="1561">That's the hidden markup, and </span><span class="line" data-startTime="1561">inside of that is the stuff </span><span class="line" data-startTime="1564">that I filled it with. </span> <span class="line" data-startTime="1565">So again, the only reason I </span><span class="line" data-startTime="1565">can do this is because dev </span><span class="line" data-startTime="1568">tools has that show Shadow </span><span class="line" data-startTime="1568">DOM flag on. </span> <span class="line" data-startTime="1570">Normally, a person viewing </span><span class="line" data-startTime="1570">source would only see this </span><span class="line" data-startTime="1573">x-foo shadow tag. </span></p>

<p><span class="line" data-startTime="1574">So it's really, really </span><span class="line" data-startTime="1574">awesome. </span> <span class="line" data-startTime="1576">That's Shadow DOM, and that's </span><span class="line" data-startTime="1576">how you use templates in </span><span class="line" data-startTime="1578">Shadow DOM inside of </span><span class="line" data-startTime="1578">a custom element. </span> <span class="line" data-startTime="1581">But what about insertion </span><span class="line" data-startTime="1581">points? </span><span class="line" data-startTime="1583">So I kind of glossed </span><span class="line" data-startTime="1583">over that. </span> <span class="line" data-startTime="1585">I showed you the tool. </span> <span class="line" data-startTime="1586">This is where things get really, </span><span class="line" data-startTime="1586">really powerful. </span> <span class="line" data-startTime="1588">I can define a my-tabs </span><span class="line" data-startTime="1588">element, right? </span><span class="line" data-startTime="1591">So this is going to be </span><span class="line" data-startTime="1591">like a tabs widget. </span> <span class="line" data-startTime="1593">Inside of that, I'll </span><span class="line" data-startTime="1593">create a template. </span> <span class="line" data-startTime="1596">Inert markup until I use it. </span> <span class="line" data-startTime="1599">And I'll create a couple </span><span class="line" data-startTime="1599">of insertion points for </span><span class="line" data-startTime="1601">people to adhere to. </span> <span class="line" data-startTime="1603">So this is my internal </span><span class="line" data-startTime="1603">structure. </span></p>

<p><span class="line" data-startTime="1604">I'm saying, please, markup, go </span><span class="line" data-startTime="1604">here, go here, go here, and </span><span class="line" data-startTime="1607">then I can style this inside </span><span class="line" data-startTime="1607">of my custom element </span><span class="line" data-startTime="1610">definition any way I want. </span> <span class="line" data-startTime="1612">So as a user of this tag, when </span><span class="line" data-startTime="1612">somebody uses my-tabs, they </span><span class="line" data-startTime="1616">would use it like this </span><span class="line" data-startTime="1616">at the bottom, right? </span><span class="line" data-startTime="1618">They would declare </span><span class="line" data-startTime="1618">the my-tabs. </span> <span class="line" data-startTime="1619">Inside of it, they could put </span><span class="line" data-startTime="1619">H2s, they could put section </span><span class="line" data-startTime="1622">tags describing the tab, the </span><span class="line" data-startTime="1622">title, and the content for it. </span> <span class="line" data-startTime="1628">And so internal to my custom </span><span class="line" data-startTime="1628">element in my Shadow DOM, I </span><span class="line" data-startTime="1631">make it look like this, right? </span><span class="line" data-startTime="1632">With style encapsulation </span><span class="line" data-startTime="1632">with my Shadow DOM. </span> <span class="line" data-startTime="1635">With insertion points, I can </span><span class="line" data-startTime="1635">tell the H2s to go into these </span><span class="line" data-startTime="1638">certain areas. </span></p>

<p><span class="line" data-startTime="1640">So these become super, super </span><span class="line" data-startTime="1640">powerful when you combine it </span><span class="line" data-startTime="1642">with all these extra goodies. </span> <span class="line" data-startTime="1644">Firefox nightly has </span><span class="line" data-startTime="1644">document.register, Chrome has </span><span class="line" data-startTime="1647">document.register, and that's </span><span class="line" data-startTime="1647">why these are partially </span><span class="line" data-startTime="1649">highlighted. </span> <span class="line" data-startTime="1650">The actual definition part is </span><span class="line" data-startTime="1650">not in any browser yet, but </span><span class="line" data-startTime="1654">document.register is. </span> <span class="line" data-startTime="1655">You can play with it today. </span> <span class="line" data-startTime="1657">So templates, Shadow DOM, </span><span class="line" data-startTime="1657">custom elements. </span> <span class="line" data-startTime="1659">The last piece of this equation </span><span class="line" data-startTime="1659">is HTML imports. </span> <span class="line" data-startTime="1664">HTML imports allow us to import </span><span class="line" data-startTime="1664">an entire HTML document </span><span class="line" data-startTime="1668">inside of our application. </span> <span class="line" data-startTime="1670">All we have to do is declare a </span><span class="line" data-startTime="1670">link rel &mdash; so there's a new </span><span class="line" data-startTime="1673">rel import type. </span> <span class="line" data-startTime="1674">So link rel="import", and then </span><span class="line" data-startTime="1674">you reference an HTML file </span><span class="line" data-startTime="1678">anywhere on the web, right? </span><span class="line" data-startTime="1679">It can be on a CDN, it can </span><span class="line" data-startTime="1679">be local to your app. </span> <span class="line" data-startTime="1682">Maybe this HTML file has a bunch </span><span class="line" data-startTime="1682">of element definitions </span><span class="line" data-startTime="1685">inside of it. </span> <span class="line" data-startTime="1686">So once I do that, that's where </span><span class="line" data-startTime="1686">I get on my definitions </span><span class="line" data-startTime="1688">from, and x-foo is </span><span class="line" data-startTime="1688">defined in it. </span></p>

<p><span class="line" data-startTime="1691">Then I can use that </span><span class="line" data-startTime="1691">tag on my page. </span> <span class="line" data-startTime="1694">So this becomes really powerful, </span><span class="line" data-startTime="1694">because then you can </span><span class="line" data-startTime="1696">start to reuse other people's </span><span class="line" data-startTime="1696">components, or you can reuse </span><span class="line" data-startTime="1699">components you've written </span><span class="line" data-startTime="1699">in the past. </span> <span class="line" data-startTime="1701">So inside of awesome-menu.html, </span><span class="line" data-startTime="1701">I can link </span><span class="line" data-startTime="1705">in an x-toolbar tag somebody's </span><span class="line" data-startTime="1705">created. </span> <span class="line" data-startTime="1707">I can link in a menu item </span><span class="line" data-startTime="1707">somebody's created. </span> <span class="line" data-startTime="1711">And when I'm creating this </span><span class="line" data-startTime="1711">awesome menu, this new tag </span><span class="line" data-startTime="1713">that I'm defining in HTML, </span><span class="line" data-startTime="1713">I can use that work. </span> <span class="line" data-startTime="1717">So whether it's mine, somebody </span><span class="line" data-startTime="1717">else's, totally cool. </span> <span class="line" data-startTime="1719">And so this is an example of a </span><span class="line" data-startTime="1719">custom element using other </span><span class="line" data-startTime="1722">custom elements. </span> <span class="line" data-startTime="1723">Kind of boggles your mind. </span></p>

<p><span class="line" data-startTime="1724">But it's super, super handy, and </span><span class="line" data-startTime="1724">really, really powerful. </span> <span class="line" data-startTime="1727">At the bottom, this is what </span><span class="line" data-startTime="1727">somebody would use. </span> <span class="line" data-startTime="1729">My awesome menu. </span> <span class="line" data-startTime="1731">They would just instantiate the </span><span class="line" data-startTime="1731">tag, and they would link </span><span class="line" data-startTime="1734">rel import that. </span> <span class="line" data-startTime="1736">Very, very cool. </span> <span class="line" data-startTime="1739">This one is not supported </span><span class="line" data-startTime="1739">anywhere yet. </span> <span class="line" data-startTime="1742">But it's polyfilled, so you </span><span class="line" data-startTime="1742">can check out the session </span><span class="line" data-startTime="1745">after this to learn </span><span class="line" data-startTime="1745">more about it. </span> <span class="line" data-startTime="1747">So templates, right? </span><span class="line" data-startTime="1748">Inert chunks of markup </span><span class="line" data-startTime="1748">to be reused later. </span> <span class="line" data-startTime="1752">Shadow DOM for encapsulatable </span><span class="line" data-startTime="1752">styles in DOM. </span> <span class="line" data-startTime="1755">Custom elements &mdash; </span><span class="line" data-startTime="1756">that will give us the actual </span><span class="line" data-startTime="1756">definitions of how we create a </span><span class="line" data-startTime="1759">new element in HTML. </span></p>

<p><span class="line" data-startTime="1761">And HTML imports allow us to </span><span class="line" data-startTime="1761">then import, whether it's a </span><span class="line" data-startTime="1763">document, whether it's element </span><span class="line" data-startTime="1763">definitions, any HTML into our </span><span class="line" data-startTime="1767">own document. </span> <span class="line" data-startTime="1769">So hopefully you guys sort of </span><span class="line" data-startTime="1769">see the zen moment here, which </span><span class="line" data-startTime="1774">is pretty cool. </span> <span class="line" data-startTime="1774">It's very powerful. </span> <span class="line" data-startTime="1775">It's thinking about building </span><span class="line" data-startTime="1775">apps in a declarative HTML </span><span class="line" data-startTime="1778">way, which is different </span><span class="line" data-startTime="1778">than we're currently </span><span class="line" data-startTime="1780">thinking about it. </span> <span class="line" data-startTime="1782">A couple of inspiring demos, </span><span class="line" data-startTime="1782">just for kicks. </span> <span class="line" data-startTime="1785">So we can create a meme gen </span><span class="line" data-startTime="1785">tag, which is pretty cool. </span></p>

<p><span class="line" data-startTime="1793">So this is a coworker, Seth </span><span class="line" data-startTime="1793">Ladd, and he's on </span><span class="line" data-startTime="1796">a beach right now. </span> <span class="line" data-startTime="1797">And I have content </span><span class="line" data-startTime="1797">editable here. </span> <span class="line" data-startTime="1799">Sup Google IO. </span> <span class="line" data-startTime="1801">Web rocks! </span><span class="line" data-startTime="1803">And so I've set a click listener </span><span class="line" data-startTime="1803">for an on change </span><span class="line" data-startTime="1807">event on this input, so this is </span><span class="line" data-startTime="1807">internal to my widget and </span><span class="line" data-startTime="1810">my component. </span> <span class="line" data-startTime="1811">I can change its background, so </span><span class="line" data-startTime="1811">he can be now on the Golden </span><span class="line" data-startTime="1813">Gate Bridge in San Francisco. </span> <span class="line" data-startTime="1815">Can throw him over an NYC </span><span class="line" data-startTime="1815">if he needs to be. </span> <span class="line" data-startTime="1818">So again, and it's just </span><span class="line" data-startTime="1818">a tag, right? </span><span class="line" data-startTime="1820">So this is what somebody would </span><span class="line" data-startTime="1820">declare on their page. </span> <span class="line" data-startTime="1822">They would give it a source, </span><span class="line" data-startTime="1822">I've defined it an attribute </span><span class="line" data-startTime="1824">on my element, just as </span><span class="line" data-startTime="1824">with normal HTML. </span> <span class="line" data-startTime="1828">And then inside of it, they </span><span class="line" data-startTime="1828">have H1s and H2s for those </span><span class="line" data-startTime="1831">headers, and so those are </span><span class="line" data-startTime="1831">insertion points, then, being </span><span class="line" data-startTime="1833">funneled in to my </span><span class="line" data-startTime="1833">custom element. </span></p>

<p><span class="line" data-startTime="1837">But it's also about thinking </span><span class="line" data-startTime="1837">about apps, right? </span><span class="line" data-startTime="1838">So you can kind of encapsulate </span><span class="line" data-startTime="1838">and encompass whole </span><span class="line" data-startTime="1842">functionality into a tag now. </span> <span class="line" data-startTime="1844">So I can create a photo booth </span><span class="line" data-startTime="1844">tag, and its sole purpose is </span><span class="line" data-startTime="1846">to basically just wrap the get </span><span class="line" data-startTime="1846">user media APIs to do a photo </span><span class="line" data-startTime="1854">booth effect in the browser. </span> <span class="line" data-startTime="1858">We're going to get this </span><span class="line" data-startTime="1858">to work, you guys. </span> <span class="line" data-startTime="1866">OK, we're not going </span><span class="line" data-startTime="1866">to get it to work. </span> <span class="line" data-startTime="1869">But you can imagine my face </span><span class="line" data-startTime="1869">going through this, and </span><span class="line" data-startTime="1874">there's CSS filters and stuff. </span> <span class="line" data-startTime="1876">But very cool. </span> <span class="line" data-startTime="1877">So using other parts of the web </span><span class="line" data-startTime="1877">platform, like new parts, </span><span class="line" data-startTime="1879">like web RTC, wrap it </span><span class="line" data-startTime="1879">in a tag, right? </span><span class="line" data-startTime="1882">So now I have basically an app </span><span class="line" data-startTime="1882">within an app, and all </span><span class="line" data-startTime="1886">somebody has to do is link, </span><span class="line" data-startTime="1886">import this into your app, and </span><span class="line" data-startTime="1889">you've got that functionality </span><span class="line" data-startTime="1889">for free. </span></p>

<p><span class="line" data-startTime="1891">So can you try this today? </span><span class="line" data-startTime="1892">The answer is totally you </span><span class="line" data-startTime="1892">can try this today. </span> <span class="line" data-startTime="1895">Apart from that last demo, </span><span class="line" data-startTime="1895">everything worked as expected. </span> <span class="line" data-startTime="1898">You can enable a couple feature </span><span class="line" data-startTime="1900">flags in Chrome Canary. </span> <span class="line" data-startTime="1901">I definitely recommend </span><span class="line" data-startTime="1901">Chrome Canary. </span> <span class="line" data-startTime="1903">It's got the experimental web </span><span class="line" data-startTime="1903">features flag that you can </span><span class="line" data-startTime="1906">enable, experimental JavaScript </span><span class="line" data-startTime="1906">features flag. </span> <span class="line" data-startTime="1908">If you're trying Shadow DOM, </span><span class="line" data-startTime="1908">trying to understand that </span><span class="line" data-startTime="1910">crazy complex, please show </span><span class="line" data-startTime="1910">Shadow DOM in the dev tools, </span><span class="line" data-startTime="1914">enable that. </span></p>

<p><span class="line" data-startTime="1914">Super, super handy. </span> <span class="line" data-startTime="1916">If you want to follow at least </span><span class="line" data-startTime="1916">Chrome and Blink's </span><span class="line" data-startTime="1919">implementation of the web </span><span class="line" data-startTime="1919">component stuff, there's this </span><span class="line" data-startTime="1923">hot list that you can link to. </span> <span class="line" data-startTime="1925">I'll have a link to the </span><span class="line" data-startTime="1925">slides at the end, so </span><span class="line" data-startTime="1926">don't take it down. </span> <span class="line" data-startTime="1928">But sort of in flight, </span><span class="line" data-startTime="1928">low level stuff. </span> <span class="line" data-startTime="1930">If you want to know about where </span><span class="line" data-startTime="1930">this stuff is in flight, </span><span class="line" data-startTime="1933">check out the session </span><span class="line" data-startTime="1933">right after this. </span> <span class="line" data-startTime="1935">It's about all these </span><span class="line" data-startTime="1935">polyfill libraries </span><span class="line" data-startTime="1936">that I've showed you. </span></p>

<p><span class="line" data-startTime="1937">All the live demos. </span> <span class="line" data-startTime="1938">That's what the stuff </span><span class="line" data-startTime="1938">is using. </span> <span class="line" data-startTime="1940">So plug for that. </span> <span class="line" data-startTime="1942">You don't even have to </span><span class="line" data-startTime="1942">move in this room. </span> <span class="line" data-startTime="1943">This session's going to be up </span><span class="line" data-startTime="1943">at webcomponentsshift.com. </span> <span class="line" data-startTime="1946">Again, I'm going to put in on </span><span class="line" data-startTime="1946">GitHub, so there's my GitHub </span><span class="line" data-startTime="1949">link down there. </span> <span class="line" data-startTime="1950">I really appreciate </span><span class="line" data-startTime="1950">you guys' time. </span> <span class="line" data-startTime="1951">Thanks for tuning in </span><span class="line" data-startTime="1951">on the live stream. </span> <span class="line" data-startTime="1953">Thank you. </span></p>