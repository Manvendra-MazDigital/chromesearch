<style>* {font-family: "Open Sans", sans-serif}
a {color: #77aaff}
a.video {border-bottom: 1px solid #ddd; display: block; margin: 0 0 2em 0; padding: 0 0 2em 0}
h2 {color: #444; font-size: 18px;}
span.speakerName {color: black; font-weight: 900;}
body {padding: 2em}
p {color: #444; margin: 0; text-indent: 1.5em;}
p.speaker {margin: 1em 0 0 0; text-indent: 0;}
div#transcript > p:first-child {text-indent: 0;}
</style>

<h1>Chrome Mobile: WebRTC</h1>

<h2>Jake Archibald, Remy Sharp</h2>

<a class="video" href="http://youtu.be/A_KIiRTlXC0">youtu.be/A_KIiRTlXC0</a><div id="transcript"><p><span class="line" data-startTime="0">[MUSIC PLAYING] </span></p>

<p class="speaker"><span class="line" data-starttime="85"><span class="speakerName">Jake Archibald</span>: Hi, welcome </span><span class="line" data-startTime="85">to Google Developers Live. </span><span class="line" data-startTime="87">This is mobile web Thursday. </span><span class="line" data-startTime="88">But actually, we're not live. </span><span class="line" data-startTime="90">We're pre-recording this. </span><span class="line" data-startTime="91">And I guess it's not really </span><span class="line" data-startTime="91">Google Developers, either, </span><span class="line" data-startTime="93">because you're not </span><span class="line" data-startTime="93">one of the gang. </span><span class="line" data-startTime="96">So I guess it's just developers </span><span class="line" data-startTime="96">not live in a </span><span class="line" data-startTime="100">Google studio. </span><span class="line" data-startTime="100">So it's not GDL it's DNLIAGS, </span><span class="line" data-startTime="100">din-a-lags, DNLIAGS. </span><span class="line" data-startTime="106">That's cool. </span><span class="line" data-startTime="108">It kind of sounds a bit </span><span class="line" data-startTime="108">like dinner ladies. </span><span class="line" data-startTime="110">We could go with that. </span></p>

<p class="speaker"><span class="line" data-starttime="111"><span class="speakerName">Remy Sharp</span>: Din ladies. </span></p>

<p class="speaker"><span class="line" data-starttime="112"><span class="speakerName">Jake Archibald</span>: Yeah. </span><span class="line" data-startTime="112">Anyway the studio today, we've </span><span class="line" data-startTime="112">got Remy Sharp from off of the </span><span class="line" data-startTime="116">internet, from down </span><span class="line" data-startTime="116">in Brighton. </span><span class="line" data-startTime="120">And I certainly hope he's going </span><span class="line" data-startTime="120">to brighten the studio. </span><span class="line" data-startTime="123">REMY SHARP: [DRUM ROLL] </span></p>

<p class="speaker"><span class="line" data-starttime="124"><span class="speakerName">Jake Archibald</span>: Yeah. </span><span class="line" data-startTime="126">This is the third one that I've </span><span class="line" data-startTime="126">done of this, so I can </span><span class="line" data-startTime="128">teach you some TV </span><span class="line" data-startTime="128">producing tips. </span><span class="line" data-startTime="130">So whenever you do a complete </span><span class="line" data-startTime="130">zinger like that, it's good to </span><span class="line" data-startTime="135">kind of look at the camera and </span><span class="line" data-startTime="135">just smile and nod a bit, </span><span class="line" data-startTime="138">because you want to give people </span><span class="line" data-startTime="138">time to recover from </span><span class="line" data-startTime="141">their kind of gut-wrenching </span><span class="line" data-startTime="141">laughter, or else they'll </span><span class="line" data-startTime="143">start missing the important </span><span class="line" data-startTime="143">facts and stuff. </span><span class="line" data-startTime="147">So you're the big boss </span><span class="line" data-startTime="147">of Left Logic, right? </span></p>

<p class="speaker"><span class="line" data-starttime="151"><span class="speakerName">Remy Sharp</span>: That's right. </span><span class="line" data-startTime="151">I run my own little </span><span class="line" data-startTime="151">JavaScript-based development </span><span class="line" data-startTime="155">agency thingamajiggy </span><span class="line" data-startTime="155">in Brighton. </span></p>

<p class="speaker"><span class="line" data-starttime="158"><span class="speakerName">Jake Archibald</span>: Cool. </span><span class="line" data-startTime="159">So let's see what you Hove </span><span class="line" data-startTime="159">got in store for us. </span><span class="line" data-startTime="162">It kind of works, because </span><span class="line" data-startTime="162">Brighton and Hove, right? </span><span class="line" data-startTime="164">No, it doesn't work. </span></p>

<p class="speaker"><span class="line" data-starttime="165"><span class="speakerName">Remy Sharp</span>: Separate place. </span></p>

<p class="speaker"><span class="line" data-starttime="166"><span class="speakerName">Jake Archibald</span>: So you built a </span><span class="line" data-startTime="166">game for Google I/O, right? </span></p>

<p class="speaker"><span class="line" data-starttime="170"><span class="speakerName">Remy Sharp</span>: Yeah, that's right. </span><span class="line" data-startTime="171">If I &mdash; </span><span class="line" data-startTime="172">well, we can demo </span><span class="line" data-startTime="172">it now, right? </span></p>

<p class="speaker"><span class="line" data-starttime="173"><span class="speakerName">Jake Archibald</span>: Yeah. </span><span class="line" data-startTime="174">It's called &mdash; what </span><span class="line" data-startTime="174">is it called? </span><span class="line" data-startTime="175">Face balls, ball faces? </span></p>

<p class="speaker"><span class="line" data-starttime="177"><span class="speakerName">Remy Sharp</span>: Well, I'll show you </span><span class="line" data-startTime="177">the game, and then I'll </span><span class="line" data-startTime="180">give you some back story. </span><span class="line" data-startTime="181">So &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="182"><span class="speakerName">Jake Archibald</span>: Live </span><span class="line" data-startTime="182">demos never fail. </span></p>

<p class="speaker"><span class="line" data-starttime="183"><span class="speakerName">Remy Sharp</span>: The game's called </span><span class="line" data-startTime="183">"Head Shots." You don't see </span><span class="line" data-startTime="186">that bit where we did </span><span class="line" data-startTime="186">it earlier, and the </span><span class="line" data-startTime="188">whole machine crashed. </span></p>

<p class="speaker"><span class="line" data-starttime="189"><span class="speakerName">Jake Archibald</span>: Oh yeah. </span><span class="line" data-startTime="190">If we seem a little bit </span><span class="line" data-startTime="190">depressed, it's because we've </span><span class="line" data-startTime="192">done a whole half an </span><span class="line" data-startTime="192">hour recording. </span><span class="line" data-startTime="193">It went really well. </span><span class="line" data-startTime="195">And then Paul Kinlan, who's our </span><span class="line" data-startTime="195">resident DJ today, just </span><span class="line" data-startTime="199">kind of started crying. </span><span class="line" data-startTime="201">A little tear ran down his </span><span class="line" data-startTime="201">face, and he said, the </span><span class="line" data-startTime="203">machine's crashed, dude. </span><span class="line" data-startTime="204">Machine's crashed. </span><span class="line" data-startTime="204">So this is our second </span><span class="line" data-startTime="204">go at all of this. </span><span class="line" data-startTime="207">But it's going to be </span><span class="line" data-startTime="207">better, right? </span></p>

<p class="speaker"><span class="line" data-starttime="207"><span class="speakerName">Remy Sharp</span>: Yes. </span></p>

<p class="speaker"><span class="line" data-starttime="207"><span class="speakerName">Jake Archibald</span>: We should </span><span class="line" data-startTime="207">positive about </span><span class="line" data-startTime="209">it rather than depressed. </span></p>

<p class="speaker"><span class="line" data-starttime="209"><span class="speakerName">Remy Sharp</span>: It's going </span><span class="line" data-startTime="209">to be amazing. </span><span class="line" data-startTime="210">So this amazing game is called </span><span class="line" data-startTime="210">"Head Shots," and I'm going to </span><span class="line" data-startTime="214">amazingly hit New Game. </span><span class="line" data-startTime="216">And it's going to give </span><span class="line" data-startTime="216">me a PIN number. </span><span class="line" data-startTime="217">And that PIN number, Jake is </span><span class="line" data-startTime="217">going to put into his phone. </span></p>

<p class="speaker"><span class="line" data-starttime="221"><span class="speakerName">Jake Archibald</span>: I am. </span><span class="line" data-startTime="222">It's a good feeling, </span><span class="line" data-startTime="222">by the way. </span></p>

<p class="speaker"><span class="line" data-starttime="223"><span class="speakerName">Remy Sharp</span>: Thanks. </span></p>

<p class="speaker"><span class="line" data-starttime="223"><span class="speakerName">Jake Archibald</span>: This </span><span class="line" data-startTime="223">is excellent. </span><span class="line" data-startTime="224">I really like &mdash; because I'm on </span><span class="line" data-startTime="224">the PIN screen now, and it's </span><span class="line" data-startTime="227">nice that when I go into the &mdash; </span><span class="line" data-startTime="229">I don't know if this </span><span class="line" data-startTime="229">is going to work. </span><span class="line" data-startTime="230">When I go into the screen to </span><span class="line" data-startTime="230">enter the PIN, it comes up, </span><span class="line" data-startTime="233">and it's only got the numbers, </span><span class="line" data-startTime="233">the digits on there, which </span><span class="line" data-startTime="237">it's just putting them &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="238"><span class="speakerName">Remy Sharp</span>: No, it's not. </span><span class="line" data-startTime="239">It's a pattern. </span><span class="line" data-startTime="241">So I think I might </span><span class="line" data-startTime="241">not have mobile </span><span class="line" data-startTime="244">connectivity, which is &mdash; </span><span class="line" data-startTime="245">yes I do. </span></p>

<p class="speaker"><span class="line" data-starttime="246"><span class="speakerName">Jake Archibald</span>: We could put an </span><span class="line" data-startTime="246">awkward transition in here </span><span class="line" data-startTime="248">where we just put like a screen </span><span class="line" data-startTime="248">and some hold music </span><span class="line" data-startTime="250">until we're ready. </span><span class="line" data-startTime="251">[HUMMING MUSIC] </span></p>

<p class="speaker"><span class="line" data-starttime="253"><span class="speakerName">Remy Sharp</span>: Let's </span><span class="line" data-startTime="253">try that again. </span></p>

<p class="speaker"><span class="line" data-starttime="256"><span class="speakerName">Jake Archibald</span>: And </span><span class="line" data-startTime="256">we're back. </span><span class="line" data-startTime="257">And we had a massive network </span><span class="line" data-startTime="257">failure, right? </span><span class="line" data-startTime="259">Because you're using a data </span><span class="line" data-startTime="259">roaming SIM card. </span><span class="line" data-startTime="262">You didn't realize you </span><span class="line" data-startTime="262">were doing that. </span><span class="line" data-startTime="264">And you've run out of credit, </span><span class="line" data-startTime="264">which is probably costing you </span><span class="line" data-startTime="266">quite a lot of money. </span><span class="line" data-startTime="266">But we'll take you for a </span><span class="line" data-startTime="266">beer to make up for it. </span><span class="line" data-startTime="270">That'll be OK. </span></p>

<p class="speaker"><span class="line" data-starttime="271"><span class="speakerName">Remy Sharp</span>: Beer equals data. </span></p>

<p class="speaker"><span class="line" data-starttime="272"><span class="speakerName">Jake Archibald</span>: This </span><span class="line" data-startTime="272">could be the moment </span><span class="line" data-startTime="273">where Remy became bankrupt. </span> <span class="line" data-startTime="274">But we're going to soldier on. </span> <span class="line" data-startTime="277">What we're going to do is you've </span><span class="line" data-startTime="277">got a pre-recorded </span><span class="line" data-startTime="278">video of the game working. </span> <span class="line" data-startTime="280">We're going to look at that. </span> <span class="line" data-startTime="282">There was a great moment where </span><span class="line" data-startTime="282">Paul was going to have the </span><span class="line" data-startTime="285">whole camera running through us </span><span class="line" data-startTime="285">fumbling and trying to make </span><span class="line" data-startTime="290">the stream work and failing. </span> <span class="line" data-startTime="291">But Remy, you came up with </span><span class="line" data-startTime="291">a good solution, </span><span class="line" data-startTime="292">though, didn't you? </span><span class="line" data-startTime="293">You just fired out a string of </span><span class="line" data-startTime="293">obscene words, and that means </span><span class="line" data-startTime="299">we can't put it out. </span> <span class="line" data-startTime="300">So I might use that </span><span class="line" data-startTime="300">trick next time. </span></p>

<p class="speaker"><span class="line" data-starttime="301"><span class="speakerName">Remy Sharp</span>: So yeah, that pretty </span><span class="line" data-startTime="301">much guaranteed it </span><span class="line" data-startTime="303">could never make it </span><span class="line" data-startTime="303">to the public. </span></p>

<p class="speaker"><span class="line" data-starttime="304"><span class="speakerName">Jake Archibald</span>: Exactly, </span><span class="line" data-startTime="304">exactly. </span><span class="line" data-startTime="306">So yeah, let's go through </span><span class="line" data-startTime="306">the video. </span></p>

<p class="speaker"><span class="line" data-starttime="307"><span class="speakerName">Remy Sharp</span>: Yeah, I'll walk you </span><span class="line" data-startTime="307">through "Head Shots," the </span><span class="line" data-startTime="311">pre-recorded version of </span><span class="line" data-startTime="311">the interactive game. </span> <span class="line" data-startTime="314">So you're presented with </span><span class="line" data-startTime="314">a welcome screen. </span> <span class="line" data-startTime="316">You tap on New Game </span><span class="line" data-startTime="316">or Join Game. </span> <span class="line" data-startTime="318">So in this case, I'm going </span><span class="line" data-startTime="318">to join a game. </span> <span class="line" data-startTime="322">I'm given a PIN number by the </span><span class="line" data-startTime="322">other player, which actually </span><span class="line" data-startTime="325">is going to be me. </span> <span class="line" data-startTime="326">So get prepared for your </span><span class="line" data-startTime="326">minds to be blown. </span> <span class="line" data-startTime="329">And then when it prompts you, it </span><span class="line" data-startTime="329">asks you if you want access </span><span class="line" data-startTime="332">to the camera or not. </span> <span class="line" data-startTime="334">I say yes. </span> <span class="line" data-startTime="335">And you can see my face </span><span class="line" data-startTime="335">being streamed </span><span class="line" data-startTime="336">directly into the camera. </span> <span class="line" data-startTime="338">So here I get to throw a </span><span class="line" data-startTime="338">ball at my own face. </span></p>

<p><span class="line" data-startTime="340">And boom, in my face. </span> <span class="line" data-startTime="343">One down. </span> <span class="line" data-startTime="345">And then the other player kind </span><span class="line" data-startTime="345">of flicks back, and you'll see </span><span class="line" data-startTime="347">him throw the ball towards </span><span class="line" data-startTime="347">me like that. </span> <span class="line" data-startTime="349">Awful shot, Remy, terrible. </span> <span class="line" data-startTime="350">And again. </span> <span class="line" data-startTime="354">Ah. </span> <span class="line" data-startTime="355">See now, I look like I hit </span><span class="line" data-startTime="355">myself in the face with my </span><span class="line" data-startTime="357">ball, but I didn't. </span></p>

<p class="speaker"><span class="line" data-starttime="358"><span class="speakerName">Jake Archibald</span>: So it's actually </span><span class="line" data-startTime="358">a live stream there? </span></p>

<p class="speaker"><span class="line" data-starttime="359"><span class="speakerName">Remy Sharp</span>: It's </span><span class="line" data-startTime="359">a live stream. </span> <span class="line" data-startTime="360">It's UDP data, peer to peer. </span> <span class="line" data-startTime="363">In this case, I was at home </span><span class="line" data-startTime="363">using my own local network, </span><span class="line" data-startTime="368">which means that the </span><span class="line" data-startTime="368">connectivity should be superb, </span><span class="line" data-startTime="371">because it's basically point </span><span class="line" data-startTime="371">to point, almost. </span> <span class="line" data-startTime="377">There is one part that sits </span><span class="line" data-startTime="377">on the server, the </span><span class="line" data-startTime="381">discoverability of the game. </span> <span class="line" data-startTime="383">So knowing what PIN number, the </span><span class="line" data-startTime="383">PIN number is what joins </span><span class="line" data-startTime="386">us together in the </span><span class="line" data-startTime="386">first place. </span> <span class="line" data-startTime="387">So there's a web &mdash; </span><span class="line" data-startTime="389">oh, I hit myself again. </span></p>

<p><span class="line" data-startTime="393">The server is running a </span><span class="line" data-startTime="393">WebSockets server, which we </span><span class="line" data-startTime="396">use to basically go up to and </span><span class="line" data-startTime="396">say, what is the WebRTC </span><span class="line" data-startTime="403">library, tell me what I need to </span><span class="line" data-startTime="403">know to be able to connect </span><span class="line" data-startTime="405">to this person. </span> <span class="line" data-startTime="406">It then sends down this data, </span><span class="line" data-startTime="406">this magical data about where </span><span class="line" data-startTime="413">the person's located, I guess. </span> <span class="line" data-startTime="415">And then it starts using things </span><span class="line" data-startTime="415">like STUN, straight out </span><span class="line" data-startTime="417">of "Star Wars," "Star Trek," </span><span class="line" data-startTime="417">in fact, TURN servers, ICE. </span> <span class="line" data-startTime="422">Because we like a bit of ICE </span><span class="line" data-startTime="422">as well, some cool words. </span></p>

<p class="speaker"><span class="line" data-starttime="424"><span class="speakerName">Jake Archibald</span>: So this is all </span><span class="line" data-startTime="424">part of WebRTC, right? </span></p>

<p class="speaker"><span class="line" data-starttime="427"><span class="speakerName">Remy Sharp</span>: Yeah. </span><span class="line" data-startTime="427">And that then penetrates all the </span><span class="line" data-startTime="427">firewalls and proxies and </span><span class="line" data-startTime="432">gets us to hold hands and share </span><span class="line" data-startTime="432">data and eventually be </span><span class="line" data-startTime="437">able to get a peer </span><span class="line" data-startTime="437">to peer point. </span><span class="line" data-startTime="439">Hopefully. </span><span class="line" data-startTime="439">It's still new technology, </span><span class="line" data-startTime="439">that's the thing. </span></p>

<p class="speaker"><span class="line" data-starttime="441"><span class="speakerName">Jake Archibald</span>: It's good. </span><span class="line" data-startTime="442">I deliberately made a decision </span><span class="line" data-startTime="442">not to learn any WebRTC </span><span class="line" data-startTime="445">because it would make </span><span class="line" data-startTime="445">this interview flow </span><span class="line" data-startTime="448">a lot better, right? </span><span class="line" data-startTime="448">It's not just because I'm </span><span class="line" data-startTime="448">slightly incompetent, and </span><span class="line" data-startTime="451">there's a big part of web </span><span class="line" data-startTime="451">technology that I haven't even </span><span class="line" data-startTime="453">looked at yet. </span><span class="line" data-startTime="454">This is a deliberate interview </span><span class="line" data-startTime="454">technique. </span><span class="line" data-startTime="456">It's quite good. </span></p>

<p class="speaker"><span class="line" data-starttime="456"><span class="speakerName">Remy Sharp</span>: Sound, sound. </span></p>

<p class="speaker"><span class="line" data-starttime="457"><span class="speakerName">Jake Archibald</span>: Shall we have </span><span class="line" data-startTime="457">a look at some of the code </span><span class="line" data-startTime="459">that you're using to actually </span><span class="line" data-startTime="459">make this connection happen? </span></p>

<p class="speaker"><span class="line" data-starttime="461"><span class="speakerName">Remy Sharp</span>: Yeah. </span><span class="line" data-startTime="462">So like you, I'm not that </span><span class="line" data-startTime="462">well versed with WebRTC. </span><span class="line" data-startTime="467">I should say as a caveat that </span><span class="line" data-startTime="467">I'm a developer with the </span><span class="line" data-startTime="472">approached that basically </span><span class="line" data-startTime="472">bash away at </span><span class="line" data-startTime="476">something until it fits. </span><span class="line" data-startTime="478">And I watched my son putting </span><span class="line" data-startTime="478">some blocks into a wall. </span><span class="line" data-startTime="481">And basically, the way he was </span><span class="line" data-startTime="481">getting the blocks through the </span><span class="line" data-startTime="483">wall was the same </span><span class="line" data-startTime="483">way as I code. </span><span class="line" data-startTime="485">I basically just keep turning it </span><span class="line" data-startTime="485">and turning it, and once it </span><span class="line" data-startTime="487">works, it works, </span><span class="line" data-startTime="487">and I move on. </span></p>

<p class="speaker"><span class="line" data-starttime="489"><span class="speakerName">Jake Archibald</span>: Even if it's not </span><span class="line" data-startTime="489">the right shape, it fits. </span></p>

<p class="speaker"><span class="line" data-starttime="490"><span class="speakerName">Remy Sharp</span>: Yeah, if you can </span><span class="line" data-startTime="490">take a circle and turn it so </span><span class="line" data-startTime="492">it looks like a square and push </span><span class="line" data-startTime="492">it through a square hole, </span><span class="line" data-startTime="495">then superb. </span></p>

<p class="speaker"><span class="line" data-starttime="497"><span class="speakerName">Jake Archibald</span>: So we should </span><span class="line" data-startTime="497">say the WebRTC stuff that </span><span class="line" data-startTime="499">you're using there requires a </span><span class="line" data-startTime="499">beta version of Chrome for </span><span class="line" data-startTime="502">Android at the moment. </span></p>

<p class="speaker"><span class="line" data-starttime="503"><span class="speakerName">Remy Sharp</span>: Yes, sorry. </span></p>

<p class="speaker"><span class="line" data-starttime="504"><span class="speakerName">Jake Archibald</span>: But it's in </span><span class="line" data-startTime="504">the full stable version of </span><span class="line" data-startTime="506">Chrome desktop. </span><span class="line" data-startTime="507">And it's also in the beta </span><span class="line" data-startTime="507">version of Firefox as well. </span></p>

<p class="speaker"><span class="line" data-starttime="510"><span class="speakerName">Remy Sharp</span>: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="511"><span class="speakerName">Jake Archibald</span>: But even though </span><span class="line" data-startTime="511">it's in the beta, </span><span class="line" data-startTime="512">you're having to turn on </span><span class="line" data-startTime="512">some flags before that. </span></p>

<p class="speaker"><span class="line" data-starttime="514"><span class="speakerName">Remy Sharp</span>: Yeah. </span> <span class="line" data-startTime="515">So it might be worth </span><span class="line" data-startTime="515">just looking at the </span><span class="line" data-startTime="517">phone briefly, producer. </span> <span class="line" data-startTime="522">So down here, oh gosh, </span><span class="line" data-startTime="522">somewhere. </span> <span class="line" data-startTime="524">So you probably have to do like </span><span class="line" data-startTime="524">Find in Page, WebRTC. </span> <span class="line" data-startTime="530">And there we go. </span> <span class="line" data-startTime="530">So we've got the WebRTC flag </span><span class="line" data-startTime="530">has been enabled manually. </span> <span class="line" data-startTime="534">And then you get the goodness </span><span class="line" data-startTime="534">of the WebRTC technology. </span> <span class="line" data-startTime="542">Which I should, before I </span><span class="line" data-startTime="542">show you some code, is </span><span class="line" data-startTime="545">three sets of APIs. </span> <span class="line" data-startTime="548">So WebRTC is firstly, </span><span class="line" data-startTime="548">getUserMedia, which is the API </span><span class="line" data-startTime="551">that gets you the webcam and </span><span class="line" data-startTime="551">basic video and audio. </span> <span class="line" data-startTime="556">And we've seen lots of demos </span><span class="line" data-startTime="556">where people are mashing it up </span><span class="line" data-startTime="559">with WebGL and so on. </span></p>

<p><span class="line" data-startTime="562">The second part is the </span><span class="line" data-startTime="562">DataChannel API, so </span><span class="line" data-startTime="566">RTCDataChannel, which is like </span><span class="line" data-startTime="566">WebSockets but gives you that </span><span class="line" data-startTime="569">peer to peer connection. </span></p>

<p class="speaker"><span class="line" data-starttime="571"><span class="speakerName">Jake Archibald</span>: So you're not </span><span class="line" data-startTime="571">just restricted to sending </span><span class="line" data-startTime="573">video and audio. </span><span class="line" data-startTime="573">It's normal data as well. </span></p>

<p class="speaker"><span class="line" data-starttime="575"><span class="speakerName">Remy Sharp</span>: Yeah, yeah. </span><span class="line" data-startTime="576">And with that, there's a flag </span><span class="line" data-startTime="576">that allows you to set whether </span><span class="line" data-startTime="579">it's reliable or not. </span><span class="line" data-startTime="582">And reliable, true or </span><span class="line" data-startTime="582">false, means switch </span><span class="line" data-startTime="585">between UDP or TCP. </span><span class="line" data-startTime="586">So you can use this for first </span><span class="line" data-startTime="586">person shooter type games, </span><span class="line" data-startTime="591">where it doesn't matter how many </span><span class="line" data-startTime="591">bullets you fire, maybe. </span><span class="line" data-startTime="594">I don't know. </span><span class="line" data-startTime="595">I'm not the best games </span><span class="line" data-startTime="595">developer, which is why I </span><span class="line" data-startTime="597">wrote a game. </span></p>

<p class="speaker"><span class="line" data-starttime="598"><span class="speakerName">Jake Archibald</span>: I don't </span><span class="line" data-startTime="598">call it UDP. </span><span class="line" data-startTime="599">I call it UPD. </span></p>

<p class="speaker"><span class="line" data-starttime="601"><span class="speakerName">Remy Sharp</span>: Because we've </span><span class="line" data-startTime="601">done this four times, I </span><span class="line" data-startTime="603">now know that joke. </span></p>

<p class="speaker"><span class="line" data-starttime="604"><span class="speakerName">Jake Archibald</span>: Yeah. </span><span class="line" data-startTime="604">I'm trying to recreate all the </span><span class="line" data-startTime="604">spontaneous jokes we did in </span><span class="line" data-startTime="606">the first record. </span><span class="line" data-startTime="608">I don't think that one </span><span class="line" data-startTime="608">was actually &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="609"><span class="speakerName">Remy Sharp</span>: On the second. </span></p>

<p class="speaker"><span class="line" data-starttime="609"><span class="speakerName">Jake Archibald</span>: On the </span><span class="line" data-startTime="609">second record. </span><span class="line" data-startTime="610">Yeah, we're having a difficult </span><span class="line" data-startTime="610">time trying to do &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="613"><span class="speakerName">Remy Sharp</span>: Technology. </span><span class="line" data-startTime="615">And the third part is </span><span class="line" data-startTime="615">the DataChannel API. </span><span class="line" data-startTime="618">So the DataChannel is what </span><span class="line" data-startTime="618">allows me to stream video into </span><span class="line" data-startTime="623">your device or stream video </span><span class="line" data-startTime="623">out to multiple </span><span class="line" data-startTime="625">devices peer to peer. </span><span class="line" data-startTime="627">So it's those three technologies </span><span class="line" data-startTime="627">put together that </span><span class="line" data-startTime="630">gives you all of WebRTC. </span></p>

<p class="speaker"><span class="line" data-starttime="631"><span class="speakerName">Jake Archibald</span>: So when we were </span><span class="line" data-startTime="631">seeing the video there </span><span class="line" data-startTime="633">and the game logic being sent, </span><span class="line" data-startTime="633">that was just direct from </span><span class="line" data-startTime="636">device to device. </span><span class="line" data-startTime="637">It wasn't all going through </span><span class="line" data-startTime="637">a central circle. </span></p>

<p class="speaker"><span class="line" data-starttime="638"><span class="speakerName">Remy Sharp</span>: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="639"><span class="speakerName">Jake Archibald</span>: OK. </span><span class="line" data-startTime="639">So if you were making a game </span><span class="line" data-startTime="639">that was player to player, you </span><span class="line" data-startTime="643">don't need to have a huge server </span><span class="line" data-startTime="643">that could control 100 </span><span class="line" data-startTime="645">games at once, because you can </span><span class="line" data-startTime="645">sort of pass it off to </span><span class="line" data-startTime="648">individuals. </span></p>

<p class="speaker"><span class="line" data-starttime="649"><span class="speakerName">Remy Sharp</span>: Which does also </span><span class="line" data-startTime="649">kind of bring its own </span><span class="line" data-startTime="651">problems, like where does </span><span class="line" data-startTime="651">the game logic belong? </span><span class="line" data-startTime="654">How do you protect your game </span><span class="line" data-startTime="654">from being hacked? </span><span class="line" data-startTime="656">The way that I cleverly got </span><span class="line" data-startTime="656">around that problem was to not </span><span class="line" data-startTime="660">put any protection in there. </span><span class="line" data-startTime="661">So if you want to hack </span><span class="line" data-startTime="661">the game, you can do. </span><span class="line" data-startTime="664">If I'm playing Jake and throwing </span><span class="line" data-startTime="664">my balls at his face, </span><span class="line" data-startTime="666">then I could just cheat. </span><span class="line" data-startTime="668">And I could say, every single </span><span class="line" data-startTime="668">one of them hit. </span><span class="line" data-startTime="670">And I would win. </span><span class="line" data-startTime="672">But obviously, I've cheated </span><span class="line" data-startTime="672">you, and that would </span><span class="line" data-startTime="674">make us both sad. </span></p>

<p class="speaker"><span class="line" data-starttime="676"><span class="speakerName">Jake Archibald</span>: It's for fun. </span><span class="line" data-startTime="677">It's not a competitive &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="678"><span class="speakerName">Remy Sharp</span>: Yeah, there's </span><span class="line" data-startTime="678">no leader board or </span><span class="line" data-startTime="679">anything like that. </span> <span class="line" data-startTime="681">So if I show you some of the </span><span class="line" data-startTime="681">code, a lot of it's kind of &mdash; </span><span class="line" data-startTime="685">there's events flying back and </span><span class="line" data-startTime="685">forth inside of the game. </span> <span class="line" data-startTime="688">So when the game actually </span><span class="line" data-startTime="688">starts &mdash; </span><span class="line" data-startTime="692">let me scroll up just </span><span class="line" data-startTime="692">a little bit. </span> <span class="line" data-startTime="694">I was actually on the right </span><span class="line" data-startTime="694">line of code, pinchange. </span> <span class="line" data-startTime="699">I have this event that says </span><span class="line" data-startTime="699">pinchange, which the server </span><span class="line" data-startTime="703">will give me a new PIN </span><span class="line" data-startTime="703">to start the game. </span> <span class="line" data-startTime="704">And when you enter a PIN into </span><span class="line" data-startTime="704">your phone to start the "Head </span><span class="line" data-startTime="708">Shots" game, it will trigger </span><span class="line" data-startTime="708">this event called pinchange, </span><span class="line" data-startTime="712">which tells the entire </span><span class="line" data-startTime="712">application, right, go and </span><span class="line" data-startTime="715">connect to the WebSocket </span><span class="line" data-startTime="715">on the server </span><span class="line" data-startTime="719">and send it the PIN. </span> <span class="line" data-startTime="721">And that's the room </span><span class="line" data-startTime="721">I'm joining. </span></p>

<p><span class="line" data-startTime="723">Because we need to be in </span><span class="line" data-startTime="723">a room to be able to </span><span class="line" data-startTime="724">communicate &mdash; </span><span class="line" data-startTime="726">to discover each other </span><span class="line" data-startTime="726">in the first place. </span> <span class="line" data-startTime="728">Once we've gotten into </span><span class="line" data-startTime="728">that room, it then </span><span class="line" data-startTime="732">fires a bunch of events. </span></p>

<p class="speaker"><span class="line" data-starttime="734"><span class="speakerName">Jake Archibald</span>: So this dollar </span><span class="line" data-startTime="734">on you've got there is just &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="736"><span class="speakerName">Remy Sharp</span>: Yeah, so I </span><span class="line" data-startTime="736">should say this is </span><span class="line" data-startTime="737">not jQuery or Prototype. </span><span class="line" data-startTime="739">This is I've written my own </span><span class="line" data-startTime="739">little library that's min.js, </span><span class="line" data-startTime="743">this tiny library just to </span><span class="line" data-startTime="743">give me a few bits of &mdash; </span><span class="line" data-startTime="749">a few shortcuts. </span><span class="line" data-startTime="750">So on is an event listener. </span><span class="line" data-startTime="752">And dollar on is just hitting </span><span class="line" data-startTime="752">a dummy element. </span><span class="line" data-startTime="755">So I've got this one, it's like </span><span class="line" data-startTime="755">a simple pub/sub system. </span><span class="line" data-startTime="759">And dollar is just </span><span class="line" data-startTime="759">querySelectorAll with a smiley </span><span class="line" data-startTime="763">face because it needs </span><span class="line" data-startTime="763">a value, basically. </span></p>

<p class="speaker"><span class="line" data-starttime="768"><span class="speakerName">Jake Archibald</span>: I completely </span><span class="line" data-startTime="768">understand doing that. </span><span class="line" data-startTime="769">Because I kind of worry about </span><span class="line" data-startTime="769">the amount of finger skin that </span><span class="line" data-startTime="771">I've lost to typing </span><span class="line" data-startTime="771">addEventListener and </span><span class="line" data-startTime="773">querySelectorAll when it &mdash; </span><span class="line" data-startTime="773">yeah, on and dollar. </span></p>

<p class="speaker"><span class="line" data-starttime="778"><span class="speakerName">Remy Sharp</span>: So I've got this </span><span class="line" data-startTime="778">global event, pinchange, which </span><span class="line" data-startTime="782">then tells the code to </span><span class="line" data-startTime="782">go ahead and connect. </span> <span class="line" data-startTime="785">And this line above, rtc.on </span><span class="line" data-startTime="785">connect, RTC is the webrtc.io </span><span class="line" data-startTime="792">library's global object. </span> <span class="line" data-startTime="794">So there are a bunch of </span><span class="line" data-startTime="794">different WebRTC libraries. </span> <span class="line" data-startTime="797">I settled on webrtc.io, mostly </span><span class="line" data-startTime="797">because the demo was there in </span><span class="line" data-startTime="800">the first place. </span> <span class="line" data-startTime="801">The demo is very hackable. </span> <span class="line" data-startTime="802">It meant that I had my prototype </span><span class="line" data-startTime="802">up and running </span><span class="line" data-startTime="804">really quickly. </span></p>

<p><span class="line" data-startTime="805">It took me a couple of hours to </span><span class="line" data-startTime="805">get my prototype working, </span><span class="line" data-startTime="807">just based on that code. </span> <span class="line" data-startTime="809">There are a few bugs in it. </span> <span class="line" data-startTime="810">I should send pull requests </span><span class="line" data-startTime="810">to fix the bugs. </span> <span class="line" data-startTime="814">There's some others, peer.js, </span><span class="line" data-startTime="814">simplewebrtc.js. </span> <span class="line" data-startTime="821">I've got a feeling there's </span><span class="line" data-startTime="821">another word in there </span><span class="line" data-startTime="823">somewhere, but maybe not. </span> <span class="line" data-startTime="826">These are two libraries. </span> <span class="line" data-startTime="827">I think peer.js only did data, </span><span class="line" data-startTime="827">and simplewebrtc only did </span><span class="line" data-startTime="831">video and audio, but that </span><span class="line" data-startTime="831">have changed by now. </span></p>

<p><span class="line" data-startTime="833">This was a month ago or two </span><span class="line" data-startTime="833">months ago I was working on </span><span class="line" data-startTime="836">the project. </span> <span class="line" data-startTime="836">So webrtc.io is the one I </span><span class="line" data-startTime="836">settled on just because I </span><span class="line" data-startTime="841">needed to kind of hit the ground </span><span class="line" data-startTime="841">running with WebRTC. </span></p>

<p class="speaker"><span class="line" data-starttime="843"><span class="speakerName">Jake Archibald</span>: I think this </span><span class="line" data-startTime="843">is the real domain of </span><span class="line" data-startTime="845">libraries in the future. </span><span class="line" data-startTime="847">We used to use libraries just </span><span class="line" data-startTime="847">to fix all the cross-browser </span><span class="line" data-startTime="850">issues with the DOM. </span><span class="line" data-startTime="851">But I think if you're dealing </span><span class="line" data-startTime="851">with just modern browsers, the </span><span class="line" data-startTime="853">need to do something like </span><span class="line" data-startTime="853">that is less and less. </span><span class="line" data-startTime="855">Like you have there just a tiny </span><span class="line" data-startTime="855">micro-library to save </span><span class="line" data-startTime="858">yourself some typing. </span><span class="line" data-startTime="859">But we've got all of these new </span><span class="line" data-startTime="859">web APIs, and a lot of them </span><span class="line" data-startTime="861">are really low-level, </span><span class="line" data-startTime="861">like WebGL </span><span class="line" data-startTime="863">especially, Web Audio, WebRTC. </span><span class="line" data-startTime="866">So I think this is where </span><span class="line" data-startTime="866">libraries can really guide the </span><span class="line" data-startTime="869">standards to show, these </span><span class="line" data-startTime="869">are the common </span><span class="line" data-startTime="872">actions people are doing. </span><span class="line" data-startTime="873">And then that'll feed back into </span><span class="line" data-startTime="873">the spec and hopefully </span><span class="line" data-startTime="875">make it simpler. </span></p>

<p class="speaker"><span class="line" data-starttime="876"><span class="speakerName">Remy Sharp</span>: So like in the </span><span class="line" data-startTime="876">webrtc.io library, there's </span><span class="line" data-startTime="878">code that looks for the Opus </span><span class="line" data-startTime="878">codec or way of sending video, </span><span class="line" data-startTime="885">which has to do with Firefox and </span><span class="line" data-startTime="885">getting interoperability </span><span class="line" data-startTime="888">between Firefox and Chrome. </span> <span class="line" data-startTime="891">I wouldn't know how </span><span class="line" data-startTime="891">to do that. </span> <span class="line" data-startTime="892">And they're taking the message </span><span class="line" data-startTime="892">and doing some kind of </span><span class="line" data-startTime="894">rewriting magic stuff. </span> <span class="line" data-startTime="897">So magic. </span> <span class="line" data-startTime="898">That's what I'm looking for out </span><span class="line" data-startTime="898">of my library is magic. </span></p>

<p><span class="line" data-startTime="901">So when I get this connect </span><span class="line" data-startTime="901">event, I then connect the </span><span class="line" data-startTime="904">video, which is basically I </span><span class="line" data-startTime="904">want to take your face and </span><span class="line" data-startTime="906">stream it straight </span><span class="line" data-startTime="906">into my phone. </span> <span class="line" data-startTime="909">And that connect video </span><span class="line" data-startTime="909">looks like this. </span> <span class="line" data-startTime="915">Pretty straightforward. </span> <span class="line" data-startTime="916">I check that I can do </span><span class="line" data-startTime="916">PeerConnection API. </span> <span class="line" data-startTime="919">I set up these options, </span><span class="line" data-startTime="919">which says video </span><span class="line" data-startTime="921">should be 320 by 180. </span> <span class="line" data-startTime="923">I'll come onto that </span><span class="line" data-startTime="923">in a second. </span> <span class="line" data-startTime="925">And then WebRTC has this </span><span class="line" data-startTime="925">helper, createStream. </span> <span class="line" data-startTime="928">And it fires this callback, </span><span class="line" data-startTime="928">which I then trigger a custom </span><span class="line" data-startTime="934">event that says the local </span><span class="line" data-startTime="934">stream is ready. </span> <span class="line" data-startTime="937">And if I'm in debug mode, I </span><span class="line" data-startTime="937">actually want to see it. </span> <span class="line" data-startTime="939">And the way that I've got my </span><span class="line" data-startTime="939">game set up is that the local </span><span class="line" data-startTime="943">feed is ready. </span> <span class="line" data-startTime="943">The remote feed is ready. </span> <span class="line" data-startTime="944">When they're both ready, we're </span><span class="line" data-startTime="944">ready to play the game and </span><span class="line" data-startTime="947">actually throw the balls. </span></p>

<p><span class="line" data-startTime="949">Just going onto this bit, the </span><span class="line" data-startTime="949">video mandatory maxWidth. </span> <span class="line" data-startTime="954">This is to say, basically, send </span><span class="line" data-startTime="954">the video at 320 by 180. </span> <span class="line" data-startTime="959">And that's because my game only </span><span class="line" data-startTime="959">has a very small kind of </span><span class="line" data-startTime="961">icon for the video. </span> <span class="line" data-startTime="964">I had this kind of assumption </span><span class="line" data-startTime="964">that, because it's with peer </span><span class="line" data-startTime="968">to peer, that latency wouldn't </span><span class="line" data-startTime="968">be a problem. </span> <span class="line" data-startTime="970">But realistically, if we're </span><span class="line" data-startTime="970">playing a game, I could be </span><span class="line" data-startTime="975">playing someone in the </span><span class="line" data-startTime="975">US from the UK. </span> <span class="line" data-startTime="977">I'm still going over the wire, </span><span class="line" data-startTime="977">still a lot of data. </span> <span class="line" data-startTime="979">This isn't a Skype </span><span class="line" data-startTime="979">application. </span></p>

<p><span class="line" data-startTime="981">It doesn't need all that data </span><span class="line" data-startTime="981">to be going over the wire. </span> <span class="line" data-startTime="983">So I might as well make </span><span class="line" data-startTime="983">it as small as I </span><span class="line" data-startTime="985">need it in the game. </span></p>

<p class="speaker"><span class="line" data-starttime="987"><span class="speakerName">Jake Archibald</span>: Would it make </span><span class="line" data-startTime="987">sense to have a similar option </span><span class="line" data-startTime="989">for frames per second? </span><span class="line" data-startTime="990">Is it something that you </span><span class="line" data-startTime="990">could bring down? </span></p>

<p class="speaker"><span class="line" data-starttime="991"><span class="speakerName">Remy Sharp</span>: Yeah. </span> <span class="line" data-startTime="992">I think that there's stuff </span><span class="line" data-startTime="992">to do with aspect ratio </span><span class="line" data-startTime="995">that you can set. </span> <span class="line" data-startTime="996">There might be stuff to do </span><span class="line" data-startTime="996">with frames per second. </span> <span class="line" data-startTime="997">Not all of it's implemented. </span> <span class="line" data-startTime="998">That's the thing. </span> <span class="line" data-startTime="999">And I, in fact, found that this </span><span class="line" data-startTime="999">wasn't doing anything for </span><span class="line" data-startTime="1002">my code, because there's a bug </span><span class="line" data-startTime="1002">in webrtc.io where it's just </span><span class="line" data-startTime="1006">ignoring this value, which </span><span class="line" data-startTime="1006">could be fixed already. </span> <span class="line" data-startTime="1009">But it's really new, </span><span class="line" data-startTime="1009">this technology. </span> <span class="line" data-startTime="1013">So there's some parts that you </span><span class="line" data-startTime="1013">read about, like there's </span><span class="line" data-startTime="1014">mandatory and optional. </span> <span class="line" data-startTime="1016">And I don't know if there's </span><span class="line" data-startTime="1016">frames per second. </span> <span class="line" data-startTime="1019">There could well be. </span></p>

<p><span class="line" data-startTime="1020">It makes sense that you </span><span class="line" data-startTime="1020">would have that. </span></p>

<p class="speaker"><span class="line" data-starttime="1024"><span class="speakerName">Jake Archibald</span>: So </span><span class="line" data-startTime="1024">if the device &mdash; </span><span class="line" data-startTime="1026">I assume there's equivalents </span><span class="line" data-startTime="1026">for minimum </span><span class="line" data-startTime="1028">width and minimum height? </span></p>

<p class="speaker"><span class="line" data-starttime="1029"><span class="speakerName">Remy Sharp</span>: Yeah, I think so. </span></p>

<p class="speaker"><span class="line" data-starttime="1031"><span class="speakerName">Jake Archibald</span>: So I guess that </span><span class="line" data-startTime="1031">would be somewhere where </span><span class="line" data-startTime="1032">if the device was incapable of </span><span class="line" data-startTime="1032">doing that, it would kind of </span><span class="line" data-startTime="1034">announce that. </span></p>

<p class="speaker"><span class="line" data-starttime="1035"><span class="speakerName">Remy Sharp</span>: Yeah. </span> <span class="line" data-startTime="1037">I don't know what happens if </span><span class="line" data-startTime="1037">it can't make it smaller. </span> <span class="line" data-startTime="1042">Right. </span> <span class="line" data-startTime="1042">So now, in this code, we've </span><span class="line" data-startTime="1042">made a connection to the </span><span class="line" data-startTime="1045">WebSockets server, discovered </span><span class="line" data-startTime="1045">the room, shared what room </span><span class="line" data-startTime="1048">we're joining. </span> <span class="line" data-startTime="1049">We've got your face </span><span class="line" data-startTime="1049">into the game. </span> <span class="line" data-startTime="1052">So this rtc.createStream is </span><span class="line" data-startTime="1052">behind the scenes basically </span><span class="line" data-startTime="1056">going to send it down the </span><span class="line" data-startTime="1056">PeerConnection API. </span></p>

<p><span class="line" data-startTime="1059">And this piece of code exposes </span><span class="line" data-startTime="1059">this init method. </span> <span class="line" data-startTime="1064">And the init method inits </span><span class="line" data-startTime="1064">the connection. </span> <span class="line" data-startTime="1068">And what that does is basically </span><span class="line" data-startTime="1068">listen for remote </span><span class="line" data-startTime="1071">streams, which is basically </span><span class="line" data-startTime="1071">me joining your game. </span> <span class="line" data-startTime="1075">And when I join your game, it </span><span class="line" data-startTime="1075">attaches the stream, which is </span><span class="line" data-startTime="1078">the getUserMedia stream, </span><span class="line" data-startTime="1078">typically, to an element that </span><span class="line" data-startTime="1084">has an ID of remote. </span> <span class="line" data-startTime="1085">And then I have this extra </span><span class="line" data-startTime="1085">check, which is where I've </span><span class="line" data-startTime="1088">found problems with not this </span><span class="line" data-startTime="1088">particular line of code. </span> <span class="line" data-startTime="1092">But this is the line of code </span><span class="line" data-startTime="1092">that blocks the game from </span><span class="line" data-startTime="1094">actually running. </span> <span class="line" data-startTime="1095">So when we were testing </span><span class="line" data-startTime="1095">earlier, we </span><span class="line" data-startTime="1097">were having some problems. </span> <span class="line" data-startTime="1099">There's some kind of weird </span><span class="line" data-startTime="1099">network situation where the </span><span class="line" data-startTime="1101">data channel wouldn't open. </span></p>

<p><span class="line" data-startTime="1103">And if the data channel doesn't </span><span class="line" data-startTime="1103">open, the game's not </span><span class="line" data-startTime="1105">ready to play. </span> <span class="line" data-startTime="1107">And only when the data channel </span><span class="line" data-startTime="1107">is open does it trigger the </span><span class="line" data-startTime="1109">remote is ready or </span><span class="line" data-startTime="1109">readyremote. </span> <span class="line" data-startTime="1113">And when the readyremote </span><span class="line" data-startTime="1113">triggers, the game has a full </span><span class="line" data-startTime="1116">connection, both </span><span class="line" data-startTime="1116">video and data. </span> <span class="line" data-startTime="1119">As in video and kind </span><span class="line" data-startTime="1119">of arbitrary data. </span></p>

<p class="speaker"><span class="line" data-starttime="1125"><span class="speakerName">Jake Archibald</span>: Is this </span><span class="line" data-startTime="1125">the point where the </span><span class="line" data-startTime="1126">race condition happens? </span></p>

<p class="speaker"><span class="line" data-starttime="1127"><span class="speakerName">Remy Sharp</span>: Right. </span> <span class="line" data-startTime="1128">OK, so the first version of this </span><span class="line" data-startTime="1128">code, I really wanted to </span><span class="line" data-startTime="1134">embrace the web in terms of </span><span class="line" data-startTime="1134">having URLs to access </span><span class="line" data-startTime="1137">different pages. </span> <span class="line" data-startTime="1138">So I had a welcome page. </span> <span class="line" data-startTime="1139">You hit Join, you go </span><span class="line" data-startTime="1139">to the join page. </span> <span class="line" data-startTime="1142">And you have to put </span><span class="line" data-startTime="1142">in a PIN code. </span> <span class="line" data-startTime="1144">And when you hit go, it would </span><span class="line" data-startTime="1144">take you to a waiting page, </span><span class="line" data-startTime="1146">and it would have this hanging </span><span class="line" data-startTime="1146">XHR request that would sit, </span><span class="line" data-startTime="1149">asking the server, is </span><span class="line" data-startTime="1149">the game ready? </span><span class="line" data-startTime="1153">And the game would say, no, </span><span class="line" data-startTime="1153">I'm in waiting stage. </span> <span class="line" data-startTime="1155">I'm going to leave this </span><span class="line" data-startTime="1155">XHR connection open. </span> <span class="line" data-startTime="1158">Now you would have your phone, </span><span class="line" data-startTime="1158">or I'd do it, whichever way </span><span class="line" data-startTime="1161">round I started. </span> <span class="line" data-startTime="1163">And you would start a game, and </span><span class="line" data-startTime="1163">you would get a PIN code. </span></p>

<p><span class="line" data-startTime="1166">I've done this the wrong way </span><span class="line" data-startTime="1166">around, but you're still with </span><span class="line" data-startTime="1168">me anyways. </span></p>

<p class="speaker"><span class="line" data-starttime="1168"><span class="speakerName">Jake Archibald</span>: Yeah, </span><span class="line" data-startTime="1168">yeah, I'm following. </span></p>

<p class="speaker"><span class="line" data-starttime="1170"><span class="speakerName">Remy Sharp</span>: You get a PIN code, </span><span class="line" data-startTime="1170">and it has the same </span><span class="line" data-startTime="1172">hanging XHR request </span><span class="line" data-startTime="1172">to the server. </span><span class="line" data-startTime="1175">And the game's one, </span><span class="line" data-startTime="1175">two, three. </span><span class="line" data-startTime="1178">And the server says, right, </span><span class="line" data-startTime="1178">we now have two </span><span class="line" data-startTime="1179">players in the game. </span><span class="line" data-startTime="1180">Change the state from </span><span class="line" data-startTime="1180">waiting to ready, </span><span class="line" data-startTime="1183">which closes the XHR. </span><span class="line" data-startTime="1184">The hanging XHR request comes </span><span class="line" data-startTime="1184">back to both of us. </span><span class="line" data-startTime="1187">It refreshes the page on </span><span class="line" data-startTime="1187">both of our devices. </span><span class="line" data-startTime="1190">And we're immediately then both </span><span class="line" data-startTime="1190">asked at the same time, </span><span class="line" data-startTime="1194">do you want to give access </span><span class="line" data-startTime="1194">to the audio and video? </span><span class="line" data-startTime="1197">Do you want to open up a data </span><span class="line" data-startTime="1197">stream to the other person? </span><span class="line" data-startTime="1201">And what I've found was it would </span><span class="line" data-startTime="1201">go, yep, they are, then </span><span class="line" data-startTime="1204">oh, it's broken. </span></p>

<p class="speaker"><span class="line" data-starttime="1205"><span class="speakerName">Jake Archibald</span>: So you tried to </span><span class="line" data-startTime="1205">explain this to me before </span><span class="line" data-startTime="1207">we started recording. </span><span class="line" data-startTime="1208">And it wasn't quite </span><span class="line" data-startTime="1208">going on ahead. </span><span class="line" data-startTime="1211">So we decided, and I'm very </span><span class="line" data-startTime="1211">excited about the props, you </span><span class="line" data-startTime="1214">were going to try and </span><span class="line" data-startTime="1214">explain this. </span></p>

<p class="speaker"><span class="line" data-starttime="1216"><span class="speakerName">Remy Sharp</span>: I have an analogy. </span></p>

<p class="speaker"><span class="line" data-starttime="1217"><span class="speakerName">Jake Archibald</span>: So we have &mdash; </span><span class="line" data-startTime="1218">what do we have? </span><span class="line" data-startTime="1219">What is this? </span></p>

<p class="speaker"><span class="line" data-starttime="1219"><span class="speakerName">Remy Sharp</span>: So this </span><span class="line" data-startTime="1219">is my analogy for </span><span class="line" data-startTime="1220">trying to make a call. </span><span class="line" data-startTime="1221">So I'm trying to make </span><span class="line" data-startTime="1221">a call to you. </span><span class="line" data-startTime="1224">And I have my WebRTC </span><span class="line" data-startTime="1224">paper cup phone. </span><span class="line" data-startTime="1226">And the thing is, you're trying </span><span class="line" data-startTime="1226">to make a call to me, </span><span class="line" data-startTime="1228">and you have your WebRTC </span><span class="line" data-startTime="1228">paper cup phone. </span><span class="line" data-startTime="1230">So if I put my phone up to my </span><span class="line" data-startTime="1230">ear, and I try and make a call </span><span class="line" data-startTime="1235">to you, you want to </span><span class="line" data-startTime="1235">do the same thing. </span><span class="line" data-startTime="1236">So we're both trying to make </span><span class="line" data-startTime="1236">a call to each other. </span></p>

<p class="speaker"><span class="line" data-starttime="1238"><span class="speakerName">Jake Archibald</span>: I can </span><span class="line" data-startTime="1238">hear the ocean. </span></p>

<p class="speaker"><span class="line" data-starttime="1239"><span class="speakerName">Remy Sharp</span>: And I'm going to &mdash; </span><span class="line" data-startTime="1241">concentrate. </span></p>

<p class="speaker"><span class="line" data-starttime="1241"><span class="speakerName">Jake Archibald</span>: Sorry. </span></p>

<p class="speaker"><span class="line" data-starttime="1244"><span class="speakerName">Remy Sharp</span>: I'm going to try </span><span class="line" data-startTime="1244">and make a call to you. </span><span class="line" data-startTime="1245">So I'm going to give you this </span><span class="line" data-startTime="1245">side, and you're going to put </span><span class="line" data-startTime="1246">it up to your ear. </span><span class="line" data-startTime="1249">And you're going to give </span><span class="line" data-startTime="1249">me your phone. </span></p>

<p class="speaker"><span class="line" data-starttime="1250"><span class="speakerName">Jake Archibald</span>: Yeah, because </span><span class="line" data-startTime="1250">you need to make a call to me. </span></p>

<p class="speaker"><span class="line" data-starttime="1251"><span class="speakerName">Remy Sharp</span>: Yeah. </span><span class="line" data-startTime="1251">And then I'm going to listen. </span><span class="line" data-startTime="1253">And see now, we're dangling. </span><span class="line" data-startTime="1256">We have dangly bits. </span><span class="line" data-startTime="1258">And this is why there's </span><span class="line" data-startTime="1258">like a flash of &mdash; </span><span class="line" data-startTime="1261">the moment I had the phone </span><span class="line" data-startTime="1261">still, there was a flash of </span><span class="line" data-startTime="1264">connectivity. </span><span class="line" data-startTime="1264">And the moment I kind of </span><span class="line" data-startTime="1264">let go, it just goes. </span><span class="line" data-startTime="1267">So that was with the help of </span><span class="line" data-startTime="1267">Paul Kinlan that I needed to </span><span class="line" data-startTime="1271">rewrite all my code into </span><span class="line" data-startTime="1271">a single-page app. </span><span class="line" data-startTime="1273">And by rewriting the code &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1275"><span class="speakerName">Jake Archibald</span>: Are we done? </span><span class="line" data-startTime="1276">Sorry. </span></p>

<p class="speaker"><span class="line" data-starttime="1277"><span class="speakerName">Remy Sharp</span>: By rewriting the </span><span class="line" data-startTime="1277">code into a single-page app, </span><span class="line" data-startTime="1282">what happens is you start the </span><span class="line" data-startTime="1282">game, and you get your phone, </span><span class="line" data-startTime="1286">and you make your connection, </span><span class="line" data-startTime="1286">and you tell me what </span><span class="line" data-startTime="1288">the PIN number is. </span><span class="line" data-startTime="1289">And instead of me trying to </span><span class="line" data-startTime="1289">dial you, I already know </span><span class="line" data-startTime="1291">you're there. </span><span class="line" data-startTime="1292">And you give me the cup. </span><span class="line" data-startTime="1294">So then we can talk </span><span class="line" data-startTime="1294">to each other. </span></p>

<p class="speaker"><span class="line" data-starttime="1297"><span class="speakerName">Jake Archibald</span>: That's </span><span class="line" data-startTime="1297">not &mdash; oh yes, </span><span class="line" data-startTime="1298">that's how phones work. </span></p>

<p class="speaker"><span class="line" data-starttime="1300"><span class="speakerName">Remy Sharp</span>: It should </span><span class="line" data-startTime="1300">be ear to ear. </span></p>

<p class="speaker"><span class="line" data-starttime="1302"><span class="speakerName">Jake Archibald</span>: I guess it's &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1303"><span class="speakerName">Remy Sharp</span>: Streaming </span><span class="line" data-startTime="1303">consciousness. </span></p>

<p class="speaker"><span class="line" data-starttime="1304"><span class="speakerName">Jake Archibald</span>: I think </span><span class="line" data-startTime="1304">if WebRTC is &mdash; </span><span class="line" data-startTime="1306">because the model we've built </span><span class="line" data-startTime="1306">here is you're either talking </span><span class="line" data-startTime="1308">or listening. </span><span class="line" data-startTime="1309">But WebRTC can do both, right? </span><span class="line" data-startTime="1310">So you would have &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1312"><span class="speakerName">Remy Sharp</span>: I would have </span><span class="line" data-startTime="1312">a second one for data. </span></p>

<p class="speaker"><span class="line" data-starttime="1313"><span class="speakerName">Jake Archibald</span>: No, </span><span class="line" data-startTime="1313">other way around. </span><span class="line" data-startTime="1315">So my ear to your mouth. </span></p>

<p class="speaker"><span class="line" data-starttime="1319"><span class="speakerName">Remy Sharp</span>: This is why &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1320"><span class="speakerName">Jake Archibald</span>: There we go. </span><span class="line" data-startTime="1321">So that's WebRTC, right? </span></p>

<p class="speaker"><span class="line" data-starttime="1323"><span class="speakerName">Remy Sharp</span>: This is </span><span class="line" data-startTime="1323">the data &mdash; yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="1324"><span class="speakerName">Jake Archibald</span>: This is two </span><span class="line" data-startTime="1324">developers who don't know how </span><span class="line" data-startTime="1325">basic telephony works. </span><span class="line" data-startTime="1327">OK. </span><span class="line" data-startTime="1329">That helps. </span><span class="line" data-startTime="1329">I think that actually, </span><span class="line" data-startTime="1329">everyone would really </span><span class="line" data-startTime="1332">understand there, especially </span><span class="line" data-startTime="1332">with the cups. </span></p>

<p class="speaker"><span class="line" data-starttime="1334"><span class="speakerName">Remy Sharp</span>: The thing is, I </span><span class="line" data-startTime="1334">don't know if there's a bug in </span><span class="line" data-startTime="1336">my code, there's a bug in the </span><span class="line" data-startTime="1336">webrtc.io library, or if </span><span class="line" data-startTime="1340">there's just a bug generally </span><span class="line" data-startTime="1340">in the workflow of WebRTC. </span> <span class="line" data-startTime="1345">And it was on Paul Kinlan's </span><span class="line" data-startTime="1345">advice to move to a </span><span class="line" data-startTime="1349">single-page app so that </span><span class="line" data-startTime="1349">you don't have that </span><span class="line" data-startTime="1351">race condition anymore. </span> <span class="line" data-startTime="1352">And it solved the problem, and </span><span class="line" data-startTime="1352">I just wanted to move on and </span><span class="line" data-startTime="1354">work on the rest </span><span class="line" data-startTime="1354">of the problem. </span></p>

<p><span class="line" data-startTime="1356">But one day I'll revisit that </span><span class="line" data-startTime="1356">and try and work out where the </span><span class="line" data-startTime="1363">problem is. </span> <span class="line" data-startTime="1363">And the thing is it's such new </span><span class="line" data-startTime="1363">technology that we need to be </span><span class="line" data-startTime="1368">making these mistakes. </span> <span class="line" data-startTime="1369">And maybe that's the way </span><span class="line" data-startTime="1369">that you have to do it. </span> <span class="line" data-startTime="1370">You need the single-page </span><span class="line" data-startTime="1370">app for persistence. </span> <span class="line" data-startTime="1372">The example I was giving you </span><span class="line" data-startTime="1372">before, when we were talking </span><span class="line" data-startTime="1375">earlier, is if JSBin had a </span><span class="line" data-startTime="1375">video stream, if you were </span><span class="line" data-startTime="1381">teaching using JSBin, and you </span><span class="line" data-startTime="1381">had WebRTC in a video down in </span><span class="line" data-startTime="1383">the corner, if you wanted to </span><span class="line" data-startTime="1383">create a new bin, and you had </span><span class="line" data-startTime="1387">everyone kind of following </span><span class="line" data-startTime="1387">along, you couldn't refresh </span><span class="line" data-startTime="1389">the page, because when you </span><span class="line" data-startTime="1389">refresh, it will lose the </span><span class="line" data-startTime="1393">WebRTC connection. </span> <span class="line" data-startTime="1394">You'll kill it. </span> <span class="line" data-startTime="1394">So you'll need a single-page </span><span class="line" data-startTime="1394">app to say, right, new bin, </span><span class="line" data-startTime="1399">and it keeps the video, and I </span><span class="line" data-startTime="1399">can tell the people in my </span><span class="line" data-startTime="1402">class that here's the URL </span><span class="line" data-startTime="1402">via the chat window. </span></p>

<p><span class="line" data-startTime="1406">So someone should build </span><span class="line" data-startTime="1406">me that feature, too. </span> <span class="line" data-startTime="1409">But yeah. </span> <span class="line" data-startTime="1410">Anyway. </span></p>

<p class="speaker"><span class="line" data-starttime="1411"><span class="speakerName">Jake Archibald</span>: So the </span><span class="line" data-startTime="1411">other part of it was </span><span class="line" data-startTime="1413">the graphics, right? </span><span class="line" data-startTime="1415">You had things moving </span><span class="line" data-startTime="1415">in multiple layers. </span><span class="line" data-startTime="1419">How did you go about drawing </span><span class="line" data-startTime="1419">what we were </span><span class="line" data-startTime="1421">seeing on the screen? </span></p>

<p class="speaker"><span class="line" data-starttime="1421"><span class="speakerName">Remy Sharp</span>: So I started off </span><span class="line" data-startTime="1421">with just DOM nodes. </span> <span class="line" data-startTime="1425">And the idea was </span><span class="line" data-startTime="1425">I'd just make &mdash; </span><span class="line" data-startTime="1427">I'd use a scale, translate </span><span class="line" data-startTime="1427">scale, transform scale. </span> <span class="line" data-startTime="1431">I know how to code it. </span> <span class="line" data-startTime="1433">I don't know how to say it. </span> <span class="line" data-startTime="1435">And that would work, right? </span><span class="line" data-startTime="1438">So I thought I'd sit down with </span><span class="line" data-startTime="1438">Seb Lee-Delisle and just </span><span class="line" data-startTime="1441">borrow some advice off him. </span> <span class="line" data-startTime="1443">And he kind of went, no. </span> <span class="line" data-startTime="1446">You need to use three.js. </span> <span class="line" data-startTime="1448">So I kind of put aside my lame </span><span class="line" data-startTime="1448">attempts at doing 3D with just </span><span class="line" data-startTime="1454">scaling a DOM, which </span><span class="line" data-startTime="1454">you can do. </span> <span class="line" data-startTime="1456">It's more that I wouldn't </span><span class="line" data-startTime="1456">have managed to do it. </span> <span class="line" data-startTime="1459">It would have looked crap. </span></p>

<p><span class="line" data-startTime="1460">And he pointed out that by using </span><span class="line" data-startTime="1460">three.js, we're able to </span><span class="line" data-startTime="1463">create a camera and a point of </span><span class="line" data-startTime="1463">view, and there's a real 3D </span><span class="line" data-startTime="1466">scene there in the </span><span class="line" data-startTime="1466">first place. </span> <span class="line" data-startTime="1468">And the character that you're </span><span class="line" data-startTime="1468">throwing the ball at would </span><span class="line" data-startTime="1471">look the right size and </span><span class="line" data-startTime="1471">the right perspective. </span> <span class="line" data-startTime="1474">And the ball as it </span><span class="line" data-startTime="1474">went through 3D </span><span class="line" data-startTime="1475">space would scale correctly. </span> <span class="line" data-startTime="1477">Not your dodgy algorithm </span><span class="line" data-startTime="1477">to scale it. </span></p>

<p class="speaker"><span class="line" data-starttime="1481"><span class="speakerName">Jake Archibald</span>: I had the same </span><span class="line" data-startTime="1481">problem because I haven't done </span><span class="line" data-startTime="1484">a lot of 3D programming. </span><span class="line" data-startTime="1485">So when it came to doing </span><span class="line" data-startTime="1485">something where something was </span><span class="line" data-startTime="1487">going to go away from the </span><span class="line" data-startTime="1487">camera, my first reaction was, </span><span class="line" data-startTime="1489">well, I've got the </span><span class="line" data-startTime="1489">scale value. </span><span class="line" data-startTime="1490">I can just move from </span><span class="line" data-startTime="1490">one to the other. </span><span class="line" data-startTime="1491">And you start to realize that </span><span class="line" data-startTime="1491">it doesn't quite move in the </span><span class="line" data-startTime="1495">same way, because it doesn't </span><span class="line" data-startTime="1495">have the perspective. </span><span class="line" data-startTime="1497">It's scaling linearly, whereas </span><span class="line" data-startTime="1497">when something moves further </span><span class="line" data-startTime="1501">away from you, it doesn't </span><span class="line" data-startTime="1501">scale linearly. </span><span class="line" data-startTime="1503">And I hacked it by using a </span><span class="line" data-startTime="1503">sine wave or something. </span><span class="line" data-startTime="1506">And it has that uncanny </span><span class="line" data-startTime="1506">valley of, it </span><span class="line" data-startTime="1509">doesn't look quite right. </span><span class="line" data-startTime="1511">So that's &mdash; three.js </span><span class="line" data-startTime="1511">would solve that. </span></p>

<p class="speaker"><span class="line" data-starttime="1512"><span class="speakerName">Remy Sharp</span>: Yeah, that's what </span><span class="line" data-startTime="1512">he was pointing out, that by </span><span class="line" data-startTime="1514">using three.js to do this </span><span class="line" data-startTime="1514">properly, it will feel right </span><span class="line" data-startTime="1517">and will look right. </span><span class="line" data-startTime="1519">So I spent a couple of hours </span><span class="line" data-startTime="1519">with him and created this new </span><span class="line" data-startTime="1522">kind of scene with the floor, </span><span class="line" data-startTime="1522">and this object, it would </span><span class="line" data-startTime="1527">throw into the scene and </span><span class="line" data-startTime="1527">bounce off the floor. </span><span class="line" data-startTime="1530">Great. </span><span class="line" data-startTime="1530">Took that back to the office, </span><span class="line" data-startTime="1530">loaded it on the Android, had </span><span class="line" data-startTime="1534">a beautiful 60 frames per </span><span class="line" data-startTime="1534">second on the desktop. </span><span class="line" data-startTime="1536">Got a beautiful four frames </span><span class="line" data-startTime="1536">per second on the Android. </span><span class="line" data-startTime="1539">Pretty much wept into my lap. </span></p>

<p class="speaker"><span class="line" data-starttime="1543"><span class="speakerName">Jake Archibald</span>: What renderer </span><span class="line" data-startTime="1543">were you using </span><span class="line" data-startTime="1545">in three.js, though? </span></p>

<p class="speaker"><span class="line" data-starttime="1546"><span class="speakerName">Remy Sharp</span>: So that's just </span><span class="line" data-startTime="1546">the canvas renderer. </span></p>

<p class="speaker"><span class="line" data-starttime="1547"><span class="speakerName">Jake Archibald</span>: Normal </span><span class="line" data-startTime="1547">2D canvas, yeah? </span></p>

<p class="speaker"><span class="line" data-starttime="1549"><span class="speakerName">Remy Sharp</span>: The 2D </span><span class="line" data-startTime="1549">canvas, yeah. </span> <span class="line" data-startTime="1550">And it's only post-project </span><span class="line" data-startTime="1550">I was like, oh, maybe I </span><span class="line" data-startTime="1553">should've had the </span><span class="line" data-startTime="1553">WebGL renderer. </span> <span class="line" data-startTime="1555">Because I was allowed to choose </span><span class="line" data-startTime="1555">any technology I want. </span> <span class="line" data-startTime="1559">But, you know, hindsight. </span> <span class="line" data-startTime="1561">So I actually realized that the </span><span class="line" data-startTime="1561">problem that I was facing </span><span class="line" data-startTime="1565">was I was rendering a massive </span><span class="line" data-startTime="1565">scene, or a massive scene for </span><span class="line" data-startTime="1567">the device, at least. </span> <span class="line" data-startTime="1569">And I found that by putting &mdash; </span><span class="line" data-startTime="1572">so I originally had both video </span><span class="line" data-startTime="1572">feeds going into the DOMs. </span> <span class="line" data-startTime="1576">Both streams of video </span><span class="line" data-startTime="1576">were fueling these </span><span class="line" data-startTime="1580">two video DOM nodes. </span> <span class="line" data-startTime="1581">And then I had this big canvas </span><span class="line" data-startTime="1581">that was being repainted all </span><span class="line" data-startTime="1584">the time, the entire background, </span><span class="line" data-startTime="1584">the whole thing. </span> <span class="line" data-startTime="1586">So I changed the </span><span class="line" data-startTime="1586">code to being &mdash; </span><span class="line" data-startTime="1589">I created two three.js scenes. </span> <span class="line" data-startTime="1591">One is the background, which </span><span class="line" data-startTime="1591">is the background, the 3D </span><span class="line" data-startTime="1596">floor, and the character who </span><span class="line" data-startTime="1596">is mostly stationary. </span></p>

<p><span class="line" data-startTime="1600">And then the second front </span><span class="line" data-startTime="1600">layer is the ball that </span><span class="line" data-startTime="1603">bounces, kind of comes down, </span><span class="line" data-startTime="1603">bounces, and then goes off and </span><span class="line" data-startTime="1606">reacts to the user flicking, </span><span class="line" data-startTime="1606">basically. </span> <span class="line" data-startTime="1608">And instead of having two videos </span><span class="line" data-startTime="1608">in there, I got rid of </span><span class="line" data-startTime="1610">the second video, the video of </span><span class="line" data-startTime="1610">me, because I wouldn't need to </span><span class="line" data-startTime="1614">see myself when I'm </span><span class="line" data-startTime="1614">playing you. </span> <span class="line" data-startTime="1615">And I just have your </span><span class="line" data-startTime="1615">face in there. </span> <span class="line" data-startTime="1618">And that got the frames per </span><span class="line" data-startTime="1618">second back up to &mdash; </span><span class="line" data-startTime="1621">I think on Nexus 4, I was seeing </span><span class="line" data-startTime="1621">50 frames per second. </span> <span class="line" data-startTime="1625">That isn't the end </span><span class="line" data-startTime="1625">of the project. </span></p>

<p><span class="line" data-startTime="1627">It kept on dipping up </span><span class="line" data-startTime="1627">and down, and I </span><span class="line" data-startTime="1631">would change something. </span> <span class="line" data-startTime="1632">And suddenly it'd be 50 </span><span class="line" data-startTime="1632">frames per second. </span> <span class="line" data-startTime="1633">I'd change something else, </span><span class="line" data-startTime="1633">and suddenly it was </span><span class="line" data-startTime="1635">20 frames per second. </span> <span class="line" data-startTime="1636">And I could have just been </span><span class="line" data-startTime="1636">mashing my keys, and that </span><span class="line" data-startTime="1639">would have kept changing, </span><span class="line" data-startTime="1639">basically. </span></p>

<p class="speaker"><span class="line" data-starttime="1641"><span class="speakerName">Jake Archibald</span>: So by having the </span><span class="line" data-startTime="1641">ball in its own layer, it </span><span class="line" data-startTime="1644">means you can move that </span><span class="line" data-startTime="1644">independently without having </span><span class="line" data-startTime="1646">to redraw this whole </span><span class="line" data-startTime="1646">background. </span></p>

<p class="speaker"><span class="line" data-starttime="1648"><span class="speakerName">Remy Sharp</span>: That layer </span><span class="line" data-startTime="1648">wasn't even moving. </span><span class="line" data-startTime="1650">It's just that there was less to </span><span class="line" data-startTime="1650">draw, less pixels to commit </span><span class="line" data-startTime="1653">to that canvas. </span></p>

<p class="speaker"><span class="line" data-starttime="1654"><span class="speakerName">Jake Archibald</span>: Yeah, and then </span><span class="line" data-startTime="1654">composite, it does the rest. </span></p>

<p class="speaker"><span class="line" data-starttime="1656"><span class="speakerName">Remy Sharp</span>: Yeah, exactly, so </span><span class="line" data-startTime="1656">you could see through, and </span><span class="line" data-startTime="1658">you'd see the background </span><span class="line" data-startTime="1658">of the character. </span><span class="line" data-startTime="1660">And I would fake the &mdash; </span><span class="line" data-startTime="1663">the ball would think it's hit </span><span class="line" data-startTime="1663">your face, but what I've </span><span class="line" data-startTime="1667">worked out is this is where </span><span class="line" data-startTime="1667">Jake's face should be and </span><span class="line" data-startTime="1671">bounce off of that, then cause </span><span class="line" data-startTime="1671">the background, the second </span><span class="line" data-startTime="1675">layer with the character to kind </span><span class="line" data-startTime="1675">of animate and fall down </span><span class="line" data-startTime="1678">and cry and spit blood </span><span class="line" data-startTime="1678">and eyeball falls out </span><span class="line" data-startTime="1681">and stuff like that. </span></p>

<p class="speaker"><span class="line" data-starttime="1682"><span class="speakerName">Jake Archibald</span>: It reminds </span><span class="line" data-startTime="1682">me of my childhood. </span><span class="line" data-startTime="1683">I guess what you forfeit, then, </span><span class="line" data-startTime="1683">is you wouldn't be able </span><span class="line" data-startTime="1686">to make the ball go behind </span><span class="line" data-startTime="1686">the player, right? </span><span class="line" data-startTime="1687">Because you've got those </span><span class="line" data-startTime="1687">two separate layers. </span><span class="line" data-startTime="1689">But you don't have </span><span class="line" data-startTime="1689">that problem. </span></p>

<p class="speaker"><span class="line" data-starttime="1691"><span class="speakerName">Remy Sharp</span>: I did actually. </span><span class="line" data-startTime="1692">I do do that. </span><span class="line" data-startTime="1694">There is some code in there </span><span class="line" data-startTime="1694">that, again, with Seb's help &mdash; </span><span class="line" data-startTime="1699">I'm not a 3D programmer </span><span class="line" data-startTime="1699">in the first place. </span><span class="line" data-startTime="1701">And he was showing me, pointing </span><span class="line" data-startTime="1701">out the point where </span><span class="line" data-startTime="1704">the ball in the 3D scene would </span><span class="line" data-startTime="1704">have moved &mdash; so if this is the </span><span class="line" data-startTime="1706">character here, and this </span><span class="line" data-startTime="1706">is our scene, the </span><span class="line" data-startTime="1708">ball would move forward. </span><span class="line" data-startTime="1710">And with the &mdash; </span><span class="line" data-startTime="1712">which one is that, x? </span></p>

<p class="speaker"><span class="line" data-starttime="1714"><span class="speakerName">Jake Archibald</span>: We'll </span><span class="line" data-startTime="1714">pretend it's x. </span></p>

<p class="speaker"><span class="line" data-starttime="1714"><span class="speakerName">Remy Sharp</span>: That's x. </span> <span class="line" data-startTime="1715">And so when the x went behind </span><span class="line" data-startTime="1715">the character, I actually </span><span class="line" data-startTime="1719">flipped the canvases around. </span> <span class="line" data-startTime="1725">Because I was only painting the </span><span class="line" data-startTime="1725">floor and the character on </span><span class="line" data-startTime="1728">there, the mountains are </span><span class="line" data-startTime="1728">actually completely </span><span class="line" data-startTime="1730">background, like a CSS </span><span class="line" data-startTime="1730">background on the actual body </span><span class="line" data-startTime="1735">of the element. </span> <span class="line" data-startTime="1736">So it can go behind it. </span> <span class="line" data-startTime="1738">There are moments where I think </span><span class="line" data-startTime="1738">the ball can bounce off </span><span class="line" data-startTime="1741">of something, and suddenly it's </span><span class="line" data-startTime="1741">coming forward, but it's </span><span class="line" data-startTime="1744">behind, or &mdash; </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="1744"><span class="speakerName">Jake Archibald</span>: I've seen </span><span class="line" data-startTime="1744">you bounce it back. </span></p>

<p class="speaker"><span class="line" data-starttime="1745"><span class="speakerName">Remy Sharp</span>: There's something, </span><span class="line" data-startTime="1745">if you hit it between the </span><span class="line" data-startTime="1747">legs, there's something about </span><span class="line" data-startTime="1747">hitting that I've noticed. </span><span class="line" data-startTime="1750">If you hit the character between </span><span class="line" data-startTime="1750">the legs, the ball's </span><span class="line" data-startTime="1752">z-index doesn't work </span><span class="line" data-startTime="1752">out quite right. </span></p>

<p class="speaker"><span class="line" data-starttime="1754"><span class="speakerName">Jake Archibald</span>: Hang on, what? </span></p>

<p class="speaker"><span class="line" data-starttime="1756"><span class="speakerName">Remy Sharp</span>: I don't </span><span class="line" data-startTime="1756">really know. </span><span class="line" data-startTime="1757">It's tricky to debug. </span></p>

<p class="speaker"><span class="line" data-starttime="1758"><span class="speakerName">Jake Archibald</span>: Let's </span><span class="line" data-startTime="1758">gloss over that. </span><span class="line" data-startTime="1759">Your game is just rife </span><span class="line" data-startTime="1759">with innuendo. </span><span class="line" data-startTime="1763">"Head Shots" was definitely the </span><span class="line" data-startTime="1763">best name you could have </span><span class="line" data-startTime="1765">picked for this. </span><span class="line" data-startTime="1766">Everything else is wrong. </span></p>

<p class="speaker"><span class="line" data-starttime="1766"><span class="speakerName">Remy Sharp</span>: There's these little </span><span class="line" data-startTime="1766">areas that basically </span><span class="line" data-startTime="1769">I've shaved corners off to try </span><span class="line" data-startTime="1769">and get a game that works and </span><span class="line" data-startTime="1772">people can see the technology </span><span class="line" data-startTime="1772">that is available natively in </span><span class="line" data-startTime="1776">the browser without plug-ins. </span><span class="line" data-startTime="1778">And if there's a few hitches </span><span class="line" data-startTime="1778">here and there, I'm </span><span class="line" data-startTime="1781">kind of OK with it. </span><span class="line" data-startTime="1782">It's the kind of thing I'd like </span><span class="line" data-startTime="1782">to go back and revisit. </span></p>

<p class="speaker"><span class="line" data-starttime="1786"><span class="speakerName">Jake Archibald</span>: What drove </span><span class="line" data-startTime="1786">the physics, then? </span><span class="line" data-startTime="1787">Because you've got the sort </span><span class="line" data-startTime="1787">of bouncy physics. </span><span class="line" data-startTime="1788">Was that just code you wrote, or </span><span class="line" data-startTime="1788">was that something that's &mdash; </span><span class="line" data-startTime="1790">you've got to use another </span><span class="line" data-startTime="1790">library, or </span><span class="line" data-startTime="1791">is that within three.js? </span></p>

<p class="speaker"><span class="line" data-starttime="1793"><span class="speakerName">Remy Sharp</span>: So I'd </span><span class="line" data-startTime="1793">like to show you </span><span class="line" data-startTime="1793">some of the code here. </span><span class="line" data-startTime="1795">In &mdash; </span><span class="line" data-startTime="1796">oh, where is it &mdash; the game.js. </span><span class="line" data-startTime="1800">It, again, is just kind of </span><span class="line" data-startTime="1800">having Seb, but I think I knew </span><span class="line" data-startTime="1803">this already. </span><span class="line" data-startTime="1805">There's a lot of code </span><span class="line" data-startTime="1805">in the 3D stuff. </span></p>

<p class="speaker"><span class="line" data-starttime="1811"><span class="speakerName">Jake Archibald</span>: This is stuff </span><span class="line" data-startTime="1811">you wrote, right? </span></p>

<p class="speaker"><span class="line" data-starttime="1812"><span class="speakerName">Remy Sharp</span>: This is </span><span class="line" data-startTime="1812">code I've written. </span><span class="line" data-startTime="1814">Seb did give me kind of large </span><span class="line" data-startTime="1814">chunks like the hit detection. </span><span class="line" data-startTime="1818">He gave me that, and the </span><span class="line" data-startTime="1818">projection, which I can </span><span class="line" data-startTime="1822">explain is mind-numbing. </span><span class="line" data-startTime="1824">So this stuff, he gave me, </span><span class="line" data-startTime="1824">when we sat down for that </span><span class="line" data-startTime="1828">two-hour session, he kind of </span><span class="line" data-startTime="1828">helped me get right as well. </span><span class="line" data-startTime="1832">He literally had to come around </span><span class="line" data-startTime="1832">to my office and sit </span><span class="line" data-startTime="1834">with me and say, Remy, Remy, </span><span class="line" data-startTime="1834">what are you doing? </span><span class="line" data-startTime="1835">Why are you doing this? </span></p>

<p class="speaker"><span class="line" data-starttime="1837"><span class="speakerName">Jake Archibald</span>: So I can see </span><span class="line" data-startTime="1837">when it hits, the velocity is </span><span class="line" data-startTime="1840">obviously going to go in </span><span class="line" data-startTime="1840">the other direction. </span></p>

<p class="speaker"><span class="line" data-starttime="1841"><span class="speakerName">Remy Sharp</span>: Exactly. </span><span class="line" data-startTime="1843">So this, because we're doing </span><span class="line" data-startTime="1843">multiply recalls, we're </span><span class="line" data-startTime="1847">basically flipping the direction </span><span class="line" data-startTime="1847">every time it hits </span><span class="line" data-startTime="1850">that boundary. </span><span class="line" data-startTime="1853">So it's not that clever. </span><span class="line" data-startTime="1855">There's not much physics there </span><span class="line" data-startTime="1855">in the first place. </span><span class="line" data-startTime="1857">It just kind of slows it down. </span><span class="line" data-startTime="1861">Actually, there's no physics. </span><span class="line" data-startTime="1862">It's not proper physics, </span><span class="line" data-startTime="1862">at least. </span><span class="line" data-startTime="1864">There's just &mdash; that's </span><span class="line" data-startTime="1864">not the code. </span><span class="line" data-startTime="1866">It's not pretty. </span><span class="line" data-startTime="1867">But it's just multiply by 0.7 </span><span class="line" data-startTime="1867">each time on each bounce, so </span><span class="line" data-startTime="1872">it just eventually gets less </span><span class="line" data-startTime="1872">and less and less. </span></p>

<p class="speaker"><span class="line" data-starttime="1875"><span class="speakerName">Jake Archibald</span>: So how did you </span><span class="line" data-startTime="1875">go about building this? </span><span class="line" data-startTime="1878">What was your strategy? </span><span class="line" data-startTime="1879">Were you building it mostly in </span><span class="line" data-startTime="1879">the browser, or were you </span><span class="line" data-startTime="1882">building it alongside the </span><span class="line" data-startTime="1882">phone for the whole </span><span class="line" data-startTime="1884">development process? </span></p>

<p class="speaker"><span class="line" data-starttime="1886"><span class="speakerName">Remy Sharp</span>: It's </span><span class="line" data-startTime="1886">a bit of a mix. </span><span class="line" data-startTime="1889">Certainly, in fact, </span><span class="line" data-startTime="1889">that's pretty </span><span class="line" data-startTime="1891">much my workflow generally. </span><span class="line" data-startTime="1893">I try to do a bulk amount of </span><span class="line" data-startTime="1893">work directly in the browser. </span><span class="line" data-startTime="1896">So I've got Chrome </span><span class="line" data-startTime="1896">and Canary here. </span><span class="line" data-startTime="1901">So I do the bulk of my work </span><span class="line" data-startTime="1901">on the desktop browser. </span><span class="line" data-startTime="1906">And where I can, I'll be &mdash; </span><span class="line" data-startTime="1910">let's dock that bad boy. </span><span class="line" data-startTime="1912">Where I can, I'll use dev </span><span class="line" data-startTime="1912">tools to do all my </span><span class="line" data-startTime="1915">development. </span><span class="line" data-startTime="1916">And I've started using that in </span><span class="line" data-startTime="1916">JSBin as well, actually, just </span><span class="line" data-startTime="1919">using dev tools to </span><span class="line" data-startTime="1919">do the coding. </span><span class="line" data-startTime="1921">Let's make this nice and big. </span><span class="line" data-startTime="1924">I'm a big fan of right-click, </span><span class="line" data-startTime="1924">Save As, and then linking &mdash; </span><span class="line" data-startTime="1928">what's background.js? </span><span class="line" data-startTime="1930">That doesn't sound </span><span class="line" data-startTime="1930">like a real file. </span><span class="line" data-startTime="1936">Oh, confusing. </span><span class="line" data-startTime="1937">Hang on. </span><span class="line" data-startTime="1938">Bear with me. </span><span class="line" data-startTime="1938">So I don't know what that is. </span><span class="line" data-startTime="1941">No domain. </span><span class="line" data-startTime="1941">You guys build browsers. </span></p>

<p class="speaker"><span class="line" data-starttime="1944"><span class="speakerName">Jake Archibald</span>: Hey, </span><span class="line" data-startTime="1944">it's your site. </span></p>

<p class="speaker"><span class="line" data-starttime="1945"><span class="speakerName">Remy Sharp</span>: That's true. </span><span class="line" data-startTime="1948">Oh, it's because no JavaScript </span><span class="line" data-startTime="1948">loaded on this page. </span><span class="line" data-startTime="1951">You have to actually </span><span class="line" data-startTime="1951">get into a game. </span></p>

<p class="speaker"><span class="line" data-starttime="1952"><span class="speakerName">Jake Archibald</span>: Ah, I see. </span><span class="line" data-startTime="1952">So the first intro page &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1954"><span class="speakerName">Remy Sharp</span>: The first page </span><span class="line" data-startTime="1954">doesn't have any </span><span class="line" data-startTime="1956">JavaScript in there. </span></p>

<p class="speaker"><span class="line" data-starttime="1956"><span class="speakerName">Jake Archibald</span>: That </span><span class="line" data-startTime="1956">makes sense. </span><span class="line" data-startTime="1958">So part of the reason I guess </span><span class="line" data-startTime="1958">we're building it as just a </span><span class="line" data-startTime="1959">single-page app is because </span><span class="line" data-startTime="1959">you've got the full screen </span><span class="line" data-startTime="1961">support in there as well. </span><span class="line" data-startTime="1963">And once you have full screen, </span><span class="line" data-startTime="1963">if you were to change URL, </span><span class="line" data-startTime="1966">you'd lose that. </span></p>

<p class="speaker"><span class="line" data-starttime="1967"><span class="speakerName">Remy Sharp</span>: Yeah. </span><span class="line" data-startTime="1969">So going back, using dev tools </span><span class="line" data-startTime="1969">here, there's a bug with the </span><span class="line" data-startTime="1976">PIN code coming down. </span><span class="line" data-startTime="1978">I will find the code </span><span class="line" data-startTime="1978">that handles that. </span><span class="line" data-startTime="1982">So let's just assume </span><span class="line" data-startTime="1982">it's start.js. </span><span class="line" data-startTime="1985">And I tend to just to be safe, </span><span class="line" data-startTime="1985">right-click, Save As, and then </span><span class="line" data-startTime="1990">put it to the right </span><span class="line" data-startTime="1990">directory, so JS. </span><span class="line" data-startTime="1994">And just overwrite it. </span><span class="line" data-startTime="1996">And I have live reload </span><span class="line" data-startTime="1996">turned on, don't I? </span><span class="line" data-startTime="2000">Have I? </span><span class="line" data-startTime="2002">Let's allow that. </span><span class="line" data-startTime="2003">And then I'll be just making </span><span class="line" data-startTime="2003">changes directly into this </span><span class="line" data-startTime="2005">code, so it's saving </span><span class="line" data-startTime="2005">directly to disk. </span><span class="line" data-startTime="2007">So I'm trying to debug what </span><span class="line" data-startTime="2007">PIN number is coming in. </span><span class="line" data-startTime="2010">So console log pin, save. </span><span class="line" data-startTime="2012">I think I've got live </span><span class="line" data-startTime="2012">reload going on. </span></p>

<p class="speaker"><span class="line" data-starttime="2015"><span class="speakerName">Jake Archibald</span>: I like how the </span><span class="line" data-startTime="2015">dev tools are building up to </span><span class="line" data-startTime="2018">their own ID. </span><span class="line" data-startTime="2019">I think going back a few years </span><span class="line" data-startTime="2019">or certainly months, there was </span><span class="line" data-startTime="2025">kind of a push back on that. </span><span class="line" data-startTime="2028">It was like they didn't want </span><span class="line" data-startTime="2028">it to turn into a full ID. </span><span class="line" data-startTime="2030">But I think that's kind </span><span class="line" data-startTime="2030">of drifting now. </span><span class="line" data-startTime="2032">And it's nice to see some of </span><span class="line" data-startTime="2032">those features where you could </span><span class="line" data-startTime="2034">just start developing straight </span><span class="line" data-startTime="2034">into the dev tools. </span></p>

<p class="speaker"><span class="line" data-starttime="2035"><span class="speakerName">Remy Sharp</span>: Yeah. </span> <span class="line" data-startTime="2036">I'm a huge fan of &mdash; </span><span class="line" data-startTime="2038">sorry, I'm just going to save </span><span class="line" data-startTime="2038">it and live reload. </span> <span class="line" data-startTime="2041">I'm a huge fan of coding </span><span class="line" data-startTime="2041">directly in dev tools. </span> <span class="line" data-startTime="2045">Particularly with the animation </span><span class="line" data-startTime="2045">loops, where I've </span><span class="line" data-startTime="2048">got a loop that's rendering the </span><span class="line" data-startTime="2048">canvas each time, being </span><span class="line" data-startTime="2053">able to just change that inside </span><span class="line" data-startTime="2053">of the loop, seeing the </span><span class="line" data-startTime="2057">change instantly </span><span class="line" data-startTime="2057">is huge for me. </span> <span class="line" data-startTime="2059">Being able to replay XHR. </span> <span class="line" data-startTime="2062">Because I'm doing an XHR request </span><span class="line" data-startTime="2062">for the status of the </span><span class="line" data-startTime="2065">game, and if it kept coming back </span><span class="line" data-startTime="2065">and failing because there </span><span class="line" data-startTime="2068">was something wrong with the </span><span class="line" data-startTime="2068">server, all you need to do is </span><span class="line" data-startTime="2070">boot the server back </span><span class="line" data-startTime="2070">up and then </span><span class="line" data-startTime="2071">replay the network request. </span></p>

<p><span class="line" data-startTime="2074">And then I get to get that &mdash; </span><span class="line" data-startTime="2077">where is it? </span><span class="line" data-startTime="2077">Replay, replay &mdash; </span><span class="line" data-startTime="2081">it's somewhere, isn't it? </span></p>

<p class="speaker"><span class="line" data-starttime="2082"><span class="speakerName">Jake Archibald</span>: See, </span><span class="line" data-startTime="2082">this is the thing. </span><span class="line" data-startTime="2083">This is the part I was hoping </span><span class="line" data-startTime="2083">you would show me, because </span><span class="line" data-startTime="2085">it's the feature I've </span><span class="line" data-startTime="2085">not actually used </span><span class="line" data-startTime="2087">in development myself. </span><span class="line" data-startTime="2089">I've always just, developing, </span><span class="line" data-startTime="2089">refresh the </span><span class="line" data-startTime="2090">page, do it all again. </span><span class="line" data-startTime="2093">So when you came to do stuff on </span><span class="line" data-startTime="2093">the device, did you use the </span><span class="line" data-startTime="2097">remote tools there? </span><span class="line" data-startTime="2100">I say that. </span><span class="line" data-startTime="2100">I saw you use it before. </span></p>

<p class="speaker"><span class="line" data-starttime="2101"><span class="speakerName">Remy Sharp</span>: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="2102"><span class="speakerName">Jake Archibald</span>: That's an </span><span class="line" data-startTime="2102">interview technique to pretend </span><span class="line" data-startTime="2104">that I don't actually know </span><span class="line" data-startTime="2104">what you're doing. </span></p>

<p class="speaker"><span class="line" data-starttime="2107"><span class="speakerName">Remy Sharp</span>: Like I said, the </span><span class="line" data-startTime="2107">first bulk is done on desktop. </span><span class="line" data-startTime="2109">And then the tweaking and the </span><span class="line" data-startTime="2109">refinement, I do between the </span><span class="line" data-startTime="2113">phone and desktop. </span><span class="line" data-startTime="2114">So do you want me to join me </span><span class="line" data-startTime="2114">show you it live on the phone? </span></p>

<p class="speaker"><span class="line" data-starttime="2119"><span class="speakerName">Jake Archibald</span>: Yeah, it'd </span><span class="line" data-startTime="2119">be cool to see that. </span></p>

<p class="speaker"><span class="line" data-starttime="2121"><span class="speakerName">Remy Sharp</span>: We might have to </span><span class="line" data-startTime="2121">pause during setup and &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2124"><span class="speakerName">Jake Archibald</span>: Oh, well, if </span><span class="line" data-startTime="2124">it's too much effort, we can </span><span class="line" data-startTime="2128">do something else. </span><span class="line" data-startTime="2130">Because it would be interesting </span><span class="line" data-startTime="2130">to see. </span><span class="line" data-startTime="2131">Because I know that we've </span><span class="line" data-startTime="2131">changed some stuff in Canary </span><span class="line" data-startTime="2133">that makes it easier to </span><span class="line" data-startTime="2133">do device discovery </span><span class="line" data-startTime="2137">as part of dev tools. </span><span class="line" data-startTime="2140">So we had this thing for so long </span><span class="line" data-startTime="2140">where you would have to </span><span class="line" data-startTime="2144">open up a command line. </span><span class="line" data-startTime="2145">We had a whole sort </span><span class="line" data-startTime="2145">of ADB thing. </span><span class="line" data-startTime="2147">The last time I was here, </span><span class="line" data-startTime="2147">I was doing that. </span><span class="line" data-startTime="2149">You have to type the thing that </span><span class="line" data-startTime="2149">everyone can remember. </span><span class="line" data-startTime="2152">I can't even remember it </span><span class="line" data-startTime="2152">off the top of my head. </span><span class="line" data-startTime="2153">I know it's in my </span><span class="line" data-startTime="2153">bash history. </span><span class="line" data-startTime="2155">But we're getting around a lot </span><span class="line" data-startTime="2155">of that stuff now with the </span><span class="line" data-startTime="2158">inspect menu in Canary. </span><span class="line" data-startTime="2160">How's that going, Remy? </span><span class="line" data-startTime="2161">I'm doing a very good </span><span class="line" data-startTime="2161">job of filling. </span></p>

<p class="speaker"><span class="line" data-starttime="2162"><span class="speakerName">Remy Sharp</span>: You're good. </span><span class="line" data-startTime="2163">I'm almost there, actually. </span></p>

<p class="speaker"><span class="line" data-starttime="2164"><span class="speakerName">Jake Archibald</span>: Oh, brilliant. </span></p>

<p class="speaker"><span class="line" data-starttime="2164"><span class="speakerName">Remy Sharp</span>: So what I'm doing </span><span class="line" data-startTime="2164">here is basically finding the </span><span class="line" data-startTime="2166">IP address of this machine, and </span><span class="line" data-startTime="2166">I want to point my mobile </span><span class="line" data-startTime="2168">phone to the IP address </span><span class="line" data-startTime="2168">of the machine. </span><span class="line" data-startTime="2172">So 192 &mdash; </span><span class="line" data-startTime="2174">I hope this works &mdash; </span><span class="line" data-startTime="2175">168. &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2177"><span class="speakerName">Jake Archibald</span>: All of the stuff </span><span class="line" data-startTime="2177">we've been doing so far </span><span class="line" data-startTime="2179">has been just successful </span><span class="line" data-startTime="2179">straightaway on the first try, </span><span class="line" data-startTime="2181">which is great. </span></p>

<p class="speaker"><span class="line" data-starttime="2182"><span class="speakerName">Remy Sharp</span>: Pretty much </span><span class="line" data-startTime="2182">out of the box. </span><span class="line" data-startTime="2184">It's like we can't do </span><span class="line" data-startTime="2184">anything wrong here. </span><span class="line" data-startTime="2189">So wow, look at that. </span><span class="line" data-startTime="2192">Right. </span><span class="line" data-startTime="2193">So I've got &mdash; </span><span class="line" data-startTime="2194">this is literally the setup </span><span class="line" data-startTime="2194">that I will use. </span><span class="line" data-startTime="2197">I'll point my phone to my </span><span class="line" data-startTime="2197">machine that I'm working on. </span><span class="line" data-startTime="2200">I'm working in Chrome, so I've </span><span class="line" data-startTime="2200">got Chrome Inspector. </span><span class="line" data-startTime="2206">What am I doing? </span><span class="line" data-startTime="2207">I'm not taking that route. </span><span class="line" data-startTime="2208">So sorry. </span><span class="line" data-startTime="2210">I use Chrome, all right. </span><span class="line" data-startTime="2213">I now have live reload </span><span class="line" data-startTime="2213">mixed into things. </span><span class="line" data-startTime="2220">And say I want to make a change </span><span class="line" data-startTime="2220">to this font size. </span><span class="line" data-startTime="2226">Let's see if this just works. </span><span class="line" data-startTime="2228">1.5 is way too small. </span><span class="line" data-startTime="2229">We want 7.5. </span><span class="line" data-startTime="2231">Oh yes. </span></p>

<p class="speaker"><span class="line" data-starttime="2232"><span class="speakerName">Jake Archibald</span>: That's not </span><span class="line" data-startTime="2232">going to work, is it? </span></p>

<p class="speaker"><span class="line" data-starttime="2234"><span class="speakerName">Remy Sharp</span>: That should </span><span class="line" data-startTime="2234">have worked. </span><span class="line" data-startTime="2235">So it should have caused &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2237"><span class="speakerName">Jake Archibald</span>: Oh wow. </span></p>

<p class="speaker"><span class="line" data-starttime="2238"><span class="speakerName">Remy Sharp</span>: Well, I don't want </span><span class="line" data-startTime="2238">to hit refresh on the phone </span><span class="line" data-startTime="2240">manually, because I've got </span><span class="line" data-startTime="2240">live reload in there. </span><span class="line" data-startTime="2242">It should be doing it. </span></p>

<p class="speaker"><span class="line" data-starttime="2243"><span class="speakerName">Jake Archibald</span>: Oh </span><span class="line" data-startTime="2243">there we go. </span></p>

<p class="speaker"><span class="line" data-starttime="2244"><span class="speakerName">Remy Sharp</span>: So I'm making </span><span class="line" data-startTime="2244">changes in dev tools in Chrome </span><span class="line" data-startTime="2249">that it's saving. </span><span class="line" data-startTime="2251">Because it's saving the </span><span class="line" data-startTime="2251">style.css directly to disk, </span><span class="line" data-startTime="2255">it's causing the live reload </span><span class="line" data-startTime="2255">to trigger, which causes my </span><span class="line" data-startTime="2257">mobile phone to update. </span><span class="line" data-startTime="2259">Which means it can make those </span><span class="line" data-startTime="2259">fine grained adjustments. </span><span class="line" data-startTime="2263">Like maybe the height of the </span><span class="line" data-startTime="2263">page isn't quite right, </span><span class="line" data-startTime="2267">because there's too </span><span class="line" data-startTime="2267">much scroll. </span><span class="line" data-startTime="2268">I want to bring the About </span><span class="line" data-startTime="2268">links up a little bit. </span><span class="line" data-startTime="2271">I doubt I'll be able to </span><span class="line" data-startTime="2271">do this properly. </span></p>

<p class="speaker"><span class="line" data-starttime="2274"><span class="speakerName">Jake Archibald</span>: So I suppose </span><span class="line" data-startTime="2274">you could connect dev tools </span><span class="line" data-startTime="2276">straight to the phone and </span><span class="line" data-startTime="2276">make these changes. </span><span class="line" data-startTime="2278">But the benefit you've got here </span><span class="line" data-startTime="2278">is that you're linked to </span><span class="line" data-startTime="2280">the files on the disk on your </span><span class="line" data-startTime="2280">laptop, and you're getting to </span><span class="line" data-startTime="2283">see the changes both </span><span class="line" data-startTime="2283">on desktop and on </span><span class="line" data-startTime="2285">mobile at the same time. </span></p>

<p class="speaker"><span class="line" data-starttime="2286"><span class="speakerName">Remy Sharp</span>: Yeah. </span><span class="line" data-startTime="2286">And I'm kind of hoping that &mdash; </span><span class="line" data-startTime="2290">oh, it's not affecting it now. </span><span class="line" data-startTime="2291">But I'm kind of hoping that </span><span class="line" data-startTime="2291">because I can go ahead and </span><span class="line" data-startTime="2295">inspect the page that we're </span><span class="line" data-startTime="2295">looking at on the phone </span><span class="line" data-startTime="2298">directly from Canary here &mdash; </span><span class="line" data-startTime="2301">I think I've got all kinds </span><span class="line" data-startTime="2301">of things running here. </span><span class="line" data-startTime="2303">So &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2304"><span class="speakerName">Jake Archibald</span>: That's </span><span class="line" data-startTime="2304">the bit I like. </span><span class="line" data-startTime="2305">Because that's the bit, we don't </span><span class="line" data-startTime="2305">have to use ADB anymore </span><span class="line" data-startTime="2307">to do that weird incantation </span><span class="line" data-startTime="2307">just to connect to the device. </span></p>

<p class="speaker"><span class="line" data-starttime="2313"><span class="speakerName">Remy Sharp</span>: This, for me, is </span><span class="line" data-startTime="2313">perfect, because I've got the </span><span class="line" data-startTime="2315">newest version of dev tools. </span><span class="line" data-startTime="2317">I've got all the </span><span class="line" data-startTime="2317">network stacks. </span><span class="line" data-startTime="2319">Refresh there. </span><span class="line" data-startTime="2322">Let me try that again. </span><span class="line" data-startTime="2325">Yeah, so I've got the </span><span class="line" data-startTime="2325">full network stack. </span><span class="line" data-startTime="2327">Here, if I had XHR requests, I </span><span class="line" data-startTime="2327">could replay them actually on </span><span class="line" data-startTime="2332">the device. </span><span class="line" data-startTime="2332">My full debugger, break </span><span class="line" data-startTime="2332">points and so on. </span><span class="line" data-startTime="2337">The one bit that I'm missing, </span><span class="line" data-startTime="2337">and since I'm here at Google &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2340"><span class="speakerName">Jake Archibald</span>: Hi, welcome </span><span class="line" data-startTime="2340">to Google Developers Live. </span><span class="line" data-startTime="2342">This is mobile web Thur &mdash; </span><span class="line" data-startTime="2343">Hi, welcome to Google </span><span class="line" data-startTime="2343">Developers Live. </span><span class="line" data-startTime="2344">This is mobile web Thursday. </span><span class="line" data-startTime="2346">But actually, we're not live. </span><span class="line" data-startTime="2347">We're pre-recording this. </span><span class="line" data-startTime="2349">And I guess it's not really </span><span class="line" data-startTime="2349">Google Developers either, </span><span class="line" data-startTime="2351">because you're not </span><span class="line" data-startTime="2351">one of the gang. </span><span class="line" data-startTime="2354">So I guess it's just developers, </span><span class="line" data-startTime="2354">not live, in the </span><span class="line" data-startTime="2357">Google studios. </span><span class="line" data-startTime="2358">It's not GDL, it's DNLIAGS. </span><span class="line" data-startTime="2361">Din-a-lags. </span><span class="line" data-startTime="2363">DNLIAGS. </span><span class="line" data-startTime="2364">That's cool. </span><span class="line" data-startTime="2365">That sounds a bit like dinner </span><span class="line" data-startTime="2365">ladies, I don't know. </span><span class="line" data-startTime="2367">We could go with that. </span></p>

<p class="speaker"><span class="line" data-starttime="2368"><span class="speakerName">Remy Sharp</span>: Din ladies. </span></p>

<p class="speaker"><span class="line" data-starttime="2369"><span class="speakerName">Jake Archibald</span>: Yeah. </span><span class="line" data-startTime="2370">Anyway, in the studio today, </span><span class="line" data-startTime="2370">we've got Remy Sharp, from off </span><span class="line" data-startTime="2374">of the internet, from </span><span class="line" data-startTime="2374">down in Brighton. </span><span class="line" data-startTime="2377">And I certainly hope he's going </span><span class="line" data-startTime="2377">to brighten the studio. </span><span class="line" data-startTime="2381">REMY SHARP: [DRUM ROLL]. </span></p>

<p class="speaker"><span class="line" data-starttime="2382"><span class="speakerName">Jake Archibald</span>: Yeah. </span><span class="line" data-startTime="2383">This is the third one that I've </span><span class="line" data-startTime="2383">done of this, so I can </span><span class="line" data-startTime="2385">kind of teach you some </span><span class="line" data-startTime="2385">TV producing tips. </span><span class="line" data-startTime="2388">So whenever you do a complete </span><span class="line" data-startTime="2388">zinger like that, it's good to </span><span class="line" data-startTime="2393">kind of look at the camera and </span><span class="line" data-startTime="2393">just smile and nod a bit. </span><span class="line" data-startTime="2396">Because you want to give people </span><span class="line" data-startTime="2396">time to recover from </span><span class="line" data-startTime="2398">their kind of gut-wrenching &mdash; </span></p></div>