<p class="speaker"><span class="line" data-starttime="8"><span class="speakerName">Paul Irish</span>: Hi. </span><span class="line" data-startTime="9">So we're back here at GDL </span><span class="line" data-startTime="9">Presents, where we interview </span><span class="line" data-startTime="13">unique and talented developers </span><span class="line" data-startTime="13">who are developing really </span><span class="line" data-startTime="17">compelling stuff. </span><span class="line" data-startTime="18">Today we have with us Mark </span><span class="line" data-startTime="18">Danks, who you might be </span><span class="line" data-startTime="22">familiar with his work </span><span class="line" data-startTime="22">at "My Robot Nation." </span><span class="line" data-startTime="25">How's it going, Mark? </span></p>

<p class="speaker"><span class="line" data-starttime="26"><span class="speakerName">Mark Danks</span>: It's going well. </span><span class="line" data-startTime="27">Good to see you. </span></p>

<p class="speaker"><span class="line" data-starttime="28"><span class="speakerName">Paul Irish</span>: Cool. </span><span class="line" data-startTime="28">Great. </span><span class="line" data-startTime="29">So you led development of "My </span><span class="line" data-startTime="29">Robot Nation," which has this </span><span class="line" data-startTime="36">builder, which is this </span><span class="line" data-startTime="36">incredible app that uses WebGL </span><span class="line" data-startTime="43">to kind of create a </span><span class="line" data-startTime="43">rich experience. </span><span class="line" data-startTime="44">Do you want to talk a little </span><span class="line" data-startTime="44">bit about, kind of from a </span><span class="line" data-startTime="47">consumer perspective, how </span><span class="line" data-startTime="47">this whole thing works? </span></p>

<p class="speaker"><span class="line" data-starttime="51"><span class="speakerName">Mark Danks</span>: Sure. </span> <span class="line" data-startTime="52">So what we were looking to do </span><span class="line" data-startTime="52">was really make it easy and </span><span class="line" data-startTime="55">accessible for people to get </span><span class="line" data-startTime="55">access to 3D printing. </span> <span class="line" data-startTime="58">And we sort of were scratching </span><span class="line" data-startTime="58">our heads at what would be </span><span class="line" data-startTime="60">this awesome thing, and really </span><span class="line" data-startTime="60">realized that little </span><span class="line" data-startTime="63">customizable robot </span><span class="line" data-startTime="63">sort of figurines </span><span class="line" data-startTime="65">would be pretty cool. </span> <span class="line" data-startTime="66">Because each one would </span><span class="line" data-startTime="66">be totally unique. </span> <span class="line" data-startTime="68">And so we thought about writing </span><span class="line" data-startTime="68">an app, or a desktop </span><span class="line" data-startTime="73">app, or something, and realized </span><span class="line" data-startTime="73">that we could do it </span><span class="line" data-startTime="74">all in a browser. </span></p>

<p><span class="line" data-startTime="75">And it just seems to make the </span><span class="line" data-startTime="75">most sense to do that. </span> <span class="line" data-startTime="78">So basically, you go </span><span class="line" data-startTime="78">to the browser. </span> <span class="line" data-startTime="80">It runs full WebGL, </span><span class="line" data-startTime="80">so it's all in 3D. </span> <span class="line" data-startTime="83">But my background's all </span><span class="line" data-startTime="83">in video games. </span> <span class="line" data-startTime="85">And so I sort of approached it </span><span class="line" data-startTime="85">of, how do you make these </span><span class="line" data-startTime="87">complicated things really easy </span><span class="line" data-startTime="87">to understand, where it's sort </span><span class="line" data-startTime="90">of just drag and drop? </span><span class="line" data-startTime="91">You don't have to know anything </span><span class="line" data-startTime="91">about 3D graphics. </span> <span class="line" data-startTime="93">You don't have to know </span><span class="line" data-startTime="93">how to model. </span> <span class="line" data-startTime="94">But literally, it's </span><span class="line" data-startTime="94">an infinite &mdash; </span><span class="line" data-startTime="96">billions and billions of </span><span class="line" data-startTime="96">combinations of these </span><span class="line" data-startTime="98">different robot shapes </span><span class="line" data-startTime="98">that you can get. </span> <span class="line" data-startTime="100">And they're all in full color. </span> <span class="line" data-startTime="101">So you can put a hat </span><span class="line" data-startTime="101">on your robot. </span></p>

<p><span class="line" data-startTime="103">You can pick different </span><span class="line" data-startTime="103">body parts. </span> <span class="line" data-startTime="105">And once you like it, and got it </span><span class="line" data-startTime="105">all posed, and ready to go, </span><span class="line" data-startTime="108">you can go ahead and we'll 3D </span><span class="line" data-startTime="108">print it, and send it to you </span><span class="line" data-startTime="111">in the mail. </span></p>

<p class="speaker"><span class="line" data-starttime="112"><span class="speakerName">Paul Irish</span>: Great. </span> <span class="line" data-startTime="113">Yeah. </span> <span class="line" data-startTime="113">It's really powerful. </span> <span class="line" data-startTime="114">And it's pretty rad to create </span><span class="line" data-startTime="114">your own robot and then get an </span><span class="line" data-startTime="121">actual physical version </span><span class="line" data-startTime="121">in a few weeks. </span> <span class="line" data-startTime="125">So why don't you talk a little </span><span class="line" data-startTime="125">bit about how this was </span><span class="line" data-startTime="127">constructed? </span><span class="line" data-startTime="129">Because it's really fantastic. </span> <span class="line" data-startTime="130">So one of the things that has </span><span class="line" data-startTime="130">always been really interesting </span><span class="line" data-startTime="133">to me is seeing someone from the </span><span class="line" data-startTime="133">video game industry, and </span><span class="line" data-startTime="139">bringing them into the web, and </span><span class="line" data-startTime="139">kind of seeing what their </span><span class="line" data-startTime="141">development experience </span><span class="line" data-startTime="141">is like there. </span></p>

<p><span class="line" data-startTime="143">How did you kind of approach </span><span class="line" data-startTime="143">just getting into it, of kind </span><span class="line" data-startTime="146">of ascertaining what your </span><span class="line" data-startTime="146">development stack was going to </span><span class="line" data-startTime="149">be like, and how you were </span><span class="line" data-startTime="149">actually going to construct </span><span class="line" data-startTime="152">with the new primitives </span><span class="line" data-startTime="152">available on the web platform? </span></p>

<p class="speaker"><span class="line" data-starttime="157"><span class="speakerName">Mark Danks</span>: Yeah. </span> <span class="line" data-startTime="157">So the way I approached it </span><span class="line" data-startTime="157">first was really thinking </span><span class="line" data-startTime="160">about, you know &mdash; </span><span class="line" data-startTime="161">there are two main aspects to </span><span class="line" data-startTime="161">the engine itself and sort of </span><span class="line" data-startTime="165">the interface. </span> <span class="line" data-startTime="166">One of it is the </span><span class="line" data-startTime="166">3D side of it. </span> <span class="line" data-startTime="168">And so that's some really heavy </span><span class="line" data-startTime="168">JavaScript sitting in </span><span class="line" data-startTime="170">the background. </span> <span class="line" data-startTime="171">And that's basically &mdash; </span><span class="line" data-startTime="172">it's a full-on game engine. </span> <span class="line" data-startTime="174">We do collision detection, </span><span class="line" data-startTime="174">all kinds of stuff. </span> <span class="line" data-startTime="177">And that, luckily, I sort of &mdash; </span><span class="line" data-startTime="178">I have some experience on how </span><span class="line" data-startTime="178">to handle that, how to write </span><span class="line" data-startTime="180">all the shaders and that </span><span class="line" data-startTime="180">kind of thing. </span></p>

<p><span class="line" data-startTime="182">So I was able to basically </span><span class="line" data-startTime="182">translate what, for me, used </span><span class="line" data-startTime="184">to be hardcore C++ code </span><span class="line" data-startTime="184">into JavaScript. </span> <span class="line" data-startTime="187">And was really &mdash; </span><span class="line" data-startTime="189">at the time, honestly, I was </span><span class="line" data-startTime="189">kind of skeptical if this </span><span class="line" data-startTime="191">could work. </span> <span class="line" data-startTime="192">You know, how do you </span><span class="line" data-startTime="192">[? do array ?] test against </span><span class="line" data-startTime="194">10,000 triangles </span><span class="line" data-startTime="194">kind of stuff. </span> <span class="line" data-startTime="196">And it just does. </span> <span class="line" data-startTime="197">It works, totally interactive, </span><span class="line" data-startTime="197">60 frames a second, no </span><span class="line" data-startTime="199">problems at all. </span> <span class="line" data-startTime="201">So that was pretty awesome for </span><span class="line" data-startTime="201">just getting the graphic side </span><span class="line" data-startTime="203">of it, the WebGL side. </span> <span class="line" data-startTime="204">And then one thing that we did </span><span class="line" data-startTime="204">differently, I think, is </span><span class="line" data-startTime="207">really going, we're </span><span class="line" data-startTime="207">on the web. </span> <span class="line" data-startTime="209">The web is all about </span><span class="line" data-startTime="209">interfaces. </span> <span class="line" data-startTime="211">So rather than try to create </span><span class="line" data-startTime="211">the interface that you </span><span class="line" data-startTime="213">interact with where you pick </span><span class="line" data-startTime="213">your attachments, and your </span><span class="line" data-startTime="215">stamps, and your </span><span class="line" data-startTime="215">robot pieces &mdash; </span><span class="line" data-startTime="217">rather than making that more 3D, </span><span class="line" data-startTime="217">which is really a pain in </span><span class="line" data-startTime="220">the neck to develop for, </span><span class="line" data-startTime="220">we actually do all </span><span class="line" data-startTime="222">that in normal HTML. </span></p>

<p><span class="line" data-startTime="224">Now again, we're using things </span><span class="line" data-startTime="224">like jQuery and some pretty </span><span class="line" data-startTime="226">complex CSS, but the idea was </span><span class="line" data-startTime="226">we could bring the two </span><span class="line" data-startTime="229">together in a way that </span><span class="line" data-startTime="229">you really can't </span><span class="line" data-startTime="231">do on a lot of platforms. </span> <span class="line" data-startTime="232">So that was a really </span><span class="line" data-startTime="232">nice thing. </span> <span class="line" data-startTime="234">So I could spend all my </span><span class="line" data-startTime="234">3D efforts and all my </span><span class="line" data-startTime="238">visualization in JavaScript and </span><span class="line" data-startTime="238">kind of treating it like a </span><span class="line" data-startTime="240">game engine. </span> <span class="line" data-startTime="241">But then when we wanted to </span><span class="line" data-startTime="241">deal with how people were </span><span class="line" data-startTime="243">going to actually interact with </span><span class="line" data-startTime="243">it and select all their </span><span class="line" data-startTime="245">stuff, we could just treat it </span><span class="line" data-startTime="245">as a normal page, and just </span><span class="line" data-startTime="248">have the two parts talk </span><span class="line" data-startTime="248">to each other. </span></p>

<p class="speaker"><span class="line" data-starttime="250"><span class="speakerName">Paul Irish</span>: Yeah. </span><span class="line" data-startTime="251">And so a challenge for a lot of </span><span class="line" data-startTime="251">people with WebGL is that </span><span class="line" data-startTime="259">dealing with the actual GL </span><span class="line" data-startTime="259">primitives is pretty foreign. </span><span class="line" data-startTime="263">And so a lot of people just </span><span class="line" data-startTime="263">hop into using a library. </span><span class="line" data-startTime="267">Now you luckily have a lot of </span><span class="line" data-startTime="267">experience, which makes </span><span class="line" data-startTime="270">working inside the OpenGL ES 2 </span><span class="line" data-startTime="270">kind of environment a bit more </span><span class="line" data-startTime="278">comfortable. </span><span class="line" data-startTime="279">Was there any third-party code </span><span class="line" data-startTime="279">that you kind of used in the </span><span class="line" data-startTime="282">construction of the application </span><span class="line" data-startTime="282">to kind of assist, </span><span class="line" data-startTime="285">in probably not that, </span><span class="line" data-startTime="285">but other parts? </span></p>

<p class="speaker"><span class="line" data-starttime="287"><span class="speakerName">Mark Danks</span>: Yeah. </span> <span class="line" data-startTime="287">For the actual 3D WebGL stuff, </span><span class="line" data-startTime="287">we wrote it all. </span> <span class="line" data-startTime="291">And again, from my background, </span><span class="line" data-startTime="291">I'm a video game </span><span class="line" data-startTime="294">developer in the past. </span> <span class="line" data-startTime="296">So I'm used to writing on </span><span class="line" data-startTime="296">PlayStation 2 and 3, for Xbox, </span><span class="line" data-startTime="300">things like that. </span> <span class="line" data-startTime="301">So it's pretty much OpenGL, </span><span class="line" data-startTime="301">DirectX, all no problems. </span> <span class="line" data-startTime="304">So for me, that was no problem </span><span class="line" data-startTime="304">dealing with shaders and how </span><span class="line" data-startTime="306">you handle all the </span><span class="line" data-startTime="306">actual low-level </span><span class="line" data-startTime="309">vertex buffers and that. </span> <span class="line" data-startTime="310">It was pretty easy. </span> <span class="line" data-startTime="311">So for that, that's all </span><span class="line" data-startTime="311">completely ours. </span> <span class="line" data-startTime="313">On the interface side, I mean, </span><span class="line" data-startTime="313">the one thing we are using is </span><span class="line" data-startTime="316">jQuery, very heavily. </span> <span class="line" data-startTime="317">So sort of all of the state </span><span class="line" data-startTime="317">transformations, and </span><span class="line" data-startTime="320">animations, and movement </span><span class="line" data-startTime="320">you see on that UI are </span><span class="line" data-startTime="323">all done that way. </span> <span class="line" data-startTime="323">And so that was a pretty </span><span class="line" data-startTime="323">powerful thing, so we didn't </span><span class="line" data-startTime="325">have to reinvent all </span><span class="line" data-startTime="325">those wheels. </span> <span class="line" data-startTime="327">And again, that's </span><span class="line" data-startTime="327">kind of what &mdash; </span><span class="line" data-startTime="328">when we were looking at it &mdash; </span><span class="line" data-startTime="330">we're looking at how the slice </span><span class="line" data-startTime="330">it of the web side versus the </span><span class="line" data-startTime="332">3D side, and really bringing </span><span class="line" data-startTime="332">the two together. </span></p>

<p><span class="line" data-startTime="335">So the main one was probably </span><span class="line" data-startTime="335">the jQuery </span><span class="line" data-startTime="337">library that we used. </span></p>

<p class="speaker"><span class="line" data-starttime="338"><span class="speakerName">Paul Irish</span>: So inside the </span><span class="line" data-startTime="338">application, I get to kind of </span><span class="line" data-startTime="341">choose the head, and </span><span class="line" data-startTime="341">the torso, and </span><span class="line" data-startTime="344">the legs of my robot. </span> <span class="line" data-startTime="345">There's a bunch of </span><span class="line" data-startTime="345">different models. </span> <span class="line" data-startTime="347">I can choose specific ones. </span> <span class="line" data-startTime="348">I can randomize. </span> <span class="line" data-startTime="349">I can then color them all. </span> <span class="line" data-startTime="351">For these actual components &mdash; </span><span class="line" data-startTime="354">so these are all 3D models. </span> <span class="line" data-startTime="357">How did you basically take that </span><span class="line" data-startTime="357">from a 3D model that was </span><span class="line" data-startTime="360">designed in a modeling </span><span class="line" data-startTime="360">application, and bring it out </span><span class="line" data-startTime="364">into something that you </span><span class="line" data-startTime="364">can now see in Web GL? </span><span class="line" data-startTime="366">Kind of, what's the process </span><span class="line" data-startTime="366">for taking that there? </span></p>

<p class="speaker"><span class="line" data-starttime="369"><span class="speakerName">Mark Danks</span>: Yeah. </span> <span class="line" data-startTime="369">So we had a bunch of modelers </span><span class="line" data-startTime="369">who worked with us. </span> <span class="line" data-startTime="372">And they're standard </span><span class="line" data-startTime="372">game modelers or </span><span class="line" data-startTime="375">worked in special effects. </span> <span class="line" data-startTime="376">So they're used to using </span><span class="line" data-startTime="376">programs like Maya and Max. </span> <span class="line" data-startTime="379">They're the high-end </span><span class="line" data-startTime="379">modeling packages. </span> <span class="line" data-startTime="381">And in that case, we just </span><span class="line" data-startTime="381">exported to sort of a generic </span><span class="line" data-startTime="384">format called OBJ. </span> <span class="line" data-startTime="385">It's kind of a lingua franca </span><span class="line" data-startTime="385">for the industry. </span> <span class="line" data-startTime="388">And then I just wrote a </span><span class="line" data-startTime="388">converter that basically spit </span><span class="line" data-startTime="390">out all the stuff, WebGL </span><span class="line" data-startTime="390">ready to go. </span> <span class="line" data-startTime="392">So I could just load it directly </span><span class="line" data-startTime="392">in the vertex buffers </span><span class="line" data-startTime="394">and things like that. </span></p>

<p><span class="line" data-startTime="395">So for me, it's a fairly </span><span class="line" data-startTime="395">straightforward pipeline. </span> <span class="line" data-startTime="398">The kind of interesting thing </span><span class="line" data-startTime="398">about how we have to do, is </span><span class="line" data-startTime="400">since we have the additional </span><span class="line" data-startTime="400">wrinkle of 3D printing, what </span><span class="line" data-startTime="404">we 3D print and what you </span><span class="line" data-startTime="404">interact with on the screen </span><span class="line" data-startTime="407">are actually different </span><span class="line" data-startTime="407">geometries. </span> <span class="line" data-startTime="409">So on the screen, your robot's </span><span class="line" data-startTime="409">about 10,000 polygons. </span> <span class="line" data-startTime="412">We print the robot at about </span><span class="line" data-startTime="412">half a million. </span> <span class="line" data-startTime="414">So we actually go through a </span><span class="line" data-startTime="414">pretty big translation step on </span><span class="line" data-startTime="417">the back end, where we literally </span><span class="line" data-startTime="417">recreate everything </span><span class="line" data-startTime="420">you've done on the screen, </span><span class="line" data-startTime="420">and convert it to </span><span class="line" data-startTime="423">a print-ready model. </span> <span class="line" data-startTime="424">So that was actually one of the </span><span class="line" data-startTime="424">bigger challenges, of sort </span><span class="line" data-startTime="426">of how do you &mdash; what you'd see </span><span class="line" data-startTime="426">on the screen, if you print </span><span class="line" data-startTime="428">it, like nothing </span><span class="line" data-startTime="428">would be round. </span> <span class="line" data-startTime="429">Everything would be faceted </span><span class="line" data-startTime="429">and angular. </span></p>

<p><span class="line" data-startTime="432">You can't pull tricks with </span><span class="line" data-startTime="432">normals and shading in the </span><span class="line" data-startTime="434">real world type stuff. </span> <span class="line" data-startTime="436">So yeah, so we actually have </span><span class="line" data-startTime="436">this entire translation </span><span class="line" data-startTime="439">process that occurs. </span> <span class="line" data-startTime="440">It's kind of an interesting </span><span class="line" data-startTime="440">thing that, when it's running </span><span class="line" data-startTime="442">actually in the browser, every </span><span class="line" data-startTime="442">frame, basically, I destroy </span><span class="line" data-startTime="446">the robot and re-create </span><span class="line" data-startTime="446">it from scratch. </span> <span class="line" data-startTime="448">So every single texture, every </span><span class="line" data-startTime="448">single model, every single </span><span class="line" data-startTime="451">component &mdash; </span><span class="line" data-startTime="452">I rebuild from these </span><span class="line" data-startTime="452">instructions. </span> <span class="line" data-startTime="454">So every frame is [INAUDIBLE] </span><span class="line" data-startTime="455">redoing all of that. </span> <span class="line" data-startTime="456">And then we spit out that same </span><span class="line" data-startTime="456">sort of instruction set. </span> <span class="line" data-startTime="459">And that's the part then, that </span><span class="line" data-startTime="459">we take these high-resolution </span><span class="line" data-startTime="461">3D models, run it through </span><span class="line" data-startTime="461">another tool that reconstructs </span><span class="line" data-startTime="463">that, and makes a </span><span class="line" data-startTime="463">printable model. </span></p>

<p class="speaker"><span class="line" data-starttime="465"><span class="speakerName">Paul Irish</span>: Wow. </span><span class="line" data-startTime="466">Oh, that's fantastic. </span><span class="line" data-startTime="467">So one question I just had, the </span><span class="line" data-startTime="467">[? OBJ ?] format that you </span><span class="line" data-startTime="471">export the models as &mdash; </span><span class="line" data-startTime="472">is that sent down in a </span><span class="line" data-startTime="472">serialized format to the </span><span class="line" data-startTime="476">browser, which then interprets </span><span class="line" data-startTime="476">it, and brings it up? </span></p>

<p class="speaker"><span class="line" data-starttime="479"><span class="speakerName">Mark Danks</span>: Yeah. </span> <span class="line" data-startTime="479">No, we convert it to </span><span class="line" data-startTime="479">a JSON format. </span> <span class="line" data-startTime="481">So that basically with that, </span><span class="line" data-startTime="481">I use this for two reasons. </span> <span class="line" data-startTime="484">One is that we need to just </span><span class="line" data-startTime="484">load it directly into the </span><span class="line" data-startTime="488">WebGL vertex buffers and </span><span class="line" data-startTime="488">texture coordinates and </span><span class="line" data-startTime="491">normals and all that </span><span class="line" data-startTime="491">kind of stuff. </span> <span class="line" data-startTime="492">So that's just a straight &mdash; </span><span class="line" data-startTime="494">load in the buffer, </span><span class="line" data-startTime="494">we're done. </span> <span class="line" data-startTime="495">The other thing that is &mdash; </span><span class="line" data-startTime="496">since we do accurate collision </span><span class="line" data-startTime="496">tests against the models &mdash; </span><span class="line" data-startTime="499">I actually use that </span><span class="line" data-startTime="499">exact same data. </span> <span class="line" data-startTime="501">It's basically massaged in a way </span><span class="line" data-startTime="501">that the WebGL can handle </span><span class="line" data-startTime="504">it, but then my collision code </span><span class="line" data-startTime="504">can handle it as well. </span></p>

<p><span class="line" data-startTime="506">So we can then go off and </span><span class="line" data-startTime="506">do all the collision on </span><span class="line" data-startTime="509">the exact same data. </span> <span class="line" data-startTime="511">And there, I have to </span><span class="line" data-startTime="511">get the normals. </span> <span class="line" data-startTime="512">I have to get the </span><span class="line" data-startTime="512">UV coordinates. </span> <span class="line" data-startTime="513">So I need all the </span><span class="line" data-startTime="513">data anyways. </span> <span class="line" data-startTime="515">So rather than try to split it </span><span class="line" data-startTime="515">apart, send double the data </span><span class="line" data-startTime="518">down, I sort of have a little </span><span class="line" data-startTime="518">custom format that we made </span><span class="line" data-startTime="520">that just encapsulates </span><span class="line" data-startTime="520">it all in one type. </span></p>

<p class="speaker"><span class="line" data-starttime="523"><span class="speakerName">Paul Irish</span>: That's fantastic. </span><span class="line" data-startTime="523">So I'm curious &mdash; </span><span class="line" data-startTime="525">a lot &mdash; </span><span class="line" data-startTime="526">typically with applications like </span><span class="line" data-startTime="526">this, what people might </span><span class="line" data-startTime="530">run into is that the amount of </span><span class="line" data-startTime="530">data, like the models that </span><span class="line" data-startTime="534">they're sending down or </span><span class="line" data-startTime="534">everything else &mdash; </span><span class="line" data-startTime="536">it gets quite big. </span><span class="line" data-startTime="538">So on the web, you have the </span><span class="line" data-startTime="538">challenge of, you're sending </span><span class="line" data-startTime="541">out all the bytes to the user </span><span class="line" data-startTime="541">that they're going to see. </span><span class="line" data-startTime="544">And they can be sizable. </span><span class="line" data-startTime="545">So kind of like, what are </span><span class="line" data-startTime="545">the challenges that </span><span class="line" data-startTime="547">you ran into there? </span><span class="line" data-startTime="548">And how did you solve </span><span class="line" data-startTime="548">performance, load </span><span class="line" data-startTime="551">time, things like that? </span></p>

<p class="speaker"><span class="line" data-starttime="553"><span class="speakerName">Mark Danks</span>: Yeah. </span><span class="line" data-startTime="553">So we started doing </span><span class="line" data-startTime="553">it in two ways &mdash; </span><span class="line" data-startTime="556">well three, maybe. </span><span class="line" data-startTime="557">The honest truth is, we just </span><span class="line" data-startTime="557">went, we hope people have a </span><span class="line" data-startTime="560">fast net connection. </span><span class="line" data-startTime="562">And just all of the data </span><span class="line" data-startTime="562">down the pipeline. </span><span class="line" data-startTime="565">But that being said, then what </span><span class="line" data-startTime="565">we did is we did a lot of </span><span class="line" data-startTime="567">optimization. </span><span class="line" data-startTime="568">So we do everything from welding </span><span class="line" data-startTime="568">our vertices, removing </span><span class="line" data-startTime="570">dead things. </span><span class="line" data-startTime="571">My JSON format is fairly </span><span class="line" data-startTime="571">compressed. </span><span class="line" data-startTime="574">So like, if I'm sending a float </span><span class="line" data-startTime="574">down, I'll look at how </span><span class="line" data-startTime="577">many digits am I actually </span><span class="line" data-startTime="577">sending, and I'll strip it </span><span class="line" data-startTime="579">back, and things like that. </span><span class="line" data-startTime="580">So we were able to get it from </span><span class="line" data-startTime="580">sort of a brain dead, F print </span><span class="line" data-startTime="584">float type mindset. </span><span class="line" data-startTime="586">We usually able to reduce </span><span class="line" data-startTime="586">it down about a </span><span class="line" data-startTime="588">third from that size. </span><span class="line" data-startTime="590">So that was good. </span><span class="line" data-startTime="591">The other thing is we're </span><span class="line" data-startTime="591">not doing any </span><span class="line" data-startTime="592">tricks with the textures. </span><span class="line" data-startTime="595">They're just straight up </span><span class="line" data-startTime="595">PNGs we send through. </span><span class="line" data-startTime="597">But they are compressed. </span><span class="line" data-startTime="599">The other thing though, that we </span><span class="line" data-startTime="599">do do there, is when you're </span><span class="line" data-startTime="602">interacting in the browser, </span><span class="line" data-startTime="602">the textures, the PNG , </span><span class="line" data-startTime="606">stamps, are just 128 by 128. </span></p>

<p class="speaker"><span class="line" data-starttime="617"><span class="speakerName">Paul Irish</span>: Uh. </span></p>

<p class="speaker"><span class="line" data-starttime="617"><span class="speakerName">Male Speaker</span>: We can </span><span class="line" data-startTime="617">edit this in post. </span></p>

<p class="speaker"><span class="line" data-starttime="619"><span class="speakerName">Female Speaker</span>: What happened? </span><span class="line" data-startTime="621">Did we lose him? </span></p>

<p class="speaker"><span class="line" data-starttime="622"><span class="speakerName">Paul Irish</span>: Mark's back. </span></p>

<p class="speaker"><span class="line" data-starttime="624"><span class="speakerName">Mark Danks</span>: Oh &mdash; </span><span class="line" data-startTime="626">how much of that was lost? </span></p>

<p class="speaker"><span class="line" data-starttime="628"><span class="speakerName">Male Speaker</span>: Still there? </span></p>

<p class="speaker"><span class="line" data-starttime="629"><span class="speakerName">Mark Danks</span>: Yeah, we're </span><span class="line" data-startTime="629">still here. </span></p>

<p class="speaker"><span class="line" data-starttime="630"><span class="speakerName">Paul Irish</span>: We lost the </span><span class="line" data-startTime="630">last third of it. </span></p>

<p class="speaker"><span class="line" data-starttime="633"><span class="speakerName">Mark Danks</span>: OK. </span><span class="line" data-startTime="633">I'll say it again. </span></p>

<p class="speaker"><span class="line" data-starttime="635"><span class="speakerName">Paul Irish</span>: OK. </span></p>

<p class="speaker"><span class="line" data-starttime="636"><span class="speakerName">Mark Danks</span>: OK, so &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="637"><span class="speakerName">Paul Irish</span>: Here, let me &mdash; </span><span class="line" data-startTime="638">I'll prompt you &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="639"><span class="speakerName">Mark Danks</span>: You'll </span><span class="line" data-startTime="639">ask the question? </span></p>

<p class="speaker"><span class="line" data-starttime="639"><span class="speakerName">Paul Irish</span>: Yep. </span><span class="line" data-startTime="642">So Mark, typically you run </span><span class="line" data-startTime="642">into a problem with </span><span class="line" data-startTime="646">applications like this, that </span><span class="line" data-startTime="646">you're sending down this model </span><span class="line" data-startTime="648">data, you're sending out </span><span class="line" data-startTime="648">a lot of other things. </span><span class="line" data-startTime="650">And you have to deal with the </span><span class="line" data-startTime="650">fact that it adds up to quite </span><span class="line" data-startTime="653">a few bytes. </span><span class="line" data-startTime="655">Now what kind of challenges did </span><span class="line" data-startTime="655">you run into in regard to </span><span class="line" data-startTime="659">like performance and </span><span class="line" data-startTime="659">load time, and how </span><span class="line" data-startTime="661">did you solve them? </span></p>

<p class="speaker"><span class="line" data-starttime="663"><span class="speakerName">Mark Danks</span>: Yeah. </span> <span class="line" data-startTime="663">So there are sort of two main </span><span class="line" data-startTime="663">places where we're sending </span><span class="line" data-startTime="666">lots of data. </span> <span class="line" data-startTime="667">One is the geometry itself. </span> <span class="line" data-startTime="669">And in that one, since the </span><span class="line" data-startTime="669">sort of internal data for </span><span class="line" data-startTime="672">collision and all that is the </span><span class="line" data-startTime="672">exact same as the rendering, </span><span class="line" data-startTime="674">we don't have to </span><span class="line" data-startTime="674">double that up. </span> <span class="line" data-startTime="675">So that was one nice thing. </span> <span class="line" data-startTime="677">Then I did a lot of </span><span class="line" data-startTime="677">optimizations on &mdash; the data we </span><span class="line" data-startTime="680">send through is in JSON format, </span><span class="line" data-startTime="680">and I actually really </span><span class="line" data-startTime="682">massage it, so the floating </span><span class="line" data-startTime="682">point numbers, we use as </span><span class="line" data-startTime="686">smallest numbers as possible. </span> <span class="line" data-startTime="687">And I was able to get down from </span><span class="line" data-startTime="687">sort of a naive export </span><span class="line" data-startTime="690">out of my tool, down about a </span><span class="line" data-startTime="690">third of the size, really </span><span class="line" data-startTime="693">looking at how much resolution </span><span class="line" data-startTime="693">in the UV coordinates do I </span><span class="line" data-startTime="696">actually need? </span><span class="line" data-startTime="697">OK, I don't need out to the </span><span class="line" data-startTime="697">millions place, only send two </span><span class="line" data-startTime="700">digits kind of thing. </span></p>

<p><span class="line" data-startTime="702">Then the other thing is on the </span><span class="line" data-startTime="702">textures, those are actually </span><span class="line" data-startTime="705">128 by 128 inside the engine. </span> <span class="line" data-startTime="707">So they're pretty small </span><span class="line" data-startTime="707">thumbnails, basically. </span> <span class="line" data-startTime="709">But then when we generate the </span><span class="line" data-startTime="709">print model on the back end, </span><span class="line" data-startTime="711">we actually use 1024 by 1024. </span> <span class="line" data-startTime="713">So again, we're able to sort </span><span class="line" data-startTime="713">of trick it, and only send </span><span class="line" data-startTime="716">through the data we need. </span> <span class="line" data-startTime="717">So you can see what it will look </span><span class="line" data-startTime="717">like, but then when we go </span><span class="line" data-startTime="719">to the print model, we can use </span><span class="line" data-startTime="719">these really high-resolution </span><span class="line" data-startTime="721">textures that are just </span><span class="line" data-startTime="721">awesome-looking. </span></p>

<p><span class="line" data-startTime="724">The other thing that we do </span><span class="line" data-startTime="724">heavily, heavily, heavily, is </span><span class="line" data-startTime="726">the entire engine is </span><span class="line" data-startTime="726">asynchronous loading. </span> <span class="line" data-startTime="729">So we don't load anything </span><span class="line" data-startTime="729">until it's needed. </span> <span class="line" data-startTime="731">And in fact, if you select a </span><span class="line" data-startTime="731">part, we don't even load it </span><span class="line" data-startTime="735">until it would appear </span><span class="line" data-startTime="735">on the robot. </span> <span class="line" data-startTime="737">So for instance, if you select </span><span class="line" data-startTime="737">the top hat, you can </span><span class="line" data-startTime="739">immediately select it. </span> <span class="line" data-startTime="740">We don't do any loading. </span> <span class="line" data-startTime="741">We just wait. </span> <span class="line" data-startTime="742">And then you actually move over </span><span class="line" data-startTime="742">the model and now, OK, we </span><span class="line" data-startTime="745">have to see the top hat &mdash; </span><span class="line" data-startTime="745">that's when we </span><span class="line" data-startTime="747">finally load it through. </span></p>

<p class="speaker"><span class="line" data-starttime="748"><span class="speakerName">Paul Irish</span>: I see. </span><span class="line" data-startTime="749">That's really smart. </span><span class="line" data-startTime="750">So yeah, this is really </span><span class="line" data-startTime="750">powerful. </span><span class="line" data-startTime="753">I'm wondering, when you were </span><span class="line" data-startTime="753">building it, was there any </span><span class="line" data-startTime="757">issues where you kind of wished </span><span class="line" data-startTime="757">that you had some extra </span><span class="line" data-startTime="760">feature that was just not </span><span class="line" data-startTime="760">available in the browsers you </span><span class="line" data-startTime="763">were targeting, or any </span><span class="line" data-startTime="763">challenges like that? </span></p>

<p class="speaker"><span class="line" data-starttime="766"><span class="speakerName">Mark Danks</span>: Well, yeah. </span><span class="line" data-startTime="767">I mean, I wish WebGL was a </span><span class="line" data-startTime="767">little more ubiquitous. </span><span class="line" data-startTime="771">But that was something that we </span><span class="line" data-startTime="771">decided early on that we </span><span class="line" data-startTime="774">needed to go for the best </span><span class="line" data-startTime="774">experience, and we </span><span class="line" data-startTime="776">just go with it. </span><span class="line" data-startTime="778">Interestingly enough, I've </span><span class="line" data-startTime="778">actually made change that's on </span><span class="line" data-startTime="780">some of our other apps now, </span><span class="line" data-startTime="780">where if you don't have WebGL, </span><span class="line" data-startTime="783">we actually render </span><span class="line" data-startTime="783">and canvas 2D. </span><span class="line" data-startTime="787">And it turned out to </span><span class="line" data-startTime="787">be really easy. </span><span class="line" data-startTime="789">I kind of wrote it </span><span class="line" data-startTime="789">in a weekend. </span><span class="line" data-startTime="790">And the reason was because I </span><span class="line" data-startTime="790">had all the collision data, </span><span class="line" data-startTime="792">which was the triangles, and so </span><span class="line" data-startTime="792">all I do is I just project </span><span class="line" data-startTime="795">it into canvas as tri's. </span><span class="line" data-startTime="797">I do a depth sort on all the </span><span class="line" data-startTime="797">triangles, and you're set. </span><span class="line" data-startTime="800">So we actually have </span><span class="line" data-startTime="800">a fallback now. </span><span class="line" data-startTime="802">And so I can actually run &mdash; not </span><span class="line" data-startTime="802">"My Robot Nation" &mdash; but </span><span class="line" data-startTime="805">some of our other apps, I can </span><span class="line" data-startTime="805">run on my iPhone and my iPad </span><span class="line" data-startTime="807">without a problem. </span></p>

<p class="speaker"><span class="line" data-starttime="808"><span class="speakerName">Paul Irish</span>: Oh, that's </span><span class="line" data-startTime="808">really cool. </span></p>

<p class="speaker"><span class="line" data-starttime="808"><span class="speakerName">Mark Danks</span>: So that was </span><span class="line" data-startTime="808">kind of cool to see. </span> <span class="line" data-startTime="811">I think the general thing that </span><span class="line" data-startTime="811">we were seeing with it is just </span><span class="line" data-startTime="814">that we're so JavaScript </span><span class="line" data-startTime="814">heavy. </span> <span class="line" data-startTime="817">And so it was &mdash; </span><span class="line" data-startTime="819">over the development &mdash; </span><span class="line" data-startTime="820">it was in development for six or </span><span class="line" data-startTime="820">nine months kind of thing. </span> <span class="line" data-startTime="823">It was really cool to see the </span><span class="line" data-startTime="823">browsers getting better and </span><span class="line" data-startTime="825">better on the JavaScript side. </span> <span class="line" data-startTime="826">And literally, we started </span><span class="line" data-startTime="826">telling &mdash; by the end, we could </span><span class="line" data-startTime="829">tell the modelers "add more </span><span class="line" data-startTime="829">polygons." You can do it now. </span> <span class="line" data-startTime="832">Whereas in the beginning, we </span><span class="line" data-startTime="832">were really restricted on what </span><span class="line" data-startTime="834">was possible there. </span> <span class="line" data-startTime="835">A lot of the stuff that &mdash; </span><span class="line" data-startTime="837">I was doing some pretty weird </span><span class="line" data-startTime="837">optimizations on my math </span><span class="line" data-startTime="840">libraries, just trying </span><span class="line" data-startTime="840">to trick the </span><span class="line" data-startTime="842">browser into going fast &mdash; </span><span class="line" data-startTime="844">and by the end, it was sort of, </span><span class="line" data-startTime="844">good, I don't have to do </span><span class="line" data-startTime="846">that anymore. </span></p>

<p><span class="line" data-startTime="846">And so that was really </span><span class="line" data-startTime="846">a nice thing that &mdash; </span><span class="line" data-startTime="849">if you're doing a little </span><span class="line" data-startTime="849">one-off, give, show, hide kind </span><span class="line" data-startTime="852">of thing, you don't </span><span class="line" data-startTime="852">really care. </span> <span class="line" data-startTime="854">But when you're doing something </span><span class="line" data-startTime="854">like this, that's </span><span class="line" data-startTime="855">trying to run at 60 frames, </span><span class="line" data-startTime="855">suddenly, your performance </span><span class="line" data-startTime="857">matters a lot. </span></p>

<p class="speaker"><span class="line" data-starttime="858"><span class="speakerName">Paul Irish</span>: Yep. </span><span class="line" data-startTime="859">Absolutely. </span></p>

<p class="speaker"><span class="line" data-starttime="860"><span class="speakerName">Mark Danks</span>: Yeah. </span><span class="line" data-startTime="861">I think other things that I look </span><span class="line" data-startTime="861">at and look forward to </span><span class="line" data-startTime="865">are a lot more binary support </span><span class="line" data-startTime="865">for data coming to the system. </span><span class="line" data-startTime="869">So that's the kind of thing </span><span class="line" data-startTime="869">where, if I had </span><span class="line" data-startTime="871">an easy way to encode &mdash; </span><span class="line" data-startTime="873">basically my JSON </span><span class="line" data-startTime="873">file is binary &mdash; </span><span class="line" data-startTime="876">that would be pretty cool. </span><span class="line" data-startTime="877">A lot of the stuff &mdash; that </span><span class="line" data-startTime="877">there's a lot of people doing </span><span class="line" data-startTime="879">work, I know, on texture </span><span class="line" data-startTime="879">compression, and like </span><span class="line" data-startTime="882">decompressing it in a shader. </span><span class="line" data-startTime="884">So stuff like that is &mdash; </span><span class="line" data-startTime="885">I've been watching pretty </span><span class="line" data-startTime="885">closely and kind of waiting </span><span class="line" data-startTime="888">for it to become a little </span><span class="line" data-startTime="888">more mainstream </span><span class="line" data-startTime="889">before putting it in. </span><span class="line" data-startTime="890">But the new projects we're </span><span class="line" data-startTime="890">looking at are even bigger </span><span class="line" data-startTime="894">than this one. </span><span class="line" data-startTime="895">So we're trying to find ways </span><span class="line" data-startTime="895">that we can keep on pushing </span><span class="line" data-startTime="897">the content down. </span><span class="line" data-startTime="898">I think definitely our next big </span><span class="line" data-startTime="898">effort is really on, how </span><span class="line" data-startTime="903">do we get the bandwidth </span><span class="line" data-startTime="903">requirements down? </span><span class="line" data-startTime="907">Because once it's on the </span><span class="line" data-startTime="907">client, it seems </span><span class="line" data-startTime="908">to run pretty well. </span><span class="line" data-startTime="909">But getting there </span><span class="line" data-startTime="909">is the problem. </span></p>

<p class="speaker"><span class="line" data-starttime="910"><span class="speakerName">Paul Irish</span>: Yeah. </span><span class="line" data-startTime="912">I'm curious about kind of &mdash; </span><span class="line" data-startTime="912">staying in tune with some of </span><span class="line" data-startTime="916">these conversations and the </span><span class="line" data-startTime="916">features that are being </span><span class="line" data-startTime="919">standardized and being imposed, </span><span class="line" data-startTime="919">it's a little tricky </span><span class="line" data-startTime="922">sometimes to kind of </span><span class="line" data-startTime="922">monitor where these </span><span class="line" data-startTime="923">conversations are happening. </span><span class="line" data-startTime="925">How are you tracking, for </span><span class="line" data-startTime="925">instance, texture compression, </span><span class="line" data-startTime="928">or things like that? </span></p>

<p class="speaker"><span class="line" data-starttime="929"><span class="speakerName">Mark Danks</span>: Yeah. </span> <span class="line" data-startTime="930">So thankfully, it's </span><span class="line" data-startTime="930">really awesome. </span> <span class="line" data-startTime="932">We got hooked in with the WebGL </span><span class="line" data-startTime="932">community pretty early. </span> <span class="line" data-startTime="935">And we actually presented </span><span class="line" data-startTime="935">it to [? SIGGRAPH ?] </span><span class="line" data-startTime="938">Birds of a Feather a </span><span class="line" data-startTime="938">couple years ago. </span> <span class="line" data-startTime="939">And that's sort of where we sort </span><span class="line" data-startTime="939">of burst on the scene and </span><span class="line" data-startTime="942">got introduced to everyone. </span> <span class="line" data-startTime="943">So now we do it &mdash; it's </span><span class="line" data-startTime="943">everything from the mailing </span><span class="line" data-startTime="945">list &mdash; which is really helpful </span><span class="line" data-startTime="945">and really, really good. </span> <span class="line" data-startTime="947">A lot of stuff happens there. </span></p>

<p><span class="line" data-startTime="948">Most of the people know I kind </span><span class="line" data-startTime="948">of lurk, but I read every </span><span class="line" data-startTime="951">single thing that </span><span class="line" data-startTime="951">goes through. </span> <span class="line" data-startTime="953">And then &mdash; </span><span class="line" data-startTime="954">I'm based in San Francisco &mdash; </span><span class="line" data-startTime="955">and so we have WebGL meet-ups </span><span class="line" data-startTime="955">once a month. </span> <span class="line" data-startTime="958">So those are pretty good, where </span><span class="line" data-startTime="958">lots of presentations </span><span class="line" data-startTime="960">are given and talking about </span><span class="line" data-startTime="960">what's going on. </span> <span class="line" data-startTime="962">I presented there. </span> <span class="line" data-startTime="964">Actually, my company's hosting </span><span class="line" data-startTime="964">the next one on October 25th. </span> <span class="line" data-startTime="967">So that kind of thing is a good </span><span class="line" data-startTime="967">place to meet people who </span><span class="line" data-startTime="970">are doing this, and sort of </span><span class="line" data-startTime="970">find out what's going on. </span> <span class="line" data-startTime="972">And also it's really &mdash; </span><span class="line" data-startTime="974">all the people who are helping </span><span class="line" data-startTime="974">make WebGL real are really </span><span class="line" data-startTime="977">open, and accessible, and really </span><span class="line" data-startTime="977">easy to talk with. </span></p>

<p><span class="line" data-startTime="980">So that's been a really </span><span class="line" data-startTime="980">nice thing as well. </span></p>

<p class="speaker"><span class="line" data-starttime="982"><span class="speakerName">Paul Irish</span>: Awesome. </span><span class="line" data-startTime="983">Well I encourage everyone to go </span><span class="line" data-startTime="983">check out "My Robot Nation" </span><span class="line" data-startTime="987">and dig under the covers </span><span class="line" data-startTime="987">a little bit. </span><span class="line" data-startTime="989">It's a really well-developed </span><span class="line" data-startTime="989">app, and creates a great </span><span class="line" data-startTime="992">experience &mdash; </span><span class="line" data-startTime="994">one of the first great, solid </span><span class="line" data-startTime="994">WebGL apps that's definitely </span><span class="line" data-startTime="997">not a demo. </span><span class="line" data-startTime="999">And it's real, creates a real </span><span class="line" data-startTime="999">thing that you can hold, even. </span><span class="line" data-startTime="1002">So I encourage everyone to </span><span class="line" data-startTime="1002">go check it out, see </span><span class="line" data-startTime="1004">what's going on. </span><span class="line" data-startTime="1006">And Mark, thank you very </span><span class="line" data-startTime="1006">much for joining us and </span><span class="line" data-startTime="1009">telling us about it. </span></p>

<p class="speaker"><span class="line" data-starttime="1009"><span class="speakerName">Mark Danks</span>: So one other </span><span class="line" data-startTime="1009">thing, if I can </span><span class="line" data-startTime="1010">make a plug, here &mdash; </span><span class="line" data-startTime="1011">we're going to actually </span><span class="line" data-startTime="1011">expand it a bit. </span><span class="line" data-startTime="1013">And I'm actually in charge </span><span class="line" data-startTime="1013">of a another group called </span><span class="line" data-startTime="1017">cubify.com. </span><span class="line" data-startTime="1018">And one of the things we're </span><span class="line" data-startTime="1018">going to be releasing here in </span><span class="line" data-startTime="1019">the next couple months </span><span class="line" data-startTime="1019">is actually an SDK. </span><span class="line" data-startTime="1022">So people can use this </span><span class="line" data-startTime="1022">engine to make their </span><span class="line" data-startTime="1024">own 3D printed models. </span><span class="line" data-startTime="1026">So that's something which &mdash; </span><span class="line" data-startTime="1028">keep an eye open for it &mdash; </span><span class="line" data-startTime="1028">probably end of October, </span><span class="line" data-startTime="1030">November time-frame, this code's </span><span class="line" data-startTime="1030">going to be out and </span><span class="line" data-startTime="1032">sort of fully supported. </span></p>

<p class="speaker"><span class="line" data-starttime="1033"><span class="speakerName">Paul Irish</span>: Great. </span><span class="line" data-startTime="1034">And say the name of it again? </span></p>

<p class="speaker"><span class="line" data-starttime="1035"><span class="speakerName">Mark Danks</span>: It's cubify.com. </span><span class="line" data-startTime="1037">And if you go there, you'll </span><span class="line" data-startTime="1037">see a bunch of other apps. </span><span class="line" data-startTime="1039">In fact, just last week, </span><span class="line" data-startTime="1039">we released an Android </span><span class="line" data-startTime="1042">customization app. </span><span class="line" data-startTime="1043">So you can make your own </span><span class="line" data-startTime="1043">Android with the same </span><span class="line" data-startTime="1045">techniques. </span></p>

<p class="speaker"><span class="line" data-starttime="1045"><span class="speakerName">Paul Irish</span>: Cool. </span><span class="line" data-startTime="1046">That's rad. </span><span class="line" data-startTime="1048">All right. </span><span class="line" data-startTime="1048">Nice. </span><span class="line" data-startTime="1048">Well, thanks again, Mark. </span><span class="line" data-startTime="1050">This has been great. </span></p>

<p class="speaker"><span class="line" data-starttime="1051"><span class="speakerName">Mark Danks</span>: Thank you so much. </span></p>

<p class="speaker"><span class="line" data-starttime="1052"><span class="speakerName">Paul Irish</span>: All right, cheers. </span></p>