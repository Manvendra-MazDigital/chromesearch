<p><span class="line" data-startTime="5">MALE SPEAKER 1: Shanghai GDG </span><span class="line" data-startTime="5">is a very interesting </span><span class="line" data-startTime="8">developer community. </span><span class="line" data-startTime="9">FEMALE SPEAKER 1: I'm </span><span class="line" data-startTime="9">glad somebody </span><span class="line" data-startTime="10">has asked this question. </span><span class="line" data-startTime="11">MALE SPEAKER 2: This is where </span><span class="line" data-startTime="11">the magic happens. </span><span class="line" data-startTime="13">FEMALE SPEAKER 2: This is </span><span class="line" data-startTime="13">primarily a question and </span><span class="line" data-startTime="15">answer show. </span><span class="line" data-startTime="15">So if any of you out there would </span><span class="line" data-startTime="15">like to ask questions &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="21"><span class="speakerName">Peter Lubbers</span>: Hello, and </span><span class="line" data-startTime="21">welcome to the Chrome </span><span class="line" data-startTime="23">Developer Channel on Google </span><span class="line" data-startTime="23">Developer Live. </span><span class="line" data-startTime="26">Really excited to </span><span class="line" data-startTime="26">be here today. </span><span class="line" data-startTime="27">In the studio, we </span><span class="line" data-startTime="27">have Jan Linden. </span><span class="line" data-startTime="30">And on air from Seattle, </span><span class="line" data-startTime="30">we have Chris Wilson. </span><span class="line" data-startTime="33">I'm Peter Lubbers, the program </span><span class="line" data-startTime="33">manager in the Chrome </span><span class="line" data-startTime="37">Developer Relations team. </span><span class="line" data-startTime="40">Jan, can you tell us a little </span><span class="line" data-startTime="40">bit about what you do at </span><span class="line" data-startTime="41">Google before we get started? </span></p>

<p class="speaker"><span class="line" data-starttime="43"><span class="speakerName">Jan Linden</span>: Absolutely. </span><span class="line" data-startTime="44">So I'm on the Chrome team. </span><span class="line" data-startTime="46">I am a product manager that </span><span class="line" data-startTime="46">focuses on everything audio in </span><span class="line" data-startTime="50">Chrome, which is really </span><span class="line" data-startTime="50">exciting. </span><span class="line" data-startTime="52">Because there's happening a </span><span class="line" data-startTime="52">lot in this area, and in </span><span class="line" data-startTime="54">particular, the Web Audio API </span><span class="line" data-startTime="54">that we're talked about today </span><span class="line" data-startTime="57">is really bringing the web to </span><span class="line" data-startTime="57">a new level that we haven't </span><span class="line" data-startTime="61">seen before. </span></p>

<p class="speaker"><span class="line" data-starttime="64"><span class="speakerName">Peter Lubbers</span>: Thanks. </span><span class="line" data-startTime="65">And coming to us from Seattle, </span><span class="line" data-startTime="65">Chris Wilson. </span><span class="line" data-startTime="68">Chris, can you tell us a little </span><span class="line" data-startTime="68">bit about what you do </span><span class="line" data-startTime="70">at Google, and how you got </span><span class="line" data-startTime="70">involved with web audio? </span></p>

<p class="speaker"><span class="line" data-starttime="73"><span class="speakerName">Chris Wilson</span>: Sure, Peter. </span> <span class="line" data-startTime="74">So I'm on the Chrome Developer </span><span class="line" data-startTime="74">Relations team. </span> <span class="line" data-startTime="77">In short, that means I get to </span><span class="line" data-startTime="77">play with all the neat stuff </span><span class="line" data-startTime="79">that Jan and his team put </span><span class="line" data-startTime="79">together and build some neat </span><span class="line" data-startTime="84">demos, come up with different </span><span class="line" data-startTime="84">ways of using it, push </span><span class="line" data-startTime="87">feedback back to him. </span> <span class="line" data-startTime="88">And more than anything, work </span><span class="line" data-startTime="88">with other developers on what </span><span class="line" data-startTime="91">they want to build and what they </span><span class="line" data-startTime="91">want to get out of the </span><span class="line" data-startTime="94">API and other APIs as </span><span class="line" data-startTime="94">well, of course. </span> <span class="line" data-startTime="98">So that's kind of what I </span><span class="line" data-startTime="98">do on a daily basis. </span> <span class="line" data-startTime="102">As for how I got into web </span><span class="line" data-startTime="102">audio, it was really &mdash; </span><span class="line" data-startTime="105">I got really interested when I </span><span class="line" data-startTime="105">started seeing the ability to </span><span class="line" data-startTime="109">build software synthesizers </span><span class="line" data-startTime="109">and processing units and </span><span class="line" data-startTime="112">things like that. </span> <span class="line" data-startTime="113">It had been something I'd </span><span class="line" data-startTime="113">started getting very </span><span class="line" data-startTime="116">interested in. </span> <span class="line" data-startTime="116">Just because in the last decade </span><span class="line" data-startTime="116">or so, all of this neat </span><span class="line" data-startTime="121">hardware that I grew up with </span><span class="line" data-startTime="121">really as a keyboard player, </span><span class="line" data-startTime="125">suddenly you could actually </span><span class="line" data-startTime="125">replicate it all in software </span><span class="line" data-startTime="128">relatively easily. </span></p>

<p><span class="line" data-startTime="130">And the Web Audio API letting </span><span class="line" data-startTime="130">you do that in an even easier </span><span class="line" data-startTime="134">software way was really </span><span class="line" data-startTime="134">exciting to me. </span></p>

<p class="speaker"><span class="line" data-starttime="137"><span class="speakerName">Peter Lubbers</span>: Excellent. </span><span class="line" data-startTime="138">Excellent. </span><span class="line" data-startTime="138">Well, and full disclosure, I </span><span class="line" data-startTime="138">don't know all that much about </span><span class="line" data-startTime="142">Web Audio myself, but I got to </span><span class="line" data-startTime="142">carry Chris's speakers at </span><span class="line" data-startTime="145">Google I/O. And my youngest </span><span class="line" data-startTime="145">son is an aspiring DJ. </span></p>

<p class="speaker"><span class="line" data-starttime="150"><span class="speakerName">Chris Wilson</span>: Everybody </span><span class="line" data-startTime="150">needs roadies. </span></p>

<p class="speaker"><span class="line" data-starttime="155"><span class="speakerName">Peter Lubbers</span>: Excellent. </span> <span class="line" data-startTime="156">All right. </span> <span class="line" data-startTime="156">So a quick agenda &mdash; </span><span class="line" data-startTime="158">so we're going to talk &mdash; </span><span class="line" data-startTime="159">and I mentioned this is the </span><span class="line" data-startTime="159">first of a two-part series. </span> <span class="line" data-startTime="165">In the first one, we'll talk </span><span class="line" data-startTime="165">about mostly an introductory </span><span class="line" data-startTime="169">session about what Web Audio is, </span><span class="line" data-startTime="169">how you can use it in your </span><span class="line" data-startTime="173">applications. </span> <span class="line" data-startTime="175">And in the second one, which </span><span class="line" data-startTime="175">will be in a few weeks &mdash; we'll </span><span class="line" data-startTime="178">announce it on our </span><span class="line" data-startTime="178">Google+ page &mdash; </span><span class="line" data-startTime="182">we'll talk more about how you </span><span class="line" data-startTime="182">can use Web Audio in games. </span> <span class="line" data-startTime="186">Chris is going to show a demo. </span> <span class="line" data-startTime="188">That demo will be available on </span><span class="line" data-startTime="188">GitHub, so for sure check it </span><span class="line" data-startTime="191">out after the event. </span></p>

<p><span class="line" data-startTime="193">So without further ado, Chris, </span><span class="line" data-startTime="193">do you want to start off </span><span class="line" data-startTime="196">talking about Web Audio? </span></p>

<p class="speaker"><span class="line" data-starttime="197"><span class="speakerName">Chris Wilson</span>: Sure. </span> <span class="line" data-startTime="198">So I gave a talk at Google </span><span class="line" data-startTime="198">I/O on the Web Audio API. </span> <span class="line" data-startTime="203">And I wanted to run through just </span><span class="line" data-startTime="203">a couple of the slides </span><span class="line" data-startTime="205">from that because it sort of </span><span class="line" data-startTime="205">helps capture, for me, what </span><span class="line" data-startTime="210">the Web Audio API is. </span> <span class="line" data-startTime="211">I want to show off probably two </span><span class="line" data-startTime="211">of the demos that I built </span><span class="line" data-startTime="216">for Google I/O. And then we'll </span><span class="line" data-startTime="216">open it up to the floor from </span><span class="line" data-startTime="223">there, I think. </span> <span class="line" data-startTime="224">But I do recommend, if you want </span><span class="line" data-startTime="224">more detail about how Web </span><span class="line" data-startTime="227">Audio is put together, go watch </span><span class="line" data-startTime="227">the YouTube video of the </span><span class="line" data-startTime="230">talk that I gave or run </span><span class="line" data-startTime="230">through the slides. </span> <span class="line" data-startTime="232">They're all publicly </span><span class="line" data-startTime="232">available. </span> <span class="line" data-startTime="234">And like you said, all the demos </span><span class="line" data-startTime="234">that I have are actually </span><span class="line" data-startTime="237">up on GitHub and posted today. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="239"><span class="speakerName">Peter Lubbers</span>: Right. </span><span class="line" data-startTime="240">Actually, just before you dive </span><span class="line" data-startTime="240">into it, Chris, the moderator </span><span class="line" data-startTime="243">link is linked on the Google </span><span class="line" data-startTime="243">Developers Live page for this </span><span class="line" data-startTime="248">event, for those of you </span><span class="line" data-startTime="248">that haven't seen it. </span><span class="line" data-startTime="251">Scroll down to the bottom </span><span class="line" data-startTime="251">of the page. </span><span class="line" data-startTime="253">Currently, we have six questions </span><span class="line" data-startTime="253">with 65 votes, so </span><span class="line" data-startTime="257">we'll take those afterwards. </span><span class="line" data-startTime="259">But you can still ask additional </span><span class="line" data-startTime="259">questions. </span><span class="line" data-startTime="261">All right. </span><span class="line" data-startTime="262">Over to you. </span></p>

<p class="speaker"><span class="line" data-starttime="264"><span class="speakerName">Chris Wilson</span>: OK, so let me flip </span><span class="line" data-startTime="264">to my slide deck here. </span> <span class="line" data-startTime="270">So the first question that </span><span class="line" data-startTime="270">always comes up when I try to </span><span class="line" data-startTime="274">describe the Web Audio API to </span><span class="line" data-startTime="274">people is, why do we even need </span><span class="line" data-startTime="278">another audio API? </span><span class="line" data-startTime="279">We now have this great audio </span><span class="line" data-startTime="279">element that we've had for a </span><span class="line" data-startTime="284">few years now, but even that </span><span class="line" data-startTime="284">took a long time for us to get </span><span class="line" data-startTime="288">implemented across </span><span class="line" data-startTime="288">all the browsers. </span> <span class="line" data-startTime="290">Because prior to that, we had </span><span class="line" data-startTime="290">proprietary bgsound stuff that </span><span class="line" data-startTime="294">wasn't really controllable </span><span class="line" data-startTime="294">and wasn't a great </span><span class="line" data-startTime="297">way of doing audio. </span> <span class="line" data-startTime="299">And the audio element </span><span class="line" data-startTime="299">is great. </span> <span class="line" data-startTime="301">I don't want anyone walking away </span><span class="line" data-startTime="301">thinking that we want to </span><span class="line" data-startTime="304">move people away from </span><span class="line" data-startTime="304">the audio tag. </span> <span class="line" data-startTime="306">Because it actually is a really </span><span class="line" data-startTime="306">easy way to wrap up </span><span class="line" data-startTime="310">these steps of loading, </span><span class="line" data-startTime="310">decoding, and playing audio </span><span class="line" data-startTime="313">all into one. </span> <span class="line" data-startTime="314">And you get a set of controls </span><span class="line" data-startTime="314">right there. </span></p>

<p><span class="line" data-startTime="316">The user can click the Play </span><span class="line" data-startTime="316">button, and it plays. </span> <span class="line" data-startTime="319">It shows you where you are </span><span class="line" data-startTime="319">in the sound file. </span> <span class="line" data-startTime="321">You've got volume controls and </span><span class="line" data-startTime="321">all that kind of stuff. </span> <span class="line" data-startTime="324">And of course, you can hook </span><span class="line" data-startTime="324">in and control those </span><span class="line" data-startTime="326">yourself, if you want. </span> <span class="line" data-startTime="327">But the problem that we have </span><span class="line" data-startTime="327">with that is that you don't </span><span class="line" data-startTime="331">really have this fine-grained </span><span class="line" data-startTime="331">control ability. </span> <span class="line" data-startTime="333">Like, you can scrub in the </span><span class="line" data-startTime="333">audio and play from a </span><span class="line" data-startTime="336">particular place in </span><span class="line" data-startTime="336">the audio file. </span> <span class="line" data-startTime="339">But you don't have the </span><span class="line" data-startTime="339">ability to do this </span><span class="line" data-startTime="344">very precise timing. </span> <span class="line" data-startTime="345">Because it packages up this </span><span class="line" data-startTime="345">loading, decoding, and playing </span><span class="line" data-startTime="348">step altogether. </span></p>

<p><span class="line" data-startTime="350">So when you hit the button to </span><span class="line" data-startTime="350">play a sound, it doesn't </span><span class="line" data-startTime="353">necessarily play it right at </span><span class="line" data-startTime="353">that millisecond, or sub </span><span class="line" data-startTime="356">millisecond, even more </span><span class="line" data-startTime="356">interestingly. </span> <span class="line" data-startTime="359">So Web Audio lets you do this </span><span class="line" data-startTime="359">very precise timing. </span> <span class="line" data-startTime="362">You can have lots of overlapping </span><span class="line" data-startTime="362">sounds as well. </span> <span class="line" data-startTime="364">[VIDEO GAME SHOOTING </span><span class="line" data-startTime="364">NOISE WITH REVERB] </span></p>

<p class="speaker"><span class="line" data-starttime="366"><span class="speakerName">Chris Wilson</span>: And it's really </span><span class="line" data-startTime="366">easy to set that </span><span class="line" data-startTime="368">up inside the API. </span><span class="line" data-startTime="371">But secondly, even more </span><span class="line" data-startTime="371">interestingly, the Web Audio </span><span class="line" data-startTime="374">API provides an audio pipeline, </span><span class="line" data-startTime="374">a routing system, </span><span class="line" data-startTime="377">and a bunch of effects and </span><span class="line" data-startTime="377">filters, so that you can very </span><span class="line" data-startTime="380">easily do different things </span><span class="line" data-startTime="380">with your audio. </span><span class="line" data-startTime="382">You can filter it. </span><span class="line" data-startTime="383">You can add reverb effects. </span><span class="line" data-startTime="385">You can add all kinds of </span><span class="line" data-startTime="385">echo or delay effects. </span><span class="line" data-startTime="387">[SHOOTING NOISE WITH ECHO] </span></p>

<p class="speaker"><span class="line" data-starttime="389"><span class="speakerName">Chris Wilson</span>: And it's pretty </span><span class="line" data-startTime="389">easy to set those up. </span> <span class="line" data-startTime="392">Inside this deck, by the way, </span><span class="line" data-startTime="392">all of these things are live </span><span class="line" data-startTime="395">HTML demos. </span> <span class="line" data-startTime="396">So it's pretty easy to dig in </span><span class="line" data-startTime="396">and look at what they say. </span> <span class="line" data-startTime="399">Later in the deck &mdash; which I'm </span><span class="line" data-startTime="399">not going to go into &mdash; </span><span class="line" data-startTime="402">there's a ton of code in there, </span><span class="line" data-startTime="402">so you can see how I'm </span><span class="line" data-startTime="404">setting up these effects. </span> <span class="line" data-startTime="407">And then finally, the Web Audio </span><span class="line" data-startTime="407">API has a bunch of hooks </span><span class="line" data-startTime="410">to visualize audio data and </span><span class="line" data-startTime="410">manipulate it on the fly. </span></p>

<p><span class="line" data-startTime="415">So it's not just a static, hey, </span><span class="line" data-startTime="415">you have an MP3 file. </span> <span class="line" data-startTime="419">Hit Play and it'll </span><span class="line" data-startTime="419">come out through </span><span class="line" data-startTime="420">somebody's speaker somewhere. </span> <span class="line" data-startTime="422">You can actually do things like </span><span class="line" data-startTime="422">analyze it on a frequency </span><span class="line" data-startTime="426">basis and get kind of the </span><span class="line" data-startTime="426">standard graphic equalizer </span><span class="line" data-startTime="431">view of the audio. </span> <span class="line" data-startTime="435">Now, on top of that, </span><span class="line" data-startTime="435">there were really &mdash; </span><span class="line" data-startTime="440">oops, sorry. </span> <span class="line" data-startTime="442">There we go. </span> <span class="line" data-startTime="444">The API itself is actually </span><span class="line" data-startTime="444">defined at </span><span class="line" data-startTime="447">a pretty high level. </span> <span class="line" data-startTime="448">So it's really easy to do </span><span class="line" data-startTime="448">basic things like &mdash; </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="451"><span class="speakerName">Computer</span>: Play sound now. </span></p>

<p class="speaker"><span class="line" data-starttime="452"><span class="speakerName">Chris Wilson</span>:  &mdash; playing </span><span class="line" data-startTime="452">a single sound. </span> <span class="line" data-startTime="454">That's the code for </span><span class="line" data-startTime="454">it right there. </span> <span class="line" data-startTime="455">I just create a buffer source. </span> <span class="line" data-startTime="458">I set it to the right buffer, </span><span class="line" data-startTime="458">connect it to the speakers, </span><span class="line" data-startTime="460">and start playing it. </span> <span class="line" data-startTime="462">And even doing effects </span><span class="line" data-startTime="462">and filters &mdash; </span><span class="line" data-startTime="465">what I have in this code is </span><span class="line" data-startTime="465">essentially exactly the code </span><span class="line" data-startTime="469">from that last slide </span><span class="line" data-startTime="469">when I hit Fire. </span> <span class="line" data-startTime="471">And it had an echo effect. </span> <span class="line" data-startTime="473">You don't need to understand </span><span class="line" data-startTime="473">low-level audio digital signal </span><span class="line" data-startTime="477">processing in order to </span><span class="line" data-startTime="477">use these things. </span> <span class="line" data-startTime="480">In fact, I'm not an </span><span class="line" data-startTime="480">audio engineer. </span></p>

<p><span class="line" data-startTime="482">And if I had to go build a whole </span><span class="line" data-startTime="482">bunch of matrices and </span><span class="line" data-startTime="486">build my own or even directly </span><span class="line" data-startTime="486">use an FFT transform to get </span><span class="line" data-startTime="492">these audio effects to work, </span><span class="line" data-startTime="492">I'm pretty sure I would go </span><span class="line" data-startTime="495">find something else </span><span class="line" data-startTime="495">to play with. </span> <span class="line" data-startTime="496">Because that just seems like </span><span class="line" data-startTime="496">a lot of hard work. </span> <span class="line" data-startTime="498">But at the same time, of course, </span><span class="line" data-startTime="498">if you want to do </span><span class="line" data-startTime="500">that, there is a way to do </span><span class="line" data-startTime="500">very low-level API custom </span><span class="line" data-startTime="505">audio processing directly </span><span class="line" data-startTime="505">in JavaScript. </span> <span class="line" data-startTime="507">You can sit there and </span><span class="line" data-startTime="507">manipulate the bits </span><span class="line" data-startTime="509">individually if you want to. </span></p>

<p><span class="line" data-startTime="513">Now &mdash; </span><span class="line" data-startTime="515">come on &mdash; </span><span class="line" data-startTime="517">one of our big goals &mdash; </span><span class="line" data-startTime="518">and this never works well in </span><span class="line" data-startTime="518">screen sharing, so I'd </span><span class="line" data-startTime="525">encourage you to go look at </span><span class="line" data-startTime="525">this in the slide deck </span><span class="line" data-startTime="529">yourself on your own machine. </span> <span class="line" data-startTime="531">But the biggest thing that we </span><span class="line" data-startTime="531">were really trying to do was </span><span class="line" data-startTime="533">make audio and audio processing </span><span class="line" data-startTime="533">independent of all </span><span class="line" data-startTime="538">the other stuff that's </span><span class="line" data-startTime="538">going on. </span> <span class="line" data-startTime="540">We push all of our native audio </span><span class="line" data-startTime="540">processing off into a </span><span class="line" data-startTime="543">separate high-priority thread, </span><span class="line" data-startTime="543">which means doing even complex </span><span class="line" data-startTime="547">audio shouldn't cause glitches </span><span class="line" data-startTime="547">in the visuals. </span> <span class="line" data-startTime="551">Like I said, I'm not going to </span><span class="line" data-startTime="551">run through this demo here, </span><span class="line" data-startTime="553">just because in screen sharing, </span><span class="line" data-startTime="553">it doesn't work </span><span class="line" data-startTime="555">particularly well. </span> <span class="line" data-startTime="559">But I wanted to give a really </span><span class="line" data-startTime="559">high-level view of some of the </span><span class="line" data-startTime="563">features that we needed to </span><span class="line" data-startTime="563">supply for gaming purposes and </span><span class="line" data-startTime="567">some of the features we </span><span class="line" data-startTime="567">needed to supply for </span><span class="line" data-startTime="569">more musical purposes. </span></p>

<p><span class="line" data-startTime="571">And then I'll show a quick demo </span><span class="line" data-startTime="571">or two that I've built. </span> <span class="line" data-startTime="574">So I already mentioned you need </span><span class="line" data-startTime="574">very precise timing for </span><span class="line" data-startTime="578">many simultaneous sounds. </span> <span class="line" data-startTime="579">Games typically have tons and </span><span class="line" data-startTime="579">tons of effects going on at </span><span class="line" data-startTime="582">the same time. </span> <span class="line" data-startTime="584">And the HTML audio element </span><span class="line" data-startTime="584">doesn't really scale to having </span><span class="line" data-startTime="587">lots of sounds. </span> <span class="line" data-startTime="589">Half a dozen is OK. </span> <span class="line" data-startTime="590">But 25 or so &mdash; it starts </span><span class="line" data-startTime="590">getting kind of wonky. </span> <span class="line" data-startTime="595">And of course, you need </span><span class="line" data-startTime="595">very precise timing. </span></p>

<p><span class="line" data-startTime="597">When you hit Fire, you want </span><span class="line" data-startTime="597">to hear the fire almost </span><span class="line" data-startTime="601">immediately. </span> <span class="line" data-startTime="603">But we also need features like </span><span class="line" data-startTime="603">3D spatialization, placing </span><span class="line" data-startTime="606">sounds in a sound field. </span> <span class="line" data-startTime="609">Doppler shift &mdash; </span><span class="line" data-startTime="610">If you drive past a police </span><span class="line" data-startTime="610">officer in a driving game, you </span><span class="line" data-startTime="613">want to hear the siren </span><span class="line" data-startTime="613">change pitch. </span> <span class="line" data-startTime="616">And doing things like automatic </span><span class="line" data-startTime="616">distance attenuation </span><span class="line" data-startTime="619">and sound directionality, so you </span><span class="line" data-startTime="619">can hear where a sound is </span><span class="line" data-startTime="623">in a virtual environment. </span> <span class="line" data-startTime="624">And it sounds very realistic. </span> <span class="line" data-startTime="628">You also need lots of </span><span class="line" data-startTime="628">filtering effects to </span><span class="line" data-startTime="631">automatically make audio sound </span><span class="line" data-startTime="631">like it's being blocked by a </span><span class="line" data-startTime="635">wall, or like it's coming over </span><span class="line" data-startTime="635">a radio or a telephone. </span></p>

<p><span class="line" data-startTime="639">This is the same sound file </span><span class="line" data-startTime="639">that I played before. </span></p>

<p class="speaker"><span class="line" data-starttime="642"><span class="speakerName">Computer</span>: Play sound now. </span></p>

<p class="speaker"><span class="line" data-starttime="644"><span class="speakerName">Chris Wilson</span>:  &mdash; but it sounds </span><span class="line" data-startTime="644">like it's coming over a </span><span class="line" data-startTime="645">telephone, even if you have a </span><span class="line" data-startTime="645">really high-quality audio </span><span class="line" data-startTime="648">connection, which we don't </span><span class="line" data-startTime="648">right now, but. </span> <span class="line" data-startTime="652">And then finally, of course, </span><span class="line" data-startTime="652">you need acoustic </span><span class="line" data-startTime="653">environments. </span> <span class="line" data-startTime="654">If you walk into a large room </span><span class="line" data-startTime="654">and fire your BFG9000, it </span><span class="line" data-startTime="659">should sound different than if </span><span class="line" data-startTime="659">you're in a tiny little closet </span><span class="line" data-startTime="662">and you fire it. </span> <span class="line" data-startTime="666">And of course, for both gaming </span><span class="line" data-startTime="666">and music, we need the ability </span><span class="line" data-startTime="669">to create kind of scheduled </span><span class="line" data-startTime="669">sound events. </span></p>

<p><span class="line" data-startTime="672">We need to create sequences or </span><span class="line" data-startTime="672">loops or things like that. </span> <span class="line" data-startTime="675">But we also need to automate </span><span class="line" data-startTime="675">things like </span><span class="line" data-startTime="677">fade-ins and fade-outs. </span> <span class="line" data-startTime="682">Now, for music, there are a </span><span class="line" data-startTime="682">few kind of basic sound </span><span class="line" data-startTime="685">elements that you need for </span><span class="line" data-startTime="685">musical applications. </span> <span class="line" data-startTime="689">You may or may not use them </span><span class="line" data-startTime="689">in gaming applications. </span> <span class="line" data-startTime="691">Sometimes games record all </span><span class="line" data-startTime="691">their music or effects. </span> <span class="line" data-startTime="695">And they're all sound buffers. </span> <span class="line" data-startTime="696">Sometimes they actually do </span><span class="line" data-startTime="696">want to create the sound </span><span class="line" data-startTime="698">effects using oscillators. </span> <span class="line" data-startTime="700">So oscillators let you create </span><span class="line" data-startTime="700">sine waves and sawtooth waves </span><span class="line" data-startTime="704">and things like that, and set </span><span class="line" data-startTime="704">frequency and change the </span><span class="line" data-startTime="707">frequency and that </span><span class="line" data-startTime="707">sort of thing. </span> <span class="line" data-startTime="709">Music also uses a lot of </span><span class="line" data-startTime="709">dynamics processing. </span> <span class="line" data-startTime="712">So this is usually referred to </span><span class="line" data-startTime="712">as compression and expansion. </span> <span class="line" data-startTime="717">If you look at &mdash; this is </span><span class="line" data-startTime="717">actually a picture of one of </span><span class="line" data-startTime="719">the racks in my music </span><span class="line" data-startTime="719">studio at home. </span></p>

<p><span class="line" data-startTime="722">And one of the units in this </span><span class="line" data-startTime="722">is actually a hardware </span><span class="line" data-startTime="725">compressor. </span> <span class="line" data-startTime="726">So a piece of hardware that </span><span class="line" data-startTime="726">actually does this one </span><span class="line" data-startTime="730">particular processing. </span> <span class="line" data-startTime="733">We also need to do things </span><span class="line" data-startTime="733">like distortion effects. </span> <span class="line" data-startTime="735">One of the other units there </span><span class="line" data-startTime="735">is a guitar amp processor. </span> <span class="line" data-startTime="738">And a lot of that is actually </span><span class="line" data-startTime="738">just applying very carefully </span><span class="line" data-startTime="741">designed distortion </span><span class="line" data-startTime="741">to a sound. </span> <span class="line" data-startTime="745">And then as we mentioned before, </span><span class="line" data-startTime="745">you need a lot of </span><span class="line" data-startTime="747">frequency and waveform analysis </span><span class="line" data-startTime="747">kind of features. </span> <span class="line" data-startTime="752">So the first demo that I wanted </span><span class="line" data-startTime="752">to show is actually &mdash; </span><span class="line" data-startTime="756">this is the Web Audio playground </span><span class="line" data-startTime="756">is what I ended up </span><span class="line" data-startTime="760">calling this. </span> <span class="line" data-startTime="761">And this basically is just </span><span class="line" data-startTime="761">a way for you to visually </span><span class="line" data-startTime="763">explore what you can do with </span><span class="line" data-startTime="763">the Web Audio API. </span></p>

<p><span class="line" data-startTime="767">So I can do things like add an </span><span class="line" data-startTime="767">audio buffer source, connect </span><span class="line" data-startTime="770">it to the speakers, </span><span class="line" data-startTime="770">and hit Play. </span> <span class="line" data-startTime="773">[BELL DINGS] </span></p>

<p class="speaker"><span class="line" data-starttime="776"><span class="speakerName">Chris Wilson</span>: And &mdash; </span><span class="line" data-startTime="777">whoops. </span><span class="line" data-startTime="780">And I can &mdash; </span><span class="line" data-startTime="782">hm. </span><span class="line" data-startTime="782">I can restart. </span><span class="line" data-startTime="785">I obviously missed one of my </span><span class="line" data-startTime="785">embedded features there. </span><span class="line" data-startTime="790">I can create something. </span><span class="line" data-startTime="794">I can do a &mdash; oh, let's show </span><span class="line" data-startTime="794">one of our neat frequency </span><span class="line" data-startTime="798">analyzers and connect </span><span class="line" data-startTime="798">this guy up. </span><span class="line" data-startTime="803">And let's loop it. </span><span class="line" data-startTime="804">[DRUM BEAT] </span></p>

<p class="speaker"><span class="line" data-starttime="807"><span class="speakerName">Chris Wilson</span>: And you can </span><span class="line" data-startTime="807">see what it looks </span><span class="line" data-startTime="808">like in real time. </span><span class="line" data-startTime="809">I can also do things like add </span><span class="line" data-startTime="809">a filter node in there. </span><span class="line" data-startTime="819">And just for kicks, let's toss </span><span class="line" data-startTime="819">another frequency analyzer so </span><span class="line" data-startTime="823">we can see what it looks like. </span><span class="line" data-startTime="826">Sorry, this is running on kind </span><span class="line" data-startTime="826">of a smaller screen than I </span><span class="line" data-startTime="828">usually play with this. </span><span class="line" data-startTime="832">But now that I've got this all </span><span class="line" data-startTime="832">connected, I can hit Play &mdash; </span><span class="line" data-startTime="837">[DRUM BEAT CONTINUES] </span></p>

<p class="speaker"><span class="line" data-starttime="839"><span class="speakerName">Chris Wilson</span>:  &mdash; and change the </span><span class="line" data-startTime="839">parameters of my filter. </span> <span class="line" data-startTime="845">And you can actually see what it </span><span class="line" data-startTime="845">does in real time, as well </span><span class="line" data-startTime="850">as hear it. </span> <span class="line" data-startTime="858">So you can get some neat kind of </span><span class="line" data-startTime="858">musical effects, as well as </span><span class="line" data-startTime="861">the filters are the same thing </span><span class="line" data-startTime="861">that I used to create that </span><span class="line" data-startTime="864">telephone filter before. </span> <span class="line" data-startTime="866">So this is kind of just a way </span><span class="line" data-startTime="866">to play around with all the </span><span class="line" data-startTime="869">different types of audio nodes </span><span class="line" data-startTime="869">that are in the Web Audio API. </span> <span class="line" data-startTime="871">So you can play with the delay </span><span class="line" data-startTime="871">node, the compressor node, </span><span class="line" data-startTime="875">[? convolver ?] </span><span class="line" data-startTime="876">for doing reverb and </span><span class="line" data-startTime="876">stuff like that. </span> <span class="line" data-startTime="878">But I wanted to create a little </span><span class="line" data-startTime="878">bit more interesting </span><span class="line" data-startTime="883">demo of this myself. </span></p>

<p><span class="line" data-startTime="886">So I created a vocoder. </span> <span class="line" data-startTime="888">This is actually one of the </span><span class="line" data-startTime="888">first things that I set out to </span><span class="line" data-startTime="892">see if I could actually build </span><span class="line" data-startTime="892">this using Web Audio. </span> <span class="line" data-startTime="896">And a vocoder is an interesting </span><span class="line" data-startTime="896">process. </span> <span class="line" data-startTime="899">It's been around for </span><span class="line" data-startTime="899">a long time. </span> <span class="line" data-startTime="900">It's basically the robot </span><span class="line" data-startTime="900">voice effect. </span> <span class="line" data-startTime="903">And what vocoding does is it </span><span class="line" data-startTime="903">takes one sound file or one </span><span class="line" data-startTime="907">sound input, usually referred to </span><span class="line" data-startTime="907">as the modulator, which is </span><span class="line" data-startTime="910">frequently somebody speaking. </span> <span class="line" data-startTime="912">So it's something like this. </span> <span class="line" data-startTime="913">[AUDIO PLAYBACK] </span><span class="line" data-startTime="914">-Four score and seven </span><span class="line" data-startTime="914">years ago. </span> <span class="line" data-startTime="916">[END AUDIO PLAYBACK] </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="917"><span class="speakerName">Chris Wilson</span>: And it maps the </span><span class="line" data-startTime="917">frequency characteristics, </span><span class="line" data-startTime="920">which you can see on </span><span class="line" data-startTime="920">the screen here. </span><span class="line" data-startTime="921">It maps the frequency </span><span class="line" data-startTime="921">characteristics over time. </span><span class="line" data-startTime="925">And it applies the frequency </span><span class="line" data-startTime="925">envelopes to a different </span><span class="line" data-startTime="929">sound, called the carrier, which </span><span class="line" data-startTime="929">is usually some kind of </span><span class="line" data-startTime="932">frequency-rich synthesized </span><span class="line" data-startTime="932">sound, like this one. </span><span class="line" data-startTime="935">[BUZZING] </span><span class="line" data-startTime="938">And no, that's not an error or </span><span class="line" data-startTime="938">a disconnected audio input. </span><span class="line" data-startTime="942">It actually does sound </span><span class="line" data-startTime="942">like that. </span><span class="line" data-startTime="944">But when you map these </span><span class="line" data-startTime="944">together &mdash; when you take the </span><span class="line" data-startTime="946">input of the modulator and you </span><span class="line" data-startTime="946">apply it onto the carrier </span><span class="line" data-startTime="950">signal, you get something </span><span class="line" data-startTime="950">that sounds like a </span><span class="line" data-startTime="952">robotic voice, like this. </span><span class="line" data-startTime="954">[AUDIO PLAYBACK] </span><span class="line" data-startTime="954">-Four score and seven years ago, </span><span class="line" data-startTime="954">our fathers brought forth </span><span class="line" data-startTime="958">on this continent, </span><span class="line" data-startTime="958">a new nation &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="961"><span class="speakerName">Chris Wilson</span>: Now, the really </span><span class="line" data-startTime="961">cool thing about this, to me, </span><span class="line" data-startTime="963">is this is all happening </span><span class="line" data-startTime="963">in real time. </span> <span class="line" data-startTime="966">The Web Audio API is actually </span><span class="line" data-startTime="966">doing everything </span><span class="line" data-startTime="969">here in real time. </span> <span class="line" data-startTime="971">In fact, I set up this big graph </span><span class="line" data-startTime="971">of nodes and plugged </span><span class="line" data-startTime="977">them all together. </span> <span class="line" data-startTime="978">And then the only thing that </span><span class="line" data-startTime="978">my JavaScript code is doing </span><span class="line" data-startTime="981">while this is running is </span><span class="line" data-startTime="981">doing those visuals. </span> <span class="line" data-startTime="984">Showing you what's going on in </span><span class="line" data-startTime="984">the frequency analysis by </span><span class="line" data-startTime="987">mapping it. </span></p>

<p><span class="line" data-startTime="988">This means that I can change </span><span class="line" data-startTime="988">things in real time, too. </span> <span class="line" data-startTime="990">So I can change the pitch </span><span class="line" data-startTime="990">of the carrier signal. </span> <span class="line" data-startTime="993">[PITCH OF ROBOT SPEECH </span><span class="line" data-startTime="993">CHANGES] </span></p>

<p class="speaker"><span class="line" data-starttime="1002"><span class="speakerName">Chris Wilson</span>: And I can </span><span class="line" data-startTime="1002">also add more noise </span><span class="line" data-startTime="1004">to the signal, or &mdash; </span><span class="line" data-startTime="1005">[SIGNAL GETS MORE DISTORTED] </span></p>

<p class="speaker"><span class="line" data-starttime="1008"><span class="speakerName">Chris Wilson</span>:  &mdash; do other </span><span class="line" data-startTime="1008">things like that. </span><span class="line" data-startTime="1009">[END AUDIO PLAYBACK] </span></p>

<p class="speaker"><span class="line" data-starttime="1010"><span class="speakerName">Chris Wilson</span>: So there's a lot </span><span class="line" data-startTime="1010">of dynamics to this whole </span><span class="line" data-startTime="1013">thing, like everything is </span><span class="line" data-startTime="1013">happening in real time. </span> <span class="line" data-startTime="1015">And I've done a bunch of </span><span class="line" data-startTime="1015">tweaking work behind the </span><span class="line" data-startTime="1019">scenes to set this process up. </span> <span class="line" data-startTime="1021">But once the process is going, </span><span class="line" data-startTime="1021">all I have to do is go in and </span><span class="line" data-startTime="1024">change parameters on the Web </span><span class="line" data-startTime="1024">Audio API nodes to make new </span><span class="line" data-startTime="1028">things happen. </span> <span class="line" data-startTime="1030">So this was the first demo </span><span class="line" data-startTime="1030">that I was building. </span> <span class="line" data-startTime="1033">And it was kind of one of these </span><span class="line" data-startTime="1033">journeys, because I </span><span class="line" data-startTime="1035">spent a ton of time just digging </span><span class="line" data-startTime="1035">through and starting </span><span class="line" data-startTime="1038">to understand more and more </span><span class="line" data-startTime="1038">what a vocoder does. </span> <span class="line" data-startTime="1041">I was very, very naive when </span><span class="line" data-startTime="1041">I started building this. </span> <span class="line" data-startTime="1044">And I think Chris Rogers, the </span><span class="line" data-startTime="1044">engineer on the project &mdash; </span><span class="line" data-startTime="1048">I think he didn't want </span><span class="line" data-startTime="1048">to tell me that I was </span><span class="line" data-startTime="1050">in way over my head. </span></p>

<p><span class="line" data-startTime="1051">But he helped me kind of dig my </span><span class="line" data-startTime="1051">way out, and managed to get </span><span class="line" data-startTime="1055">my head above water </span><span class="line" data-startTime="1055">eventually. </span> <span class="line" data-startTime="1058">So this was kind </span><span class="line" data-startTime="1058">of a cool demo. </span> <span class="line" data-startTime="1060">There are a bunch of things </span><span class="line" data-startTime="1060">that I'm really looking </span><span class="line" data-startTime="1061">forward to building and </span><span class="line" data-startTime="1061">adding to this demo </span><span class="line" data-startTime="1064">as well in the future. </span> <span class="line" data-startTime="1066">So I'm kind of excited to see </span><span class="line" data-startTime="1066">what other demos can get built </span><span class="line" data-startTime="1071">from that space. </span> <span class="line" data-startTime="1073">And I think, as we mentioned </span><span class="line" data-startTime="1073">earlier, by the way, the code </span><span class="line" data-startTime="1076">for this is available </span><span class="line" data-startTime="1076">on GitHub. </span> <span class="line" data-startTime="1079">In fact, if you just go </span><span class="line" data-startTime="1079">to github.com/cwilso &mdash; </span><span class="line" data-startTime="1084">C-W-I-L-S-O &mdash; </span><span class="line" data-startTime="1086">you'll find a bunch of different </span><span class="line" data-startTime="1086">audio demos that </span><span class="line" data-startTime="1088">I've been building lately. </span> <span class="line" data-startTime="1091">And with that, I think </span><span class="line" data-startTime="1091">I'll bring it back. </span> <span class="line" data-startTime="1094">And we can maybe start looking </span><span class="line" data-startTime="1094">at some of the questions. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="1098"><span class="speakerName">Peter Lubbers</span>: Sure. </span><span class="line" data-startTime="1099">Just a quick question. </span><span class="line" data-startTime="1100">What were some of the main </span><span class="line" data-startTime="1100">issues you ran into? </span><span class="line" data-startTime="1105">Or are there any specific tips </span><span class="line" data-startTime="1105">that you would want to share </span><span class="line" data-startTime="1110">after building that </span><span class="line" data-startTime="1110">great demo? </span><span class="line" data-startTime="1114">What are some of the highlights </span><span class="line" data-startTime="1114">of that, or some of </span><span class="line" data-startTime="1116">the things you should </span><span class="line" data-startTime="1116">say, well, really, </span><span class="line" data-startTime="1118">watch out for this? </span></p>

<p class="speaker"><span class="line" data-starttime="1120"><span class="speakerName">Chris Wilson</span>: Yeah. </span> <span class="line" data-startTime="1120">The number one thing that I </span><span class="line" data-startTime="1120">would encourage people to do, </span><span class="line" data-startTime="1124">if you're going to do more </span><span class="line" data-startTime="1124">than just very basic &mdash; </span><span class="line" data-startTime="1128">I want to play very precisely </span><span class="line" data-startTime="1128">timed sounds. </span> <span class="line" data-startTime="1131">The number one thing I would say </span><span class="line" data-startTime="1131">is, figure out very early </span><span class="line" data-startTime="1135">on, like, package up </span><span class="line" data-startTime="1135">a visual analyzer. </span> <span class="line" data-startTime="1138">Figure out how to use the </span><span class="line" data-startTime="1138">real-time analyzer node and be </span><span class="line" data-startTime="1142">able to use that as kind of an </span><span class="line" data-startTime="1142">oscilloscope to see what's </span><span class="line" data-startTime="1145">going on in your code. </span></p>

<p><span class="line" data-startTime="1147">It helps so dramatically to be </span><span class="line" data-startTime="1147">able to see what the frequency </span><span class="line" data-startTime="1151">analysis is over time. </span> <span class="line" data-startTime="1153">And during the course of me </span><span class="line" data-startTime="1153">having this Web Audio vocoder </span><span class="line" data-startTime="1159">code that I was in the process </span><span class="line" data-startTime="1159">of building, I would have four </span><span class="line" data-startTime="1162">or five frequency analyzers on </span><span class="line" data-startTime="1162">the screen so I could see what </span><span class="line" data-startTime="1165">was happening between </span><span class="line" data-startTime="1165">each step. </span> <span class="line" data-startTime="1167">And I could tell, oh, wait, this </span><span class="line" data-startTime="1167">isn't actually affecting </span><span class="line" data-startTime="1170">the sound in the way </span><span class="line" data-startTime="1170">that I want it to. </span> <span class="line" data-startTime="1173">Or my frequency bands aren't </span><span class="line" data-startTime="1173">really very well defined. </span> <span class="line" data-startTime="1178">I need to up the order of the </span><span class="line" data-startTime="1178">filters that I'm using, or </span><span class="line" data-startTime="1181">something like that. </span> <span class="line" data-startTime="1183">And it was fantastically helpful </span><span class="line" data-startTime="1183">for that purpose. </span> <span class="line" data-startTime="1188">I think other than that, there </span><span class="line" data-startTime="1188">weren't any huge gotchas that </span><span class="line" data-startTime="1192">I ran into early on. </span> <span class="line" data-startTime="1195">Mostly it turns out that </span><span class="line" data-startTime="1195">a vocoder is a </span><span class="line" data-startTime="1199">very finicky beast. </span> <span class="line" data-startTime="1200">And you have to sit there and </span><span class="line" data-startTime="1200">tweak all of the volume levels </span><span class="line" data-startTime="1204">and the gain levels throughout </span><span class="line" data-startTime="1204">the whole thing. </span></p>

<p><span class="line" data-startTime="1206">And you have to very carefully </span><span class="line" data-startTime="1206">filter things at the </span><span class="line" data-startTime="1209">appropriate times to make it </span><span class="line" data-startTime="1209">sound good, because it turns </span><span class="line" data-startTime="1212">out it's not just a well-defined </span><span class="line" data-startTime="1212">process. </span> <span class="line" data-startTime="1216">It's actually kind of a </span><span class="line" data-startTime="1216">very musical effect. </span> <span class="line" data-startTime="1219">And you have to tune it </span><span class="line" data-startTime="1219">musically in order to make it </span><span class="line" data-startTime="1221">sound good in that context. </span></p>

<p class="speaker"><span class="line" data-starttime="1223"><span class="speakerName">Peter Lubbers</span>: Cool. </span><span class="line" data-startTime="1224">Yeah, I really liked what </span><span class="line" data-startTime="1224">you did with the </span><span class="line" data-startTime="1225">visualizations of it. </span><span class="line" data-startTime="1227">Did you use Canvas </span><span class="line" data-startTime="1227">for that or &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1230"><span class="speakerName">Chris Wilson</span>: So that one, </span><span class="line" data-startTime="1230">actually, I shamelessly stole </span><span class="line" data-startTime="1234">straight from Chris Rogers. </span> <span class="line" data-startTime="1236">He had built a visualizer, </span><span class="line" data-startTime="1236">I think fairly </span><span class="line" data-startTime="1240">early on in Web Audio. </span> <span class="line" data-startTime="1242">And it uses WebGL to draw </span><span class="line" data-startTime="1242">the whole 3D mapping and </span><span class="line" data-startTime="1246">everything. </span> <span class="line" data-startTime="1248">And the great thing about that </span><span class="line" data-startTime="1248">one, though, is it actually </span><span class="line" data-startTime="1251">tracks it over time, </span><span class="line" data-startTime="1251">so you can see. </span> <span class="line" data-startTime="1253">The vocoder bars in the middle, </span><span class="line" data-startTime="1253">those are just a </span><span class="line" data-startTime="1258">capture of what's going on in </span><span class="line" data-startTime="1258">my code or in the vocoder </span><span class="line" data-startTime="1263">code, like tracking what the </span><span class="line" data-startTime="1263">frequency envelopes look like. </span></p>

<p><span class="line" data-startTime="1267">But when I originally </span><span class="line" data-startTime="1267">built it, I built my </span><span class="line" data-startTime="1270">own frequency analyzer. </span> <span class="line" data-startTime="1271">Because I wanted to see where </span><span class="line" data-startTime="1271">exactly are my frequency bands </span><span class="line" data-startTime="1276">in relation to the frequency </span><span class="line" data-startTime="1276">analysis. </span> <span class="line" data-startTime="1280">I set up a frequency analyzer </span><span class="line" data-startTime="1280">that looked very much like the </span><span class="line" data-startTime="1285">frequency analyzer that I played </span><span class="line" data-startTime="1285">with the drum sound </span><span class="line" data-startTime="1288">during the slide deck. </span> <span class="line" data-startTime="1289">It looked like that, but </span><span class="line" data-startTime="1289">it drew vertical </span><span class="line" data-startTime="1292">bars, so I could see &mdash; </span><span class="line" data-startTime="1294">this is the center </span><span class="line" data-startTime="1294">of each of the </span><span class="line" data-startTime="1295">frequency bands in my vocoder. </span> <span class="line" data-startTime="1297">And I could tell, wait a second, </span><span class="line" data-startTime="1297">this isn't lining up </span><span class="line" data-startTime="1300">to the right place, or </span><span class="line" data-startTime="1300">things like that. </span> <span class="line" data-startTime="1303">It was super helpful. </span></p>

<p class="speaker"><span class="line" data-starttime="1304"><span class="speakerName">Jan Linden</span>: Yeah. </span><span class="line" data-startTime="1304">This was real exciting to see. </span><span class="line" data-startTime="1308">Chris, I don't want to downplay </span><span class="line" data-startTime="1308">your abilities, but </span><span class="line" data-startTime="1311">you're not exactly a signal </span><span class="line" data-startTime="1311">processing guy that knows </span><span class="line" data-startTime="1314">exactly about all </span><span class="line" data-startTime="1314">these things. </span></p>

<p class="speaker"><span class="line" data-starttime="1316"><span class="speakerName">Chris Wilson</span>: I am absolutely </span><span class="line" data-startTime="1316">not a signal processing guy. </span></p>

<p class="speaker"><span class="line" data-starttime="1317"><span class="speakerName">Jan Linden</span>: And the fact </span><span class="line" data-startTime="1317">that you could build </span><span class="line" data-startTime="1318">this is pretty amazing. </span> <span class="line" data-startTime="1320">So it shows the capabilities of </span><span class="line" data-startTime="1320">this, and how much of the </span><span class="line" data-startTime="1323">hard stuff has been done </span><span class="line" data-startTime="1323">under the hood. </span> <span class="line" data-startTime="1326">And using, as you said, the </span><span class="line" data-startTime="1326">tools of the frequency </span><span class="line" data-startTime="1331">analyzer to understand step by </span><span class="line" data-startTime="1331">step what you're doing makes </span><span class="line" data-startTime="1334">it possible to then fiddle </span><span class="line" data-startTime="1334">around and figure it out </span><span class="line" data-startTime="1337">without having to get into all </span><span class="line" data-startTime="1337">the details, and still come up </span><span class="line" data-startTime="1341">with this excellent result. </span></p>

<p class="speaker"><span class="line" data-starttime="1343"><span class="speakerName">Chris Wilson</span>: Yeah. </span> <span class="line" data-startTime="1344">I think in retrospect, the hard </span><span class="line" data-startTime="1344">part, and the parts where </span><span class="line" data-startTime="1348">I spent the bulk of my time </span><span class="line" data-startTime="1348">building that demo, were not </span><span class="line" data-startTime="1353">building the Web Audio graph </span><span class="line" data-startTime="1353">to handle the sound </span><span class="line" data-startTime="1357">processing. </span> <span class="line" data-startTime="1358">The biggest thing that I spent a </span><span class="line" data-startTime="1358">lot of time in was tweaking. </span> <span class="line" data-startTime="1361">And there's actually &mdash; </span><span class="line" data-startTime="1362">if you go into the developer </span><span class="line" data-startTime="1362">tools while it's running, you </span><span class="line" data-startTime="1367">can actually find there's </span><span class="line" data-startTime="1367">a div with a </span><span class="line" data-startTime="1370">huge number of sliders. </span> <span class="line" data-startTime="1371">I think it has about 20 sliders </span><span class="line" data-startTime="1371">still in it that were </span><span class="line" data-startTime="1375">just letting me tweak gain </span><span class="line" data-startTime="1375">levels throughout the process </span><span class="line" data-startTime="1378">of this thing. </span> <span class="line" data-startTime="1379">And if you do things like give </span><span class="line" data-startTime="1379">it a different sound file that </span><span class="line" data-startTime="1384">isn't the same average volume </span><span class="line" data-startTime="1384">level, you may have to </span><span class="line" data-startTime="1387">re-tweak some of those things. </span> <span class="line" data-startTime="1389">Because I didn't make </span><span class="line" data-startTime="1389">automatic volume </span><span class="line" data-startTime="1391">detection in it. </span></p>

<p><span class="line" data-startTime="1393">But really, it was that and </span><span class="line" data-startTime="1393">building a good-looking user </span><span class="line" data-startTime="1396">experience that took the </span><span class="line" data-startTime="1396">bulk of the time. </span></p>

<p class="speaker"><span class="line" data-starttime="1399"><span class="speakerName">Peter Lubbers</span>: That's </span><span class="line" data-startTime="1399">excellent. </span><span class="line" data-startTime="1400">You definitely succeeded </span><span class="line" data-startTime="1400">in that. </span><span class="line" data-startTime="1403">Great. </span><span class="line" data-startTime="1403">So let's take a couple </span><span class="line" data-startTime="1403">questions. </span><span class="line" data-startTime="1405">So the first question on the </span><span class="line" data-startTime="1405">moderator is, will the API be </span><span class="line" data-startTime="1410">cross-browser compatible out of </span><span class="line" data-startTime="1410">the box, or will we have to </span><span class="line" data-startTime="1412">deal with vendor prefixes? </span></p>

<p class="speaker"><span class="line" data-starttime="1416"><span class="speakerName">Jan Linden</span>: Well, we will. </span></p>

<p class="speaker"><span class="line" data-starttime="1418"><span class="speakerName">Chris Wilson</span>: Always </span><span class="line" data-startTime="1418">a fun question. </span><span class="line" data-startTime="1419">So out of the box is an </span><span class="line" data-startTime="1419">interesting point, because Web </span><span class="line" data-startTime="1426">Audio has actually been in </span><span class="line" data-startTime="1426">Chrome for quite a while now. </span><span class="line" data-startTime="1429">It's been shipping and </span><span class="line" data-startTime="1429">[? stable ?] for &mdash; </span><span class="line" data-startTime="1434">before I was on the team. </span></p>

<p class="speaker"><span class="line" data-starttime="1436"><span class="speakerName">Jan Linden</span>: Yeah, </span><span class="line" data-startTime="1436">Chrome 13 or 14. </span><span class="line" data-startTime="1437">I can't remember, but </span><span class="line" data-startTime="1437">one of those. </span></p>

<p class="speaker"><span class="line" data-starttime="1438"><span class="speakerName">Chris Wilson</span>: Yeah. </span> <span class="line" data-startTime="1439">Sounds about right. </span> <span class="line" data-startTime="1440">And it is WebKit prefixed. </span> <span class="line" data-startTime="1442">It is vendor prefixed today. </span> <span class="line" data-startTime="1444">Although it is vendor prefixed </span><span class="line" data-startTime="1444">at the point where you say, I </span><span class="line" data-startTime="1450">want an audio context. </span> <span class="line" data-startTime="1451">Like, I want to use </span><span class="line" data-startTime="1451">the Web Audio API. </span> <span class="line" data-startTime="1453">Give me a handle to it. </span> <span class="line" data-startTime="1455">And from then on, you don't </span><span class="line" data-startTime="1455">have WebKit prefixes </span><span class="line" data-startTime="1458">everywhere. </span> <span class="line" data-startTime="1458">So hopefully, we'll end up with </span><span class="line" data-startTime="1458">an API that is very easy </span><span class="line" data-startTime="1462">to say, well, if you don't have </span><span class="line" data-startTime="1462">audio context, get WebKit </span><span class="line" data-startTime="1466">audio context. </span></p>

<p><span class="line" data-startTime="1467">And then most of it just </span><span class="line" data-startTime="1467">works after that. </span> <span class="line" data-startTime="1470">As far as other browsers </span><span class="line" data-startTime="1470">adopting it, we've spent a lot </span><span class="line" data-startTime="1473">of time, and I think we've seen </span><span class="line" data-startTime="1473">a lot of movement in the </span><span class="line" data-startTime="1476">last five to six months, </span><span class="line" data-startTime="1476">probably, from other vendors </span><span class="line" data-startTime="1480">being very interested and </span><span class="line" data-startTime="1480">actively participating in the </span><span class="line" data-startTime="1484">API on the working group. </span> <span class="line" data-startTime="1487">The Mozilla guys have been </span><span class="line" data-startTime="1487">involved in the Web Audio </span><span class="line" data-startTime="1492">working group, I think </span><span class="line" data-startTime="1492">since the beginning, </span><span class="line" data-startTime="1494">certainly for a long time. </span> <span class="line" data-startTime="1496">Opera has jumped in, and given </span><span class="line" data-startTime="1496">a lot of feedback on the API, </span><span class="line" data-startTime="1499">which has been great. </span></p>

<p><span class="line" data-startTime="1500">Microsoft team has been </span><span class="line" data-startTime="1500">looking at Web Audio. </span> <span class="line" data-startTime="1503">I feel like we're really pushing </span><span class="line" data-startTime="1503">very hard to move this </span><span class="line" data-startTime="1507">to something that is </span><span class="line" data-startTime="1507">cross-vendor and </span><span class="line" data-startTime="1511">cross-platform as well. </span> <span class="line" data-startTime="1513">And right now, actually, in </span><span class="line" data-startTime="1513">Safari 6 in beta, and in iOS 6 </span><span class="line" data-startTime="1520">Safari, we have support for </span><span class="line" data-startTime="1520">Web Audio, as well. </span> <span class="line" data-startTime="1523">Granted, it's still </span><span class="line" data-startTime="1523">built on WebKit. </span> <span class="line" data-startTime="1525">It's still WebKit </span><span class="line" data-startTime="1525">vendor prefixed. </span> <span class="line" data-startTime="1527">But we do have it on a different </span><span class="line" data-startTime="1527">platform and </span><span class="line" data-startTime="1530">delivered from a different </span><span class="line" data-startTime="1530">vendor. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="1533"><span class="speakerName">Peter Lubbers</span>: Great. </span><span class="line" data-startTime="1534">That question, by the </span><span class="line" data-startTime="1534">way, was from Ling. </span><span class="line" data-startTime="1538">Another question that was voted </span><span class="line" data-startTime="1538">up quite a bit was a </span><span class="line" data-startTime="1541">little bit about security. </span><span class="line" data-startTime="1542">So the question was from tr67. </span><span class="line" data-startTime="1547">What security measures need </span><span class="line" data-startTime="1547">to be taken in the </span><span class="line" data-startTime="1549">future for Web Audio? </span><span class="line" data-startTime="1550">Are audio popups a threat? </span><span class="line" data-startTime="1553">And how would subsequent </span><span class="line" data-startTime="1553">blocking techniques affect us </span><span class="line" data-startTime="1556">as developers? </span><span class="line" data-startTime="1558">Sure, anyone can hit a Mute </span><span class="line" data-startTime="1558">button, but what if a browser </span><span class="line" data-startTime="1561">is locked down completely? </span><span class="line" data-startTime="1562">So, Jan, do you want to </span><span class="line" data-startTime="1562">take a stab at that? </span></p>

<p class="speaker"><span class="line" data-starttime="1567"><span class="speakerName">Jan Linden</span>: Yeah. </span> <span class="line" data-startTime="1567">It's a very interesting </span><span class="line" data-startTime="1567">question. </span> <span class="line" data-startTime="1568">And actually, I'll start with </span><span class="line" data-startTime="1568">something that is not part of </span><span class="line" data-startTime="1571">Web Audio API right now, </span><span class="line" data-startTime="1571">but something we are </span><span class="line" data-startTime="1574">working hard on adding. </span> <span class="line" data-startTime="1576">And that's input audio, as </span><span class="line" data-startTime="1576">well, through another API </span><span class="line" data-startTime="1580">called Get User Media, </span><span class="line" data-startTime="1580">which is right now </span><span class="line" data-startTime="1584">available in Chrome. </span> <span class="line" data-startTime="1586">But they haven't been </span><span class="line" data-startTime="1586">hooked up yet. </span> <span class="line" data-startTime="1589">But that means that you can </span><span class="line" data-startTime="1589">take input audio and then </span><span class="line" data-startTime="1592">process it, do an analysis, et </span><span class="line" data-startTime="1592">cetera, and directly either </span><span class="line" data-startTime="1597">play it out or just do whatever </span><span class="line" data-startTime="1597">you want with it. </span> <span class="line" data-startTime="1601">And there, you definitely have </span><span class="line" data-startTime="1601">some interesting aspects of </span><span class="line" data-startTime="1604">privacy and security, </span><span class="line" data-startTime="1604">which have been </span><span class="line" data-startTime="1608">discussed and resolved. </span> <span class="line" data-startTime="1609">So we've been able </span><span class="line" data-startTime="1609">to ship that. </span></p>

<p><span class="line" data-startTime="1612">But of course, then you have </span><span class="line" data-startTime="1612">to allow the microphone to </span><span class="line" data-startTime="1617">record what you're doing. </span> <span class="line" data-startTime="1618">So there is a whole process </span><span class="line" data-startTime="1618">similar to getting location </span><span class="line" data-startTime="1622">data, et cetera, </span><span class="line" data-startTime="1622">in other APIs. </span> <span class="line" data-startTime="1626">So that part has been </span><span class="line" data-startTime="1626">taken care of. </span> <span class="line" data-startTime="1629">It will, of course, always be </span><span class="line" data-startTime="1629">a little bit clumsy in the </span><span class="line" data-startTime="1632">sense that the first time you go </span><span class="line" data-startTime="1632">to a domain, you will have </span><span class="line" data-startTime="1637">to allow it. </span> <span class="line" data-startTime="1638">But then you can have always </span><span class="line" data-startTime="1638">allow for that one, if it's a </span><span class="line" data-startTime="1641">secure HTTP. </span> <span class="line" data-startTime="1643">So that side is something that </span><span class="line" data-startTime="1643">I think people would be very </span><span class="line" data-startTime="1647">worried about, but it </span><span class="line" data-startTime="1647">is taken care of. </span></p>

<p><span class="line" data-startTime="1653">On the popups &mdash; </span><span class="line" data-startTime="1654">maybe, Chris, you've thought </span><span class="line" data-startTime="1654">more about that? </span><span class="line" data-startTime="1657">That's obviously &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1658"><span class="speakerName">Chris Wilson</span>: Yeah. </span> <span class="line" data-startTime="1659">I mean, I think for </span><span class="line" data-startTime="1659">output, it's a </span><span class="line" data-startTime="1663">really interesting question. </span> <span class="line" data-startTime="1665">And I'm probably an interesting </span><span class="line" data-startTime="1665">person to </span><span class="line" data-startTime="1670">have it asked of. </span> <span class="line" data-startTime="1670">Because despite being super </span><span class="line" data-startTime="1670">excited by the Web Audio API, </span><span class="line" data-startTime="1675">I'm the guy who &mdash; </span><span class="line" data-startTime="1676">my laptop is always muted. </span> <span class="line" data-startTime="1679">I don't want to be in the middle </span><span class="line" data-startTime="1679">of a meeting and have </span><span class="line" data-startTime="1681">it start playing music or </span><span class="line" data-startTime="1681">something like that. </span> <span class="line" data-startTime="1684">But also, I just don't </span><span class="line" data-startTime="1684">particularly like going to </span><span class="line" data-startTime="1688">websites and having </span><span class="line" data-startTime="1688">them play funky </span><span class="line" data-startTime="1691">background music or whatever. </span></p>

<p><span class="line" data-startTime="1693">So it's kind of a weird space </span><span class="line" data-startTime="1693">to be saying, hey, let's go </span><span class="line" data-startTime="1699">build this audio stuff into </span><span class="line" data-startTime="1699">the web platform. </span> <span class="line" data-startTime="1702">I think that it is a </span><span class="line" data-startTime="1702">general concern. </span> <span class="line" data-startTime="1707">I don't think it's really a </span><span class="line" data-startTime="1707">denial of service, because you </span><span class="line" data-startTime="1710">can always just hit the Mute </span><span class="line" data-startTime="1710">button on your machine. </span> <span class="line" data-startTime="1714">I don't think the browser would </span><span class="line" data-startTime="1714">be completely locked </span><span class="line" data-startTime="1716">down in a situation where you </span><span class="line" data-startTime="1716">wouldn't want the user to have </span><span class="line" data-startTime="1721">access to the Mute button, like </span><span class="line" data-startTime="1721">a library system or a </span><span class="line" data-startTime="1725">kiosk system or something </span><span class="line" data-startTime="1725">like that. </span> <span class="line" data-startTime="1728">Those are always going </span><span class="line" data-startTime="1728">to be options </span><span class="line" data-startTime="1729">unless it's simply disabled. </span> <span class="line" data-startTime="1732">So I think that it is an </span><span class="line" data-startTime="1732">interesting question to handle </span><span class="line" data-startTime="1736">in the broader sense of what do </span><span class="line" data-startTime="1736">we do with audio elements </span><span class="line" data-startTime="1740">and bgsound and stuff </span><span class="line" data-startTime="1740">like that. </span> <span class="line" data-startTime="1742">But I don't think it's </span><span class="line" data-startTime="1742">relevant just to </span><span class="line" data-startTime="1745">Web Audio by itself. </span></p>

<p class="speaker"><span class="line" data-starttime="1748"><span class="speakerName">Peter Lubbers</span>: Cool. </span><span class="line" data-startTime="1749">Yeah. </span><span class="line" data-startTime="1750">That's definitely </span><span class="line" data-startTime="1750">a good question. </span><span class="line" data-startTime="1752">So another question was from &mdash; </span><span class="line" data-startTime="1756">let's see &mdash; </span><span class="line" data-startTime="1757">maxw3st. </span><span class="line" data-startTime="1760">What audio file formats </span><span class="line" data-startTime="1760">does the API handle? </span></p>

<p class="speaker"><span class="line" data-starttime="1765"><span class="speakerName">Jan Linden</span>: Yeah. </span><span class="line" data-startTime="1765">So in Chrome, we support AAC, </span><span class="line" data-startTime="1765">MP3, WAV files, and OGG. </span><span class="line" data-startTime="1773">And then for other platforms, </span><span class="line" data-startTime="1773">that depends </span><span class="line" data-startTime="1776">on what they support. </span><span class="line" data-startTime="1776">But basically, what you will do </span><span class="line" data-startTime="1776">is you support the same as </span><span class="line" data-startTime="1781">you do for the audio element. </span><span class="line" data-startTime="1786">And that could obviously be </span><span class="line" data-startTime="1786">added more in the future. </span><span class="line" data-startTime="1788">But these are, right now, the </span><span class="line" data-startTime="1788">ones that are the popular ones </span><span class="line" data-startTime="1793">and the ones that we </span><span class="line" data-startTime="1793">want to support. </span><span class="line" data-startTime="1795">But we are continuously looking </span><span class="line" data-startTime="1795">at if there are new </span><span class="line" data-startTime="1797">ones we can add at a later </span><span class="line" data-startTime="1797">time, if there is enough </span><span class="line" data-startTime="1802">reason for doing so. </span></p>

<p class="speaker"><span class="line" data-starttime="1806"><span class="speakerName">Peter Lubbers</span>: Another </span><span class="line" data-startTime="1806">question is </span><span class="line" data-startTime="1807">from Tony-b from France. </span><span class="line" data-startTime="1809">Multichannel support &mdash; </span><span class="line" data-startTime="1811">how many, and what precision and </span><span class="line" data-startTime="1811">regularity for looping a </span><span class="line" data-startTime="1815">small sound a few milliseconds </span><span class="line" data-startTime="1815">long is available? </span><span class="line" data-startTime="1821">I think you dealt with </span><span class="line" data-startTime="1821">that extensively. </span></p>

<p class="speaker"><span class="line" data-starttime="1824"><span class="speakerName">Chris Wilson</span>: Right. </span> <span class="line" data-startTime="1824">So multichannel support </span><span class="line" data-startTime="1824">is definitely &mdash; </span><span class="line" data-startTime="1827">there's two versions </span><span class="line" data-startTime="1827">of multichannel. </span> <span class="line" data-startTime="1829">There's the can I get access </span><span class="line" data-startTime="1829">to stereo, or 5.1 surround </span><span class="line" data-startTime="1834">sound, or things like that. </span> <span class="line" data-startTime="1835">Support for that is actually </span><span class="line" data-startTime="1835">built into the Web Audio API. </span> <span class="line" data-startTime="1839">One of the demos I did for IO </span><span class="line" data-startTime="1839">was a left-right stereo </span><span class="line" data-startTime="1844">ping-pong delay, showing that </span><span class="line" data-startTime="1844">you could actually hook in and </span><span class="line" data-startTime="1849">control that. </span> <span class="line" data-startTime="1850">There's also sort of the </span><span class="line" data-startTime="1850">multi-context support, like </span><span class="line" data-startTime="1856">the idea that I want to have two </span><span class="line" data-startTime="1856">separate audio outputs on </span><span class="line" data-startTime="1860">my computer, and be able to </span><span class="line" data-startTime="1860">control independently what </span><span class="line" data-startTime="1864">goes to each one of them. </span> <span class="line" data-startTime="1866">A classic example of this for me </span><span class="line" data-startTime="1866">is one of the side projects </span><span class="line" data-startTime="1871">that I'm working on </span><span class="line" data-startTime="1871">is building tools </span><span class="line" data-startTime="1874">for doing disc jockeying. </span></p>

<p><span class="line" data-startTime="1876">And DJs typically have one audio </span><span class="line" data-startTime="1876">output that's going to </span><span class="line" data-startTime="1880">the main speakers. </span> <span class="line" data-startTime="1881">And then they have </span><span class="line" data-startTime="1881">their headphones. </span> <span class="line" data-startTime="1882">So you need to have two very </span><span class="line" data-startTime="1882">separate audio outputs, </span><span class="line" data-startTime="1885">because they send different </span><span class="line" data-startTime="1885">things to </span><span class="line" data-startTime="1887">those different speakers. </span> <span class="line" data-startTime="1889">Like, they have a button on </span><span class="line" data-startTime="1889">their deck that says, play </span><span class="line" data-startTime="1891">this to my headphones, so they </span><span class="line" data-startTime="1891">can queue something up but not </span><span class="line" data-startTime="1894">let everyone hear it. </span> <span class="line" data-startTime="1895">And I think that we need to have </span><span class="line" data-startTime="1895">that kind of capability. </span> <span class="line" data-startTime="1900">It is a concept that has been </span><span class="line" data-startTime="1900">considered, I think, from the </span><span class="line" data-startTime="1904">very beginning of the API, but </span><span class="line" data-startTime="1904">we don't currently have </span><span class="line" data-startTime="1907">support for it yet. </span> <span class="line" data-startTime="1910">As for the other side of that </span><span class="line" data-startTime="1910">question, what precision and </span><span class="line" data-startTime="1918">regularity for looping small </span><span class="line" data-startTime="1918">sounds, you absolutely can do </span><span class="line" data-startTime="1922">this essentially down </span><span class="line" data-startTime="1922">to the sample level. </span></p>

<p><span class="line" data-startTime="1926">All of our durations </span><span class="line" data-startTime="1926">are in seconds. </span> <span class="line" data-startTime="1931">And they're floating </span><span class="line" data-startTime="1931">point numbers. </span> <span class="line" data-startTime="1932">So you can go in and say, I </span><span class="line" data-startTime="1932">want to loop this from the </span><span class="line" data-startTime="1935">first sample to the last sample, </span><span class="line" data-startTime="1935">and it can only be &mdash; </span><span class="line" data-startTime="1938">you can say, this is only </span><span class="line" data-startTime="1938">100 samples long. </span> <span class="line" data-startTime="1941">So 1/100 of whatever </span><span class="line" data-startTime="1941">the number of </span><span class="line" data-startTime="1945">samples per second is. </span> <span class="line" data-startTime="1948">And I've actually done that. </span> <span class="line" data-startTime="1950">I used an extremely short sound </span><span class="line" data-startTime="1950">buffer to replicate &mdash; </span><span class="line" data-startTime="1954">I think it was a sine wave, </span><span class="line" data-startTime="1954">before we got the oscillator </span><span class="line" data-startTime="1958">up and running inside </span><span class="line" data-startTime="1958">the code. </span> <span class="line" data-startTime="1959">So it's very precise. </span> <span class="line" data-startTime="1961">And the precision for duration </span><span class="line" data-startTime="1961">is just as precise. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="1966"><span class="speakerName">Peter Lubbers</span>: Awesome. </span><span class="line" data-startTime="1969">All right. </span><span class="line" data-startTime="1970">One question I had as well, </span><span class="line" data-startTime="1970">and it was asked on the </span><span class="line" data-startTime="1972">moderator &mdash; </span><span class="line" data-startTime="1973">what are the options for </span><span class="line" data-startTime="1973">recording, archiving, and </span><span class="line" data-startTime="1976">playing back audio </span><span class="line" data-startTime="1976">conversations? </span><span class="line" data-startTime="1978">In fact, I was thinking </span><span class="line" data-startTime="1978">it would be great &mdash; </span><span class="line" data-startTime="1980">I don't know if it's even </span><span class="line" data-startTime="1980">added to your demo. </span><span class="line" data-startTime="1983">Once you've looped all these </span><span class="line" data-startTime="1983">things together, and you've </span><span class="line" data-startTime="1987">created that sound that you </span><span class="line" data-startTime="1987">liked, is it even possible in </span><span class="line" data-startTime="1990">your demo &mdash; </span><span class="line" data-startTime="1990">the first demo you showed &mdash; </span><span class="line" data-startTime="1992">to download or to save it? </span></p>

<p class="speaker"><span class="line" data-starttime="1996"><span class="speakerName">Chris Wilson</span>: So today, in both </span><span class="line" data-startTime="1996">of those demos, you can't </span><span class="line" data-startTime="1998">actually save the output </span><span class="line" data-startTime="1998">of it, [? trivially. ?] </span><span class="line" data-startTime="2001">You can use a loopback audio </span><span class="line" data-startTime="2001">output and record it with </span><span class="line" data-startTime="2006">different software, but </span><span class="line" data-startTime="2006">it's not built in. </span> <span class="line" data-startTime="2010">Today, I believe we don't have </span><span class="line" data-startTime="2010">any way natively to record it </span><span class="line" data-startTime="2016">and encode it into one </span><span class="line" data-startTime="2016">of those formats &mdash; </span><span class="line" data-startTime="2018">into OGG or WAV or MP3 &mdash; </span><span class="line" data-startTime="2022">but that's certainly something </span><span class="line" data-startTime="2022">we've discussed. </span> <span class="line" data-startTime="2025">You could actually build a </span><span class="line" data-startTime="2025">JavaScript audio node that </span><span class="line" data-startTime="2028">captures data and stores that </span><span class="line" data-startTime="2028">in any form you want. </span> <span class="line" data-startTime="2032">It can store it as just an </span><span class="line" data-startTime="2032">audio buffer, which, of </span><span class="line" data-startTime="2034">course, is trivial to store, </span><span class="line" data-startTime="2034">or write your own code to </span><span class="line" data-startTime="2039">re-encode it as an mp3, or </span><span class="line" data-startTime="2039">whatever format you want. </span></p>

<p class="speaker"><span class="line" data-starttime="2042"><span class="speakerName">Jan Linden</span>: So right now, that </span><span class="line" data-startTime="2042">would be the biggest problem. </span><span class="line" data-startTime="2044">And doing an encoding can </span><span class="line" data-startTime="2044">be fairly complex. </span><span class="line" data-startTime="2047">So JavaScript encoder &mdash; </span><span class="line" data-startTime="2050">there are potentials to </span><span class="line" data-startTime="2050">do that, absolutely. </span><span class="line" data-startTime="2054">The other way that is being </span><span class="line" data-startTime="2054">worked on, again, using the </span><span class="line" data-startTime="2057">Get User Media API, </span><span class="line" data-startTime="2057">as I mentioned &mdash; </span><span class="line" data-startTime="2061">that one will get a recording </span><span class="line" data-startTime="2061">function into it. </span><span class="line" data-startTime="2066">It's a [? standardization ?] </span><span class="line" data-startTime="2067">process right now to figure out </span><span class="line" data-startTime="2067">how, exactly, that should </span><span class="line" data-startTime="2069">be done, but that's </span><span class="line" data-startTime="2069">also in the works. </span><span class="line" data-startTime="2071">So then you can both record </span><span class="line" data-startTime="2071">directly what's coming in, but </span><span class="line" data-startTime="2074">also feed what's the output from </span><span class="line" data-startTime="2074">Web Audio API into a Get </span><span class="line" data-startTime="2079">User Media that can then </span><span class="line" data-startTime="2079">record or play out </span><span class="line" data-startTime="2082">whatever you want. </span></p>

<p class="speaker"><span class="line" data-starttime="2083"><span class="speakerName">Peter Lubbers</span>: Yeah. </span><span class="line" data-startTime="2083">And Get User Media, also </span><span class="line" data-startTime="2083">very important </span><span class="line" data-startTime="2086">for WebRTC, of course. </span></p>

<p class="speaker"><span class="line" data-starttime="2087"><span class="speakerName">Jan Linden</span>: Exactly. </span></p>

<p class="speaker"><span class="line" data-starttime="2089"><span class="speakerName">Peter Lubbers</span>: All </span><span class="line" data-startTime="2089">right, excellent. </span><span class="line" data-startTime="2090">Another question from Gerwin </span><span class="line" data-startTime="2090">Sturm from Vienna. </span><span class="line" data-startTime="2094">How does the Web Audio API </span><span class="line" data-startTime="2094">compare to the Audio Data API </span><span class="line" data-startTime="2099">available in Firefox? </span><span class="line" data-startTime="2100">Are there already libraries </span><span class="line" data-startTime="2100">to support both for </span><span class="line" data-startTime="2103">cross-browser support? </span><span class="line" data-startTime="2104">And will they be merged to one </span><span class="line" data-startTime="2104">standard in the long run? </span><span class="line" data-startTime="2107">Who wants to take that? </span></p>

<p class="speaker"><span class="line" data-starttime="2108"><span class="speakerName">Jan Linden</span>: Yeah. </span><span class="line" data-startTime="2109">So basically, I think Mozilla </span><span class="line" data-startTime="2109">has moved on from that. </span><span class="line" data-startTime="2117">The idea is that the Web Audio </span><span class="line" data-startTime="2117">API is the main API people are </span><span class="line" data-startTime="2122">working on in the future. </span><span class="line" data-startTime="2124">So that's where the focus </span><span class="line" data-startTime="2124">is on everybody's side. </span><span class="line" data-startTime="2130">But there is still &mdash; </span><span class="line" data-startTime="2131">for the Firefox data </span><span class="line" data-startTime="2131">API, there is the </span><span class="line" data-startTime="2136">potential to use it. </span><span class="line" data-startTime="2137">And there are JavaScript </span><span class="line" data-startTime="2137">libraries </span><span class="line" data-startTime="2139">that do connect both. </span><span class="line" data-startTime="2140">So you could use it. </span><span class="line" data-startTime="2141">But since it is based on doing </span><span class="line" data-startTime="2141">everything in JavaScript, it's </span><span class="line" data-startTime="2145">much more limited in terms of </span><span class="line" data-startTime="2145">what you can do in real time. </span><span class="line" data-startTime="2148">And therefore, not all </span><span class="line" data-startTime="2148">functionality that you can do </span><span class="line" data-startTime="2151">in Web Audio API is available </span><span class="line" data-startTime="2151">for the simple [? data ?] </span><span class="line" data-startTime="2155">API. </span></p>

<p class="speaker"><span class="line" data-starttime="2155"><span class="speakerName">Chris Wilson</span>: The Audio Data </span><span class="line" data-startTime="2155">API is really just about </span><span class="line" data-startTime="2158">getting audio input </span><span class="line" data-startTime="2158">and output. </span><span class="line" data-startTime="2160">It's not about providing a </span><span class="line" data-startTime="2160">routing and effects pipeline. </span><span class="line" data-startTime="2165">And so you can use it. </span><span class="line" data-startTime="2166">And there certainly </span><span class="line" data-startTime="2166">are libraries that </span><span class="line" data-startTime="2168">are using it today. </span><span class="line" data-startTime="2169">Mozilla has actually stated </span><span class="line" data-startTime="2169">publicly several times that </span><span class="line" data-startTime="2174">I've seen that audio data </span><span class="line" data-startTime="2174">is not something they're </span><span class="line" data-startTime="2178">interested in continuing. </span><span class="line" data-startTime="2180">They were working on a </span><span class="line" data-startTime="2180">MediaStreams audio proposal </span><span class="line" data-startTime="2183">for a while. </span><span class="line" data-startTime="2185">And a lot of the guidance </span><span class="line" data-startTime="2185">from that is folded into </span><span class="line" data-startTime="2191">the Web Audio API. </span><span class="line" data-startTime="2193">And they continue to work &mdash; we </span><span class="line" data-startTime="2193">all continue to work on that </span><span class="line" data-startTime="2196">in the Web Audio </span><span class="line" data-startTime="2196">working group. </span></p>

<p class="speaker"><span class="line" data-starttime="2198"><span class="speakerName">Peter Lubbers</span>: Excellent. </span><span class="line" data-startTime="2201">A couple of other questions &mdash; </span><span class="line" data-startTime="2201">so how does Web </span><span class="line" data-startTime="2203">Audio relate to WebRTC? </span><span class="line" data-startTime="2204">We touched on it briefly </span><span class="line" data-startTime="2204">with Get User Media. </span><span class="line" data-startTime="2207">Will Web Audio eventually become </span><span class="line" data-startTime="2207">a component of WebRTC? </span><span class="line" data-startTime="2211">How do you see that </span><span class="line" data-startTime="2211">fitting together? </span></p>

<p class="speaker"><span class="line" data-starttime="2212"><span class="speakerName">Jan Linden</span>: No is the </span><span class="line" data-startTime="2212">simple answer. </span> <span class="line" data-startTime="2216">They're both extremely important </span><span class="line" data-startTime="2216">separate APIs. </span> <span class="line" data-startTime="2219">WebRTC &mdash; </span><span class="line" data-startTime="2222">that's my background. </span> <span class="line" data-startTime="2223">I've been working with </span><span class="line" data-startTime="2223">RTC forever. </span> <span class="line" data-startTime="2225">And I come from the company that </span><span class="line" data-startTime="2225">brought this technology </span><span class="line" data-startTime="2229">into Google. </span> <span class="line" data-startTime="2231">Anyway, so I'm working </span><span class="line" data-startTime="2231">on that as well. </span> <span class="line" data-startTime="2233">And that is evolving in its </span><span class="line" data-startTime="2233">own way and will become </span><span class="line" data-startTime="2238">everything you need for doing </span><span class="line" data-startTime="2238">real-time voice and video </span><span class="line" data-startTime="2241">communication. </span> <span class="line" data-startTime="2242">Then you will add Web Audio </span><span class="line" data-startTime="2242">API to this, either at the </span><span class="line" data-startTime="2248">input or at the output. </span></p>

<p><span class="line" data-startTime="2249">So at the input, it can be </span><span class="line" data-startTime="2249">interesting to add effects. </span> <span class="line" data-startTime="2252">So between the microphone and </span><span class="line" data-startTime="2252">the encoder that you will send </span><span class="line" data-startTime="2259">data to the other side in </span><span class="line" data-startTime="2259">WebRTC, there you can add, for </span><span class="line" data-startTime="2262">example, an effect so you sound </span><span class="line" data-startTime="2262">differently, or whatever </span><span class="line" data-startTime="2265">you want to do &mdash; </span><span class="line" data-startTime="2266">filtering and things </span><span class="line" data-startTime="2266">like that. </span> <span class="line" data-startTime="2268">And then on the output, it's </span><span class="line" data-startTime="2268">really nice to be able to add </span><span class="line" data-startTime="2272">what Web Audio API can do in </span><span class="line" data-startTime="2272">terms of spatialization. </span> <span class="line" data-startTime="2275">For example, if you think about </span><span class="line" data-startTime="2275">a conferencing solution </span><span class="line" data-startTime="2278">where you want different </span><span class="line" data-startTime="2278">participants to come from </span><span class="line" data-startTime="2280">different locations, that's </span><span class="line" data-startTime="2280">easy to do that way. </span></p>

<p><span class="line" data-startTime="2283">And again, add effects, </span><span class="line" data-startTime="2283">et cetera. </span> <span class="line" data-startTime="2285">So actually, the way WebRTC </span><span class="line" data-startTime="2285">is being specced out and </span><span class="line" data-startTime="2289">designed, it's assumed that Web </span><span class="line" data-startTime="2289">Audio API will be there </span><span class="line" data-startTime="2293">and take care of these things. </span> <span class="line" data-startTime="2294">So WebRTC will not include, for </span><span class="line" data-startTime="2294">example, spatialization, </span><span class="line" data-startTime="2298">because it's not needed. </span> <span class="line" data-startTime="2299">So they are really working </span><span class="line" data-startTime="2299">together to accomplish the </span><span class="line" data-startTime="2304">goals of all the audio </span><span class="line" data-startTime="2304">you want to have. </span></p>

<p class="speaker"><span class="line" data-starttime="2308"><span class="speakerName">Peter Lubbers</span>: Great. </span><span class="line" data-startTime="2309">Another question from </span><span class="line" data-startTime="2309">stephband &mdash; </span><span class="line" data-startTime="2311">so the obvious next step for </span><span class="line" data-startTime="2311">the vocoder is to give it </span><span class="line" data-startTime="2314">real-time input. </span><span class="line" data-startTime="2315">Where are we with being able </span><span class="line" data-startTime="2315">to send audio into </span><span class="line" data-startTime="2319">Chrome in real time? </span><span class="line" data-startTime="2323">It's on GitHub, right? </span></p>

<p class="speaker"><span class="line" data-starttime="2327"><span class="speakerName">Chris Wilson</span>: Well, no. </span><span class="line" data-startTime="2329">I've been pestering &mdash; </span><span class="line" data-startTime="2331">I'll put it politely </span><span class="line" data-startTime="2331">as pestering &mdash; </span><span class="line" data-startTime="2334">Jan and Chris about this for </span><span class="line" data-startTime="2334">probably about six months now. </span><span class="line" data-startTime="2338">And I think I've sent at least </span><span class="line" data-startTime="2338">two mails in the last couple </span><span class="line" data-startTime="2342">of weeks to Chris, saying, you </span><span class="line" data-startTime="2342">know, the instant you guys </span><span class="line" data-startTime="2345">have any build that has </span><span class="line" data-startTime="2345">audio input support, </span><span class="line" data-startTime="2350">please give it to me. </span><span class="line" data-startTime="2351">Because I'm going to </span><span class="line" data-startTime="2351">go immediately hook </span><span class="line" data-startTime="2353">it up to the vocoder. </span><span class="line" data-startTime="2355">It is coming. </span><span class="line" data-startTime="2356">It is something that the team's </span><span class="line" data-startTime="2356">actively working on and </span><span class="line" data-startTime="2359">hopefully will be at least </span><span class="line" data-startTime="2359">initially implemented pretty </span><span class="line" data-startTime="2364">quickly here. </span><span class="line" data-startTime="2365">But it's not quite there yet. </span><span class="line" data-startTime="2367">I will guarantee that I'll get </span><span class="line" data-startTime="2367">it into the vocoder as quickly </span><span class="line" data-startTime="2370">as possible. </span></p>

<p class="speaker"><span class="line" data-starttime="2372"><span class="speakerName">Jan Linden</span>: So the work is going </span><span class="line" data-startTime="2372">on right now, both on </span><span class="line" data-startTime="2375">the Web Audio side and the </span><span class="line" data-startTime="2375">WebRTC, because we want to do </span><span class="line" data-startTime="2379">both of these things. </span><span class="line" data-startTime="2380">But basically, the first case </span><span class="line" data-startTime="2380">we are implementing is this </span><span class="line" data-startTime="2383">case to get live audio </span><span class="line" data-startTime="2383">into Web Audio API. </span><span class="line" data-startTime="2388">And you never know exactly </span><span class="line" data-startTime="2388">when it's done. </span><span class="line" data-startTime="2392">But we're working as quickly </span><span class="line" data-startTime="2392">as possible, </span><span class="line" data-startTime="2394">and it's a high priority. </span><span class="line" data-startTime="2395">And we have people working </span><span class="line" data-startTime="2395">on it today. </span></p>

<p class="speaker"><span class="line" data-starttime="2397"><span class="speakerName">Peter Lubbers</span>: Excellent. </span><span class="line" data-startTime="2398">All right, a question from </span><span class="line" data-startTime="2398">Jeff in Portland. </span><span class="line" data-startTime="2401">With Web Audio, can I play a </span><span class="line" data-startTime="2401">long audio file, like a song, </span><span class="line" data-startTime="2405">and synchronize JavaScript </span><span class="line" data-startTime="2405">events to be fired at certain </span><span class="line" data-startTime="2409">times in the song? </span><span class="line" data-startTime="2410">For example, having a function </span><span class="line" data-startTime="2410">that gets called when the </span><span class="line" data-startTime="2412">audio file reaches the </span><span class="line" data-startTime="2412">three-second mark &mdash; </span><span class="line" data-startTime="2415">something like that. </span><span class="line" data-startTime="2415">Is that possible? </span></p>

<p class="speaker"><span class="line" data-starttime="2419"><span class="speakerName">Chris Wilson</span>: So that's an </span><span class="line" data-startTime="2419">interesting use case. </span> <span class="line" data-startTime="2423">I think that you'll probably </span><span class="line" data-startTime="2423">find the best way to do that </span><span class="line" data-startTime="2428">is to use tracks in the HTML5 </span><span class="line" data-startTime="2428">audio element and then if you </span><span class="line" data-startTime="2434">want processing on top of that, </span><span class="line" data-startTime="2434">you can actually get the </span><span class="line" data-startTime="2440">output of an audio element </span><span class="line" data-startTime="2440">and push it into </span><span class="line" data-startTime="2443">the Web Audio graphs. </span> <span class="line" data-startTime="2444">You can use that as a sound </span><span class="line" data-startTime="2444">source in Web Audio as well, </span><span class="line" data-startTime="2447">if you want reverb or something </span><span class="line" data-startTime="2447">on the audio file. </span> <span class="line" data-startTime="2455">We don't actually have callbacks </span><span class="line" data-startTime="2455">from the functions. </span> <span class="line" data-startTime="2459">Because the audio in the Web </span><span class="line" data-startTime="2459">Audio API is running on the </span><span class="line" data-startTime="2464">audio system clock, which may or </span><span class="line" data-startTime="2464">may not be the same as your </span><span class="line" data-startTime="2467">computer clock. </span> <span class="line" data-startTime="2468">If you have a totally separate </span><span class="line" data-startTime="2468">audio interface internally, it </span><span class="line" data-startTime="2472">probably has literally a </span><span class="line" data-startTime="2472">separate crystal for the clock </span><span class="line" data-startTime="2475">to keep it stable. </span> <span class="line" data-startTime="2477">And callbacks would actually </span><span class="line" data-startTime="2477">cause some interesting timing </span><span class="line" data-startTime="2482">challenges there. </span> <span class="line" data-startTime="2483">But you can synchronize </span><span class="line" data-startTime="2483">JavaScript events fairly </span><span class="line" data-startTime="2487">easily, simply by saying, well, </span><span class="line" data-startTime="2487">this is going to happen </span><span class="line" data-startTime="2491">in 15 seconds. </span></p>

<p><span class="line" data-startTime="2491">So I'm going to set a callback </span><span class="line" data-startTime="2491">for 15 seconds. </span> <span class="line" data-startTime="2494">But tracks is really the way </span><span class="line" data-startTime="2494">to do that inside the HTML5 </span><span class="line" data-startTime="2499">audio element. </span></p>

<p class="speaker"><span class="line" data-starttime="2501"><span class="speakerName">Jan Linden</span>: And if you want to </span><span class="line" data-startTime="2501">do something like your own </span><span class="line" data-startTime="2504">analysis based on the </span><span class="line" data-startTime="2504">[? signal, ?] you can still </span><span class="line" data-startTime="2507">hook up the audio tag to the </span><span class="line" data-startTime="2507">Web Audio API, and then use </span><span class="line" data-startTime="2510">the JavaScript node to do your </span><span class="line" data-startTime="2510">analysis, and whatever you </span><span class="line" data-startTime="2514">want to fire on that. </span></p>

<p class="speaker"><span class="line" data-starttime="2518"><span class="speakerName">Peter Lubbers</span>: So a couple final </span><span class="line" data-startTime="2518">questions here, then. </span><span class="line" data-startTime="2521">And if I missed any, I will go </span><span class="line" data-startTime="2521">back through the moderator and </span><span class="line" data-startTime="2524">answer everything that </span><span class="line" data-startTime="2524">we didn't get to. </span><span class="line" data-startTime="2526">But somebody was asking, will </span><span class="line" data-startTime="2526">there be a port of Auto-Tune </span><span class="line" data-startTime="2531">to the Web Audio API? </span></p>

<p class="speaker"><span class="line" data-starttime="2535"><span class="speakerName">Chris Wilson</span>: A super </span><span class="line" data-startTime="2535">interesting question. </span> <span class="line" data-startTime="2537">So one of my multiple projects </span><span class="line" data-startTime="2537">that I have on my I Would Love </span><span class="line" data-startTime="2541">To Do This list is an </span><span class="line" data-startTime="2541">Auto-Tune-like effect. </span> <span class="line" data-startTime="2545">Although, of course, Auto-Tune </span><span class="line" data-startTime="2545">itself is pretty heavily </span><span class="line" data-startTime="2550">patented, I'm sure. </span> <span class="line" data-startTime="2553">The concept of re-tuning </span><span class="line" data-startTime="2553">audio files is a </span><span class="line" data-startTime="2557">pretty powerful one. </span> <span class="line" data-startTime="2559">The main reason that I haven't </span><span class="line" data-startTime="2559">gone too deeply looking into </span><span class="line" data-startTime="2562">it is, well, first of all, </span><span class="line" data-startTime="2562">pitch detection is hard. </span> <span class="line" data-startTime="2567">I keep uncovering one more layer </span><span class="line" data-startTime="2567">of the onion of being on </span><span class="line" data-startTime="2572">my way to becoming a digital </span><span class="line" data-startTime="2572">signal processing engineer. </span> <span class="line" data-startTime="2576">But it's still &mdash; </span><span class="line" data-startTime="2577">I get too deeply into the </span><span class="line" data-startTime="2577">technical papers that are all </span><span class="line" data-startTime="2584">equations, and I kind </span><span class="line" data-startTime="2584">of glaze over. </span></p>

<p><span class="line" data-startTime="2588">It's certainly &mdash; </span><span class="line" data-startTime="2589">anything that you could build in </span><span class="line" data-startTime="2589">digital signal processing, </span><span class="line" data-startTime="2594">you could push into Web Audio. </span> <span class="line" data-startTime="2597">I'm hoping that we get some </span><span class="line" data-startTime="2597">kinds of that work done </span><span class="line" data-startTime="2602">relatively quickly. </span> <span class="line" data-startTime="2604">I'm looking for volunteers, </span><span class="line" data-startTime="2604">too. </span></p>

<p class="speaker"><span class="line" data-starttime="2606"><span class="speakerName">Peter Lubbers</span>: Excellent. </span><span class="line" data-startTime="2607">All right, so I think that </span><span class="line" data-startTime="2607">pretty much concludes it. </span><span class="line" data-startTime="2610">There was one question about </span><span class="line" data-startTime="2610">where we can get the </span><span class="line" data-startTime="2614">presentation. </span><span class="line" data-startTime="2615">So you showed, Chris, and of </span><span class="line" data-startTime="2615">course, I will be posting all </span><span class="line" data-startTime="2618">of the links for this </span><span class="line" data-startTime="2618">presentation on our Google </span><span class="line" data-startTime="2624">Chrome Developers </span><span class="line" data-startTime="2624">Google+ page. </span><span class="line" data-startTime="2627">So definitely check </span><span class="line" data-startTime="2627">there after. </span><span class="line" data-startTime="2629">And we'll have a link to all </span><span class="line" data-startTime="2629">of the material &mdash; so the </span><span class="line" data-startTime="2631">GitHub where Chris posted his </span><span class="line" data-startTime="2631">source, the presentation that </span><span class="line" data-startTime="2637">he gave it at I/O, which </span><span class="line" data-startTime="2637">has a lot more </span><span class="line" data-startTime="2640">information about Web Audio. </span><span class="line" data-startTime="2642">We'll also post there the next </span><span class="line" data-startTime="2642">event, when we're going to do </span><span class="line" data-startTime="2646">that, in a couple of weeks. </span><span class="line" data-startTime="2648">And well, I think that's about </span><span class="line" data-startTime="2648">it in terms of questions. </span><span class="line" data-startTime="2653">Like I said, we'll definitely </span><span class="line" data-startTime="2653">cover any </span><span class="line" data-startTime="2655">questions that we missed. </span><span class="line" data-startTime="2656">And we'll answer them. </span><span class="line" data-startTime="2657">Did you have any other questions </span><span class="line" data-startTime="2657">there on the &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2659"><span class="speakerName">Jan Linden</span>: No, I think that </span><span class="line" data-startTime="2659">pretty much covered </span><span class="line" data-startTime="2661">[? everything. ?] </span></p>

<p class="speaker"><span class="line" data-starttime="2662"><span class="speakerName">Peter Lubbers</span>: All right. </span><span class="line" data-startTime="2663">Well, with that, I'd like to </span><span class="line" data-startTime="2663">thank everyone for tuning in. </span><span class="line" data-startTime="2666">And I want to thank Chris </span><span class="line" data-startTime="2666">and Jan for the great </span><span class="line" data-startTime="2669">information &mdash; </span><span class="line" data-startTime="2670">excellent, excellent overview. </span><span class="line" data-startTime="2673">The next session will be </span><span class="line" data-startTime="2673">about how you can use </span><span class="line" data-startTime="2675">Web Audio in gaming. </span><span class="line" data-startTime="2679">We'll do that in </span><span class="line" data-startTime="2679">a couple weeks. </span><span class="line" data-startTime="2680">And in the meantime, follow </span><span class="line" data-startTime="2680">us on Google+ </span><span class="line" data-startTime="2684">Chrome Developers Channel. </span><span class="line" data-startTime="2686">And that's it. </span><span class="line" data-startTime="2687">Thank you for tuning in. </span></p>

<p class="speaker"><span class="line" data-starttime="2689"><span class="speakerName">Chris Wilson</span>: Thanks, guys. </span></p>

<p class="speaker"><span class="line" data-starttime="2690"><span class="speakerName">Jan Linden</span>: Thank you. </span></p>

<p class="speaker"><span class="line" data-starttime="2690"><span class="speakerName">Peter Lubbers</span>: Thanks. </span></p>