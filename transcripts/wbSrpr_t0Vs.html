<style>* {font-family: "Open Sans", sans-serif}
a {color: #77aaff}
a.video {border-bottom: 1px solid #ddd; display: block; margin: 0 0 2em 0; padding: 0 0 2em 0}
h2 {color: #444; font-size: 18px;}
span.speakerName {color: black; font-weight: 900;}
body {padding: 2em}
p {color: #444; margin: 0; text-indent: 1.5em;}
p.speaker {margin: 1em 0 0 0; text-indent: 0;}
div#transcript > p:first-child {text-indent: 0;}
</style>

<h1>Edge Conf 2: Morning Sessions</h1>

<h2>Andrew Betts, Steve Thair, Whole Audience, Marcos Caceres, Ann Robson, Yoav Weiss, John Mellor, Jake Archibald, Peter Miller, Estelle Weyl, George Crawford, Mike, Kyle, Calvin Spealman, Marco Caceres, Matt, Jeffrey, Jonathan Klein, Andre Behrens, Paul Lewis, Ariya Hidayat, Joshua Peek, Eli Fidler, Ben Holland, James, Mike Petrovich, Edd Sowden, Dunston, Matt Todd, John, Sergei, Paul Irish, Stoyan Stefanov, Guy Podjarny, Barbara Bermes, Ben Vinegar, Kyle Simpson, David Stickman, Tom, Wilson Page, Wesley Hales, Matt May, Rahul Choudhary, Alex Russell</h2>

<a class="video" href="http://youtu.be/wbSrpr_t0Vs">youtu.be/wbSrpr_t0Vs</a><div id="transcript"><p><span class="line" data-startTime="0">[MUSIC PLAYING] </span></p>

<p class="speaker"><span class="line" data-starttime="757"><span class="speakerName">Andrew Betts</span>: Good morning, </span><span class="line" data-startTime="757">everyone. </span><span class="line" data-startTime="758">Welcome to Edge. </span><span class="line" data-startTime="761">If you're not in your seat, </span><span class="line" data-startTime="761">can you find a seat? </span><span class="line" data-startTime="763">And we'll make a start. </span><span class="line" data-startTime="768">My name is Andrew Betts. </span><span class="line" data-startTime="769">I'm from "The Financial </span><span class="line" data-startTime="769">Times," which is a </span><span class="line" data-startTime="771">distinctively pink financial </span><span class="line" data-startTime="771">newspaper. </span><span class="line" data-startTime="774">And this is Edge Conf. </span><span class="line" data-startTime="779">We have Wi-Fi. </span><span class="line" data-startTime="780">That's the most important </span><span class="line" data-startTime="780">thing. </span><span class="line" data-startTime="781">So probably most of you have </span><span class="line" data-startTime="781">discovered it already. </span><span class="line" data-startTime="783">It's GoogleGuest, you don't </span><span class="line" data-startTime="783">need a password. </span><span class="line" data-startTime="787">And I have a few other </span><span class="line" data-startTime="787">announcements that I need to </span><span class="line" data-startTime="788">make before we make a start. </span><span class="line" data-startTime="790">So first of all, Edge is </span><span class="line" data-startTime="790">quite an experiment. </span><span class="line" data-startTime="795">And things may go wrong. </span><span class="line" data-startTime="798">In fact, about seven things </span><span class="line" data-startTime="798">have gone wrong already. </span><span class="line" data-startTime="800">[LAUGHTER] </span></p>

<p class="speaker"><span class="line" data-starttime="801"><span class="speakerName">Andrew Betts</span>: So I'm just going </span><span class="line" data-startTime="801">to give you a rundown of </span><span class="line" data-startTime="805">the thinking that went behind </span><span class="line" data-startTime="805">the design of the debate </span><span class="line" data-startTime="808">format and how we're expecting </span><span class="line" data-startTime="808">the even to run. </span> <span class="line" data-startTime="811">So each session's </span><span class="line" data-startTime="811">an hour long. </span> <span class="line" data-startTime="813">We start with a 10-minute </span><span class="line" data-startTime="813">opening talk. </span> <span class="line" data-startTime="816">We have primary questions for </span><span class="line" data-startTime="816">the debate that we've </span><span class="line" data-startTime="819">preselected from a Google </span><span class="line" data-startTime="819">Moderator, or which have been </span><span class="line" data-startTime="822">composed by the moderators </span><span class="line" data-startTime="822">of the sessions. </span> <span class="line" data-startTime="824">And those have been seated </span><span class="line" data-startTime="824">into the audience. </span> <span class="line" data-startTime="826">So the people in the audience </span><span class="line" data-startTime="826">who are asking questions </span><span class="line" data-startTime="829">should know who they are. </span> <span class="line" data-startTime="831">We have around 7-10 minutes </span><span class="line" data-startTime="831">of debate on each of those </span><span class="line" data-startTime="834">primary questions. </span> <span class="line" data-startTime="835">And we're looking for </span><span class="line" data-startTime="835">interventions from everyone. </span></p>

<p><span class="line" data-startTime="838">So if you have a point to make, </span><span class="line" data-startTime="838">then jump in an make it, </span><span class="line" data-startTime="841">and make your voice heard. </span> <span class="line" data-startTime="843">It should be on topic. </span> <span class="line" data-startTime="846">[LAUGHTER] </span></p>

<p class="speaker"><span class="line" data-starttime="848"><span class="speakerName">Andrew Betts</span>: Yes. </span> <span class="line" data-startTime="848">Don't just wax lyrical </span><span class="line" data-startTime="848">about anything. </span> <span class="line" data-startTime="852">So if you have a point to make </span><span class="line" data-startTime="852">that's on the topic of the </span><span class="line" data-startTime="855">primary question, then jump </span><span class="line" data-startTime="855">into the debate and </span><span class="line" data-startTime="859">participate. </span> <span class="line" data-startTime="863">Tips. </span> <span class="line" data-startTime="864">If you think you have seven </span><span class="line" data-startTime="864">points to make, choose the </span><span class="line" data-startTime="868">most important one. </span> <span class="line" data-startTime="870">Because we don't have time </span><span class="line" data-startTime="870">to hear all of them. </span> <span class="line" data-startTime="872">And you don't need to introduce </span><span class="line" data-startTime="872">yourself, because we </span><span class="line" data-startTime="875">have this tool, which Wesley </span><span class="line" data-startTime="875">Hales from Apigee has created, </span><span class="line" data-startTime="879">and which we're assured will </span><span class="line" data-startTime="879">be working perfectly today. </span> <span class="line" data-startTime="884">Which will enable everyone to </span><span class="line" data-startTime="884">requests speaking time. </span> <span class="line" data-startTime="887">So at the beginning of every </span><span class="line" data-startTime="887">session, you'll see a URL on </span><span class="line" data-startTime="889">the screen. </span></p>

<p><span class="line" data-startTime="890">Tap that into your smartphone, </span><span class="line" data-startTime="890">and you'll see a remote on </span><span class="line" data-startTime="894">your smartphone that allows you </span><span class="line" data-startTime="894">to request speaking time. </span> <span class="line" data-startTime="896">So you can say, I want to </span><span class="line" data-startTime="896">speak in the debate. </span> <span class="line" data-startTime="898">You'll come up on the screen. </span> <span class="line" data-startTime="900">The moderator will be able to </span><span class="line" data-startTime="900">then call you to say what you </span><span class="line" data-startTime="903">want to say. </span> <span class="line" data-startTime="905">30 seconds is good. </span> <span class="line" data-startTime="905">A minute is probably </span><span class="line" data-startTime="905">pushing it. </span> <span class="line" data-startTime="907">So try and keep it short. </span> <span class="line" data-startTime="909">And keep it on topic. </span> <span class="line" data-startTime="914">This is the schedule </span><span class="line" data-startTime="914">for the day. </span> <span class="line" data-startTime="915">So we're starting with </span><span class="line" data-startTime="915">Responsive Images. </span> <span class="line" data-startTime="918">We've got Rendering Performance, </span><span class="line" data-startTime="918">Third Party </span><span class="line" data-startTime="919">Scripts, Real Time Data. </span></p>

<p><span class="line" data-startTime="921">We're breaking for </span><span class="line" data-startTime="921">lunch at 1:15. </span> <span class="line" data-startTime="924">And lunch will be in this </span><span class="line" data-startTime="924">room I believe. </span> <span class="line" data-startTime="928">Offline, Legacy Clients, and </span><span class="line" data-startTime="928">we finish up with Payments. </span> <span class="line" data-startTime="930">Then after Payments, we have </span><span class="line" data-startTime="930">dinner, which will be upstairs </span><span class="line" data-startTime="935">in The Canteen. </span> <span class="line" data-startTime="936">And then we go to the party. </span> <span class="line" data-startTime="940">We have a hub page, </span><span class="line" data-startTime="940">EdgeConf.com/hub. </span> <span class="line" data-startTime="942">If you go to that on your phone, </span><span class="line" data-startTime="942">you'll get all the </span><span class="line" data-startTime="944">links to the session remotes. </span> <span class="line" data-startTime="946">So you can get an easy link </span><span class="line" data-startTime="946">rather than having to see the </span><span class="line" data-startTime="951">URL at the beginning of every </span><span class="line" data-startTime="951">session, you can get the links </span><span class="line" data-startTime="953">directly from that page. </span></p>

<p><span class="line" data-startTime="955">There's also a link on that </span><span class="line" data-startTime="955">page to our feedback form. </span> <span class="line" data-startTime="959">And it's really important for </span><span class="line" data-startTime="959">us, particularly as we're </span><span class="line" data-startTime="961">trying loads of new </span><span class="line" data-startTime="961">things today, that </span><span class="line" data-startTime="963">everyone gives us feedback. </span> <span class="line" data-startTime="966">So do please fill that form </span><span class="line" data-startTime="966">in some point towards </span><span class="line" data-startTime="968">the end of the day. </span> <span class="line" data-startTime="971">Here are the people who you need </span><span class="line" data-startTime="971">to see thank for today. </span> <span class="line" data-startTime="975">I'm the curator of the event, </span><span class="line" data-startTime="975">so I chose all the speakers </span><span class="line" data-startTime="978">and invited them to be here. </span> <span class="line" data-startTime="981">Pete LePage from Google </span><span class="line" data-startTime="981">is here in the room. </span></p>

<p><span class="line" data-startTime="983">Or is he having a heart </span><span class="line" data-startTime="983">attack somewhere? </span><span class="line" data-startTime="986">Yes, there he is. </span> <span class="line" data-startTime="989">Tim Davenport, my colleague </span><span class="line" data-startTime="989">at FT Labs. </span> <span class="line" data-startTime="990">He's back in London. </span> <span class="line" data-startTime="991">Has been sorting out delicate </span><span class="line" data-startTime="991">logistics for us. </span> <span class="line" data-startTime="995">Vivian Cromwell, who should </span><span class="line" data-startTime="995">be here somewhere. </span> <span class="line" data-startTime="997">Is she here? </span><span class="line" data-startTime="998">Not here yet. </span> <span class="line" data-startTime="999">Not here yet. </span> <span class="line" data-startTime="1001">She's been liaising with a lot </span><span class="line" data-startTime="1001">of Google people for us. </span> <span class="line" data-startTime="1004">Jen Bouchard from Facebook, </span><span class="line" data-startTime="1004">who's not here but is </span><span class="line" data-startTime="1007">frantically organizing our </span><span class="line" data-startTime="1007">afterparty this evening. </span> <span class="line" data-startTime="1010">Wesley Hales from Apigee. </span> <span class="line" data-startTime="1012">He has put a phenomenal amount </span><span class="line" data-startTime="1012">of work into creating the </span><span class="line" data-startTime="1014">moderation tool that you'll </span><span class="line" data-startTime="1014">be using today. </span> <span class="line" data-startTime="1016">And he is really keen to hear </span><span class="line" data-startTime="1016">from anyone who has </span><span class="line" data-startTime="1019">trouble using it. </span> <span class="line" data-startTime="1020">So where are you? </span><span class="line" data-startTime="1021">Put your hand up. </span></p>

<p><span class="line" data-startTime="1022">He's right over there. </span> <span class="line" data-startTime="1024">So if you can't make it work, </span><span class="line" data-startTime="1024">then go and see him. </span> <span class="line" data-startTime="1029">Also, if you can't make it </span><span class="line" data-startTime="1029">work, don't feel like you </span><span class="line" data-startTime="1031">can't just put your hand up. </span> <span class="line" data-startTime="1032">Just get involved </span><span class="line" data-startTime="1032">any way you can. </span> <span class="line" data-startTime="1035">And Dave Stanton from Pixelbots, </span><span class="line" data-startTime="1035">who designed the </span><span class="line" data-startTime="1037">Edge Conf website. </span> <span class="line" data-startTime="1039">So the organizations </span><span class="line" data-startTime="1039">involved today. </span> <span class="line" data-startTime="1041">FT Labs. </span> <span class="line" data-startTime="1042">We created and curated </span><span class="line" data-startTime="1042">the event. </span> <span class="line" data-startTime="1045">Google Chrome, in providing this </span><span class="line" data-startTime="1045">amazing venue and doing </span><span class="line" data-startTime="1047">all the hosting for us. </span> <span class="line" data-startTime="1049">Facebook, organizing </span><span class="line" data-startTime="1049">our afterparty. </span> <span class="line" data-startTime="1051">And we also would like to thank </span><span class="line" data-startTime="1051">Akamai and Adobe for </span><span class="line" data-startTime="1054">sponsoring a couple </span><span class="line" data-startTime="1054">of our sessions. </span></p>

<p><span class="line" data-startTime="1057">So important stuff. </span> <span class="line" data-startTime="1058">We have some fabulous prizes, </span><span class="line" data-startTime="1058">mostly to encourage you all to </span><span class="line" data-startTime="1063">submit feedback. </span> <span class="line" data-startTime="1065">But also for the most inspired </span><span class="line" data-startTime="1065">intervention. </span> <span class="line" data-startTime="1067">So we want to hear people making </span><span class="line" data-startTime="1067">really good points </span><span class="line" data-startTime="1070">about new use cases, new </span><span class="line" data-startTime="1070">problems, new solutions that </span><span class="line" data-startTime="1073">they have which maybe </span><span class="line" data-startTime="1073">we don't know about. </span> <span class="line" data-startTime="1075">And it's that kind of thing that </span><span class="line" data-startTime="1075">we really want to hear </span><span class="line" data-startTime="1077">and which we'll be giving </span><span class="line" data-startTime="1077">prizes for. </span> <span class="line" data-startTime="1080">And we also gave everyone a </span><span class="line" data-startTime="1080">raffle ticket when they came </span><span class="line" data-startTime="1082">in, so there will be a </span><span class="line" data-startTime="1082">random draw as well. </span> <span class="line" data-startTime="1086">And those fabulous prizes </span><span class="line" data-startTime="1086">are Chromebook Pixels. </span> <span class="line" data-startTime="1090">Whoo! </span><span class="line" data-startTime="1091">[LAUGHTER] </span></p>

<p class="speaker"><span class="line" data-starttime="1092"><span class="speakerName">Steve Thair</span>: Let's do </span><span class="line" data-startTime="1092">that one again. </span></p>

<p class="speaker"><span class="line" data-starttime="1094"><span class="speakerName">Andrew Betts</span>: Woo! </span></p>

<p class="speaker"><span class="line" data-starttime="1094"><span class="speakerName">Steve Thair</span>: Chromebook Pixels! </span><span class="line" data-startTime="1095">Woo. </span></p>

<p class="speaker"><span class="line" data-starttime="1096"><span class="speakerName">Whole Audience</span>: Woo! </span></p>

<p class="speaker"><span class="line" data-starttime="1097"><span class="speakerName">Andrew Betts</span>: Steve, you're far </span><span class="line" data-startTime="1097">better at this than I am. </span><span class="line" data-startTime="1099">[LAUGHTER] </span></p>

<p class="speaker"><span class="line" data-starttime="1101"><span class="speakerName">Andrew Betts</span>: So you can </span><span class="line" data-startTime="1101">look forward to that. </span> <span class="line" data-startTime="1103">And, of course part of the </span><span class="line" data-startTime="1103">reason we're all here today is </span><span class="line" data-startTime="1107">to support Girls Who Code, which </span><span class="line" data-startTime="1107">is a fabulous charity </span><span class="line" data-startTime="1110">based here in New York City </span><span class="line" data-startTime="1110">that promotes women in </span><span class="line" data-startTime="1112">technology and teaching </span><span class="line" data-startTime="1112">girls to program. </span> <span class="line" data-startTime="1116">And I think that's an objective </span><span class="line" data-startTime="1117">we can all get behind. </span> <span class="line" data-startTime="1118">So thank you very much for your </span><span class="line" data-startTime="1118">contributions already and </span><span class="line" data-startTime="1122">the contributions that you'll </span><span class="line" data-startTime="1122">make today to that cause. </span> <span class="line" data-startTime="1125">So without further ado, </span><span class="line" data-startTime="1125">our first session </span><span class="line" data-startTime="1128">is Responsive Images. </span> <span class="line" data-startTime="1131">And the moderator </span><span class="line" data-startTime="1131">for this session </span><span class="line" data-startTime="1134">will be Marcos Caceres? </span><span class="line" data-startTime="1137">Is that right? </span><span class="line" data-startTime="1138">Yes! </span><span class="line" data-startTime="1138">Marcos Caceres from Mozilla. </span> <span class="line" data-startTime="1140">So Marcos, come up and make </span><span class="line" data-startTime="1140">your introductions. </span></p>

<p><span class="line" data-startTime="1143">[APPLAUSE] </span></p>

<p class="speaker"><span class="line" data-starttime="1152"><span class="speakerName">Marcos Caceres</span>: I'm </span><span class="line" data-startTime="1152">already on. </span><span class="line" data-startTime="1153">And I didn't touch anything. </span><span class="line" data-startTime="1154">So come on up, folks, and </span><span class="line" data-startTime="1154">I'll introduce you here. </span><span class="line" data-startTime="1162">So take a seat. </span><span class="line" data-startTime="1164">This is Yoav Weiss. </span><span class="line" data-startTime="1168">I'll try to keep everything </span><span class="line" data-startTime="1168">very brief as we get </span><span class="line" data-startTime="1171">established. </span><span class="line" data-startTime="1172">So Yoav's been doing quite a </span><span class="line" data-startTime="1172">lot of work with responsive </span><span class="line" data-startTime="1174">images of late. </span><span class="line" data-startTime="1176">He's heavily involved </span><span class="line" data-startTime="1176">in the Responsive </span><span class="line" data-startTime="1177">Images Community Group. </span><span class="line" data-startTime="1180">And we have Peter Miller. </span><span class="line" data-startTime="1182">So Peter Miller's </span><span class="line" data-startTime="1182">our developer. </span><span class="line" data-startTime="1184">Works on a lot of concert-heavy </span><span class="line" data-startTime="1184">websites, </span><span class="line" data-startTime="1187">image-heavy websites. </span><span class="line" data-startTime="1188">So great experience. </span><span class="line" data-startTime="1190">Ann Robson writes. </span><span class="line" data-startTime="1193">Also works for &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1194"><span class="speakerName">Ann Robson</span>: Yammer. </span></p>

<p class="speaker"><span class="line" data-starttime="1195"><span class="speakerName">Marcos Caceres</span>: Yammer &mdash; </span><span class="line" data-startTime="1195">sorry, I forgot. </span> <span class="line" data-startTime="1197">Ann has fantastic stuff </span><span class="line" data-startTime="1197">about web performance. </span> <span class="line" data-startTime="1199">Has some great ideas about how </span><span class="line" data-startTime="1199">we can address some of the </span><span class="line" data-startTime="1202">responsive images problems </span><span class="line" data-startTime="1202">using progressive jpegs. </span> <span class="line" data-startTime="1205">Estelle Weyl. </span> <span class="line" data-startTime="1208">Has everyone heard of the </span><span class="line" data-startTime="1208">clown car technique? </span><span class="line" data-startTime="1211">The creator. </span> <span class="line" data-startTime="1212">So we're going to hopefully talk </span><span class="line" data-startTime="1212">a little bit about that. </span> <span class="line" data-startTime="1216">And John Mellor works </span><span class="line" data-startTime="1216">at Google. </span> <span class="line" data-startTime="1219">And John Mellor's probably the </span><span class="line" data-startTime="1219">only person on Earth who can </span><span class="line" data-startTime="1222">tell you the difference between </span><span class="line" data-startTime="1222">a device pixel, a real </span><span class="line" data-startTime="1226">pixel, a CSS pixel, and all </span><span class="line" data-startTime="1226">sorts of other pixels. </span> <span class="line" data-startTime="1231">So he can do it all </span><span class="line" data-startTime="1231">in his head. </span></p>

<p><span class="line" data-startTime="1233">It's pretty crazy. </span> <span class="line" data-startTime="1235">So first up we have Yoav, </span><span class="line" data-startTime="1235">who's going to give a 10 </span><span class="line" data-startTime="1241">minute talk, basically outlining </span><span class="line" data-startTime="1241">what the current </span><span class="line" data-startTime="1244">solutions are that we've been </span><span class="line" data-startTime="1244">basically discussing for the </span><span class="line" data-startTime="1249">last two years. </span> <span class="line" data-startTime="1250">Trying to come up </span><span class="line" data-startTime="1250">with a solution </span><span class="line" data-startTime="1251">for responsive images. </span> <span class="line" data-startTime="1252">Take it away. </span> <span class="line" data-startTime="1255">We'll swap seats. </span></p>

<p class="speaker"><span class="line" data-starttime="1283"><span class="speakerName">Yoav Weiss</span>: So hi. </span> <span class="line" data-startTime="1286">As Marcos said, I'm </span><span class="line" data-startTime="1286">Yoav Weiss. </span> <span class="line" data-startTime="1288">I'm here to talk about </span><span class="line" data-startTime="1288">responsive images. </span> <span class="line" data-startTime="1291">I'll try to sum up two </span><span class="line" data-startTime="1291">years of discussions </span><span class="line" data-startTime="1294">into 10 minutes talk. </span> <span class="line" data-startTime="1295">So bear with me. </span> <span class="line" data-startTime="1299">So first, in the mid-2000s, </span><span class="line" data-startTime="1299">all we had </span><span class="line" data-startTime="1302">was mobile-only sites. </span> <span class="line" data-startTime="1304">They were kind of lame, with </span><span class="line" data-startTime="1304">very slim content, highly </span><span class="line" data-startTime="1311">optimized images. </span> <span class="line" data-startTime="1313">It got a little better </span><span class="line" data-startTime="1313">with the iPhone. </span> <span class="line" data-startTime="1315">But it wasn't that hot. </span></p>

<p><span class="line" data-startTime="1319">Then responsive web design </span><span class="line" data-startTime="1319">became a thing. </span> <span class="line" data-startTime="1323">Which was very cool. </span> <span class="line" data-startTime="1324">One code base to </span><span class="line" data-startTime="1324">rule them all. </span> <span class="line" data-startTime="1326">You can serve all the devices </span><span class="line" data-startTime="1326">through a single site. </span> <span class="line" data-startTime="1330">But the problem is, it </span><span class="line" data-startTime="1330">was kind of slow. </span> <span class="line" data-startTime="1337">It became a synonym to </span><span class="line" data-startTime="1337">slow mobile website. </span> <span class="line" data-startTime="1342">Which is a problem. </span> <span class="line" data-startTime="1345">So the reason is that most </span><span class="line" data-startTime="1345">sites just serve the same </span><span class="line" data-startTime="1350">resources to both mobile </span><span class="line" data-startTime="1350">and desktop. </span> <span class="line" data-startTime="1357">And most of that </span><span class="line" data-startTime="1357">data is images. </span> <span class="line" data-startTime="1360">So there are a lot of </span><span class="line" data-startTime="1360">savings to be made. </span> <span class="line" data-startTime="1368">I wrote a utility, which </span><span class="line" data-startTime="1368">Tim Kadlec runs. </span> <span class="line" data-startTime="1372">Tim Kadlec is a developer. </span> <span class="line" data-startTime="1374">Sorry for name-dropping. </span> <span class="line" data-startTime="1377">But basically, we saw that up </span><span class="line" data-startTime="1377">to 72% of the image data can </span><span class="line" data-startTime="1382">be saved for some </span><span class="line" data-startTime="1382">of the viewports </span><span class="line" data-startTime="1384">in some of the cases. </span></p>

<p><span class="line" data-startTime="1385">So there's a lot of savings </span><span class="line" data-startTime="1385">to be made. </span> <span class="line" data-startTime="1388">And the retina only makes things </span><span class="line" data-startTime="1388">worse, because the gap </span><span class="line" data-startTime="1393">between the smallest viewport, </span><span class="line" data-startTime="1393">smallest images you want to </span><span class="line" data-startTime="1397">send and the highest resolution </span><span class="line" data-startTime="1397">images you want to </span><span class="line" data-startTime="1400">send is getting bigger. </span> <span class="line" data-startTime="1404">With most devs owning retina </span><span class="line" data-startTime="1404">devices, most devs are sending </span><span class="line" data-startTime="1412">high-resolution images </span><span class="line" data-startTime="1412">to all devices. </span> <span class="line" data-startTime="1415">So this is the responsive images </span><span class="line" data-startTime="1415">problem which we like </span><span class="line" data-startTime="1421">to divide into two </span><span class="line" data-startTime="1421">major use cases. </span> <span class="line" data-startTime="1424">The first one is resolution </span><span class="line" data-startTime="1424">switching. </span> <span class="line" data-startTime="1426">Serving different dimension </span><span class="line" data-startTime="1426">images to different devices. </span> <span class="line" data-startTime="1435">The images are the same images, </span><span class="line" data-startTime="1435">same proportions. </span></p>

<p><span class="line" data-startTime="1440">They're not cropped. </span> <span class="line" data-startTime="1442">But basically, the quality </span><span class="line" data-startTime="1442">is different. </span> <span class="line" data-startTime="1446">This is one example of that. </span> <span class="line" data-startTime="1449">And it can be further divided </span><span class="line" data-startTime="1449">into DPR switching, serving </span><span class="line" data-startTime="1456">retina images only to retina </span><span class="line" data-startTime="1456">devices, and viewport </span><span class="line" data-startTime="1459">switching, which is adapting </span><span class="line" data-startTime="1459">the image dimensions to the </span><span class="line" data-startTime="1465">actual display, to the size in </span><span class="line" data-startTime="1465">which they will be displayed. </span> <span class="line" data-startTime="1475">Then the other major use </span><span class="line" data-startTime="1475">case is art direction. </span> <span class="line" data-startTime="1478">Basically, it's content </span><span class="line" data-startTime="1478">optimization without wasting </span><span class="line" data-startTime="1482">too many bytes. </span></p>

<p><span class="line" data-startTime="1483">It's matching the images </span><span class="line" data-startTime="1483">to the layout in a </span><span class="line" data-startTime="1487">way that makes sense. </span> <span class="line" data-startTime="1488">So either a crop or different </span><span class="line" data-startTime="1488">proportions or something that </span><span class="line" data-startTime="1492">works according to the actual </span><span class="line" data-startTime="1492">responsive break points. </span> <span class="line" data-startTime="1499">From a survey we ran, a lot of </span><span class="line" data-startTime="1499">developers are already doing </span><span class="line" data-startTime="1504">that using hacks. </span> <span class="line" data-startTime="1505">So this is a major use case. </span> <span class="line" data-startTime="1511">So we've talked about </span><span class="line" data-startTime="1511">the problem. </span> <span class="line" data-startTime="1513">Let's talk about </span><span class="line" data-startTime="1513">the solutions. </span> <span class="line" data-startTime="1515">There are several proposed </span><span class="line" data-startTime="1515">standard solutions. </span> <span class="line" data-startTime="1519">There's a Source Set attribute, </span><span class="line" data-startTime="1519">Picture element, </span><span class="line" data-startTime="1523">Client Hints header. </span> <span class="line" data-startTime="1525">And I put a question mark in </span><span class="line" data-startTime="1525">because it's not really a </span><span class="line" data-startTime="1529">standard solution. </span> <span class="line" data-startTime="1530">This is just a proposal </span><span class="line" data-startTime="1530">at the moment. </span> <span class="line" data-startTime="1532">But the responsive </span><span class="line" data-startTime="1532">image container. </span></p>

<p><span class="line" data-startTime="1534">I'll talk about each </span><span class="line" data-startTime="1534">one in detail. </span> <span class="line" data-startTime="1536">So Source Set. </span> <span class="line" data-startTime="1538">Basically, it's the same old </span><span class="line" data-startTime="1538">image tag, now with a new </span><span class="line" data-startTime="1542">attribute that can include </span><span class="line" data-startTime="1542">multiple resources according </span><span class="line" data-startTime="1546">to the DPR and the viewport. </span> <span class="line" data-startTime="1548">It's a slightly controversial </span><span class="line" data-startTime="1548">statement, but it addresses, </span><span class="line" data-startTime="1554">mainly, the resolution switching </span><span class="line" data-startTime="1554">case and much less </span><span class="line" data-startTime="1557">the art direction case. </span> <span class="line" data-startTime="1559">Some people disagree. </span> <span class="line" data-startTime="1563">The current implementation. </span> <span class="line" data-startTime="1565">Source Set is currently </span><span class="line" data-startTime="1565">implemented in </span><span class="line" data-startTime="1567">WebKit and in Blink. </span> <span class="line" data-startTime="1570">It's behind a flag in Blink. </span> <span class="line" data-startTime="1571">And it's not yet shipped </span><span class="line" data-startTime="1571">in WebKit, but it's </span><span class="line" data-startTime="1574">there in the code base. </span> <span class="line" data-startTime="1575">Firefox will soon follow. </span> <span class="line" data-startTime="1580">Basically, it looks something </span><span class="line" data-startTime="1580">like this you specified the 1x </span><span class="line" data-startTime="1587">or 2x or 1 and 1/2 x or 3x </span><span class="line" data-startTime="1587">qualifiers for each image </span><span class="line" data-startTime="1591">resource you add to the page. </span></p>

<p><span class="line" data-startTime="1599">The entire spec also includes </span><span class="line" data-startTime="1599">viewport switching, which </span><span class="line" data-startTime="1603">looks something like this. </span> <span class="line" data-startTime="1609">For each resource, you specify </span><span class="line" data-startTime="1609">the max viewport for which it </span><span class="line" data-startTime="1614">can be applied to, and the x </span><span class="line" data-startTime="1614">factor that's adapted to it. </span> <span class="line" data-startTime="1620">The problem with that, </span><span class="line" data-startTime="1620">it gives you a lot </span><span class="line" data-startTime="1624">of expressive power. </span> <span class="line" data-startTime="1625">But you also have to, in some </span><span class="line" data-startTime="1625">cases, like you can see in the </span><span class="line" data-startTime="1629">example I put up, define a </span><span class="line" data-startTime="1629">single URL several times. </span> <span class="line" data-startTime="1634">Because it fits several DPR </span><span class="line" data-startTime="1634">and viewport combinations. </span> <span class="line" data-startTime="1640">Then we have Picture, </span><span class="line" data-startTime="1640">which is mainly </span><span class="line" data-startTime="1642">targeted at art direction. </span> <span class="line" data-startTime="1647">It's an element with multiple </span><span class="line" data-startTime="1647">source children. </span></p>

<p><span class="line" data-startTime="1652">Each one of them is specifying </span><span class="line" data-startTime="1652">an image resource based on </span><span class="line" data-startTime="1656">media queries and </span><span class="line" data-startTime="1656">possibly type. </span> <span class="line" data-startTime="1660">The first matching resource is </span><span class="line" data-startTime="1660">downloaded and displayed. </span> <span class="line" data-startTime="1666">It looks something like this. </span> <span class="line" data-startTime="1668">And as you can see, it </span><span class="line" data-startTime="1668">can mix source set </span><span class="line" data-startTime="1671">into the source elements. </span> <span class="line" data-startTime="1674">So you can define an </span><span class="line" data-startTime="1674">art-directed image with </span><span class="line" data-startTime="1679">multiple DPR versions of it. </span> <span class="line" data-startTime="1683">And the media attributes you use </span><span class="line" data-startTime="1683">here are most probably the </span><span class="line" data-startTime="1691">same media values that you use </span><span class="line" data-startTime="1691">for your layout break points, </span><span class="line" data-startTime="1696">unlike viewport resolution </span><span class="line" data-startTime="1696">switching, which can be </span><span class="line" data-startTime="1700">independent of the </span><span class="line" data-startTime="1700">layout viewport. </span> <span class="line" data-startTime="1704">Then we have, as a third </span><span class="line" data-startTime="1704">contender or third proposal, </span><span class="line" data-startTime="1710">we have Client Hints. </span></p>

<p><span class="line" data-startTime="1711">That is unlike the two others. </span> <span class="line" data-startTime="1712">It's not a market-based </span><span class="line" data-startTime="1712">solution, it's </span><span class="line" data-startTime="1715">an HTTP-based solution. </span> <span class="line" data-startTime="1717">And basically, the client sends </span><span class="line" data-startTime="1717">out its capabilities. </span> <span class="line" data-startTime="1723">It sends out hints through </span><span class="line" data-startTime="1723">the server, </span><span class="line" data-startTime="1726">saying, this is my DPR. </span> <span class="line" data-startTime="1728">This is my viewport </span><span class="line" data-startTime="1728">width or height. </span> <span class="line" data-startTime="1731">The actual values are </span><span class="line" data-startTime="1731">still debated. </span> <span class="line" data-startTime="1733">But this is the general </span><span class="line" data-startTime="1733">spirit. </span> <span class="line" data-startTime="1737">And everything is done </span><span class="line" data-startTime="1737">on the server side. </span> <span class="line" data-startTime="1740">It's server logic that serves </span><span class="line" data-startTime="1740">one resource or the other. </span></p>

<p><span class="line" data-startTime="1748">One recent change to </span><span class="line" data-startTime="1748">that proposal is </span><span class="line" data-startTime="1751">that it's opt-in only. </span> <span class="line" data-startTime="1753">The hints are not sent on </span><span class="line" data-startTime="1753">the first HTML request. </span> <span class="line" data-startTime="1756">On the other hand, it saved us </span><span class="line" data-startTime="1756">from adding data to request </span><span class="line" data-startTime="1764">where the server is not going </span><span class="line" data-startTime="1764">to do anything about it. </span> <span class="line" data-startTime="1767">So that's a recent compromise </span><span class="line" data-startTime="1767">that may be able to push the </span><span class="line" data-startTime="1773">spec forward. </span> <span class="line" data-startTime="1776">Then you have something I'm </span><span class="line" data-startTime="1776">proposing as more of a </span><span class="line" data-startTime="1783">long-term solution. </span></p>

<p><span class="line" data-startTime="1784">This is not something that's on </span><span class="line" data-startTime="1784">anyone's immediate radar. </span> <span class="line" data-startTime="1788">But it's a long-term solution </span><span class="line" data-startTime="1788">I'm proposing that's a file </span><span class="line" data-startTime="1793">format-based approach, where </span><span class="line" data-startTime="1793">each target resolution that we </span><span class="line" data-startTime="1798">want to serve is represented </span><span class="line" data-startTime="1798">in a layer in </span><span class="line" data-startTime="1802">some sort of a container. </span> <span class="line" data-startTime="1803">And these layers are building up </span><span class="line" data-startTime="1803">one on top of the other so </span><span class="line" data-startTime="1809">that the browser can download </span><span class="line" data-startTime="1809">a certain number of layers, </span><span class="line" data-startTime="1813">and then add more layers </span><span class="line" data-startTime="1813">on that, enhancing the </span><span class="line" data-startTime="1816">quality of the image. </span> <span class="line" data-startTime="1819">It can address both resolution </span><span class="line" data-startTime="1819">switching and art direction. </span> <span class="line" data-startTime="1822">And I'll just show you </span><span class="line" data-startTime="1822">a bunch of examples. </span></p>

<p><span class="line" data-startTime="1826">So basically, for resolution </span><span class="line" data-startTime="1826">switching, we have this photo </span><span class="line" data-startTime="1831">that, if we look into </span><span class="line" data-startTime="1831">the layers that </span><span class="line" data-startTime="1834">compose it, it's a thumbnail. </span> <span class="line" data-startTime="1837">Then an enhancement layer, </span><span class="line" data-startTime="1837">which is basically the </span><span class="line" data-startTime="1840">thumbnail upscaled, with a dif </span><span class="line" data-startTime="1840">from the original image </span><span class="line" data-startTime="1845">downscaled. </span> <span class="line" data-startTime="1846">So an enhancement layer, and </span><span class="line" data-startTime="1846">another one that's basically </span><span class="line" data-startTime="1853">used to recreate the original </span><span class="line" data-startTime="1853">image without adding many </span><span class="line" data-startTime="1858">bytes to the process. </span> <span class="line" data-startTime="1861">Overhead is very small. </span> <span class="line" data-startTime="1863">And for art direction, the </span><span class="line" data-startTime="1863">same can be applied. </span> <span class="line" data-startTime="1867">So this bigger image that's </span><span class="line" data-startTime="1867">used everywhere for art </span><span class="line" data-startTime="1870">direction can be split </span><span class="line" data-startTime="1870">into a crop. </span> <span class="line" data-startTime="1874">Then an enhancement layer </span><span class="line" data-startTime="1874">and another one. </span></p>

<p><span class="line" data-startTime="1880">The advantages are that </span><span class="line" data-startTime="1880">markup is not touched. </span> <span class="line" data-startTime="1885">You have a single file </span><span class="line" data-startTime="1885">per image, so </span><span class="line" data-startTime="1886">it's easy to maintain. </span> <span class="line" data-startTime="1888">And the best one for me is </span><span class="line" data-startTime="1888">that the browser can just </span><span class="line" data-startTime="1891">download difs. </span> <span class="line" data-startTime="1893">If they had downloaded one image </span><span class="line" data-startTime="1893">and then something in </span><span class="line" data-startTime="1897">the browser's environment </span><span class="line" data-startTime="1897">has changed, you can </span><span class="line" data-startTime="1899">download the dif. </span> <span class="line" data-startTime="1901">The disadvantages are that it's </span><span class="line" data-startTime="1901">complicated to implement. </span> <span class="line" data-startTime="1906">And basically, the coding </span><span class="line" data-startTime="1906">performance and network </span><span class="line" data-startTime="1910">performance without HTTP2 </span><span class="line" data-startTime="1910">is currently a mystery. </span> <span class="line" data-startTime="1915">We need to further investigate </span><span class="line" data-startTime="1915">that in order to know if it's </span><span class="line" data-startTime="1919">feasible or not without HTTP2 </span><span class="line" data-startTime="1919">and in terms of the coding </span><span class="line" data-startTime="1923">performance. </span></p>

<p><span class="line" data-startTime="1925">And last-minute slides added </span><span class="line" data-startTime="1925">by John Mellor here. </span> <span class="line" data-startTime="1929">Maybe you want to </span><span class="line" data-startTime="1929">talk about that? </span></p>

<p class="speaker"><span class="line" data-starttime="1933"><span class="speakerName">John Mellor</span>: Sure I guess. </span> <span class="line" data-startTime="1940">So a possible way of making this </span><span class="line" data-startTime="1940">responsive image format </span><span class="line" data-startTime="1942">container load more </span><span class="line" data-startTime="1942">efficiently. </span> <span class="line" data-startTime="1946">When you're making several range </span><span class="line" data-startTime="1946">requests or something </span><span class="line" data-startTime="1949">and you don't want to leave gaps </span><span class="line" data-startTime="1949">in between and wait for a </span><span class="line" data-startTime="1951">round trip each time. </span> <span class="line" data-startTime="1954">It will load all the images </span><span class="line" data-startTime="1954">on the page in parallel, </span><span class="line" data-startTime="1958">progressively. </span> <span class="line" data-startTime="1960">So I've taken [INAUDIBLE] </span><span class="line" data-startTime="1960">website. </span> <span class="line" data-startTime="1963">I've stolen this, sorry. </span> <span class="line" data-startTime="1966">On the left you see the images </span><span class="line" data-startTime="1966">being loaded one by one, </span><span class="line" data-startTime="1968">sequentially. </span></p>

<p><span class="line" data-startTime="1969">On the right, you see </span><span class="line" data-startTime="1969">the images being </span><span class="line" data-startTime="1970">loaded all in parallel. </span> <span class="line" data-startTime="1973">It's the same progressive </span><span class="line" data-startTime="1973">jpegs on both sides. </span> <span class="line" data-startTime="1976">On the left, I'm truncating the </span><span class="line" data-startTime="1976">stream of images, so that </span><span class="line" data-startTime="1980">you get the first image, and </span><span class="line" data-startTime="1980">then I truncate at some point. </span> <span class="line" data-startTime="1983">On the right, I truncate all </span><span class="line" data-startTime="1983">the images at the same </span><span class="line" data-startTime="1985">percentage. </span> <span class="line" data-startTime="1986">So this is 5% of the </span><span class="line" data-startTime="1986">image bytes. </span> <span class="line" data-startTime="1989">And you can see that on </span><span class="line" data-startTime="1989">both sides, the page </span><span class="line" data-startTime="1991">doesn't look great. </span> <span class="line" data-startTime="1992">But by the time you've got to </span><span class="line" data-startTime="1992">10% of the image bytes, </span><span class="line" data-startTime="1997">already on the right you can </span><span class="line" data-startTime="1997">kind of see what the page </span><span class="line" data-startTime="1999">looks like. </span></p>

<p><span class="line" data-startTime="2000">All the images are really </span><span class="line" data-startTime="2000">blurry and so on. </span> <span class="line" data-startTime="2002">But that at least filled </span><span class="line" data-startTime="2002">their space well. </span> <span class="line" data-startTime="2005">Whereas on the left, you can see </span><span class="line" data-startTime="2005">the start of the top left </span><span class="line" data-startTime="2009">image, but all the other images </span><span class="line" data-startTime="2009">haven't even started </span><span class="line" data-startTime="2012">loading yet. </span> <span class="line" data-startTime="2015">As you gradually load more, </span><span class="line" data-startTime="2015">say you're on &mdash; </span><span class="line" data-startTime="2021">MALE SPEAKER: [INAUDIBLE] </span></p>

<p class="speaker"><span class="line" data-starttime="2022"><span class="speakerName">John Mellor</span>: OK. </span> <span class="line" data-startTime="2023">Say you get to 25%, </span><span class="line" data-startTime="2023">for example. </span> <span class="line" data-startTime="2026">Now that page on the right, </span><span class="line" data-startTime="2026">we're only loaded a quarter of </span><span class="line" data-startTime="2029">the image bytes, but it already </span><span class="line" data-startTime="2029">starts to look OK. </span> <span class="line" data-startTime="2033">The images aren't crisp, </span><span class="line" data-startTime="2033">but they're </span><span class="line" data-startTime="2035">still perfectly usable. </span> <span class="line" data-startTime="2037">Whereas on the left, we have the </span><span class="line" data-startTime="2037">super crisp, lovely image </span><span class="line" data-startTime="2040">in the top left, but the </span><span class="line" data-startTime="2040">other images haven't </span><span class="line" data-startTime="2042">even started loading. </span> <span class="line" data-startTime="2046">By the time you get to 50%, </span><span class="line" data-startTime="2046">the page on the right now </span><span class="line" data-startTime="2050">looks perfect. </span> <span class="line" data-startTime="2051">You can almost not tell </span><span class="line" data-startTime="2051">that it hasn't </span><span class="line" data-startTime="2055">finished loading and images. </span> <span class="line" data-startTime="2057">Whereas on the left, </span><span class="line" data-startTime="2057">again, we've only </span><span class="line" data-startTime="2058">got half the images. </span> <span class="line" data-startTime="2061">And then, as you load more </span><span class="line" data-startTime="2061">bytes, the page on the right </span><span class="line" data-startTime="2063">gradually becomes </span><span class="line" data-startTime="2063">a super-crisp, </span><span class="line" data-startTime="2065">retina beautiful page. </span></p>

<p><span class="line" data-startTime="2066">But it's a very subtle </span><span class="line" data-startTime="2066">difference between that and </span><span class="line" data-startTime="2069">the 1x image. </span> <span class="line" data-startTime="2070">Whereas on the left, only now, </span><span class="line" data-startTime="2070">at 100%, do we actually all </span><span class="line" data-startTime="2076">the images at all visible. </span></p>

<p class="speaker"><span class="line" data-starttime="2081"><span class="speakerName">Ann Robson</span>: This is great. </span><span class="line" data-startTime="2083">I love that you're giving </span><span class="line" data-startTime="2083">something to the users like </span><span class="line" data-startTime="2086">well, they're waiting. </span><span class="line" data-startTime="2087">That's brilliant. </span><span class="line" data-startTime="2089">That's what I love about </span><span class="line" data-startTime="2089">progressive jpegs, is that </span><span class="line" data-startTime="2091">it'll download the first scan </span><span class="line" data-startTime="2091">as soon as possible. </span></p>

<p class="speaker"><span class="line" data-starttime="2094"><span class="speakerName">Marcos Caceres</span>: So I think </span><span class="line" data-startTime="2094">that's a good lead-in to the </span><span class="line" data-startTime="2097">first question that we have, </span><span class="line" data-startTime="2097">which is from Jake Archibald. </span><span class="line" data-startTime="2103">Hope I pronounced that right. </span><span class="line" data-startTime="2105">Jake, do you have your </span><span class="line" data-startTime="2105">question with you? </span></p>

<p class="speaker"><span class="line" data-starttime="2107"><span class="speakerName">Jake Archibald</span>: Yeah, do </span><span class="line" data-startTime="2107">I get a microphone? </span></p>

<p class="speaker"><span class="line" data-starttime="2108"><span class="speakerName">Marcos Caceres</span>: Yes. </span><span class="line" data-startTime="2109">Mic runner, please. </span><span class="line" data-startTime="2113">There goes Pete. </span><span class="line" data-startTime="2114">[LAUGHS] </span><span class="line" data-startTime="2116">He's going to be really slim </span><span class="line" data-startTime="2116">by the end of the day. </span></p>

<p class="speaker"><span class="line" data-starttime="2119"><span class="speakerName">Jake Archibald</span>: Hey. </span><span class="line" data-startTime="2120">So I currently send a 2 times or </span><span class="line" data-startTime="2120">2.5 times images, and just </span><span class="line" data-startTime="2125">compress the hell out of it. </span><span class="line" data-startTime="2126">And the file size is roughly </span><span class="line" data-startTime="2126">the same as a 1x image. </span><span class="line" data-startTime="2132">And that seems to do the job. </span><span class="line" data-startTime="2134">Why do we need all these </span><span class="line" data-startTime="2134">extra markup examples? </span><span class="line" data-startTime="2136">And if in the future, John's </span><span class="line" data-startTime="2136">solution could come in and </span><span class="line" data-startTime="2139">stop the download at </span><span class="line" data-startTime="2139">some point, surely </span><span class="line" data-startTime="2141">that's all we need. </span></p>

<p class="speaker"><span class="line" data-starttime="2144"><span class="speakerName">Marcos Caceres</span>: So go ahead </span><span class="line" data-startTime="2144">and start then. </span></p>

<p class="speaker"><span class="line" data-starttime="2146"><span class="speakerName">John Mellor</span>: So should we </span><span class="line" data-startTime="2146">start with the existing </span><span class="line" data-startTime="2147">fixed-width and flexible-width </span><span class="line" data-startTime="2147">images? </span><span class="line" data-startTime="2150">So this ties into what Yoav </span><span class="line" data-startTime="2150">was saying earlier about </span><span class="line" data-startTime="2152">resolution switching. </span> <span class="line" data-startTime="2153">There's two kinds. </span> <span class="line" data-startTime="2154">There's DPR switching, where </span><span class="line" data-startTime="2154">your images are a fixed size, </span><span class="line" data-startTime="2156">like a logo or an icon. </span> <span class="line" data-startTime="2159">It's going to be the </span><span class="line" data-startTime="2159">same width, say 32 </span><span class="line" data-startTime="2160">pixels, on all devices. </span> <span class="line" data-startTime="2163">And all you need to do is switch </span><span class="line" data-startTime="2163">it out based on the </span><span class="line" data-startTime="2165">device's pic screen density. </span> <span class="line" data-startTime="2168">So you might need a 2x image on </span><span class="line" data-startTime="2168">a retina screen, a 3x image </span><span class="line" data-startTime="2171">on Samsung Galaxy S4, </span><span class="line" data-startTime="2171">that kind of thing. </span></p>

<p><span class="line" data-startTime="2173">But all you're doing is changing </span><span class="line" data-startTime="2173">it based on the </span><span class="line" data-startTime="2176">device-pixel ratio. </span> <span class="line" data-startTime="2177">With a flexible-width image, </span><span class="line" data-startTime="2177">say you've got width 100%. </span> <span class="line" data-startTime="2182">Then suddenly, the width </span><span class="line" data-startTime="2182">for the viewport </span><span class="line" data-startTime="2184">of the device matters. </span> <span class="line" data-startTime="2185">And so your phones, your </span><span class="line" data-startTime="2185">tablets, your laptops, they </span><span class="line" data-startTime="2188">all have different </span><span class="line" data-startTime="2188">widths, they all </span><span class="line" data-startTime="2189">need different images. </span> <span class="line" data-startTime="2191">And here, a simple technique, </span><span class="line" data-startTime="2191">which gets you up to double </span><span class="line" data-startTime="2195">the resolution image by </span><span class="line" data-startTime="2195">compressing it more heavily, </span><span class="line" data-startTime="2198">isn't going to scale to an </span><span class="line" data-startTime="2198">8 times bigger image. </span></p>

<p class="speaker"><span class="line" data-starttime="2203"><span class="speakerName">Marcos Caceres</span>: So what </span><span class="line" data-startTime="2203">do you think? </span></p>

<p class="speaker"><span class="line" data-starttime="2207"><span class="speakerName">Yoav Weiss</span>: One more thing. </span><span class="line" data-startTime="2209">Regarding the compressive </span><span class="line" data-startTime="2209">images hack &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2212"><span class="speakerName">Marcos Caceres</span>: Explain what </span><span class="line" data-startTime="2212">the compressive images &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2214"><span class="speakerName">Yoav Weiss</span>: What to Jake </span><span class="line" data-startTime="2214">was talking about. </span><span class="line" data-startTime="2216">Basically, taking the high-res </span><span class="line" data-startTime="2216">images and extremely </span><span class="line" data-startTime="2225">compressing them so that they </span><span class="line" data-startTime="2225">will be, when downsized to 1x </span><span class="line" data-startTime="2232">display dimensions, they </span><span class="line" data-startTime="2232">will still a good. </span><span class="line" data-startTime="2234">And also, for retina, they look </span><span class="line" data-startTime="2234">quite fine, because the </span><span class="line" data-startTime="2240">actual display dimensions </span><span class="line" data-startTime="2240">are &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2242"><span class="speakerName">Marcos Caceres</span>: Hang on, sir. </span><span class="line" data-startTime="2244">I'm seeing a few people </span><span class="line" data-startTime="2244">looking at you going &mdash; </span><span class="line" data-startTime="2247">Let's see if we can explain </span><span class="line" data-startTime="2247">that a little better. </span><span class="line" data-startTime="2249">Does anyone want </span><span class="line" data-startTime="2249">to have a go at </span><span class="line" data-startTime="2250">explaining it a little better? </span></p>

<p class="speaker"><span class="line" data-starttime="2251"><span class="speakerName">Ann Robson</span>: I can try. </span><span class="line" data-startTime="2252">Hello. </span><span class="line" data-startTime="2253">Somebody discovered that if </span><span class="line" data-startTime="2253">they keep the resolution </span><span class="line" data-startTime="2257">really high in an image, but </span><span class="line" data-startTime="2257">they put the compression down </span><span class="line" data-startTime="2260">to, I think 0 &mdash; </span><span class="line" data-startTime="2261">is that correct? </span></p>

<p class="speaker"><span class="line" data-starttime="2262"><span class="speakerName">Yoav Weiss</span>: That's correct. </span></p>

<p class="speaker"><span class="line" data-starttime="2263"><span class="speakerName">Ann Robson</span>: So they'll actually </span><span class="line" data-startTime="2263">get a smaller file </span><span class="line" data-startTime="2265">size that is higher resolution </span><span class="line" data-startTime="2265">and it looks good on retina </span><span class="line" data-startTime="2269">images, and you have a smaller </span><span class="line" data-startTime="2269">file size for speed. </span><span class="line" data-startTime="2274">So it's actually best </span><span class="line" data-startTime="2274">of both worlds. </span><span class="line" data-startTime="2276">And it's an amazing discovery. </span></p>

<p class="speaker"><span class="line" data-starttime="2280"><span class="speakerName">Marcos Caceres</span>: I'm sure if we </span><span class="line" data-startTime="2280">go back to 1996, we might find </span><span class="line" data-startTime="2283">the same thing. </span><span class="line" data-startTime="2284">But who knows? </span><span class="line" data-startTime="2284">Because we were doing it from </span><span class="line" data-startTime="2284">modems and stuff anyway. </span><span class="line" data-startTime="2287">So I guess what I'm wondering </span><span class="line" data-startTime="2287">is, what might be some of the </span><span class="line" data-startTime="2291">side effects? </span><span class="line" data-startTime="2292">Because we're sending </span><span class="line" data-startTime="2292">four times the data. </span><span class="line" data-startTime="2296">Basically sending an image </span><span class="line" data-startTime="2296">that's two times </span><span class="line" data-startTime="2298">or even more bigger. </span><span class="line" data-startTime="2300">The size might be three times. </span><span class="line" data-startTime="2302">So can the browser really </span><span class="line" data-startTime="2302">handle that? </span><span class="line" data-startTime="2306">Do we know if there's side </span><span class="line" data-startTime="2306">effects within the browser? </span><span class="line" data-startTime="2312">Maybe John's in a good </span><span class="line" data-startTime="2312">position because </span><span class="line" data-startTime="2313">he's closer to Chrome. </span></p>

<p class="speaker"><span class="line" data-starttime="2316"><span class="speakerName">John Mellor</span>: We don't really </span><span class="line" data-startTime="2316">have the research yet. </span><span class="line" data-startTime="2319">It's going to take four </span><span class="line" data-startTime="2319">times the memory. </span><span class="line" data-startTime="2321">On an image-heavy page, that </span><span class="line" data-startTime="2321">might blow your memory budget. </span><span class="line" data-startTime="2324">And suddenly things like </span><span class="line" data-startTime="2324">painting and scrolling might </span><span class="line" data-startTime="2326">get slower. </span><span class="line" data-startTime="2327">It's hard to know. </span><span class="line" data-startTime="2329">We need more research, </span><span class="line" data-startTime="2329">basically. </span></p>

<p class="speaker"><span class="line" data-starttime="2330"><span class="speakerName">Ann Robson</span>: Right We need </span><span class="line" data-startTime="2330">to experiment with that. </span><span class="line" data-startTime="2332">But it's a super interesting </span><span class="line" data-startTime="2332">idea. </span></p>

<p class="speaker"><span class="line" data-starttime="2334"><span class="speakerName">Yoav Weiss</span>: Yeah. </span><span class="line" data-startTime="2334">Basically it's on the agenda to </span><span class="line" data-startTime="2334">get some real hard data on </span><span class="line" data-startTime="2339">the implications of that. </span></p>

<p class="speaker"><span class="line" data-starttime="2343"><span class="speakerName">Marcos Caceres</span>: On the </span><span class="line" data-startTime="2343">agenda of who? </span></p>

<p class="speaker"><span class="line" data-starttime="2345"><span class="speakerName">Yoav Weiss</span>: On the Responsive </span><span class="line" data-startTime="2345">Images Community Group's </span><span class="line" data-startTime="2348">agenda to get some hard </span><span class="line" data-startTime="2348">data on that for the </span><span class="line" data-startTime="2352">DPR switching case. </span><span class="line" data-startTime="2354">But exactly as John said, it </span><span class="line" data-startTime="2354">doesn't cover all the cases. </span><span class="line" data-startTime="2358">And it can cause decoding </span><span class="line" data-startTime="2358">performance and memory issues. </span><span class="line" data-startTime="2363">So if you're using that, you </span><span class="line" data-startTime="2363">need to test it well to make </span><span class="line" data-startTime="2369">sure there are no problems </span><span class="line" data-startTime="2369">because we don't have general </span><span class="line" data-startTime="2372">data on that. </span></p>

<p class="speaker"><span class="line" data-starttime="2373"><span class="speakerName">Marcos Caceres</span>: So I'm going to </span><span class="line" data-startTime="2373">bounce a question to Peter </span><span class="line" data-startTime="2375">Miller, because he's working </span><span class="line" data-startTime="2375">on a lot of &mdash; </span><span class="line" data-startTime="2378">You work on some fashion </span><span class="line" data-startTime="2378">websites, and you've done &mdash; </span><span class="line" data-startTime="2382">Anyway, from whichever ones, </span><span class="line" data-startTime="2382">obviously it'd have access to </span><span class="line" data-startTime="2387">the very high-resolution </span><span class="line" data-startTime="2387">pictures that are coming </span><span class="line" data-startTime="2389">straight from photographers. </span><span class="line" data-startTime="2392">What would this mean </span><span class="line" data-startTime="2392">for maybe you guys? </span><span class="line" data-startTime="2394">Would it mean anything? </span></p>

<p class="speaker"><span class="line" data-starttime="2398"><span class="speakerName">Peter Miller</span>: Well, first of </span><span class="line" data-startTime="2398">all, I've looked at the </span><span class="line" data-startTime="2400">solution and I've got </span><span class="line" data-startTime="2400">a retina Macbook. </span><span class="line" data-startTime="2402">And I think it's still a matter </span><span class="line" data-startTime="2402">of subjective opinion, </span><span class="line" data-startTime="2408">maybe, about whether this does </span><span class="line" data-startTime="2408">look as good as real retina </span><span class="line" data-startTime="2412">images or 2x images. </span><span class="line" data-startTime="2415">But I think, possibly thinking </span><span class="line" data-startTime="2415">about it even today, is the </span><span class="line" data-startTime="2419">bigger problem that, OK, we </span><span class="line" data-startTime="2419">can send these pseudo 2x </span><span class="line" data-startTime="2423">images down to be shrunk </span><span class="line" data-startTime="2423">down at 50%. </span><span class="line" data-startTime="2427">But what happens when we maybe </span><span class="line" data-startTime="2427">want to expand those images or </span><span class="line" data-startTime="2432">have them been more of </span><span class="line" data-startTime="2432">a percentage width? </span><span class="line" data-startTime="2434">And then suddenly, we're </span><span class="line" data-startTime="2434">actually showing those highly </span><span class="line" data-startTime="2437">compressed 2x images at their </span><span class="line" data-startTime="2437">physical 1x size And then </span><span class="line" data-startTime="2443">maybe they look even worse. </span></p>

<p class="speaker"><span class="line" data-starttime="2445"><span class="speakerName">Estelle Weyl</span>: I think whenever </span><span class="line" data-startTime="2445">we have this debate, we also </span><span class="line" data-startTime="2447">still have to remember people </span><span class="line" data-startTime="2447">who have metered bandwidth. </span><span class="line" data-startTime="2451">Because yeah, on your Macbook </span><span class="line" data-startTime="2451">Pro, on your Wi-Fi, it's going </span><span class="line" data-startTime="2455">to be great. </span><span class="line" data-startTime="2455">But someone doesn't want to </span><span class="line" data-startTime="2455">download that when they're </span><span class="line" data-startTime="2458">paying $19 for &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2460"><span class="speakerName">Marcos Caceres</span>: Yeah, </span><span class="line" data-startTime="2460">absolutely. </span><span class="line" data-startTime="2461">But let's hold on that one, </span><span class="line" data-startTime="2461">because that one takes us off </span><span class="line" data-startTime="2464">to the following question. </span><span class="line" data-startTime="2466">So I want to not go into </span><span class="line" data-startTime="2466">those exact concerns. </span><span class="line" data-startTime="2469">Because what Ann originally </span><span class="line" data-startTime="2469">said was, you can make a </span><span class="line" data-startTime="2473">larger image that's actually </span><span class="line" data-startTime="2473">smaller in kilobytes. </span><span class="line" data-startTime="2477">And so in a sense, it doesn't </span><span class="line" data-startTime="2477">really apply. </span><span class="line" data-startTime="2480">But it does. </span><span class="line" data-startTime="2480">But we're getting exactly </span><span class="line" data-startTime="2480">to the point &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2482"><span class="speakerName">Estelle Weyl</span>: We also have to </span><span class="line" data-startTime="2482">think about Android 2.4 and </span><span class="line" data-startTime="2484">older Androids, which are </span><span class="line" data-startTime="2484">still being sold today. </span><span class="line" data-startTime="2486">Because they don't have </span><span class="line" data-startTime="2486">the memory capacity. </span></p>

<p class="speaker"><span class="line" data-starttime="2489"><span class="speakerName">Marcos Caceres</span>: Right. </span><span class="line" data-startTime="2489">Even Firefox OS is 250 megabytes </span><span class="line" data-startTime="2489">of RAM on that. </span><span class="line" data-startTime="2493">And it struggles. </span><span class="line" data-startTime="2496">So absolutely. </span><span class="line" data-startTime="2499">So I think we should probably </span><span class="line" data-startTime="2499">move on to the next topic. </span><span class="line" data-startTime="2505">So the second question. </span><span class="line" data-startTime="2512">Is there a George Crawford? </span></p>

<p class="speaker"><span class="line" data-starttime="2519"><span class="speakerName">George Crawford</span>: Hi. </span><span class="line" data-startTime="2520">This is one of the anonymous </span><span class="line" data-startTime="2521">questions from Google Moderator. </span><span class="line" data-startTime="2523">Is DPI negotiation </span><span class="line" data-startTime="2523">only a stopgap? </span><span class="line" data-startTime="2526">Bandwidth keeps growing </span><span class="line" data-startTime="2526">exponentially, LCD prices are </span><span class="line" data-startTime="2529">dropping, GPUs benefit </span><span class="line" data-startTime="2529">from Moore's Law. </span><span class="line" data-startTime="2532">In several years, would it </span><span class="line" data-startTime="2532">make sense to just send </span><span class="line" data-startTime="2534">high-resolution images </span><span class="line" data-startTime="2534">to all users? </span></p>

<p class="speaker"><span class="line" data-starttime="2541"><span class="speakerName">Marcos Caceres</span>: The </span><span class="line" data-startTime="2541">implications &mdash; </span><span class="line" data-startTime="2542">and this goes back if </span><span class="line" data-startTime="2542">we look at all of </span><span class="line" data-startTime="2544">computing history, right? </span><span class="line" data-startTime="2546">Will 64 K be enough? </span><span class="line" data-startTime="2550">Computers just get faster. </span> <span class="line" data-startTime="2551">And yet, we seem to find </span><span class="line" data-startTime="2551">ourselves in the same </span><span class="line" data-startTime="2555">situation over and over again. </span> <span class="line" data-startTime="2556">Back in 1996, like I was saying </span><span class="line" data-startTime="2556">before, we had modems </span><span class="line" data-startTime="2559">and we have to compress the </span><span class="line" data-startTime="2559">crap out of images then as </span><span class="line" data-startTime="2562">well to cater to users that were </span><span class="line" data-startTime="2562">just getting cable, and </span><span class="line" data-startTime="2565">who didn't have cable and still </span><span class="line" data-startTime="2565">were on 54 K. 54 broad </span><span class="line" data-startTime="2569">rate modems. </span> <span class="line" data-startTime="2570">So thoughts? </span><span class="line" data-startTime="2574">Should we really worry </span><span class="line" data-startTime="2574">that much? </span><span class="line" data-startTime="2576">Should we stop caring? </span><span class="line" data-startTime="2578">I know everybody's </span><span class="line" data-startTime="2578">probably excited. </span></p>

<p class="speaker"><span class="line" data-starttime="2580"><span class="speakerName">Ann Robson</span>: You were all like &mdash; </span><span class="line" data-startTime="2581">[LAUGHTER] </span></p>

<p class="speaker"><span class="line" data-starttime="2582"><span class="speakerName">Marcos Caceres</span>: Let's </span><span class="line" data-startTime="2582">do a round and </span><span class="line" data-startTime="2585">bounce back if we can. </span><span class="line" data-startTime="2586">But let's keep it short. </span></p>

<p class="speaker"><span class="line" data-starttime="2588"><span class="speakerName">Ann Robson</span>: I think it would be </span><span class="line" data-startTime="2588">nice if we could just send </span><span class="line" data-startTime="2590">super large images. </span> <span class="line" data-startTime="2593">But I don't think we can </span><span class="line" data-startTime="2593">do that quite yet. </span> <span class="line" data-startTime="2595">And I think that the responsive </span><span class="line" data-startTime="2595">images, it's such a </span><span class="line" data-startTime="2599">topic because we're getting </span><span class="line" data-startTime="2599">smaller and slower, and we're </span><span class="line" data-startTime="2602">getting bigger and faster </span><span class="line" data-startTime="2602">at the same time. </span> <span class="line" data-startTime="2604">So this is spreading out. </span> <span class="line" data-startTime="2607">I have, obviously, </span><span class="line" data-startTime="2607">my opinions. </span> <span class="line" data-startTime="2609">But I think that we need a </span><span class="line" data-startTime="2609">response images container. </span> <span class="line" data-startTime="2613">Could be, possibly, a </span><span class="line" data-startTime="2613">progressive jpeg that has </span><span class="line" data-startTime="2617">really small scans and </span><span class="line" data-startTime="2617">really large scans. </span></p>

<p><span class="line" data-startTime="2619">And possibly the browser only </span><span class="line" data-startTime="2619">downloads what it needs. </span></p>

<p class="speaker"><span class="line" data-starttime="2624"><span class="speakerName">Marcos Caceres</span>: We have a </span><span class="line" data-startTime="2624">delegate in the queue. </span><span class="line" data-startTime="2626">I'll just get Mike [INAUDIBLE] </span><span class="line" data-startTime="2628">ready. </span><span class="line" data-startTime="2631">If you can jump to </span><span class="line" data-startTime="2631">a mic, Mike. </span><span class="line" data-startTime="2635">Do you want to quickly </span><span class="line" data-startTime="2635">jump in on this? </span></p>

<p class="speaker"><span class="line" data-starttime="2637"><span class="speakerName">Peter Miller</span>: I think, staying </span><span class="line" data-startTime="2637">in a hotel room in New York </span><span class="line" data-startTime="2640">City, it actually feels like </span><span class="line" data-startTime="2640">we're quite a few years away </span><span class="line" data-startTime="2643">from being very fastly connected </span><span class="line" data-startTime="2643">across everywhere. </span><span class="line" data-startTime="2648">But also, you've got to think </span><span class="line" data-startTime="2648">data plans, roaming. </span><span class="line" data-startTime="2651">You want to give the users, </span><span class="line" data-startTime="2651">maybe, an option to have a </span><span class="line" data-startTime="2653">low-resolution mode. </span><span class="line" data-startTime="2654">But if we're just always sending </span><span class="line" data-startTime="2654">that high resolution. </span><span class="line" data-startTime="2656">But also allowing for the </span><span class="line" data-startTime="2656">art direction case. </span><span class="line" data-startTime="2659">I don't think that this </span><span class="line" data-startTime="2659">caters for that. </span></p>

<p class="speaker"><span class="line" data-starttime="2664"><span class="speakerName">Yoav Weiss</span>: I think that, as </span><span class="line" data-startTime="2664">Ann started to say, Moore's </span><span class="line" data-startTime="2668">Law is not giving us </span><span class="line" data-startTime="2668">expanded bandwidth. </span><span class="line" data-startTime="2674">We get a larger range </span><span class="line" data-startTime="2674">of devices. </span><span class="line" data-startTime="2677">We have capable smaller </span><span class="line" data-startTime="2677">devices. </span><span class="line" data-startTime="2682">And the bandwidth coverage </span><span class="line" data-startTime="2682">is not ubiquitous. </span><span class="line" data-startTime="2687">So basically, it's a question </span><span class="line" data-startTime="2687">that asks us whether we can </span><span class="line" data-startTime="2690">look into the future. </span><span class="line" data-startTime="2692">And unfortunately, we can't. </span><span class="line" data-startTime="2697">In 20 years, it may </span><span class="line" data-startTime="2697">be relevant. </span></p>

<p class="speaker"><span class="line" data-starttime="2700"><span class="speakerName">Marcos Caceres</span>: We can't look </span><span class="line" data-startTime="2700">into the future, but we can </span><span class="line" data-startTime="2702">see what the trends are. </span><span class="line" data-startTime="2703">We know that we have now Google </span><span class="line" data-startTime="2703">Glass and Samsung's </span><span class="line" data-startTime="2709">watch and things like that. </span></p>

<p class="speaker"><span class="line" data-starttime="2711"><span class="speakerName">Yoav Weiss</span>: Exactly. </span></p>

<p class="speaker"><span class="line" data-starttime="2711"><span class="speakerName">Marcos Caceres</span>: In a sense, </span><span class="line" data-startTime="2711">we know a little bit where </span><span class="line" data-startTime="2714">machines are going. </span><span class="line" data-startTime="2715">And again, we're going to </span><span class="line" data-startTime="2715">see the same cycle. </span></p>

<p class="speaker"><span class="line" data-starttime="2719"><span class="speakerName">Ann Robson</span>: So basically, the </span><span class="line" data-startTime="2719">problem is getting worse. </span></p>

<p class="speaker"><span class="line" data-starttime="2722"><span class="speakerName">Marcos Caceres</span>: So </span><span class="line" data-startTime="2722">we found Mike? </span></p>

<p class="speaker"><span class="line" data-starttime="2723"><span class="speakerName">Male Speaker</span>: Yes. </span></p>

<p class="speaker"><span class="line" data-starttime="2724"><span class="speakerName">Mike</span>: Can you hear me? </span></p>

<p class="speaker"><span class="line" data-starttime="2725"><span class="speakerName">Marcos Caceres</span>: Yup. </span><span class="line" data-startTime="2725">Do you want to jump in? </span></p>

<p class="speaker"><span class="line" data-starttime="2726"><span class="speakerName">Mike</span>: Yeah. </span><span class="line" data-startTime="2727">Just a quick question. </span><span class="line" data-startTime="2730">One of you mentioned, what if </span><span class="line" data-startTime="2730">you have a small image? </span><span class="line" data-startTime="2734">Using high compression at a </span><span class="line" data-startTime="2734">large size that was initially </span><span class="line" data-startTime="2738">seen small, but then expanded. </span><span class="line" data-startTime="2740">It seems to be a consequence </span><span class="line" data-startTime="2740">of the jpeg format. </span><span class="line" data-startTime="2744">What about new formats, </span><span class="line" data-startTime="2744">such as WebP, and </span><span class="line" data-startTime="2748">using things like that? </span></p>

<p class="speaker"><span class="line" data-starttime="2750"><span class="speakerName">Marcos Caceres</span>: So maybe </span><span class="line" data-startTime="2750">I'll get John to </span><span class="line" data-startTime="2752">respond to that one. </span></p>

<p class="speaker"><span class="line" data-starttime="2754"><span class="speakerName">John Mellor</span>: So I'm not </span><span class="line" data-startTime="2754">an expert on WebP, </span><span class="line" data-startTime="2756">but it tends to give &mdash; </span><span class="line" data-startTime="2761">it seems to have two things </span><span class="line" data-startTime="2761">that are nice. </span><span class="line" data-startTime="2763">It gives slightly better </span><span class="line" data-startTime="2763">performance, and compression </span><span class="line" data-startTime="2766">performance, ranging </span><span class="line" data-startTime="2766">from 25 to 60. </span><span class="line" data-startTime="2769">Well, it depends what you're </span><span class="line" data-startTime="2769">doing with it. </span><span class="line" data-startTime="2771">But it's also, when very highly </span><span class="line" data-startTime="2771">compressed, you get </span><span class="line" data-startTime="2776">less of the blocking artifact </span><span class="line" data-startTime="2776">you get with jpeg. </span><span class="line" data-startTime="2778">So you can actually afford a </span><span class="line" data-startTime="2778">greater compression ratio than </span><span class="line" data-startTime="2781">you would use with jpeg. </span><span class="line" data-startTime="2784">So that can help. </span><span class="line" data-startTime="2786">But there's issues with </span><span class="line" data-startTime="2786">[INAUDIBLE] support </span><span class="line" data-startTime="2787">and so on of course. </span></p>

<p class="speaker"><span class="line" data-starttime="2788"><span class="speakerName">Ann Robson</span>: Also, with WebP, </span><span class="line" data-startTime="2788">perceived performance is </span><span class="line" data-startTime="2791">slower than progressive </span><span class="line" data-startTime="2791">jpeg, right? </span><span class="line" data-startTime="2793">Because you're actually </span><span class="line" data-startTime="2793">getting a scan </span><span class="line" data-startTime="2797">earlier than a WebP. </span><span class="line" data-startTime="2798">Even if a WebP is a smaller file </span><span class="line" data-startTime="2798">size, progressive jpeg is </span><span class="line" data-startTime="2802">going to beat it every time. </span></p>

<p class="speaker"><span class="line" data-starttime="2805"><span class="speakerName">Marcos Caceres</span>: Someone can </span><span class="line" data-startTime="2805">correct me here, but it </span><span class="line" data-startTime="2807">doesn't support progressive </span><span class="line" data-startTime="2807">loading. </span><span class="line" data-startTime="2809">Or does it? </span></p>

<p class="speaker"><span class="line" data-starttime="2810"><span class="speakerName">Ann Robson</span>: That's </span><span class="line" data-startTime="2810">a good question. </span></p>

<p class="speaker"><span class="line" data-starttime="2811"><span class="speakerName">John Mellor</span>: There's no counter </span><span class="line" data-startTime="2811">[INAUDIBLE] for </span><span class="line" data-startTime="2812">progressive loading. </span></p>

<p class="speaker"><span class="line" data-starttime="2813"><span class="speakerName">Marcos Caceres</span>: So I think </span><span class="line" data-startTime="2813">that's, at least from service </span><span class="line" data-startTime="2816">perspective, following the bug </span><span class="line" data-startTime="2816">about WebP, that's a real </span><span class="line" data-startTime="2819">showstopper for us. </span></p>

<p class="speaker"><span class="line" data-starttime="2820"><span class="speakerName">Estelle Weyl</span>: Correct. </span></p>

<p class="speaker"><span class="line" data-starttime="2825"><span class="speakerName">Yoav Weiss</span>: So I'm not sure a </span><span class="line" data-startTime="2825">future progressive WebP can </span><span class="line" data-startTime="2832">answer that, or a progressive </span><span class="line" data-startTime="2832">jpeg. </span> <span class="line" data-startTime="2834">But basically, I think </span><span class="line" data-startTime="2834">that it's not a </span><span class="line" data-startTime="2837">question of image format. </span> <span class="line" data-startTime="2838">Because we have progressive </span><span class="line" data-startTime="2838">image formats, or we can </span><span class="line" data-startTime="2841">easily come up with </span><span class="line" data-startTime="2841">the responsive </span><span class="line" data-startTime="2845">image container stuff. </span> <span class="line" data-startTime="2846">We can easily. </span> <span class="line" data-startTime="2847">It's a prototype, but it's not </span><span class="line" data-startTime="2847">complicated to get this done. </span> <span class="line" data-startTime="2854">The problem is that currently, </span><span class="line" data-startTime="2854">there are no fetching </span><span class="line" data-startTime="2856">mechanisms in place that can </span><span class="line" data-startTime="2856">download only the start of the </span><span class="line" data-startTime="2860">image for low-resolution </span><span class="line" data-startTime="2860">devices, and download the </span><span class="line" data-startTime="2866">entire image for high-resolution </span><span class="line" data-startTime="2866">devices that </span><span class="line" data-startTime="2869">have the bandwidth and have the </span><span class="line" data-startTime="2869">capability to decode it. </span> <span class="line" data-startTime="2873">And I think that getting the </span><span class="line" data-startTime="2873">fetching mechanism in place </span><span class="line" data-startTime="2878">would be an enabler for such </span><span class="line" data-startTime="2878">optimization, for such formats </span><span class="line" data-startTime="2886">to be useful </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="2887"><span class="speakerName">Marcos Caceres</span>: I </span><span class="line" data-startTime="2887">want to quickly </span><span class="line" data-startTime="2887">get Estelle's thoughts. </span></p>

<p class="speaker"><span class="line" data-starttime="2890"><span class="speakerName">Estelle Weyl</span>: So I was going </span><span class="line" data-startTime="2890">back to the original question. </span><span class="line" data-startTime="2895">I think we're never going </span><span class="line" data-startTime="2895">to be able to just </span><span class="line" data-startTime="2896">have one image solution. </span><span class="line" data-startTime="2899">Because you don't have the same </span><span class="line" data-startTime="2899">image if your device is </span><span class="line" data-startTime="2902">this big versus if your </span><span class="line" data-startTime="2902">image is this big. </span><span class="line" data-startTime="2905">For those listening to audio, </span><span class="line" data-startTime="2905">you don't want to have the </span><span class="line" data-startTime="2908">same image if you have </span><span class="line" data-startTime="2908">a 20 inch image </span><span class="line" data-startTime="2912">versus a half inch image. </span></p>

<p class="speaker"><span class="line" data-starttime="2914"><span class="speakerName">Ann Robson</span>: But we actually </span><span class="line" data-startTime="2914">could do that, right? </span><span class="line" data-startTime="2915">Because with a progressive jpeg, </span><span class="line" data-startTime="2915">you can have a variable </span><span class="line" data-startTime="2919">number of scans, and the scans </span><span class="line" data-startTime="2919">are of increasing quality. </span><span class="line" data-startTime="2921">So you could have, say, 40. </span><span class="line" data-startTime="2924">Let's expand our minds </span><span class="line" data-startTime="2924">about this. </span><span class="line" data-startTime="2926">Is that correct? </span><span class="line" data-startTime="2927">We could. </span></p>

<p class="speaker"><span class="line" data-starttime="2928"><span class="speakerName">Yoav Weiss</span>: If you're getting </span><span class="line" data-startTime="2928">into 40 times bigger zone, you </span><span class="line" data-startTime="2933">will get color distortion. </span></p>

<p class="speaker"><span class="line" data-starttime="2935"><span class="speakerName">Estelle Weyl</span>: I'm talking </span><span class="line" data-startTime="2935">about the art direction. </span><span class="line" data-startTime="2936">If you're going to &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2939"><span class="speakerName">Ann Robson</span>: Putting the art </span><span class="line" data-startTime="2939">direction topic aside for a </span><span class="line" data-startTime="2941">second, you actually can have a </span><span class="line" data-startTime="2941">progressive jpeg that has a </span><span class="line" data-startTime="2945">very small scan and then </span><span class="line" data-startTime="2945">very high resolution. </span><span class="line" data-startTime="2949">So you can have a tiny image </span><span class="line" data-startTime="2949">that downloads very quickly, </span><span class="line" data-startTime="2953">and you can have a super </span><span class="line" data-startTime="2953">large HD image for &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2957"><span class="speakerName">Estelle Weyl</span>: Yeah, but I think </span><span class="line" data-startTime="2957">we can't put the art </span><span class="line" data-startTime="2959">direction aside, because </span><span class="line" data-startTime="2959">we are serving so </span><span class="line" data-startTime="2961">many different devices. </span><span class="line" data-startTime="2962">So I think the answer to the </span><span class="line" data-startTime="2962">question is I don't think </span><span class="line" data-startTime="2967">serving one image will be the </span><span class="line" data-startTime="2967">solution in the end, because </span><span class="line" data-startTime="2969">we are reaching such a </span><span class="line" data-startTime="2969">plethora of devices. </span></p>

<p class="speaker"><span class="line" data-starttime="2974"><span class="speakerName">Marcos Caceres</span>: We're </span><span class="line" data-startTime="2974">going to continue </span><span class="line" data-startTime="2976">to be the next question. </span><span class="line" data-startTime="2977">It's very much related </span><span class="line" data-startTime="2977">to this. </span><span class="line" data-startTime="2978">So before I do that, that I'm </span><span class="line" data-startTime="2978">going to queue up Kyle. </span><span class="line" data-startTime="2984">Kyle, do you have </span><span class="line" data-startTime="2984">a mic already? </span><span class="line" data-startTime="2985">Where's Kyle? </span><span class="line" data-startTime="2988">MALE SPEAKER: [INAUDIBLE] </span></p>

<p class="speaker"><span class="line" data-starttime="2989"><span class="speakerName">Marcos Caceres</span>: Sorry, </span><span class="line" data-startTime="2989">Kyle seems to &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2990"><span class="speakerName">Estelle Weyl</span>: He's over there. </span></p>

<p class="speaker"><span class="line" data-starttime="2992"><span class="speakerName">Marcos Caceres</span>: So I'm </span><span class="line" data-startTime="2992">going to cue up Kyle. </span><span class="line" data-startTime="2995">He's right there. </span><span class="line" data-startTime="2995">So Kyle, just a quick </span><span class="line" data-startTime="2995">question or comment. </span></p>

<p class="speaker"><span class="line" data-starttime="3000"><span class="speakerName">Kyle</span>: So a lot of these </span><span class="line" data-startTime="3000">solutions seem to be art </span><span class="line" data-startTime="3003">direction-centric. </span><span class="line" data-startTime="3005">I want the best possible images </span><span class="line" data-startTime="3005">that can be there. </span><span class="line" data-startTime="3007">But responsive seems to respond </span><span class="line" data-startTime="3007">to maybe the screen </span><span class="line" data-startTime="3010">size, maybe to the bandwidth, </span><span class="line" data-startTime="3010">but it doesn't seem to react </span><span class="line" data-startTime="3013">to the environment. </span><span class="line" data-startTime="3014">Say if I start out loading a </span><span class="line" data-startTime="3014">Flickr page that the battery </span><span class="line" data-startTime="3017">power is at 50%, I've got plenty </span><span class="line" data-startTime="3017">of processing power. </span><span class="line" data-startTime="3020">But if I'm now at 2%, maybe </span><span class="line" data-startTime="3020">the device should start </span><span class="line" data-startTime="3024">choosing not to render </span><span class="line" data-startTime="3024">these higher things. </span><span class="line" data-startTime="3026">So can't we have solutions that </span><span class="line" data-startTime="3026">allow apps to respond to </span><span class="line" data-startTime="3029">more complex situations than </span><span class="line" data-startTime="3029">just the screen size? </span></p>

<p class="speaker"><span class="line" data-starttime="3036"><span class="speakerName">Marcos Caceres</span>: We're going </span><span class="line" data-startTime="3036">to cover that as well. </span><span class="line" data-startTime="3038">But if somebody wants to </span><span class="line" data-startTime="3038">make a quick comment? </span></p>

<p class="speaker"><span class="line" data-starttime="3041"><span class="speakerName">Yoav Weiss</span>: Just a </span><span class="line" data-startTime="3041">quick comment. </span> <span class="line" data-startTime="3044">That's something that certainly </span><span class="line" data-startTime="3044">should be possible </span><span class="line" data-startTime="3048">when we're talking about </span><span class="line" data-startTime="3048">resolution switching, when </span><span class="line" data-startTime="3051">we're talking about things that </span><span class="line" data-startTime="3051">won't break the layout </span><span class="line" data-startTime="3053">but just would give the user a </span><span class="line" data-startTime="3053">lower-quality image when it </span><span class="line" data-startTime="3060">can't download the high-res </span><span class="line" data-startTime="3060">quality image. </span> <span class="line" data-startTime="3063">And this is something that </span><span class="line" data-startTime="3063">should be heuristically </span><span class="line" data-startTime="3067">possible with Source Set. </span> <span class="line" data-startTime="3068">So the browser in Source Set, </span><span class="line" data-startTime="3068">basically the spec contains an </span><span class="line" data-startTime="3075">asterisk saying, eventually the </span><span class="line" data-startTime="3075">browser can do whatever </span><span class="line" data-startTime="3078">the hell it wants. </span></p>

<p><span class="line" data-startTime="3082">So the browser can decide, </span><span class="line" data-startTime="3082">based on user preference, </span><span class="line" data-startTime="3085">based on environment, based on </span><span class="line" data-startTime="3085">battery to not download the </span><span class="line" data-startTime="3089">high-res images, but </span><span class="line" data-startTime="3089">the lower-res ones. </span></p>

<p class="speaker"><span class="line" data-starttime="3091"><span class="speakerName">Marcos Caceres</span>: So it's </span><span class="line" data-startTime="3091">kind of a good </span><span class="line" data-startTime="3092">thing and a bad thing. </span><span class="line" data-startTime="3093">But it does mean it's </span><span class="line" data-startTime="3093">a declarative model. </span><span class="line" data-startTime="3096">You're handing over control. </span><span class="line" data-startTime="3098">You're saying to the browser, </span><span class="line" data-startTime="3098">this is what I </span><span class="line" data-startTime="3099">got, deal with that. </span><span class="line" data-startTime="3101">Do it best for the user. </span></p>

<p class="speaker"><span class="line" data-starttime="3104"><span class="speakerName">Yoav Weiss</span>: Yeah. </span><span class="line" data-startTime="3104">I don't think this should be </span><span class="line" data-startTime="3104">something decided by the web </span><span class="line" data-startTime="3110">developer, because I don't think </span><span class="line" data-startTime="3110">they have this kind of </span><span class="line" data-startTime="3113">information. </span><span class="line" data-startTime="3115">We cannot have this kind of </span><span class="line" data-startTime="3115">information available to the </span><span class="line" data-startTime="3118">web developer. </span><span class="line" data-startTime="3119">This is something that should be </span><span class="line" data-startTime="3119">done by the browser with a </span><span class="line" data-startTime="3121">user preference. </span></p>

<p class="speaker"><span class="line" data-starttime="3124"><span class="speakerName">Marcos Caceres</span>: I'm going to </span><span class="line" data-startTime="3124">be moderator here and jump </span><span class="line" data-startTime="3126">over to the next question, </span><span class="line" data-startTime="3126">because </span><span class="line" data-startTime="3127">they're all related anyway. </span><span class="line" data-startTime="3128">So we'll [INAUDIBLE] </span><span class="line" data-startTime="3129">the points. </span><span class="line" data-startTime="3131">Calvin Spealman. </span><span class="line" data-startTime="3135">Your question. </span><span class="line" data-startTime="3137">So runner. </span></p>

<p class="speaker"><span class="line" data-starttime="3146"><span class="speakerName">Calvin Spealman</span>: Yeah. </span><span class="line" data-startTime="3147">I was basically wondering about </span><span class="line" data-startTime="3147">if we are fighting a </span><span class="line" data-startTime="3150">losing battle by continually </span><span class="line" data-startTime="3150">generating all these different </span><span class="line" data-startTime="3152">sizes and different resolutions </span><span class="line" data-startTime="3152">up front when </span><span class="line" data-startTime="3155">there's constantly devices, </span><span class="line" data-startTime="3155">constantly different sizes. </span><span class="line" data-startTime="3159">We're always going to be </span><span class="line" data-startTime="3159">constantly trying to catch up </span><span class="line" data-startTime="3161">and generating more and more </span><span class="line" data-startTime="3161">images, as opposed to having </span><span class="line" data-startTime="3165">some server-side solution that </span><span class="line" data-startTime="3165">does it dynamically and </span><span class="line" data-startTime="3167">optimizes the set of </span><span class="line" data-startTime="3167">images we have. </span></p>

<p class="speaker"><span class="line" data-starttime="3170"><span class="speakerName">Marcos Caceres</span>: So I think this </span><span class="line" data-startTime="3170">ties in briefly to the </span><span class="line" data-startTime="3172">stuff that John was presenting </span><span class="line" data-startTime="3172">before, and also to the </span><span class="line" data-startTime="3176">progressive jpeg, to having </span><span class="line" data-startTime="3176">those multiple scans. </span><span class="line" data-startTime="3180">So John, with the kind of work </span><span class="line" data-startTime="3180">that you've been doing, what </span><span class="line" data-startTime="3185">are you seeing? </span><span class="line" data-startTime="3186">What are the numbers </span><span class="line" data-startTime="3186">telling you there? </span></p>

<p class="speaker"><span class="line" data-starttime="3191"><span class="speakerName">John Mellor</span>: I guess there's two </span><span class="line" data-startTime="3191">aspects of this question. </span><span class="line" data-startTime="3193">On the server side, sure, you </span><span class="line" data-startTime="3193">don't want the artist to be </span><span class="line" data-startTime="3198">manually saving out </span><span class="line" data-startTime="3198">20 different </span><span class="line" data-startTime="3200">versions of every image. </span><span class="line" data-startTime="3202">It's not scalable. </span><span class="line" data-startTime="3204">So I guess on the server side, </span><span class="line" data-startTime="3204">you have to be, at the moment, </span><span class="line" data-startTime="3209">dynamically creating these </span><span class="line" data-startTime="3209">images by automatically </span><span class="line" data-startTime="3211">resizing them. </span><span class="line" data-startTime="3213">But then, I guess I can </span><span class="line" data-startTime="3213">[INAUDIBLE] as well, it would </span><span class="line" data-startTime="3216">be nice if there was only one </span><span class="line" data-startTime="3216">image you have to save. </span><span class="line" data-startTime="3219">You just tell your Photoshop </span><span class="line" data-startTime="3219">or whatever, save out one </span><span class="line" data-startTime="3223">ultra high-resolution image. </span><span class="line" data-startTime="3224">And the [INAUDIBLE] downloads </span><span class="line" data-startTime="3224">just the beginning of it, </span><span class="line" data-startTime="3228">however much it needs. </span></p>

<p class="speaker"><span class="line" data-starttime="3229"><span class="speakerName">Calvin Spealman</span>: Yeah. </span><span class="line" data-startTime="3229">That's perfect. </span><span class="line" data-startTime="3230">I think that's the most </span><span class="line" data-startTime="3230">elegant solution. </span><span class="line" data-startTime="3232">I think that's the second most </span><span class="line" data-startTime="3232">elegant solution is like with </span><span class="line" data-startTime="3235">Clients Hints, and having the </span><span class="line" data-startTime="3235">server serve up different </span><span class="line" data-startTime="3238">resolutions, different versions </span><span class="line" data-startTime="3238">of the image. </span><span class="line" data-startTime="3241">But it has to be automatic. </span><span class="line" data-startTime="3242">We should not be creating x </span><span class="line" data-startTime="3242">number of images to serve to </span><span class="line" data-startTime="3251">different devices. </span><span class="line" data-startTime="3252">And we are fighting a losing </span><span class="line" data-startTime="3252">battle in that case. </span></p>

<p class="speaker"><span class="line" data-starttime="3256"><span class="speakerName">Peter Miller</span>: I think the &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="3257"><span class="speakerName">Marco Caceres</span>: Quick audience. </span><span class="line" data-startTime="3258">Did you have a question? </span></p>

<p class="speaker"><span class="line" data-starttime="3262"><span class="speakerName">Audience</span>: But if you have that </span><span class="line" data-startTime="3262">situation, aren't you going to </span><span class="line" data-startTime="3264">end up in the thing that </span><span class="line" data-startTime="3264">all the developers were </span><span class="line" data-startTime="3266">complaining about when the </span><span class="line" data-startTime="3266">operators started to compress </span><span class="line" data-startTime="3268">your images on mobile </span><span class="line" data-startTime="3268">networks. </span><span class="line" data-startTime="3270">And they said, just </span><span class="line" data-startTime="3270">get out of my way. </span><span class="line" data-startTime="3272">I don't want you to </span><span class="line" data-startTime="3272">touch my stuff. </span><span class="line" data-startTime="3274">If you've got some automated </span><span class="line" data-startTime="3274">system that sits between the </span><span class="line" data-startTime="3277">thing you're creating, the same </span><span class="line" data-startTime="3277">problem that three years </span><span class="line" data-startTime="3280">ago you were all </span><span class="line" data-startTime="3280">whinging about. </span></p>

<p class="speaker"><span class="line" data-starttime="3282"><span class="speakerName">Estelle Weyl</span>: My thought was </span><span class="line" data-startTime="3282">that this would be &mdash; </span><span class="line" data-startTime="3285">I think it should </span><span class="line" data-startTime="3285">be server side. </span><span class="line" data-startTime="3286">So that the developer is </span><span class="line" data-startTime="3286">actually deciding what you're </span><span class="line" data-startTime="3290">sending over. </span><span class="line" data-startTime="3295">The browser should not be </span><span class="line" data-startTime="3295">altering images is my thought. </span></p>

<p class="speaker"><span class="line" data-starttime="3299"><span class="speakerName">John Mellor</span>: But the developer </span><span class="line" data-startTime="3299">doesn't know the bandwidth of </span><span class="line" data-startTime="3301">the client. </span></p>

<p class="speaker"><span class="line" data-starttime="3302"><span class="speakerName">Estelle Weyl</span>: No. </span><span class="line" data-startTime="3304">When we're all said and done, </span><span class="line" data-startTime="3304">when we have Client Hints and </span><span class="line" data-startTime="3306">everything else, it should be </span><span class="line" data-startTime="3306">the server that's making the </span><span class="line" data-startTime="3308">20 images and serving the </span><span class="line" data-startTime="3308">correct image based on the </span><span class="line" data-startTime="3311">Client Hints or the Source Set, </span><span class="line" data-startTime="3311">not the browser that's </span><span class="line" data-startTime="3316">taking an image and deciding </span><span class="line" data-startTime="3316">that the upper left hand </span><span class="line" data-startTime="3318">corner should be shown instead </span><span class="line" data-startTime="3318">of the middle of it. </span></p>

<p class="speaker"><span class="line" data-starttime="3321"><span class="speakerName">John Mellor</span>: It seems a lot </span><span class="line" data-startTime="3321">easier for the browser to take </span><span class="line" data-startTime="3323">user's preference into </span><span class="line" data-startTime="3323">account though. </span><span class="line" data-startTime="3325">If the user decides, they're </span><span class="line" data-startTime="3325">roaming or something, and they </span><span class="line" data-startTime="3329">only want the very low </span><span class="line" data-startTime="3329">resolution image. </span><span class="line" data-startTime="3331">Then do you want </span><span class="line" data-startTime="3331">an extra Client </span><span class="line" data-startTime="3333">Hint saying, I'm roaming. </span><span class="line" data-startTime="3334">An extra Client Hint saying </span><span class="line" data-startTime="3334">these kinds of things? </span></p>

<p class="speaker"><span class="line" data-starttime="3337"><span class="speakerName">Estelle Weyl</span>: No. </span><span class="line" data-startTime="3339">The browser can say &mdash; </span><span class="line" data-startTime="3342">When you have Client Hints &mdash; </span><span class="line" data-startTime="3345">Should we ask the question about </span><span class="line" data-startTime="3345">Client Hints that we're </span><span class="line" data-startTime="3346">going to ask later? </span></p>

<p class="speaker"><span class="line" data-starttime="3348"><span class="speakerName">Marco Caceres</span>: No. </span> <span class="line" data-startTime="3350">We are talking about &mdash; </span><span class="line" data-startTime="3353">I don't think we need to move </span><span class="line" data-startTime="3353">to that question yet. </span> <span class="line" data-startTime="3355">Because we are dealing with or </span><span class="line" data-startTime="3355">discussing a very serious </span><span class="line" data-startTime="3358">problem, which is A, how can </span><span class="line" data-startTime="3358">computers really decide this? </span><span class="line" data-startTime="3363">How do we set the </span><span class="line" data-startTime="3363">break points? </span><span class="line" data-startTime="3364">Or not even the break points, </span><span class="line" data-startTime="3364">but this looks good here, so </span><span class="line" data-startTime="3368">sent this, and so on. </span> <span class="line" data-startTime="3369">So having that level of control, </span><span class="line" data-startTime="3369">as Steve was saying </span><span class="line" data-startTime="3373">before, that was pissing </span><span class="line" data-startTime="3373">people off, developers, </span><span class="line" data-startTime="3376">because it didn't look good. </span> <span class="line" data-startTime="3377">And to some degree, well, </span><span class="line" data-startTime="3377">that's what we really </span><span class="line" data-startTime="3380">need to look at. </span></p>

<p><span class="line" data-startTime="3381">Can we computationally </span><span class="line" data-startTime="3381">do that? </span><span class="line" data-startTime="3382">And John's research seems </span><span class="line" data-startTime="3382">to suggest that it can. </span> <span class="line" data-startTime="3385">Because at least the user gets </span><span class="line" data-startTime="3385">the initial layout with the </span><span class="line" data-startTime="3392">nice images or beginnings </span><span class="line" data-startTime="3392">of a nice image. </span> <span class="line" data-startTime="3394">And then from there, you start </span><span class="line" data-startTime="3394">progressively improving it. </span> <span class="line" data-startTime="3397">So how much do you </span><span class="line" data-startTime="3397">need to push it? </span><span class="line" data-startTime="3399">And what does it mean </span><span class="line" data-startTime="3399">on the server? </span><span class="line" data-startTime="3400">It's kind of hard to know. </span></p>

<p class="speaker"><span class="line" data-starttime="3403"><span class="speakerName">Yoav Weiss</span>: My opinion on this </span><span class="line" data-startTime="3403">is that basically you need all </span><span class="line" data-startTime="3406">solutions to be automizable. </span><span class="line" data-startTime="3411">So you can do either dynamic or </span><span class="line" data-startTime="3411">a build step or something </span><span class="line" data-startTime="3416">on the server side that does all </span><span class="line" data-startTime="3416">the grunt work for you as </span><span class="line" data-startTime="3420">a developer. </span><span class="line" data-startTime="3424">At least we must have </span><span class="line" data-startTime="3424">some solutions that </span><span class="line" data-startTime="3426">don't require it. </span></p>

<p class="speaker"><span class="line" data-starttime="3430"><span class="speakerName">Marco Caceres</span>: So I've got two </span><span class="line" data-startTime="3430">questions from the floor. </span><span class="line" data-startTime="3431">I've got one from &mdash; </span><span class="line" data-startTime="3433">your name? </span><span class="line" data-startTime="3434">Sorry. </span><span class="line" data-startTime="3435">OK. </span><span class="line" data-startTime="3438">I thought you were going </span><span class="line" data-startTime="3438">to ask a question. </span><span class="line" data-startTime="3440">No problem. </span><span class="line" data-startTime="3440">Go ahead. </span></p>

<p class="speaker"><span class="line" data-starttime="3441"><span class="speakerName">Audience</span>: So if we start </span><span class="line" data-startTime="3441">generating 20, 30 different </span><span class="line" data-startTime="3444">versions of files on the server </span><span class="line" data-startTime="3444">side and start doing </span><span class="line" data-startTime="3448">very Client Hint headers or </span><span class="line" data-startTime="3448">whatever, are we going to have </span><span class="line" data-startTime="3451">problems where the edge caches </span><span class="line" data-startTime="3451">just can't keep all of these? </span><span class="line" data-startTime="3456">We're going to be pulling out 20 </span><span class="line" data-startTime="3456">different times the number </span><span class="line" data-startTime="3458">of files on all the </span><span class="line" data-startTime="3458">edge caches. </span><span class="line" data-startTime="3460">Are CDNs going to be useful </span><span class="line" data-startTime="3460">anymore at that point? </span><span class="line" data-startTime="3464">How's it going to scale? </span></p>

<p class="speaker"><span class="line" data-starttime="3471"><span class="speakerName">Yoav Weiss</span>: Since the Client </span><span class="line" data-startTime="3471">Hints is one hints per header, </span><span class="line" data-startTime="3475">so very woodwork. </span><span class="line" data-startTime="3477">But I think the edge caches will </span><span class="line" data-startTime="3477">have to adapt to the new </span><span class="line" data-startTime="3482">reality of much more </span><span class="line" data-startTime="3482">images than before. </span><span class="line" data-startTime="3485">But since I don't think </span><span class="line" data-startTime="3485">this will be &mdash; </span><span class="line" data-startTime="3489">it may be exponential. </span><span class="line" data-startTime="3491">But there will be time </span><span class="line" data-startTime="3491">to adapt, as far as </span><span class="line" data-startTime="3494">the edge caches go. </span><span class="line" data-startTime="3495">So that's my opinion. </span></p>

<p class="speaker"><span class="line" data-starttime="3497"><span class="speakerName">Audience</span>:  &mdash; 1.1 yet. </span></p>

<p class="speaker"><span class="line" data-starttime="3498"><span class="speakerName">Marco Caceres</span>: Hang on. </span><span class="line" data-startTime="3499">Don't speak without the mic. </span><span class="line" data-startTime="3502">So I was going to jump to &mdash; </span><span class="line" data-startTime="3505">I'll go to Matt. </span><span class="line" data-startTime="3506">I think you had a question? </span><span class="line" data-startTime="3507">No? </span><span class="line" data-startTime="3507">You're good? </span></p>

<p class="speaker"><span class="line" data-starttime="3508"><span class="speakerName">Matt</span>: We covered it. </span></p>

<p class="speaker"><span class="line" data-starttime="3508"><span class="speakerName">Marco Caceres</span>: OK cool. </span><span class="line" data-startTime="3509">So Peter, you're looking like </span><span class="line" data-startTime="3509">you want to say something. </span></p>

<p class="speaker"><span class="line" data-starttime="3514"><span class="speakerName">Peter Miller</span>: When the original </span><span class="line" data-startTime="3514">question was first </span><span class="line" data-startTime="3515">asked, the case that comes to </span><span class="line" data-startTime="3515">my mind is still the art </span><span class="line" data-startTime="3520">direction case. </span> <span class="line" data-startTime="3520">Because it is very </span><span class="line" data-startTime="3520">important for </span><span class="line" data-startTime="3522">publications that I work on. </span> <span class="line" data-startTime="3524">And the crop has to be right. </span> <span class="line" data-startTime="3527">And that's why we do do </span><span class="line" data-startTime="3527">upfront generation. </span> <span class="line" data-startTime="3530">We have picture editors. </span> <span class="line" data-startTime="3531">And they are in charge of </span><span class="line" data-startTime="3531">saying, when this image is </span><span class="line" data-startTime="3533">displayed at this size, then </span><span class="line" data-startTime="3533">here's a crop I want. </span> <span class="line" data-startTime="3537">But I've worked with content </span><span class="line" data-startTime="3537">management systems in the past </span><span class="line" data-startTime="3539">that will define that </span><span class="line" data-startTime="3539">given coordinates. </span> <span class="line" data-startTime="3542">Yes, we can automatically resize </span><span class="line" data-startTime="3542">images dynamically. </span></p>

<p><span class="line" data-startTime="3545">But maybe we could allow picture </span><span class="line" data-startTime="3545">editors to dynamically </span><span class="line" data-startTime="3548">come in and draw some </span><span class="line" data-startTime="3548">coordinates for different use </span><span class="line" data-startTime="3551">cases in different contexts. </span> <span class="line" data-startTime="3552">And the question about whether </span><span class="line" data-startTime="3552">it's the browser that decides </span><span class="line" data-startTime="3556">it or it's the developer </span><span class="line" data-startTime="3556">that decides it. </span> <span class="line" data-startTime="3557">Absolutely. </span> <span class="line" data-startTime="3558">I think it has to be the </span><span class="line" data-startTime="3558">browser decides it. </span> <span class="line" data-startTime="3560">It's not just the resolution </span><span class="line" data-startTime="3560">of the screen. </span> <span class="line" data-startTime="3562">It's not just the size </span><span class="line" data-startTime="3562">of the screen. </span> <span class="line" data-startTime="3564">Is not just the battery power. </span> <span class="line" data-startTime="3565">It's actually everything else </span><span class="line" data-startTime="3565">to do with what's rendering </span><span class="line" data-startTime="3569">that image element. </span></p>

<p><span class="line" data-startTime="3570">And it's not just the HTML. </span> <span class="line" data-startTime="3571">It's the style sheet as well. </span></p>

<p class="speaker"><span class="line" data-starttime="3573"><span class="speakerName">Marco Caceres</span>: This leads me, </span><span class="line" data-startTime="3573">really, to the next question, </span><span class="line" data-startTime="3575">which is by Jeffrey </span><span class="line" data-startTime="3575">[INAUDIBLE]. </span><span class="line" data-startTime="3578">Is he here? </span></p>

<p class="speaker"><span class="line" data-starttime="3579"><span class="speakerName">Jeffrey</span>: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="3580"><span class="speakerName">Marco Caceres</span>: There he is. </span></p>

<p class="speaker"><span class="line" data-starttime="3587"><span class="speakerName">Jeffrey</span>: Thank you. </span><span class="line" data-startTime="3590">So this is an annoying </span><span class="line" data-startTime="3590">theoretical purity question, </span><span class="line" data-startTime="3595">supplied by the moderator. </span><span class="line" data-startTime="3597">And I have a complicated </span><span class="line" data-startTime="3597">relationship to it, because </span><span class="line" data-startTime="3599">since 1998, I've been beating </span><span class="line" data-startTime="3599">the drum for separation of </span><span class="line" data-startTime="3602">presentation and structure. </span><span class="line" data-startTime="3604">But I'm also a big supporter of </span><span class="line" data-startTime="3604">Matt, Marcos, and picture. </span><span class="line" data-startTime="3610">Hey, buddy. </span><span class="line" data-startTime="3612">"Is it problematic that we </span><span class="line" data-startTime="3612">describe the presentation of </span><span class="line" data-startTime="3615">images in markup against our </span><span class="line" data-startTime="3615">typical mantra to separate </span><span class="line" data-startTime="3618">presentation from content? </span><span class="line" data-startTime="3619">And, if so, does the </span><span class="line" data-startTime="3619">specification of a myriad of </span><span class="line" data-startTime="3622">sizes make this worse?" </span></p>

<p class="speaker"><span class="line" data-starttime="3625"><span class="speakerName">Marco Caceres</span>: So we saw this. </span> <span class="line" data-startTime="3628">Hopefully you had the same kind </span><span class="line" data-startTime="3628">of gut reaction when you </span><span class="line" data-startTime="3631">saw both source set and </span><span class="line" data-startTime="3631">picture and went &mdash; </span><span class="line" data-startTime="3634">When you saw the code up on the </span><span class="line" data-startTime="3634">screen, and you kind of </span><span class="line" data-startTime="3637">went, ugh, really? </span><span class="line" data-startTime="3639">We have to type all those </span><span class="line" data-startTime="3639">times 1 and times 2? </span><span class="line" data-startTime="3642">And you saw the picture bloats </span><span class="line" data-startTime="3642">all over the place. </span> <span class="line" data-startTime="3645">And it has media queries </span><span class="line" data-startTime="3645">in it as well. </span> <span class="line" data-startTime="3647">So this goes straight too &mdash; </span><span class="line" data-startTime="3650">I know Jeffrey didn't ask that </span><span class="line" data-startTime="3650">question specifically. </span> <span class="line" data-startTime="3652">But like he said, it's bad, </span><span class="line" data-startTime="3652">because we are putting media </span><span class="line" data-startTime="3656">queries into our markup. </span> <span class="line" data-startTime="3660">What can we do there? </span><span class="line" data-startTime="3661">Is there possible solutions? </span></p>

<p class="speaker"><span class="line" data-starttime="3664"><span class="speakerName">Estelle Weyl</span>: So the reason </span><span class="line" data-startTime="3664">that there's a difference </span><span class="line" data-startTime="3665">between images and background </span><span class="line" data-startTime="3665">images is because the image </span><span class="line" data-startTime="3668">tag, img, is a foreground </span><span class="line" data-startTime="3668">image. </span><span class="line" data-startTime="3670">It's content. </span><span class="line" data-startTime="3672">Versus all the design that </span><span class="line" data-startTime="3672">we have on the web page. </span><span class="line" data-startTime="3674">So yes, we do have </span><span class="line" data-startTime="3674">to keep it &mdash; </span><span class="line" data-startTime="3677">the image is actually content. </span></p>

<p class="speaker"><span class="line" data-starttime="3679"><span class="speakerName">Marco Caceres</span>: Right. </span><span class="line" data-startTime="3679">But what about the media </span><span class="line" data-startTime="3679">query component? </span></p>

<p class="speaker"><span class="line" data-starttime="3682"><span class="speakerName">Estelle Weyl</span>: The media </span><span class="line" data-startTime="3682">query should be &mdash; </span><span class="line" data-startTime="3684">that's why we're trying to </span><span class="line" data-startTime="3684">come up with all these </span><span class="line" data-startTime="3686">different solutions, and why </span><span class="line" data-startTime="3686">the picture element and the </span><span class="line" data-startTime="3688">source set look so ugly. </span><span class="line" data-startTime="3690">And actually why I like the </span><span class="line" data-startTime="3690">clown car technique, because </span><span class="line" data-startTime="3693">it actually separates </span><span class="line" data-startTime="3693">out the content. </span></p>

<p class="speaker"><span class="line" data-starttime="3696"><span class="speakerName">Marco Caceres</span>: Just for people </span><span class="line" data-startTime="3696">who don't know the clown car </span><span class="line" data-startTime="3699">technique, just super, </span><span class="line" data-startTime="3699">super Twitter-sized. </span></p>

<p class="speaker"><span class="line" data-starttime="3702"><span class="speakerName">Estelle Weyl</span>: OK. </span><span class="line" data-startTime="3703">Three tweets. </span><span class="line" data-startTime="3705">It's basically instead of </span><span class="line" data-startTime="3705">pulling in an image, </span><span class="line" data-startTime="3709">it pulls in an SVG. </span><span class="line" data-startTime="3710">And inside the SVG, that's </span><span class="line" data-startTime="3710">where all the </span><span class="line" data-startTime="3713">media queries are. </span><span class="line" data-startTime="3714">So it pulls in the correct image </span><span class="line" data-startTime="3714">based on the container </span><span class="line" data-startTime="3717">of the SVG. </span><span class="line" data-startTime="3719">And it works fairly well. </span><span class="line" data-startTime="3721">It's basically a stopgap </span><span class="line" data-startTime="3721">solution while we're trying to </span><span class="line" data-startTime="3723">figure out the correct </span><span class="line" data-startTime="3723">solution. </span><span class="line" data-startTime="3725">But the reason that I liked </span><span class="line" data-startTime="3725">the clown car technique is </span><span class="line" data-startTime="3729">because it actually separated </span><span class="line" data-startTime="3729">out content from presentation </span><span class="line" data-startTime="3732">from behavior from images. </span></p>

<p class="speaker"><span class="line" data-starttime="3735"><span class="speakerName">Peter Miller</span>: I think it </span><span class="line" data-startTime="3735">absolutely is a problem that </span><span class="line" data-startTime="3737">we're defining the media </span><span class="line" data-startTime="3737">queries in the HTML. </span> <span class="line" data-startTime="3740">I don't think it's a </span><span class="line" data-startTime="3740">problem of bloat. </span> <span class="line" data-startTime="3742">That's fine. </span> <span class="line" data-startTime="3742">I think we can give the HTML all </span><span class="line" data-startTime="3742">the sources of the images, </span><span class="line" data-startTime="3746">as I was saying before. </span> <span class="line" data-startTime="3747">But I think the problem is </span><span class="line" data-startTime="3747">illustrated in the case where, </span><span class="line" data-startTime="3751">let's say, on a 500 pixel-wide </span><span class="line" data-startTime="3751">screen, virtual pixels, you </span><span class="line" data-startTime="3756">have an image at 100% width. </span> <span class="line" data-startTime="3759">On a 700-pixel screen, you might </span><span class="line" data-startTime="3759">actually have that image </span><span class="line" data-startTime="3762">at 50% width, because you've got </span><span class="line" data-startTime="3762">a second column come in. </span> <span class="line" data-startTime="3765">And OK, fine, when I'm writing </span><span class="line" data-startTime="3765">HTML, maybe I'll </span><span class="line" data-startTime="3768">take that into mind. </span></p>

<p><span class="line" data-startTime="3769">But what if it's not an HTML </span><span class="line" data-startTime="3769">generation problem? </span><span class="line" data-startTime="3771">What if it's a render problem, </span><span class="line" data-startTime="3771">where when a user's logged in, </span><span class="line" data-startTime="3776">then you have a sidebar? </span><span class="line" data-startTime="3777">But when they're </span><span class="line" data-startTime="3777">not, you don't. </span> <span class="line" data-startTime="3778">And in CSS, I can have the </span><span class="line" data-startTime="3778">column at 50% or 100% if it's </span><span class="line" data-startTime="3783">got a sibling with a </span><span class="line" data-startTime="3783">logged-in sidebar. </span> <span class="line" data-startTime="3786">But I'm going to want a </span><span class="line" data-startTime="3786">different image source to </span><span class="line" data-startTime="3788">apply to that element. </span> <span class="line" data-startTime="3789">And that's why a technique that </span><span class="line" data-startTime="3789">takes into account the </span><span class="line" data-startTime="3791">actual width of the image </span><span class="line" data-startTime="3791">element rather than the width </span><span class="line" data-startTime="3794">of the screen I think is </span><span class="line" data-startTime="3794">absolutely essential. </span> <span class="line" data-startTime="3796">And that's why I do still </span><span class="line" data-startTime="3796">have a problem </span><span class="line" data-startTime="3798">with the page element. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="3800"><span class="speakerName">Marco Caceres</span>: I think Yoav </span><span class="line" data-startTime="3800">will come in and &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="3802"><span class="speakerName">Yoav Weiss</span>: Yeah. </span><span class="line" data-startTime="3803">[LAUGHTER] </span></p>

<p class="speaker"><span class="line" data-starttime="3804"><span class="speakerName">Marco Caceres</span>: So this is </span><span class="line" data-startTime="3804">alluding to, some people might </span><span class="line" data-startTime="3807">have heard about, </span><span class="line" data-startTime="3807">element queries. </span><span class="line" data-startTime="3812">Which is like CSS applied to a </span><span class="line" data-startTime="3812">particular container element. </span><span class="line" data-startTime="3816">And it's pretty cool. </span></p>

<p class="speaker"><span class="line" data-starttime="3818"><span class="speakerName">Peter Miller</span>: Has </span><span class="line" data-startTime="3818">its problems. </span></p>

<p class="speaker"><span class="line" data-starttime="3819"><span class="speakerName">Marco Caceres</span>: It has </span><span class="line" data-startTime="3819">its problems. </span></p>

<p class="speaker"><span class="line" data-starttime="3822"><span class="speakerName">Jonathan Klein</span>: So actually, </span><span class="line" data-startTime="3822">they are </span><span class="line" data-startTime="3824">several questions here. </span><span class="line" data-startTime="3826">First, for the separation of </span><span class="line" data-startTime="3826">content and presentation, I </span><span class="line" data-startTime="3831">think it's a problem. </span><span class="line" data-startTime="3833">I think that this is something </span><span class="line" data-startTime="3833">that can be resolved by drying </span><span class="line" data-startTime="3838">out the media queries out of </span><span class="line" data-startTime="3838">HTML and into some sort of a </span><span class="line" data-startTime="3842">media query variable. </span></p>

<p class="speaker"><span class="line" data-starttime="3843"><span class="speakerName">Marco Caceres</span>: Drying </span><span class="line" data-startTime="3843">out being? </span></p>

<p class="speaker"><span class="line" data-starttime="3846"><span class="speakerName">Yoav Weiss</span>: Don't </span><span class="line" data-startTime="3846">repeat yourself. </span></p>

<p class="speaker"><span class="line" data-starttime="3848"><span class="speakerName">Marco Caceres</span>: Thank you. </span></p>

<p class="speaker"><span class="line" data-starttime="3849"><span class="speakerName">Yoav Weiss</span>: Just basically </span><span class="line" data-startTime="3849">creating variables that say </span><span class="line" data-startTime="3855">mobile, whatever that means. </span><span class="line" data-startTime="3859">Basically create named media </span><span class="line" data-startTime="3859">queries and use them instead </span><span class="line" data-startTime="3863">of the actual media queries </span><span class="line" data-startTime="3863">wherever you have media </span><span class="line" data-startTime="3866">queries in your markup. </span><span class="line" data-startTime="3867">Be it picture or external </span><span class="line" data-startTime="3867">style sheets, or </span><span class="line" data-startTime="3872">in the CSS as well. </span><span class="line" data-startTime="3874">There is work in the CSS Working </span><span class="line" data-startTime="3874">group regarding that. </span><span class="line" data-startTime="3877">I have no idea when it will </span><span class="line" data-startTime="3877">go in, but people </span><span class="line" data-startTime="3882">are working on it. </span><span class="line" data-startTime="3883">And so regarding that, I think </span><span class="line" data-startTime="3883">that will resolve most of the </span><span class="line" data-startTime="3888">issues that from this </span><span class="line" data-startTime="3888">separation of </span><span class="line" data-startTime="3891">concerns point of view. </span></p>

<p class="speaker"><span class="line" data-starttime="3895"><span class="speakerName">Marco Caceres</span>: Hang on. </span><span class="line" data-startTime="3896">So a question I have is &mdash; </span><span class="line" data-startTime="3898">OK, so a picture is probably </span><span class="line" data-startTime="3898">the main offender here. </span><span class="line" data-startTime="3905">Should we even bother </span><span class="line" data-startTime="3905">to continue to work </span><span class="line" data-startTime="3907">on it in that sense? </span></p>

<p class="speaker"><span class="line" data-starttime="3908"><span class="speakerName">Yoav Weiss</span>: I don't think </span><span class="line" data-startTime="3908">picture is the </span><span class="line" data-startTime="3910">most visible offender. </span> <span class="line" data-startTime="3912">But again, there are </span><span class="line" data-startTime="3912">style sheets. </span> <span class="line" data-startTime="3916">If I'll have my way, media </span><span class="line" data-startTime="3916">attributes will be everywhere. </span> <span class="line" data-startTime="3921">Which I probably won't </span><span class="line" data-startTime="3921">have my way. </span> <span class="line" data-startTime="3924">But I think that there are a lot </span><span class="line" data-startTime="3924">of resources that can be </span><span class="line" data-startTime="3927">downloaded based on media. </span> <span class="line" data-startTime="3930">And I think we need to have </span><span class="line" data-startTime="3930">some shortcut for media </span><span class="line" data-startTime="3938">queries that we don't have to </span><span class="line" data-startTime="3938">repeat them everywhere, </span><span class="line" data-startTime="3940">including in CSS. </span> <span class="line" data-startTime="3942">Because in CSS, we repeat </span><span class="line" data-startTime="3942">them as well. </span></p>

<p><span class="line" data-startTime="3945">And regarding the element </span><span class="line" data-startTime="3945">queries stuff. </span> <span class="line" data-startTime="3948">First of all, I'd like to say </span><span class="line" data-startTime="3948">that the main advantage of the </span><span class="line" data-startTime="3950">clown car technique versus </span><span class="line" data-startTime="3950">basically anything else is </span><span class="line" data-startTime="3955">that it basically emulates </span><span class="line" data-startTime="3955">element queries. </span> <span class="line" data-startTime="3959">The media queries there referred </span><span class="line" data-startTime="3959">to the viewport of </span><span class="line" data-startTime="3962">the SVG, not the viewport </span><span class="line" data-startTime="3962">of the document. </span> <span class="line" data-startTime="3966">So while it creates some </span><span class="line" data-startTime="3966">delay in download, </span><span class="line" data-startTime="3972">it's sometimes necessary. </span></p>

<p><span class="line" data-startTime="3976">There are cases where it's </span><span class="line" data-startTime="3976">useful, extremely useful. </span> <span class="line" data-startTime="3980">But the problem with element </span><span class="line" data-startTime="3980">queries is that you cannot </span><span class="line" data-startTime="3984">start downloading the resource </span><span class="line" data-startTime="3984">before you have layout, which </span><span class="line" data-startTime="3988">means you add a significant </span><span class="line" data-startTime="3988">delay to the entire page load. </span></p>

<p class="speaker"><span class="line" data-starttime="3994"><span class="speakerName">Marco Caceres</span>: So Ann, do you </span><span class="line" data-startTime="3994">have any comments about &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="4000"><span class="speakerName">Ann Robson</span>: Yeah. </span><span class="line" data-startTime="4000">I'm still a fan of progressive </span><span class="line" data-startTime="4000">jpegs. </span><span class="line" data-startTime="4002">And I think that &mdash; </span><span class="line" data-startTime="4003">[LAUGHTER] </span></p>

<p class="speaker"><span class="line" data-starttime="4008"><span class="speakerName">Ann Robson</span>: No, I think that </span><span class="line" data-startTime="4008">there's definitely &mdash; </span><span class="line" data-startTime="4011">The art direction </span><span class="line" data-startTime="4011">case, it doesn't </span><span class="line" data-startTime="4012">really handle, obviously. </span><span class="line" data-startTime="4015">But I don't think that we should </span><span class="line" data-startTime="4015">forget about it as a </span><span class="line" data-startTime="4017">file format that we </span><span class="line" data-startTime="4017">might explore. </span><span class="line" data-startTime="4020">And we often do forget about </span><span class="line" data-startTime="4020">progressive jpegs. </span><span class="line" data-startTime="4022">I think we forgot about </span><span class="line" data-startTime="4022">progressive </span><span class="line" data-startTime="4023">jpegs for 10 years. </span></p>

<p class="speaker"><span class="line" data-starttime="4027"><span class="speakerName">Marco Caceres</span>: What is the </span><span class="line" data-startTime="4027">reason we forgot about them? </span><span class="line" data-startTime="4031">What browser doesn't really </span><span class="line" data-startTime="4031">support them? </span></p>

<p class="speaker"><span class="line" data-starttime="4033"><span class="speakerName">Ann Robson</span>: Oh. </span><span class="line" data-startTime="4037">I think that in general, </span><span class="line" data-startTime="4037">there's pretty </span><span class="line" data-startTime="4039">good browser support. </span><span class="line" data-startTime="4041">I think that the reason browsers </span><span class="line" data-startTime="4041">don't support them is </span><span class="line" data-startTime="4043">because we stopped using them. </span><span class="line" data-startTime="4044">And I think we stopped using </span><span class="line" data-startTime="4044">them because things changed. </span><span class="line" data-startTime="4048">We had a faster connections. </span><span class="line" data-startTime="4051">But then things kind of reverted </span><span class="line" data-startTime="4051">with mobile, and we </span><span class="line" data-startTime="4054">went back to where we were, </span><span class="line" data-startTime="4054">where speed turned out to be </span><span class="line" data-startTime="4056">an issue again. </span></p>

<p class="speaker"><span class="line" data-starttime="4062"><span class="speakerName">Marco Caceres</span>: Cool. </span></p>

<p class="speaker"><span class="line" data-starttime="4063"><span class="speakerName">Ann Robson</span>: That's it. </span></p>

<p class="speaker"><span class="line" data-starttime="4064"><span class="speakerName">Marco Caceres</span>: So there's one </span><span class="line" data-startTime="4064">question from the audience. </span><span class="line" data-startTime="4067">Go ahead. </span></p>

<p class="speaker"><span class="line" data-starttime="4068"><span class="speakerName">Audience</span>: Sounded like the best </span><span class="line" data-startTime="4068">solution for a pictured </span><span class="line" data-startTime="4070">element is basically to </span><span class="line" data-startTime="4070">move the rules to CSS. </span><span class="line" data-startTime="4073">You can go back to regular IMG </span><span class="line" data-startTime="4073">and have something that says, </span><span class="line" data-startTime="4076">in CSS, for all images which </span><span class="line" data-startTime="4076">have a path that looks like </span><span class="line" data-startTime="4080">this, then apply these rules </span><span class="line" data-startTime="4080">to add .2x to the path. </span><span class="line" data-startTime="4084">This allows you to move the more </span><span class="line" data-startTime="4084">presentational parts of </span><span class="line" data-startTime="4086">it to the CSS while still </span><span class="line" data-startTime="4086">keeping the content, namely </span><span class="line" data-startTime="4089">the fallback image, </span><span class="line" data-startTime="4089">in the HTML. </span><span class="line" data-startTime="4092">And you can use something like </span><span class="line" data-startTime="4092">a regex to not have to write </span><span class="line" data-startTime="4095">this 2x, that 2x, something </span><span class="line" data-startTime="4095">else 2x for 2x version of </span><span class="line" data-startTime="4098">every single image you have. </span><span class="line" data-startTime="4101">You can sort of do this right </span><span class="line" data-startTime="4101">now using attribute selectors </span><span class="line" data-startTime="4104">and IMG tag. </span></p>

<p class="speaker"><span class="line" data-starttime="4105"><span class="speakerName">Marco Caceres</span>: Using </span><span class="line" data-startTime="4105">what selectors? </span></p>

<p class="speaker"><span class="line" data-starttime="4106"><span class="speakerName">Audience</span>: You can sort </span><span class="line" data-startTime="4106">of do this now </span><span class="line" data-startTime="4107">using attribute selectors. </span></p>

<p class="speaker"><span class="line" data-starttime="4108"><span class="speakerName">Marco Caceres</span>: Attribute </span><span class="line" data-startTime="4108">selectors. </span></p>

<p class="speaker"><span class="line" data-starttime="4109"><span class="speakerName">Audience</span>: Yeah. </span><span class="line" data-startTime="4109">But one per SOC, which </span><span class="line" data-startTime="4109">would be annoying. </span></p>

<p class="speaker"><span class="line" data-starttime="4112"><span class="speakerName">Marco Caceres</span>: Right. </span> <span class="line" data-startTime="4113">Yeah. </span> <span class="line" data-startTime="4114">So it's kind of like </span><span class="line" data-startTime="4114">a mix of things. </span> <span class="line" data-startTime="4116">So I'm sure one of these other </span><span class="line" data-startTime="4116">guys will be able to talk </span><span class="line" data-startTime="4119">about their concerns there. </span> <span class="line" data-startTime="4121">I can give a little. </span> <span class="line" data-startTime="4124">Some of the main problem that </span><span class="line" data-startTime="4124">we're trying to solve with </span><span class="line" data-startTime="4127">responsive images as a whole is </span><span class="line" data-startTime="4127">integrating nicely into how </span><span class="line" data-startTime="4130">browsers load images and </span><span class="line" data-startTime="4130">performance wise. </span> <span class="line" data-startTime="4133">So to block and wait for a style </span><span class="line" data-startTime="4133">sheet to download that </span><span class="line" data-startTime="4140">will give you the instructions </span><span class="line" data-startTime="4140">to then be able to fetch the </span><span class="line" data-startTime="4144">files that you need will </span><span class="line" data-startTime="4144">probably cause issues. </span> <span class="line" data-startTime="4149">Part of the stuff that Yoav </span><span class="line" data-startTime="4149">was talking about before, </span><span class="line" data-startTime="4151">about these CSS-based variables </span><span class="line" data-startTime="4151">they can put in is </span><span class="line" data-startTime="4157">that you would need to insert </span><span class="line" data-startTime="4157">them at the top of the </span><span class="line" data-startTime="4159">document in line so then they </span><span class="line" data-startTime="4159">would actually parse before </span><span class="line" data-startTime="4162">anything else. </span> <span class="line" data-startTime="4163">So there's big performance </span><span class="line" data-startTime="4163">issues with all this. </span> <span class="line" data-startTime="4168">It's a cool solution, </span><span class="line" data-startTime="4168">and I'm not saying </span><span class="line" data-startTime="4171">that it wouldn't work. </span></p>

<p><span class="line" data-startTime="4172">But it's working out how all the </span><span class="line" data-startTime="4172">dynamics work there within </span><span class="line" data-startTime="4175">the browser. </span> <span class="line" data-startTime="4176">It's pretty crazy. </span> <span class="line" data-startTime="4177">Does anyone want to add? </span><span class="line" data-startTime="4179">You're all probably </span><span class="line" data-startTime="4179">ones that had a &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="4181"><span class="speakerName">Yoav Weiss</span>: I just want to add </span><span class="line" data-startTime="4181">that it's basically violating </span><span class="line" data-startTime="4184">the separation of concerns </span><span class="line" data-startTime="4184">from the </span><span class="line" data-startTime="4187">other side of the spectrum. </span><span class="line" data-startTime="4191">Basically, your content </span><span class="line" data-startTime="4191">is now part of your </span><span class="line" data-startTime="4195">presentation in a way. </span><span class="line" data-startTime="4198">Because the content URLs </span><span class="line" data-startTime="4198">rely on the CSS. </span><span class="line" data-startTime="4206">For CSS caching, content images </span><span class="line" data-startTime="4206">tend to change often. </span><span class="line" data-startTime="4213">Everything that's in </span><span class="line" data-startTime="4213">CSS usually changes </span><span class="line" data-startTime="4217">less often than that. </span><span class="line" data-startTime="4219">So it can be cached for a </span><span class="line" data-startTime="4219">while, for a long while. </span><span class="line" data-startTime="4226">It violates the layers as far </span><span class="line" data-startTime="4226">as I'm concerned, in a way. </span></p>

<p class="speaker"><span class="line" data-starttime="4230"><span class="speakerName">Marco Caceres</span>: So let's </span><span class="line" data-startTime="4230">take that one up. </span><span class="line" data-startTime="4232">So I've got another question </span><span class="line" data-startTime="4232">from the audience. </span><span class="line" data-startTime="4235">And another one from &mdash; </span><span class="line" data-startTime="4236">So I've got a couple here. </span><span class="line" data-startTime="4237">I'm going to go there first, </span><span class="line" data-startTime="4237">and then we'll bounce to &mdash; </span><span class="line" data-startTime="4240">Sorry, you already have </span><span class="line" data-startTime="4240">the mic, so go ahead. </span><span class="line" data-startTime="4242">And then I'll bounce to you. </span><span class="line" data-startTime="4243">Sorry. </span></p>

<p class="speaker"><span class="line" data-starttime="4243"><span class="speakerName">Audience</span>: Just to counteract </span><span class="line" data-startTime="4243">that, how you say if you need </span><span class="line" data-startTime="4247">to download the CSS first in </span><span class="line" data-startTime="4247">order to display the image. </span><span class="line" data-startTime="4250">But that the CSS modifies the </span><span class="line" data-startTime="4250">size of the image, which could </span><span class="line" data-startTime="4253">modify the art direction </span><span class="line" data-startTime="4253">and the actual one </span><span class="line" data-startTime="4255">that you want to use. </span><span class="line" data-startTime="4257">Isn't that important? </span></p>

<p class="speaker"><span class="line" data-starttime="4260"><span class="speakerName">Marco Caceres</span>: It is. </span><span class="line" data-startTime="4261">But like I said, it's all </span><span class="line" data-startTime="4261">trades and balances. </span><span class="line" data-startTime="4265">Because we are trying to keep </span><span class="line" data-startTime="4265">the performance high. </span><span class="line" data-startTime="4272">So there is going to be a </span><span class="line" data-startTime="4272">penalty for everything. </span><span class="line" data-startTime="4274">So where you defer. </span><span class="line" data-startTime="4275">Like Yoav was saying, the </span><span class="line" data-startTime="4275">separations of concern, it's </span><span class="line" data-startTime="4278">going to have issues </span><span class="line" data-startTime="4278">with how the images </span><span class="line" data-startTime="4281">are loaded and when. </span><span class="line" data-startTime="4282">So if the things have to be </span><span class="line" data-startTime="4282">deferred, then you might defer </span><span class="line" data-startTime="4285">layout, and that's going to </span><span class="line" data-startTime="4285">impact the user's perception </span><span class="line" data-startTime="4288">of whatever application </span><span class="line" data-startTime="4288">you're trying to run. </span><span class="line" data-startTime="4290">So again, we need to test </span><span class="line" data-startTime="4290">a lot of this stuff. </span><span class="line" data-startTime="4293">We don't know. </span><span class="line" data-startTime="4295">Even though we've been talking </span><span class="line" data-startTime="4295">about it, now it's really time </span><span class="line" data-startTime="4297">to start testing. </span></p>

<p class="speaker"><span class="line" data-starttime="4300"><span class="speakerName">Audience</span>: I guess I just </span><span class="line" data-startTime="4300">had more of a direct </span><span class="line" data-startTime="4302">question for Peter. </span><span class="line" data-startTime="4303">Sorry to put you on the spot. </span><span class="line" data-startTime="4304">But given the art direction </span><span class="line" data-startTime="4304">perspective, I was wondering </span><span class="line" data-startTime="4308">if you could talk a little bit </span><span class="line" data-startTime="4308">about, from your standpoint, </span><span class="line" data-startTime="4311">what is best practice </span><span class="line" data-startTime="4311">right now? </span><span class="line" data-startTime="4313">Given that it's not all just </span><span class="line" data-startTime="4313">programmers trying to do stuff </span><span class="line" data-startTime="4317">in an automated fashion. </span><span class="line" data-startTime="4318">Because every time I've tried </span><span class="line" data-startTime="4318">to do that, I fail. </span><span class="line" data-startTime="4320">And the art director looks to me </span><span class="line" data-startTime="4320">and is like, no, we need to </span><span class="line" data-startTime="4323">cop it this way instead. </span></p>

<p class="speaker"><span class="line" data-starttime="4326"><span class="speakerName">Marco Caceres</span>: I want you to </span><span class="line" data-startTime="4326">answer that, but I think this </span><span class="line" data-startTime="4328">is a great question. </span><span class="line" data-startTime="4329">Because it's really </span><span class="line" data-startTime="4329">about what should </span><span class="line" data-startTime="4331">developers be doing today? </span><span class="line" data-startTime="4333">And I think John </span><span class="line" data-startTime="4333">has some ideas. </span><span class="line" data-startTime="4336">Ann's already talked about </span><span class="line" data-startTime="4336">let's try out these </span><span class="line" data-startTime="4339">progressive jpegs. </span><span class="line" data-startTime="4341">And Yoav and I have been working </span><span class="line" data-startTime="4341">on the standards, </span><span class="line" data-startTime="4343">trying to look forward. </span><span class="line" data-startTime="4345">Estelle's been experimenting </span><span class="line" data-startTime="4345">with the client kind of </span><span class="line" data-startTime="4347">techniques. </span><span class="line" data-startTime="4349">So we have five minutes. </span><span class="line" data-startTime="4351">One minute each, what can </span><span class="line" data-startTime="4351">developers do today? </span><span class="line" data-startTime="4353">Starting with Peter. </span></p>

<p class="speaker"><span class="line" data-starttime="4355"><span class="speakerName">Peter Miller</span>: OK. </span><span class="line" data-startTime="4355">Well here's what we're doing. </span><span class="line" data-startTime="4356">We're sending lots of the jpeg </span><span class="line" data-startTime="4356">sources into the HTML as a </span><span class="line" data-startTime="4361">JSON string on a </span><span class="line" data-startTime="4361">data attribute. </span><span class="line" data-startTime="4365">We've got JavaScript running </span><span class="line" data-startTime="4365">that, after the CSS has </span><span class="line" data-startTime="4370">evaluated layout, will pick the </span><span class="line" data-startTime="4370">right source, and apply </span><span class="line" data-startTime="4373">it, and on resize, change it. </span><span class="line" data-startTime="4374">Yeah, the performance isn't </span><span class="line" data-startTime="4374">great for that. </span><span class="line" data-startTime="4377">But to answer a little of </span><span class="line" data-startTime="4377">what Yoav was saying. </span><span class="line" data-startTime="4381">I think that having a default </span><span class="line" data-startTime="4381">source there, low-res your </span><span class="line" data-startTime="4385">best guess is, I think, an OK </span><span class="line" data-startTime="4385">way to go for we have now. </span></p>

<p class="speaker"><span class="line" data-starttime="4390"><span class="speakerName">Marco Caceres</span>: Ann, what do you </span><span class="line" data-startTime="4390">recommend for developers? </span></p>

<p class="speaker"><span class="line" data-starttime="4394"><span class="speakerName">Ann Robson</span>: I think that </span><span class="line" data-startTime="4394">what we have now </span><span class="line" data-startTime="4396">is a bunch of hacks. </span><span class="line" data-startTime="4400">So that's what we have. </span><span class="line" data-startTime="4402">I think we should </span><span class="line" data-startTime="4402">try and focus &mdash; </span><span class="line" data-startTime="4404">I love that we're doing this. </span><span class="line" data-startTime="4405">And actually, I think what we're </span><span class="line" data-startTime="4405">talking about are big </span><span class="line" data-startTime="4408">wins and solutions for </span><span class="line" data-startTime="4408">responsive images. </span><span class="line" data-startTime="4410">And I think we should really </span><span class="line" data-startTime="4410">be forward-thinking in not </span><span class="line" data-startTime="4414">forget all of the different </span><span class="line" data-startTime="4414">options and all of our </span><span class="line" data-startTime="4417">different paths and </span><span class="line" data-startTime="4417">explore them all. </span></p>

<p class="speaker"><span class="line" data-starttime="4420"><span class="speakerName">Marco Caceres</span>: That's great. </span></p>

<p class="speaker"><span class="line" data-starttime="4424"><span class="speakerName">Yoav Weiss</span>: I think that all </span><span class="line" data-startTime="4424">current hacks have performance </span><span class="line" data-startTime="4428">trade offs. </span><span class="line" data-startTime="4429">All current hacks, basically, </span><span class="line" data-startTime="4429">you're deferring the loading </span><span class="line" data-startTime="4433">of the image to a later time </span><span class="line" data-startTime="4433">in order to download the </span><span class="line" data-startTime="4438">appropriate one. </span><span class="line" data-startTime="4440">I think that things </span><span class="line" data-startTime="4440">will look up soon. </span><span class="line" data-startTime="4445">Things will get better soon. </span><span class="line" data-startTime="4448">There is currently work in the </span><span class="line" data-startTime="4448">Responsive Images Community </span><span class="line" data-startTime="4450">Group on an x-picture </span><span class="line" data-startTime="4450">polyfill &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="4454"><span class="speakerName">Marco Caceres</span>:  &mdash; web </span><span class="line" data-startTime="4454">components. </span></p>

<p class="speaker"><span class="line" data-starttime="4455"><span class="speakerName">Yoav Weiss</span>:  &mdash; that uses web </span><span class="line" data-startTime="4455">components in order to emulate </span><span class="line" data-startTime="4459">the picture. </span><span class="line" data-startTime="4460">It won't work with </span><span class="line" data-startTime="4460">the preloader. </span><span class="line" data-startTime="4465">But if you don't have any </span><span class="line" data-startTime="4465">blocking scripts at the page's </span><span class="line" data-startTime="4471">top, it should have similar </span><span class="line" data-startTime="4471">performance </span><span class="line" data-startTime="4475">characteristics as image. </span><span class="line" data-startTime="4477">So current hacks all </span><span class="line" data-startTime="4477">have problems. </span><span class="line" data-startTime="4481">Future hacks will get better. </span><span class="line" data-startTime="4485">And then there is </span><span class="line" data-startTime="4485">a Source Set. </span><span class="line" data-startTime="4487">Hopefully it will ship &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="4488"><span class="speakerName">Marco Caceres</span>: Soon enough. </span></p>

<p class="speaker"><span class="line" data-starttime="4490"><span class="speakerName">Yoav Weiss</span>:  &mdash; in a release </span><span class="line" data-startTime="4490">build soon enough. </span></p>

<p class="speaker"><span class="line" data-starttime="4495"><span class="speakerName">Marco Caceres</span>: OK. </span></p>

<p class="speaker"><span class="line" data-starttime="4496"><span class="speakerName">Estelle Weyl</span>: So I guess the </span><span class="line" data-startTime="4496">question is what developers </span><span class="line" data-startTime="4497">should be doing now. </span> <span class="line" data-startTime="4498">And what developers should be </span><span class="line" data-startTime="4498">do now is being concerned </span><span class="line" data-startTime="4501">about what they're sending over </span><span class="line" data-startTime="4501">the wires and making sure </span><span class="line" data-startTime="4503">that they're not sending </span><span class="line" data-startTime="4503">huge assets to </span><span class="line" data-startTime="4506">limited bandwidth devices. </span> <span class="line" data-startTime="4508">And in terms of what we should </span><span class="line" data-startTime="4508">be doing is, the spec author </span><span class="line" data-startTime="4513">should be doing, is </span><span class="line" data-startTime="4513">we should also &mdash; </span><span class="line" data-startTime="4514">I think what I haven't heard, </span><span class="line" data-startTime="4514">and I just thought of while I </span><span class="line" data-startTime="4517">was on stage &mdash; so I don't know, </span><span class="line" data-startTime="4517">maybe it has been &mdash; </span><span class="line" data-startTime="4521">there's the image element </span><span class="line" data-startTime="4521">you can clip and </span><span class="line" data-startTime="4524">pick certain areas. </span></p>

<p><span class="line" data-startTime="4526">So maybe figuring out a way to </span><span class="line" data-startTime="4526">do that on the back end or </span><span class="line" data-startTime="4530">through Client Hint so that </span><span class="line" data-startTime="4530">you're actually just </span><span class="line" data-startTime="4532">downloading based on that </span><span class="line" data-startTime="4532">instead of downloading the </span><span class="line" data-startTime="4534">whole image. </span></p>

<p class="speaker"><span class="line" data-starttime="4535"><span class="speakerName">Marco Caceres</span>: Right. </span><span class="line" data-startTime="4535">So just expanding on that one. </span><span class="line" data-startTime="4536">It's basically just taking &mdash; </span><span class="line" data-startTime="4538">you have your normal image, and </span><span class="line" data-startTime="4538">then you select the area </span><span class="line" data-startTime="4540">that you want to crop out. </span><span class="line" data-startTime="4541">And basically you just </span><span class="line" data-startTime="4541">crop it out with CSS. </span><span class="line" data-startTime="4544">It's a good way of doing </span><span class="line" data-startTime="4544">art direction. </span><span class="line" data-startTime="4545">And it fits quite well with </span><span class="line" data-startTime="4545">compressive images as well. </span></p>

<p class="speaker"><span class="line" data-starttime="4548"><span class="speakerName">John Mellor</span>: So I'll give </span><span class="line" data-startTime="4548">several answers. </span><span class="line" data-startTime="4550">For CSS, you can just use media </span><span class="line" data-startTime="4550">queries to switch out </span><span class="line" data-startTime="4553">the right image. </span><span class="line" data-startTime="4554">It's in a better state </span><span class="line" data-startTime="4554">these days. </span><span class="line" data-startTime="4556">For HTML, there's a few </span><span class="line" data-startTime="4556">different things. </span><span class="line" data-startTime="4558">For fixed-size images, if you're </span><span class="line" data-startTime="4558">just switching based on </span><span class="line" data-startTime="4561">device-pixel ratio, compressive </span><span class="line" data-startTime="4561">images, like </span><span class="line" data-startTime="4564">serving a double-size but highly </span><span class="line" data-startTime="4564">compressed image, is </span><span class="line" data-startTime="4566">reasonable. </span><span class="line" data-startTime="4568">Source Set will be nice, but </span><span class="line" data-startTime="4568">only once browsers support it. </span><span class="line" data-startTime="4572">For viewport-based switching, </span><span class="line" data-startTime="4572">where you need to take into </span><span class="line" data-startTime="4574">account flexible images, I think </span><span class="line" data-startTime="4574">the best solution these </span><span class="line" data-startTime="4578">days is to load a very </span><span class="line" data-startTime="4578">low-quality placeholder which </span><span class="line" data-startTime="4583">is directly referenced </span><span class="line" data-startTime="4583">from your HTML. </span><span class="line" data-startTime="4586">And then, later on, using </span><span class="line" data-startTime="4586">Javascript, you swap it out </span><span class="line" data-startTime="4589">with an appropriate-resolution </span><span class="line" data-startTime="4589">image, based on the actual </span><span class="line" data-startTime="4592">image size or whatever. </span></p>

<p class="speaker"><span class="line" data-starttime="4593"><span class="speakerName">Marco Caceres</span>: And would </span><span class="line" data-startTime="4593">you use the classic &mdash; </span><span class="line" data-startTime="4595">I don't know even know </span><span class="line" data-startTime="4595">if this works here. </span><span class="line" data-startTime="4596">But there was a low source, </span><span class="line" data-startTime="4596">low SRC attribute on HTML. </span></p>

<p class="speaker"><span class="line" data-starttime="4600"><span class="speakerName">John Mellor</span>: I just use SRC. </span><span class="line" data-startTime="4601">So put the locals you want in </span><span class="line" data-startTime="4601">SRC and use JavaScript to </span><span class="line" data-startTime="4604">replace that with a better </span><span class="line" data-startTime="4604">quality one once you've loaded </span><span class="line" data-startTime="4607">that in the background. </span><span class="line" data-startTime="4609">So you get kind of this </span><span class="line" data-startTime="4609">progressive thing. </span><span class="line" data-startTime="4610">Where the page loads in low </span><span class="line" data-startTime="4610">quality quickly, and gradually </span><span class="line" data-startTime="4613">becomes higher quality. </span><span class="line" data-startTime="4614">So I actually released the </span><span class="line" data-startTime="4614">library for this yesterday. </span><span class="line" data-startTime="4617">It's on GitHub.com/JohnM </span><span class="line" data-startTime="4617">ellor/RespSwap.js. </span><span class="line" data-startTime="4622">Very early stages. </span><span class="line" data-startTime="4625">Finally, for art direction, </span><span class="line" data-startTime="4625">where you actually need a </span><span class="line" data-startTime="4628">different image, rather than </span><span class="line" data-startTime="4628">just a different resolution, </span><span class="line" data-startTime="4630">the same image. </span><span class="line" data-startTime="4632">You can't load a low-quality </span><span class="line" data-startTime="4632">placeholder because you don't </span><span class="line" data-startTime="4634">know what image it's </span><span class="line" data-startTime="4634">going to be. </span><span class="line" data-startTime="4636">And so for that, you </span><span class="line" data-startTime="4636">can something like </span><span class="line" data-startTime="4638">Picturefill or whatever. </span><span class="line" data-startTime="4640">But don't use Picturefill </span><span class="line" data-startTime="4640">for report switching. </span></p>

<p class="speaker"><span class="line" data-starttime="4644"><span class="speakerName">Marco Caceres</span>: So Picturefill, </span><span class="line" data-startTime="4644">for people who don't </span><span class="line" data-startTime="4646">know what that is. </span><span class="line" data-startTime="4647">Picturefill, you </span><span class="line" data-startTime="4647">can Google it. </span><span class="line" data-startTime="4649">You'll find it pretty quick. </span><span class="line" data-startTime="4650">And it's basically similar </span><span class="line" data-startTime="4650">syntax to the picture element, </span><span class="line" data-startTime="4654">but done with, I think divs </span><span class="line" data-startTime="4654">and spans or something. </span><span class="line" data-startTime="4659">But it basically works. </span></p>

<p class="speaker"><span class="line" data-starttime="4660"><span class="speakerName">John Mellor</span>: But a downside is </span><span class="line" data-startTime="4660">that the images don't load </span><span class="line" data-startTime="4663">until the page is fully finished </span><span class="line" data-startTime="4663">loading and you've </span><span class="line" data-startTime="4666">reached DOMContentLoaded. </span><span class="line" data-startTime="4668">And so your images will start </span><span class="line" data-startTime="4668">loading much later than if </span><span class="line" data-startTime="4671">you've got a placeholder </span><span class="line" data-startTime="4671">or something. </span></p>

<p class="speaker"><span class="line" data-starttime="4674"><span class="speakerName">Yoav Weiss</span>: Just to emphasize on </span><span class="line" data-startTime="4674">that, Picturefill should be </span><span class="line" data-startTime="4679">used for art direction and not </span><span class="line" data-startTime="4679">for resolution switching. </span></p>

<p class="speaker"><span class="line" data-starttime="4685"><span class="speakerName">Estelle Weyl</span>: I'd like </span><span class="line" data-startTime="4685">to add one comment. </span><span class="line" data-startTime="4686">With the Picturefill, the reason </span><span class="line" data-startTime="4686">that it's an issue is </span><span class="line" data-startTime="4689">because it's on </span><span class="line" data-startTime="4689">DOMContentLoaded. </span><span class="line" data-startTime="4692">We should make on </span><span class="line" data-startTime="4692">DOMContentLoaded much faster. </span><span class="line" data-startTime="4695">It shouldn't be taking 10 </span><span class="line" data-startTime="4695">seconds to download your page. </span><span class="line" data-startTime="4699">And that's one thing we should </span><span class="line" data-startTime="4699">definitely work on is &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="4701"><span class="speakerName">Marco Caceres</span>: That one, I think </span><span class="line" data-startTime="4701">we'll hopefully cover it </span><span class="line" data-startTime="4702">in one of the other sessions. </span><span class="line" data-startTime="4704">Because that's part of </span><span class="line" data-startTime="4704">the performancing. </span><span class="line" data-startTime="4705">So there is work around that </span><span class="line" data-startTime="4705">that we would basically say. </span><span class="line" data-startTime="4708">I'm just wrapping up here </span><span class="line" data-startTime="4708">for the session. </span><span class="line" data-startTime="4710">But it basically would just </span><span class="line" data-startTime="4710">say, my page is ready now. </span><span class="line" data-startTime="4713">So as an author, you say, forget </span><span class="line" data-startTime="4713">DOMContentLoaded, but </span><span class="line" data-startTime="4717">page is done! </span><span class="line" data-startTime="4718">And you send a fake </span><span class="line" data-startTime="4718">DOMContentLoaded that </span><span class="line" data-startTime="4722">indicates to the browser, now </span><span class="line" data-startTime="4722">I'm ready to do other stuff. </span><span class="line" data-startTime="4726">So please join me in thanking </span><span class="line" data-startTime="4726">the panel here. </span><span class="line" data-startTime="4730">[APPLAUSE] </span><span class="line" data-startTime="4742">ANDREW BETTS: [INAUDIBLE] </span></p>

<p class="speaker"><span class="line" data-starttime="4744"><span class="speakerName">Marco Caceres</span>: Sorry? </span></p>

<p class="speaker"><span class="line" data-starttime="4744"><span class="speakerName">Andrew Betts</span>: You didn't </span><span class="line" data-startTime="4744">give the caveat. </span><span class="line" data-startTime="4746">[INAUDIBLE] </span><span class="line" data-startTime="4747">Thanks guys. </span><span class="line" data-startTime="4749">So sorry about the technical </span><span class="line" data-startTime="4749">problems in the first session. </span><span class="line" data-startTime="4751">We have a web server </span><span class="line" data-startTime="4751">that we evidently </span><span class="line" data-startTime="4753">need to reboot somewhere. </span><span class="line" data-startTime="4755">So while we do that, </span><span class="line" data-startTime="4755">let's crack on </span><span class="line" data-startTime="4757">with the second session. </span><span class="line" data-startTime="4758">So we have Andre Behrens from </span><span class="line" data-startTime="4758">"The New York Times," who will </span><span class="line" data-startTime="4762">be leading our Rendering </span><span class="line" data-startTime="4762">Performance session. </span><span class="line" data-startTime="4765">We'll start off just </span><span class="line" data-startTime="4765">as we are. </span><span class="line" data-startTime="4768">So if you have a question, </span><span class="line" data-startTime="4768">just raise your hand. </span><span class="line" data-startTime="4770">And as soon as we can get the </span><span class="line" data-startTime="4770">moderation tool working, we'll </span><span class="line" data-startTime="4773">be switching to that. </span><span class="line" data-startTime="4774">Thanks for your patience, and </span><span class="line" data-startTime="4774">help me welcome Andre Behrens. </span><span class="line" data-startTime="4778">[APPLAUSE] </span></p>

<p class="speaker"><span class="line" data-starttime="4784"><span class="speakerName">Andre Behrens</span>: If everyone </span><span class="line" data-startTime="4784">could just come up. </span><span class="line" data-startTime="4789">Hey, Paul. </span><span class="line" data-startTime="4791">Hey. </span><span class="line" data-startTime="4791">How you doing? </span><span class="line" data-startTime="4794">OK. </span><span class="line" data-startTime="4794">So we're going about rendering </span><span class="line" data-startTime="4794">performance. </span><span class="line" data-startTime="4797">Or as I like to think of it, the </span><span class="line" data-startTime="4797">war on purple and green. </span><span class="line" data-startTime="4799">I'm sure you've engaged </span><span class="line" data-startTime="4799">in that yourselves </span><span class="line" data-startTime="4801">from time to time. </span><span class="line" data-startTime="4803">On our panel today we have Josh </span><span class="line" data-startTime="4803">Peek from GitHub, Ariya </span><span class="line" data-startTime="4811">Hidayat from Sencha. </span><span class="line" data-startTime="4814">We have our opening speaker, </span><span class="line" data-startTime="4814">Jonathan Klein from Etsy. </span><span class="line" data-startTime="4818">We have Paul Lewis </span><span class="line" data-startTime="4818">from Google. </span><span class="line" data-startTime="4820">And we have Eli Fidler </span><span class="line" data-startTime="4820">from BlackBerry. </span><span class="line" data-startTime="4822">So let's just go in with </span><span class="line" data-startTime="4822">the presentation. </span><span class="line" data-startTime="4825">You ready to go? </span></p>

<p class="speaker"><span class="line" data-starttime="4827"><span class="speakerName">Jonathan Klein</span>: I'm going to </span><span class="line" data-startTime="4827">put this up on the screen. </span></p>

<p class="speaker"><span class="line" data-starttime="4830"><span class="speakerName">Andre Behrens</span>: Can we get </span><span class="line" data-startTime="4830">the presentation on? </span></p>

<p class="speaker"><span class="line" data-starttime="4834"><span class="speakerName">Jonathan Klein</span>: Cool. </span><span class="line" data-startTime="4837">OK. </span><span class="line" data-startTime="4839">When we talk about rendering </span><span class="line" data-startTime="4839">performance, we're really </span><span class="line" data-startTime="4840">talking about this </span><span class="line" data-startTime="4840">number here. </span><span class="line" data-startTime="4842">Most monitors and devices we </span><span class="line" data-startTime="4842">have today are rendered &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="4846"><span class="speakerName">Andre Behrens</span>: Mic. </span></p>

<p class="speaker"><span class="line" data-starttime="4848"><span class="speakerName">Jonathan Klein</span>: Hey. </span> <span class="line" data-startTime="4848">That's a lot better. </span> <span class="line" data-startTime="4848">Thanks. </span> <span class="line" data-startTime="4850">Most monitors and devices we </span><span class="line" data-startTime="4850">have today are rendering at </span><span class="line" data-startTime="4852">about 60 frames per second. </span> <span class="line" data-startTime="4854">So we talk about rendering </span><span class="line" data-startTime="4854">performance, we're really </span><span class="line" data-startTime="4856">talking about trying to get your </span><span class="line" data-startTime="4856">application to render at </span><span class="line" data-startTime="4859">60 frames per second with </span><span class="line" data-startTime="4859">all animations, with </span><span class="line" data-startTime="4861">scrolling, et cetera. </span> <span class="line" data-startTime="4863">If you do the math on this, </span><span class="line" data-startTime="4863">it means that we have 16.6 </span><span class="line" data-startTime="4866">milliseconds, approximately, </span><span class="line" data-startTime="4866">to get a paint event done. </span> <span class="line" data-startTime="4869">So any time you have a paint </span><span class="line" data-startTime="4869">event that's taking longer </span><span class="line" data-startTime="4871">than that to render on your </span><span class="line" data-startTime="4871">page, you're going to get jank </span><span class="line" data-startTime="4874">on the page. </span> <span class="line" data-startTime="4874">And it's going to be slow. </span> <span class="line" data-startTime="4877">Luckily, we have tools today </span><span class="line" data-startTime="4877">that make this pretty easy to </span><span class="line" data-startTime="4879">see what's going on. </span></p>

<p><span class="line" data-startTime="4881">This is an example of </span><span class="line" data-startTime="4881">Chrome DevTools. </span> <span class="line" data-startTime="4882">All you do is turn </span><span class="line" data-startTime="4882">on the continuous </span><span class="line" data-startTime="4884">page repainting mode. </span> <span class="line" data-startTime="4886">And in the upper right section </span><span class="line" data-startTime="4886">of the page, you'll get a nice </span><span class="line" data-startTime="4888">meter that tells you </span><span class="line" data-startTime="4888">exactly how long </span><span class="line" data-startTime="4890">the paints are taking. </span> <span class="line" data-startTime="4891">This is on the Edge </span><span class="line" data-startTime="4891">Conf website. </span> <span class="line" data-startTime="4892">You can see here, </span><span class="line" data-startTime="4892">2.7 milliseconds </span><span class="line" data-startTime="4894">for this paint event. </span> <span class="line" data-startTime="4895">And then there's a meter on the </span><span class="line" data-startTime="4895">right there that says it's </span><span class="line" data-startTime="4897">ranging between 2.6 and 4.6. </span></p>

<p><span class="line" data-startTime="4900">This is a very, very </span><span class="line" data-startTime="4900">fast paints. </span> <span class="line" data-startTime="4902">If our budget is 16.6 </span><span class="line" data-startTime="4902">milliseconds, then 2.7 is well </span><span class="line" data-startTime="4905">within that budget. </span> <span class="line" data-startTime="4907">And as you scroll the page, </span><span class="line" data-startTime="4907">this meter will adjust </span><span class="line" data-startTime="4909">depending on how long the </span><span class="line" data-startTime="4909">paints are taking. </span> <span class="line" data-startTime="4911">So any time you see this meter </span><span class="line" data-startTime="4911">spike above 16.6 milliseconds, </span><span class="line" data-startTime="4914">you're going to get that jank </span><span class="line" data-startTime="4914">that I talked about. </span> <span class="line" data-startTime="4917">And jank is something that </span><span class="line" data-startTime="4917">I'm sure we've all seen. </span> <span class="line" data-startTime="4919">It's basically when you're </span><span class="line" data-startTime="4919">scrolling a page and it hangs, </span><span class="line" data-startTime="4922">or animation is happening </span><span class="line" data-startTime="4922">and you can't scroll. </span> <span class="line" data-startTime="4925">Anytime where the page </span><span class="line" data-startTime="4925">performance drops below 60 </span><span class="line" data-startTime="4927">frames per second. </span> <span class="line" data-startTime="4928">And again, this happens pretty </span><span class="line" data-startTime="4928">widely on the web today. </span> <span class="line" data-startTime="4931">And it's a pretty big problem. </span></p>

<p><span class="line" data-startTime="4932">And that's the term that's </span><span class="line" data-startTime="4932">been generated for it. </span> <span class="line" data-startTime="4938">What causes jank? </span><span class="line" data-startTime="4939">Now that we know what it is. </span> <span class="line" data-startTime="4940">Well, this slide I pulled </span><span class="line" data-startTime="4940">directly from the Jank Busters </span><span class="line" data-startTime="4943">Google I/O talk earlier </span><span class="line" data-startTime="4943">this year. </span> <span class="line" data-startTime="4945">And I think it gives a good </span><span class="line" data-startTime="4945">overview of the main things </span><span class="line" data-startTime="4947">that are important </span><span class="line" data-startTime="4947">to think about. </span> <span class="line" data-startTime="4950">These things really fall </span><span class="line" data-startTime="4950">into two categories. </span> <span class="line" data-startTime="4952">So first is unnecessary </span><span class="line" data-startTime="4952">paints. </span> <span class="line" data-startTime="4956">So this is if you have, maybe </span><span class="line" data-startTime="4956">your paints are fast, but you </span><span class="line" data-startTime="4958">have too many of them. </span> <span class="line" data-startTime="4959">So you try to jam hundreds </span><span class="line" data-startTime="4959">of paints into a </span><span class="line" data-startTime="4961">single scroll event. </span> <span class="line" data-startTime="4962">And that's just not going to </span><span class="line" data-startTime="4962">perform well, no matter what </span><span class="line" data-startTime="4964">you're doing. </span></p>

<p><span class="line" data-startTime="4965">And the other category </span><span class="line" data-startTime="4965">is long paints. </span> <span class="line" data-startTime="4967">So these are examples where you </span><span class="line" data-startTime="4967">might have a single paint </span><span class="line" data-startTime="4969">event, but it takes more </span><span class="line" data-startTime="4969">than your budget of 60 </span><span class="line" data-startTime="4971">milliseconds to render. </span> <span class="line" data-startTime="4974">And there are some examples </span><span class="line" data-startTime="4974">here of different event </span><span class="line" data-startTime="4976">handlers that can cause that </span><span class="line" data-startTime="4976">problem, CSS issues, and just </span><span class="line" data-startTime="4979">visually complex pages. </span> <span class="line" data-startTime="4982">Why do we care about jank? </span><span class="line" data-startTime="4983">Why do we care about rendering </span><span class="line" data-startTime="4983">performance in general? </span><span class="line" data-startTime="4985">People have talked a lot </span><span class="line" data-startTime="4985">historically about page </span><span class="line" data-startTime="4987">performance itself, but this </span><span class="line" data-startTime="4987">idea of rendering performance </span><span class="line" data-startTime="4990">is fairly new. </span> <span class="line" data-startTime="4993">During Edge London earlier </span><span class="line" data-startTime="4993">this year, we heard Shane </span><span class="line" data-startTime="4995">O'Sullivan say that Facebook </span><span class="line" data-startTime="4995">artificially lowered the frame </span><span class="line" data-startTime="4998">rate on their iOS and Android </span><span class="line" data-startTime="4998">apps from 60 frames per second </span><span class="line" data-startTime="5001">down to 30 frames per second, </span><span class="line" data-startTime="5001">and engagement collapsed, </span><span class="line" data-startTime="5004">according to him. </span></p>

<p><span class="line" data-startTime="5006">On a native app, it's </span><span class="line" data-startTime="5006">pretty easy to get </span><span class="line" data-startTime="5008">60 frames per second. </span> <span class="line" data-startTime="5009">If you get down to 30, </span><span class="line" data-startTime="5009">that's pretty bad. </span> <span class="line" data-startTime="5011">So they artificially did this </span><span class="line" data-startTime="5011">to, he said, a small </span><span class="line" data-startTime="5013">[INAUDIBLE] of the users, </span><span class="line" data-startTime="5013">maybe a few </span><span class="line" data-startTime="5015">dozen million users. </span> <span class="line" data-startTime="5017">[LAUGHS] </span><span class="line" data-startTime="5018">And it caused major problems. </span> <span class="line" data-startTime="5020">At Etsy, we did a similar test, </span><span class="line" data-startTime="5020">in the sense that we </span><span class="line" data-startTime="5023">started prefetching JavaScript </span><span class="line" data-startTime="5023">on our search results page. </span> <span class="line" data-startTime="5026">When the JavaScript came down </span><span class="line" data-startTime="5026">the pipe and was actually </span><span class="line" data-startTime="5028">executed by the browser, </span><span class="line" data-startTime="5028">we got janky behavior. </span> <span class="line" data-startTime="5031">So essentially, you'd see in </span><span class="line" data-startTime="5031">the Chrome console that the </span><span class="line" data-startTime="5033">JavaScript came in, </span><span class="line" data-startTime="5033">and then the page </span><span class="line" data-startTime="5036">performance would degrade. </span> <span class="line" data-startTime="5036">You couldn't scroll the page </span><span class="line" data-startTime="5036">and it was really nasty. </span></p>

<p><span class="line" data-startTime="5039">We were monitoring all the </span><span class="line" data-startTime="5039">business metrics on this page </span><span class="line" data-startTime="5041">when we were testing </span><span class="line" data-startTime="5041">this change out. </span> <span class="line" data-startTime="5042">And as soon as we rolled it out, </span><span class="line" data-startTime="5042">the business metrics got </span><span class="line" data-startTime="5045">a lot worse across the board. </span> <span class="line" data-startTime="5046">So we rolled it back. </span> <span class="line" data-startTime="5047">And we were unable to make that </span><span class="line" data-startTime="5047">change with the current </span><span class="line" data-startTime="5049">implementation. </span> <span class="line" data-startTime="5051">This is all to say that right </span><span class="line" data-startTime="5051">now, in many cases, rendering </span><span class="line" data-startTime="5055">performance is more important </span><span class="line" data-startTime="5055">than full-page performance. </span> <span class="line" data-startTime="5058">If your page is fully loaded, </span><span class="line" data-startTime="5058">you might think, OK, I'm done. </span> <span class="line" data-startTime="5060">It happened quickly, </span><span class="line" data-startTime="5060">that's fine. </span></p>

<p><span class="line" data-startTime="5061">But if the user can't scroll and </span><span class="line" data-startTime="5061">interact with the page, or </span><span class="line" data-startTime="5063">your animations are slow, it's </span><span class="line" data-startTime="5063">going to really torpedo </span><span class="line" data-startTime="5066">engagement. </span> <span class="line" data-startTime="5069">How do we fix it? </span><span class="line" data-startTime="5069">Well, that previous slide I put </span><span class="line" data-startTime="5069">up has some good advice. </span> <span class="line" data-startTime="5073">Basically, we just use the tools </span><span class="line" data-startTime="5073">that exist today to hunt </span><span class="line" data-startTime="5075">down these painful repaints </span><span class="line" data-startTime="5075">or unnecessary repaints </span><span class="line" data-startTime="5078">and then fix them. </span> <span class="line" data-startTime="5080">Again, these things come from </span><span class="line" data-startTime="5080">visually complex elements. </span> <span class="line" data-startTime="5083">But luckily, the designers </span><span class="line" data-startTime="5083">are telling us today </span><span class="line" data-startTime="5085">that flat is cool. </span> <span class="line" data-startTime="5086">So it's very easy to have a </span><span class="line" data-startTime="5086">nice site and a fast site. </span></p>

<p><span class="line" data-startTime="5090">All you do is just have a </span><span class="line" data-startTime="5090">flat, no gradients, no </span><span class="line" data-startTime="5092">background images, no nothing. </span> <span class="line" data-startTime="5094">Just flat colors. </span> <span class="line" data-startTime="5095">And then you're good </span><span class="line" data-startTime="5095">to go on all front. </span> <span class="line" data-startTime="5098">But seriously, what are some </span><span class="line" data-startTime="5098">real techniques that we can </span><span class="line" data-startTime="5100">talk about today that make </span><span class="line" data-startTime="5100">an impact on rendering </span><span class="line" data-startTime="5102">performance? </span><span class="line" data-startTime="5104">The first is using </span><span class="line" data-startTime="5104">requestAnimationFrame instead </span><span class="line" data-startTime="5106">of setTimeout. </span> <span class="line" data-startTime="5108">Historically, if you want to </span><span class="line" data-startTime="5108">execute something on an often </span><span class="line" data-startTime="5110">basis, but not as quickly as </span><span class="line" data-startTime="5110">possible, you use setTimeout </span><span class="line" data-startTime="5113">in JavaScript to delay that </span><span class="line" data-startTime="5113">event a given number of </span><span class="line" data-startTime="5116">milliseconds. </span> <span class="line" data-startTime="5117">And people would do things like </span><span class="line" data-startTime="5117">take 1,000 milliseconds, </span><span class="line" data-startTime="5119">divide by et cetera </span><span class="line" data-startTime="5119">to try to get 16.6 </span><span class="line" data-startTime="5122">millisecond execution times. </span> <span class="line" data-startTime="5124">But we'd rather have people </span><span class="line" data-startTime="5124">use, going forward, </span><span class="line" data-startTime="5126">requestAnimationFrame. </span> <span class="line" data-startTime="5127">This is a native browser API </span><span class="line" data-startTime="5127">that can optimize these </span><span class="line" data-startTime="5130">rendering events. </span></p>

<p><span class="line" data-startTime="5131">It can do things like turn </span><span class="line" data-startTime="5131">off the animation </span><span class="line" data-startTime="5133">so the tab is hidden. </span> <span class="line" data-startTime="5134">It can optimize battery usage </span><span class="line" data-startTime="5134">on mobile devices. </span> <span class="line" data-startTime="5137">And since it's a native browser </span><span class="line" data-startTime="5137">API, it's just going </span><span class="line" data-startTime="5139">to be more efficient at </span><span class="line" data-startTime="5139">doing animations. </span> <span class="line" data-startTime="5141">Support across browsers is </span><span class="line" data-startTime="5141">pretty good, certainly in </span><span class="line" data-startTime="5143">modern browsers. </span> <span class="line" data-startTime="5144">You can shim it for older </span><span class="line" data-startTime="5144">versions of IE. </span> <span class="line" data-startTime="5146">But it's well-supported </span><span class="line" data-startTime="5146">across all </span><span class="line" data-startTime="5147">modern versions of browsers. </span> <span class="line" data-startTime="5151">Another thing to point out is </span><span class="line" data-startTime="5151">that consistent frame rate is </span><span class="line" data-startTime="5153">better than a high, variable </span><span class="line" data-startTime="5153">frame rate. </span> <span class="line" data-startTime="5156">So if you can get your page to </span><span class="line" data-startTime="5156">render consistently at 40 </span><span class="line" data-startTime="5158">frames per second the entire </span><span class="line" data-startTime="5158">time, that's better than </span><span class="line" data-startTime="5160">having it render at 60 </span><span class="line" data-startTime="5160">sometimes, but as soon as the </span><span class="line" data-startTime="5162">user scrolls or an animation </span><span class="line" data-startTime="5162">fires, it drops down to 30 and </span><span class="line" data-startTime="5166">bounces back and forth. </span></p>

<p><span class="line" data-startTime="5167">That's a terrible experience </span><span class="line" data-startTime="5167">for end users. </span> <span class="line" data-startTime="5169">So you want to make sure that </span><span class="line" data-startTime="5169">the page is rendering in a </span><span class="line" data-startTime="5171">consistent fashion. </span> <span class="line" data-startTime="5174">Another technique is </span><span class="line" data-startTime="5174">to paint less. </span> <span class="line" data-startTime="5176">So we talked about how </span><span class="line" data-startTime="5176">having too many </span><span class="line" data-startTime="5177">paints can be an issue. </span> <span class="line" data-startTime="5179">A lot of time, this comes down </span><span class="line" data-startTime="5179">to just bashing your paints </span><span class="line" data-startTime="5181">together and trying to do these </span><span class="line" data-startTime="5181">large updates to the </span><span class="line" data-startTime="5183">screen fewer times. </span> <span class="line" data-startTime="5185">So just one slightly larger </span><span class="line" data-startTime="5185">paint that's still within your </span><span class="line" data-startTime="5187">budget of 60 milliseconds, but </span><span class="line" data-startTime="5187">not having tons of paints that </span><span class="line" data-startTime="5191">execute on every scroll </span><span class="line" data-startTime="5191">event, or every </span><span class="line" data-startTime="5192">hover event, et cetera. </span> <span class="line" data-startTime="5195">You can consider the </span><span class="line" data-startTime="5195">translateZ hack. </span></p>

<p><span class="line" data-startTime="5197">We have some experts on the </span><span class="line" data-startTime="5197">panel here today that can talk </span><span class="line" data-startTime="5199">more about that. </span> <span class="line" data-startTime="5199">But essentially, when you add </span><span class="line" data-startTime="5199">translateZ(0) to an element in </span><span class="line" data-startTime="5202">CSS, it doesn't actually </span><span class="line" data-startTime="5202">animate that element. </span> <span class="line" data-startTime="5205">Bu it does move it to a </span><span class="line" data-startTime="5205">different compositing layer, </span><span class="line" data-startTime="5207">which can be very useful for </span><span class="line" data-startTime="5207">something that's being painted </span><span class="line" data-startTime="5209">very often. </span> <span class="line" data-startTime="5209">So it'll get put under </span><span class="line" data-startTime="5209">the GPU, and the GPU </span><span class="line" data-startTime="5211">can optimize that. </span> <span class="line" data-startTime="5214">Speaking of the GPU, you want to </span><span class="line" data-startTime="5214">make sure you're optimizing </span><span class="line" data-startTime="5217">how often you're uploading </span><span class="line" data-startTime="5217">textures to the GPU. </span> <span class="line" data-startTime="5220">The GPU is extremely good at </span><span class="line" data-startTime="5220">manipulating textures that </span><span class="line" data-startTime="5222">have been shipped to it. </span> <span class="line" data-startTime="5224">But if you saturate that bus </span><span class="line" data-startTime="5224">between the CPU and the GPU by </span><span class="line" data-startTime="5228">trying to push textures back </span><span class="line" data-startTime="5228">and forth, you're going to </span><span class="line" data-startTime="5231">have problems. </span> <span class="line" data-startTime="5231">So this really comes down to </span><span class="line" data-startTime="5231">understanding when your </span><span class="line" data-startTime="5234">forcing stuff to go to the GPU, </span><span class="line" data-startTime="5234">and trying to make sure </span><span class="line" data-startTime="5237">you're not doing </span><span class="line" data-startTime="5237">that too much. </span></p>

<p><span class="line" data-startTime="5238">But doing it enough </span><span class="line" data-startTime="5238">to leverage it </span><span class="line" data-startTime="5239">when it make sense. </span> <span class="line" data-startTime="5242">And then finally, this comes </span><span class="line" data-startTime="5242">from a post that was written </span><span class="line" data-startTime="5244">by Paul Lewis, one of our </span><span class="line" data-startTime="5244">panelists, over here. </span> <span class="line" data-startTime="5247">"Don't guess it, test it." It's </span><span class="line" data-startTime="5247">really hard to give you </span><span class="line" data-startTime="5250">hard and fast rules for </span><span class="line" data-startTime="5250">rendering performance on the </span><span class="line" data-startTime="5252">web today, because they're </span><span class="line" data-startTime="5252">so specific to the site </span><span class="line" data-startTime="5255">characteristics. </span> <span class="line" data-startTime="5257">It can be a single animation </span><span class="line" data-startTime="5257">that's causing your problems. </span> <span class="line" data-startTime="5259">It can be a single CSS </span><span class="line" data-startTime="5259">rule in some cases. </span> <span class="line" data-startTime="5262">So it really comes down to using </span><span class="line" data-startTime="5262">the tools to find out </span><span class="line" data-startTime="5264">where your page is slow. </span> <span class="line" data-startTime="5267">If you want more resources, </span><span class="line" data-startTime="5267">there's a great site put </span><span class="line" data-startTime="5269">together some folks at </span><span class="line" data-startTime="5269">Google, JankFree.org. </span></p>

<p><span class="line" data-startTime="5271">It aggregates slides, videos, </span><span class="line" data-startTime="5271">and articles about this topic. </span> <span class="line" data-startTime="5275">And there's a lot of excellent </span><span class="line" data-startTime="5275">information on there. </span> <span class="line" data-startTime="5277">And with that, I'm going to </span><span class="line" data-startTime="5277">turn it over to the panel. </span></p>

<p class="speaker"><span class="line" data-starttime="5281"><span class="speakerName">Andre Behrens</span>: You </span><span class="line" data-startTime="5281">want to switch? </span><span class="line" data-startTime="5282">Here, you hold onto that. </span></p>

<p class="speaker"><span class="line" data-starttime="5283"><span class="speakerName">Jonathan Klein</span>: OK. </span><span class="line" data-startTime="5289">MALE SPEAKER: [INAUDIBLE] </span></p>

<p class="speaker"><span class="line" data-starttime="5290"><span class="speakerName">Andre Behrens</span>: OK. </span><span class="line" data-startTime="5293">We're going to try and get up </span><span class="line" data-startTime="5293">the contribution screen here. </span></p>

<p class="speaker"><span class="line" data-starttime="5298"><span class="speakerName">Male Speaker</span>: There you go. </span></p>

<p class="speaker"><span class="line" data-starttime="5299"><span class="speakerName">Andre Behrens</span>: Beautiful. </span><span class="line" data-startTime="5302">OK. </span><span class="line" data-startTime="5302">So let's go to our first </span><span class="line" data-startTime="5302">question, Pete Miller. </span><span class="line" data-startTime="5306">Someone get a microphone </span><span class="line" data-startTime="5306">to Pete. </span><span class="line" data-startTime="5310">PETER MILLER: [INAUDIBLE] </span><span class="line" data-startTime="5310">question. </span><span class="line" data-startTime="5313">So anonymous question here. </span><span class="line" data-startTime="5315">If there were a YSlow for </span><span class="line" data-startTime="5315">rendering performance, what </span><span class="line" data-startTime="5318">would its tests be? </span><span class="line" data-startTime="5320">What changes would be easiest </span><span class="line" data-startTime="5320">to implement. </span><span class="line" data-startTime="5322">And which would have </span><span class="line" data-startTime="5322">the biggest impact? </span><span class="line" data-startTime="5325">All right. </span><span class="line" data-startTime="5325">Someone form the panel </span><span class="line" data-startTime="5325">want to go? </span><span class="line" data-startTime="5326">Paul, do you have an </span><span class="line" data-startTime="5326">idea for that one? </span></p>

<p class="speaker"><span class="line" data-starttime="5329"><span class="speakerName">Paul Lewis</span>: I think we covered </span><span class="line" data-startTime="5329">this in the introduction talk. </span> <span class="line" data-startTime="5332">A YSlow for rendering </span><span class="line" data-startTime="5332">performance is &mdash; </span><span class="line" data-startTime="5335">I won't go so far as to say </span><span class="line" data-startTime="5335">useless, but it's going to be </span><span class="line" data-startTime="5338">very difficult. </span> <span class="line" data-startTime="5339">Because what are we're </span><span class="line" data-startTime="5339">looking for? </span><span class="line" data-startTime="5341">We're looking for </span><span class="line" data-startTime="5341">layout problems. </span> <span class="line" data-startTime="5342">What triggers the </span><span class="line" data-startTime="5342">layout problem? </span><span class="line" data-startTime="5344">Is it that you clicked </span><span class="line" data-startTime="5344">this button up </span><span class="line" data-startTime="5346">here in the top corner? </span><span class="line" data-startTime="5347">Is that you were scrolling and </span><span class="line" data-startTime="5347">we did something Parallaxy and </span><span class="line" data-startTime="5349">that caused a layout problem? </span><span class="line" data-startTime="5351">You start to get into very, </span><span class="line" data-startTime="5351">very specific to your </span><span class="line" data-startTime="5354">application where your problems </span><span class="line" data-startTime="5354">are going to show up. </span> <span class="line" data-startTime="5358">So having an automated </span><span class="line" data-startTime="5358">testing framework </span><span class="line" data-startTime="5362">is going to be tricky. </span> <span class="line" data-startTime="5362">That's not to say we </span><span class="line" data-startTime="5362">shouldn't try it. </span> <span class="line" data-startTime="5364">But it's not always going to </span><span class="line" data-startTime="5364">be the easiest thing to do. </span></p>

<p><span class="line" data-startTime="5367">So it's something that you'd run </span><span class="line" data-startTime="5367">into YSlow, where it goes, </span><span class="line" data-startTime="5369">hey, you did this, </span><span class="line" data-startTime="5369">and you did this. </span> <span class="line" data-startTime="5371">We should look at it. </span> <span class="line" data-startTime="5372">But I'm not at this point </span><span class="line" data-startTime="5372">sure how broadly </span><span class="line" data-startTime="5375">effective it would be. </span></p>

<p class="speaker"><span class="line" data-starttime="5377"><span class="speakerName">Jonathan Klein</span>: Yeah. </span><span class="line" data-startTime="5380">I think it's really hard </span><span class="line" data-startTime="5380">to automate that. </span><span class="line" data-startTime="5382">But because YSlow is partly </span><span class="line" data-startTime="5382">used as an on-demand tool, </span><span class="line" data-startTime="5387">that's what the dev tools </span><span class="line" data-startTime="5387">provide for you today. </span><span class="line" data-startTime="5389">If you're using YSlow in a sense </span><span class="line" data-startTime="5389">that you just pull up a </span><span class="line" data-startTime="5391">page and run it manually through </span><span class="line" data-startTime="5391">the Chrome extension, </span><span class="line" data-startTime="5394">that's what you can do today </span><span class="line" data-startTime="5394">with the existing tooling, and </span><span class="line" data-startTime="5397">see the rendering performance </span><span class="line" data-startTime="5397">for your given site. </span><span class="line" data-startTime="5399">So we have something similar. </span><span class="line" data-startTime="5400">It's just very, very difficult </span><span class="line" data-startTime="5400">to automate as policy. </span></p>

<p class="speaker"><span class="line" data-starttime="5404"><span class="speakerName">Ariya Hidayat</span>: So one thing that </span><span class="line" data-startTime="5404">you can do is to apply </span><span class="line" data-startTime="5406">specific restrictions </span><span class="line" data-startTime="5406">in your project. </span><span class="line" data-startTime="5408">For example, Jonathan mentioned </span><span class="line" data-startTime="5408">about not using </span><span class="line" data-startTime="5412">requestAnimationFrame. </span><span class="line" data-startTime="5413">So you can put some check in </span><span class="line" data-startTime="5413">your CI system to prevent </span><span class="line" data-startTime="5416">somebody from accidentally </span><span class="line" data-startTime="5416">putting that use of </span><span class="line" data-startTime="5420">setTimeout. </span><span class="line" data-startTime="5421">So if there's a new additional </span><span class="line" data-startTime="5421">setTimeout code, code appears </span><span class="line" data-startTime="5425">on some of the JavaScript </span><span class="line" data-startTime="5425">files. </span><span class="line" data-startTime="5427">That should trigger warning. </span><span class="line" data-startTime="5428">Because the project used </span><span class="line" data-startTime="5428">requestAnimationFrame by </span><span class="line" data-startTime="5431">default, for example. </span></p>

<p class="speaker"><span class="line" data-starttime="5433"><span class="speakerName">Joshua Peek</span>: Yeah. </span><span class="line" data-startTime="5433">I guess the YSlow stuff normally </span><span class="line" data-startTime="5433">runs on page load, </span><span class="line" data-startTime="5437">but obviously all these </span><span class="line" data-startTime="5437">rendering performance problems </span><span class="line" data-startTime="5439">are something that's happening </span><span class="line" data-startTime="5439">as your app is running. </span><span class="line" data-startTime="5442">So there's not really a way </span><span class="line" data-startTime="5442">to profile that initially. </span><span class="line" data-startTime="5445">So it's basically what we </span><span class="line" data-startTime="5445">already have now, which is the </span><span class="line" data-startTime="5447">timeline view of showing </span><span class="line" data-startTime="5447">all these problems. </span><span class="line" data-startTime="5449">And Chrome does a </span><span class="line" data-startTime="5449">pretty good job. </span><span class="line" data-startTime="5450">I like the new little Warning </span><span class="line" data-startTime="5450">icon you get when you trigger </span><span class="line" data-startTime="5453">a layout in the timeline. </span><span class="line" data-startTime="5454">And so that's a pretty good </span><span class="line" data-startTime="5454">situation right now. </span></p>

<p class="speaker"><span class="line" data-starttime="5457"><span class="speakerName">Paul Lewis</span>: Yeah. </span> <span class="line" data-startTime="5458">And there are other things. </span> <span class="line" data-startTime="5460">There are things like telemetry, </span><span class="line" data-startTime="5460">which Adobe had </span><span class="line" data-startTime="5462">been using brilliantly </span><span class="line" data-startTime="5462">for top coat. </span> <span class="line" data-startTime="5464">So when check in code, telemetry </span><span class="line" data-startTime="5464">is a Python-based </span><span class="line" data-startTime="5467">framework that the Chrome </span><span class="line" data-startTime="5467">engineers use. </span> <span class="line" data-startTime="5470">And it runs a bunch of tests </span><span class="line" data-startTime="5470">against pages for things like </span><span class="line" data-startTime="5475">smoothness of scrolling. </span> <span class="line" data-startTime="5477">And that's definitely something </span><span class="line" data-startTime="5477">I'm interested in </span><span class="line" data-startTime="5479">looking at a little bit more. </span> <span class="line" data-startTime="5480">Because there may be things that </span><span class="line" data-startTime="5480">we should be looking at </span><span class="line" data-startTime="5484">that give us a least an insight </span><span class="line" data-startTime="5484">into how the change we </span><span class="line" data-startTime="5490">made in our code affected </span><span class="line" data-startTime="5490">rendering performance. </span> <span class="line" data-startTime="5493">And it may be that there's a </span><span class="line" data-startTime="5493">certain amount of scripting </span><span class="line" data-startTime="5494">that's required from the </span><span class="line" data-startTime="5494">developers to set this up in a </span><span class="line" data-startTime="5497">meaningful way for that </span><span class="line" data-startTime="5497">particular project. </span></p>

<p><span class="line" data-startTime="5499">But that might be something </span><span class="line" data-startTime="5499">that we want </span><span class="line" data-startTime="5500">to take a look at. </span> <span class="line" data-startTime="5501">And if you are interested, give </span><span class="line" data-startTime="5501">me a shout after this, </span><span class="line" data-startTime="5503">because I'm actually really </span><span class="line" data-startTime="5503">interested to find people who </span><span class="line" data-startTime="5505">want to try it. </span> <span class="line" data-startTime="5507">To bust out telemetry </span><span class="line" data-startTime="5507">and give it a go. </span></p>

<p class="speaker"><span class="line" data-starttime="5510"><span class="speakerName">Eli Fidler</span>: I think also the </span><span class="line" data-startTime="5510">question is really, what are </span><span class="line" data-startTime="5513">the magic bullets? </span><span class="line" data-startTime="5514">I do this on my site </span><span class="line" data-startTime="5514">and it gets fast. </span> <span class="line" data-startTime="5517">And there's enough things </span><span class="line" data-startTime="5517">going on in rendering </span><span class="line" data-startTime="5519">performance in most cases that </span><span class="line" data-startTime="5519">there isn't a hard and fast </span><span class="line" data-startTime="5523">rule there. </span> <span class="line" data-startTime="5524">Things are very different </span><span class="line" data-startTime="5524">on different platforms. </span> <span class="line" data-startTime="5526">So in addition to being specific </span><span class="line" data-startTime="5526">to your site, it's </span><span class="line" data-startTime="5529">specific to the device that </span><span class="line" data-startTime="5529">you're running on. </span> <span class="line" data-startTime="5531">It's specific to the version </span><span class="line" data-startTime="5531">of the browser that you're </span><span class="line" data-startTime="5533">running on that device. </span> <span class="line" data-startTime="5534">And so testing is really </span><span class="line" data-startTime="5534">the best way. </span> <span class="line" data-startTime="5537">And testing on as many devices </span><span class="line" data-startTime="5537">as possible is the best way. </span> <span class="line" data-startTime="5540">Which is not, I'm sure, what </span><span class="line" data-startTime="5540">everybody who builds content </span><span class="line" data-startTime="5542">wants to hear. </span></p>

<p><span class="line" data-startTime="5544">But of course, there are some </span><span class="line" data-startTime="5544">things that are good and that, </span><span class="line" data-startTime="5546">I think, people have started </span><span class="line" data-startTime="5546">to do a lot more. </span> <span class="line" data-startTime="5549">Being declarative is usually </span><span class="line" data-startTime="5549">better than being imperative. </span> <span class="line" data-startTime="5552">So if you're going to do an </span><span class="line" data-startTime="5552">animation, use CSS animations </span><span class="line" data-startTime="5555">or CSS transitions. </span> <span class="line" data-startTime="5556">Browsers are getting much better </span><span class="line" data-startTime="5556">at optimizing things </span><span class="line" data-startTime="5559">that are left up </span><span class="line" data-startTime="5559">to the browser. </span> <span class="line" data-startTime="5562">And historically, you haven't </span><span class="line" data-startTime="5562">been able to do that, because </span><span class="line" data-startTime="5564">performance hasn't been good. </span> <span class="line" data-startTime="5565">But now it's a lot better. </span></p>

<p class="speaker"><span class="line" data-starttime="5568"><span class="speakerName">Andre Behrens</span>: Well, thinking </span><span class="line" data-startTime="5568">about YSlow is not just the </span><span class="line" data-startTime="5571">specific implementation </span><span class="line" data-startTime="5571">detail. </span><span class="line" data-startTime="5573">When I think about other people </span><span class="line" data-startTime="5573">that I work with and </span><span class="line" data-startTime="5577">multiple levels, are there </span><span class="line" data-startTime="5577">any big, obvious things? </span><span class="line" data-startTime="5584">Part of YSlow's powers </span><span class="line" data-startTime="5584">is just the marketing </span><span class="line" data-startTime="5587">message that it delivered. </span><span class="line" data-startTime="5588">We have these things. </span><span class="line" data-startTime="5590">OK, we should definitely all </span><span class="line" data-startTime="5590">be gzipping everything. </span><span class="line" data-startTime="5592">And it sort of consolidated </span><span class="line" data-startTime="5592">things that had been known. </span></p>

<p class="speaker"><span class="line" data-starttime="5596"><span class="speakerName">Eli Fidler</span>: I think CSS </span><span class="line" data-startTime="5596">transitions, as opposed to </span><span class="line" data-startTime="5598">JavaScript animations, is an </span><span class="line" data-startTime="5598">obvious one that most people </span><span class="line" data-startTime="5602">are getting now. </span><span class="line" data-startTime="5604">My personal one that I've </span><span class="line" data-startTime="5604">noticed a lot is people really </span><span class="line" data-startTime="5608">like one-pixel offset, </span><span class="line" data-startTime="5608">one-pixel blur </span><span class="line" data-startTime="5610">drop shadows on text. </span><span class="line" data-startTime="5612">That's a really expensive </span><span class="line" data-startTime="5612">operation. </span><span class="line" data-startTime="5613">Don't do that. </span></p>

<p class="speaker"><span class="line" data-starttime="5617"><span class="speakerName">Andre Behrens</span>: All right. </span><span class="line" data-startTime="5617">I think we'll move on to </span><span class="line" data-startTime="5617">our next question. </span><span class="line" data-startTime="5620">OK. </span><span class="line" data-startTime="5620">Jake Archibald. </span></p>

<p class="speaker"><span class="line" data-starttime="5629"><span class="speakerName">Jake Archibald</span>: All right. </span><span class="line" data-startTime="5630">So tricks like translateZ, </span><span class="line" data-startTime="5630">putting that on an element is </span><span class="line" data-startTime="5633">quite often a silver bullet </span><span class="line" data-startTime="5633">in terms of performance. </span><span class="line" data-startTime="5637">But could that be an </span><span class="line" data-startTime="5637">anti-pattern tomorrow? </span><span class="line" data-startTime="5639">Like when we used to tell people </span><span class="line" data-startTime="5639">to concatenate strings </span><span class="line" data-startTime="5641">using array.join and we now know </span><span class="line" data-startTime="5641">that's faster than just </span><span class="line" data-startTime="5643">doing string plus string. </span><span class="line" data-startTime="5645">Is translateZ going to </span><span class="line" data-startTime="5645">be the same thing? </span></p>

<p class="speaker"><span class="line" data-starttime="5651"><span class="speakerName">Paul Lewis</span>: Possibly. </span> <span class="line" data-startTime="5652">There are three steps, </span><span class="line" data-startTime="5652">I think, to </span><span class="line" data-startTime="5658">most performance problems. </span> <span class="line" data-startTime="5659">Which is first of all, there's </span><span class="line" data-startTime="5659">the don't-do-it stage, where </span><span class="line" data-startTime="5661">we just blindly, do </span><span class="line" data-startTime="5661">not do this thing. </span> <span class="line" data-startTime="5664">It will be bad. </span> <span class="line" data-startTime="5665">Then there's the next step where </span><span class="line" data-startTime="5665">we go, ah, now we can </span><span class="line" data-startTime="5667">make it less bad if you </span><span class="line" data-startTime="5667">were to do this thing. </span> <span class="line" data-startTime="5669">Which is where I categorize </span><span class="line" data-startTime="5669">the translateZ hack. </span> <span class="line" data-startTime="5672">It's something we'd rather </span><span class="line" data-startTime="5672">you didn't have to do. </span> <span class="line" data-startTime="5674">But sometimes you've got to </span><span class="line" data-startTime="5674">step in and do it, just to </span><span class="line" data-startTime="5677">hint things up a little bit. </span> <span class="line" data-startTime="5678">Then there's the final step, </span><span class="line" data-startTime="5678">which this, this is not a </span><span class="line" data-startTime="5680">problem anymore. </span></p>

<p><span class="line" data-startTime="5682">Now, there's the other thing </span><span class="line" data-startTime="5682">where you go, oh, actually, of </span><span class="line" data-startTime="5684">a sudden it's an anti-pattern. </span> <span class="line" data-startTime="5687">So the array concat versus </span><span class="line" data-startTime="5687">array.join versus string </span><span class="line" data-startTime="5690">concat thing is the one that's </span><span class="line" data-startTime="5690">often mentioned. </span> <span class="line" data-startTime="5693">And I think the only thing you </span><span class="line" data-startTime="5693">can do there is profile. </span> <span class="line" data-startTime="5696">Again, we've said it before. </span> <span class="line" data-startTime="5697">But if you're profiling and </span><span class="line" data-startTime="5697">it's part of your build </span><span class="line" data-startTime="5699">process, then when something </span><span class="line" data-startTime="5699">changes in the implementation, </span><span class="line" data-startTime="5702">you're going to see it. </span></p>

<p><span class="line" data-startTime="5703">You're going to go, </span><span class="line" data-startTime="5703">whoa, something </span><span class="line" data-startTime="5704">went really slow here. </span> <span class="line" data-startTime="5705">I wasn't expecting that. </span> <span class="line" data-startTime="5706">What was it? </span><span class="line" data-startTime="5707">And you can figure out what it </span><span class="line" data-startTime="5707">is that's actually triggering </span><span class="line" data-startTime="5710">your problem. </span> <span class="line" data-startTime="5710">So yes, it may be a problem </span><span class="line" data-startTime="5710">in the future. </span> <span class="line" data-startTime="5713">There's no crystal ball gazing, </span><span class="line" data-startTime="5713">as far as I can tell. </span> <span class="line" data-startTime="5717">But profile is the </span><span class="line" data-startTime="5717">answer for me. </span></p>

<p class="speaker"><span class="line" data-starttime="5719"><span class="speakerName">Jonathan Klein</span>: Yeah. </span> <span class="line" data-startTime="5720">And I would say that any time </span><span class="line" data-startTime="5720">you're doing something that's </span><span class="line" data-startTime="5722">known to be a hack &mdash; </span><span class="line" data-startTime="5723">that's definitely </span><span class="line" data-startTime="5723">a hack, right? </span><span class="line" data-startTime="5725">That's probably not going to be </span><span class="line" data-startTime="5725">something that we want to </span><span class="line" data-startTime="5726">be doing forever. </span> <span class="line" data-startTime="5727">So any time that you feel like </span><span class="line" data-startTime="5727">you're adding some code that's </span><span class="line" data-startTime="5730">just not standards compliant. </span> <span class="line" data-startTime="5731">Or translateZ(0) doesn't make </span><span class="line" data-startTime="5731">a lot of sense from a future </span><span class="line" data-startTime="5734">proofing point of view. </span> <span class="line" data-startTime="5735">I think it makes sense to </span><span class="line" data-startTime="5735">abstract that stuff away. </span> <span class="line" data-startTime="5737">Because chances are, it's going </span><span class="line" data-startTime="5737">to change going forward. </span></p>

<p><span class="line" data-startTime="5740">Because it's not </span><span class="line" data-startTime="5740">part of a spec. </span> <span class="line" data-startTime="5742">It's just a workaround. </span></p>

<p class="speaker"><span class="line" data-starttime="5744"><span class="speakerName">Paul Lewis</span>: One thing I really </span><span class="line" data-startTime="5744">don't like, just being me for </span><span class="line" data-startTime="5747">a second, is the fact that we </span><span class="line" data-startTime="5747">don't give you a way to say </span><span class="line" data-startTime="5750">that you want something </span><span class="line" data-startTime="5750">on its own layer. </span><span class="line" data-startTime="5753">I don't have a problem with </span><span class="line" data-startTime="5753">the developer saying that. </span><span class="line" data-startTime="5756">There's a balancing act of </span><span class="line" data-startTime="5756">should the developer have to </span><span class="line" data-startTime="5761">worry about layers versus should </span><span class="line" data-startTime="5761">the browser just take </span><span class="line" data-startTime="5764">care of everything. </span><span class="line" data-startTime="5766">And in a perfect world, yeah, </span><span class="line" data-startTime="5766">the browser would maybe get </span><span class="line" data-startTime="5769">everything right for you. </span><span class="line" data-startTime="5770">It'd be able to guess your </span><span class="line" data-startTime="5770">intent perfectly. </span><span class="line" data-startTime="5772">But if it can't, then surely the </span><span class="line" data-startTime="5772">best next step is not to </span><span class="line" data-startTime="5776">provide a hack, but to provide </span><span class="line" data-startTime="5776">a decent API that says, yeah, </span><span class="line" data-startTime="5779">you know what, if you need </span><span class="line" data-startTime="5779">to call this, call this. </span><span class="line" data-startTime="5780">This is what it'll do. </span><span class="line" data-startTime="5782">And if you want to abuse it, </span><span class="line" data-startTime="5782">OK, that's your call. </span><span class="line" data-startTime="5786">You're the developer </span><span class="line" data-startTime="5786">and we trust you. </span><span class="line" data-startTime="5790">And you're not an idiot. </span><span class="line" data-startTime="5794">That's just generally how I feel </span><span class="line" data-startTime="5794">about this kind of stuff. </span></p>

<p class="speaker"><span class="line" data-starttime="5796"><span class="speakerName">Joshua Peek</span>: Yeah. </span><span class="line" data-startTime="5796">It's definitely a leaky </span><span class="line" data-startTime="5796">extraction for us. </span><span class="line" data-startTime="5799">So I think if the layer </span><span class="line" data-startTime="5799">compositing system is </span><span class="line" data-startTime="5803">something that you really need </span><span class="line" data-startTime="5803">to be concerned about as a </span><span class="line" data-startTime="5805">developer, it should be </span><span class="line" data-startTime="5805">an explicit opt-in. </span><span class="line" data-startTime="5808">Not going into this magic voodoo </span><span class="line" data-startTime="5808">property that you read </span><span class="line" data-startTime="5812">about on Stack Overflow and you </span><span class="line" data-startTime="5812">don't really understand </span><span class="line" data-startTime="5814">how it works. </span><span class="line" data-startTime="5814">But having explicit API for </span><span class="line" data-startTime="5814">declaring layers is, I think, </span><span class="line" data-startTime="5818">a good idea, if that's something </span><span class="line" data-startTime="5818">we need to be </span><span class="line" data-startTime="5820">concerned about. </span></p>

<p class="speaker"><span class="line" data-starttime="5821"><span class="speakerName">Eli Fidler</span>: So translateZ(0) is, </span><span class="line" data-startTime="5821">obviously, a hack to force </span><span class="line" data-startTime="5825">compositing. </span> <span class="line" data-startTime="5826">And I think it's actually a </span><span class="line" data-startTime="5826">really good declarative API </span><span class="line" data-startTime="5830">if, right after you put that on, </span><span class="line" data-startTime="5830">or at some point later in </span><span class="line" data-startTime="5833">your page, you're about to </span><span class="line" data-startTime="5833">animate the value of </span><span class="line" data-startTime="5835">translateZ. </span> <span class="line" data-startTime="5836">Or you're about to animate </span><span class="line" data-startTime="5836">the value of translate3d. </span> <span class="line" data-startTime="5838">Then you are exactly saying, </span><span class="line" data-startTime="5838">this is something I'm setting </span><span class="line" data-startTime="5841">now because I'm going </span><span class="line" data-startTime="5841">to animate it later. </span> <span class="line" data-startTime="5842">And that's why it does </span><span class="line" data-startTime="5842">what it does. </span> <span class="line" data-startTime="5844">So that you have your content </span><span class="line" data-startTime="5844">promoted into a layer, so that </span><span class="line" data-startTime="5847">when you animate it, the </span><span class="line" data-startTime="5847">next frame is ready. </span> <span class="line" data-startTime="5850">And a number of properties </span><span class="line" data-startTime="5850">are like that. </span> <span class="line" data-startTime="5852">Those are the properties right </span><span class="line" data-startTime="5852">now that force compositing. </span></p>

<p><span class="line" data-startTime="5855">And they're there specifically </span><span class="line" data-startTime="5855">so that, if you are going to </span><span class="line" data-startTime="5857">animate then, you're primed </span><span class="line" data-startTime="5857">and ready to go. </span> <span class="line" data-startTime="5860">And maybe there are </span><span class="line" data-startTime="5860">more things that </span><span class="line" data-startTime="5862">should be like that. </span> <span class="line" data-startTime="5864">But I'm very hesitant about </span><span class="line" data-startTime="5864">saying that we should </span><span class="line" data-startTime="5866">introduce a new property that </span><span class="line" data-startTime="5866">says, promote to layer. </span> <span class="line" data-startTime="5869">Because promote to layer isn't </span><span class="line" data-startTime="5869">something that web developers </span><span class="line" data-startTime="5872">should care about. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="5873"><span class="speakerName">Paul Lewis</span>: If you don't have </span><span class="line" data-startTime="5873">that, then you have this thing </span><span class="line" data-startTime="5877">where developers can't get </span><span class="line" data-startTime="5877">good performing code. </span> <span class="line" data-startTime="5881">They don't have anything </span><span class="line" data-startTime="5881">other than a hack. </span> <span class="line" data-startTime="5883">And so either the browser has to </span><span class="line" data-startTime="5883">infer perfectly the intent </span><span class="line" data-startTime="5887">of the developer and get it </span><span class="line" data-startTime="5887">right, or we have the </span><span class="line" data-startTime="5889">alternative, which is give them </span><span class="line" data-startTime="5889">a way of saying, no, this </span><span class="line" data-startTime="5891">is what I really mean. </span> <span class="line" data-startTime="5892">And they're doing that through </span><span class="line" data-startTime="5892">this back door at the moment. </span> <span class="line" data-startTime="5895">Which kind of makes me </span><span class="line" data-startTime="5895">feel uncomfortable. </span> <span class="line" data-startTime="5896">Because it does give rise to, </span><span class="line" data-startTime="5896">hey, implementation's changed. </span></p>

<p><span class="line" data-startTime="5899">Now your expectation </span><span class="line" data-startTime="5899">needs to change. </span> <span class="line" data-startTime="5901">Which is, I think, a slightly </span><span class="line" data-startTime="5901">unfair position to put a </span><span class="line" data-startTime="5904">developer in. </span> <span class="line" data-startTime="5905">But maybe that's just me. </span></p>

<p class="speaker"><span class="line" data-starttime="5908"><span class="speakerName">Andre Behrens</span>: It's kind of </span><span class="line" data-startTime="5908">interesting to ask what the </span><span class="line" data-startTime="5910">distinction is between </span><span class="line" data-startTime="5910">translateZ and promote to </span><span class="line" data-startTime="5912">layer in terms of actual </span><span class="line" data-startTime="5912">developer life experience. </span></p>

<p class="speaker"><span class="line" data-starttime="5916"><span class="speakerName">Audience</span>: Can I jump </span><span class="line" data-startTime="5916">in for a sec? </span><span class="line" data-startTime="5918">I feel like I've seen developers </span><span class="line" data-startTime="5918">animating top or </span><span class="line" data-startTime="5922">left, setting something </span><span class="line" data-startTime="5922">position-fixed a lot, and then </span><span class="line" data-startTime="5926">not realizing that that's </span><span class="line" data-startTime="5926">going to have different </span><span class="line" data-startTime="5928">performance implications than </span><span class="line" data-startTime="5928">animating something with </span><span class="line" data-startTime="5931">translate or even margin. </span><span class="line" data-startTime="5933">So I feel like if we wanted to </span><span class="line" data-startTime="5933">let someone animate top but </span><span class="line" data-startTime="5940">give it the performance of </span><span class="line" data-startTime="5940">something in it's own </span><span class="line" data-startTime="5943">compositing layer, than using </span><span class="line" data-startTime="5943">some sort of layer-promoting </span><span class="line" data-startTime="5949">API would make sense in that </span><span class="line" data-startTime="5949">case, potentially. </span></p>

<p class="speaker"><span class="line" data-starttime="5954"><span class="speakerName">Eli Fidler</span>: Your specific </span><span class="line" data-startTime="5954">example right now also does </span><span class="line" data-startTime="5956">force a layer on </span><span class="line" data-startTime="5956">most platforms. </span><span class="line" data-startTime="5958">If you set something to fixed </span><span class="line" data-startTime="5958">positioning and then animate </span><span class="line" data-startTime="5960">top, it will &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="5961"><span class="speakerName">Audience</span>: [INAUDIBLE] </span></p>

<p class="speaker"><span class="line" data-starttime="5965"><span class="speakerName">Ariya Hidayat</span>: Just adding one </span><span class="line" data-startTime="5965">more twist to the topic. </span><span class="line" data-startTime="5968">We also have to remember that </span><span class="line" data-startTime="5968">translateZ, or even </span><span class="line" data-startTime="5971">compositing layer, is just </span><span class="line" data-startTime="5971">half of the equation. </span><span class="line" data-startTime="5973">For example, if you do that but </span><span class="line" data-startTime="5973">you try to animate, say, </span><span class="line" data-startTime="5977">blur radius or border radius, </span><span class="line" data-startTime="5977">it doesn't really help. </span><span class="line" data-startTime="5980">Because there are only a couple </span><span class="line" data-startTime="5980">of properties that you </span><span class="line" data-startTime="5982">can apply to the GPU texture </span><span class="line" data-startTime="5982">that can be executed by the </span><span class="line" data-startTime="5987">GPU efficiently. </span><span class="line" data-startTime="5990">So again, explicit or implicit, </span><span class="line" data-startTime="5990">or half-explicit, </span><span class="line" data-startTime="5994">half-implicit, web developer </span><span class="line" data-startTime="5994">person still needs to know </span><span class="line" data-startTime="5997">that only certain properties </span><span class="line" data-startTime="5997">you can run </span><span class="line" data-startTime="6000">on the layer itself. </span></p>

<p class="speaker"><span class="line" data-starttime="6003"><span class="speakerName">Paul Lewis</span>: And generally, the </span><span class="line" data-startTime="6003">way I always pitch it is </span><span class="line" data-startTime="6008">you're going to promote to </span><span class="line" data-startTime="6008">isolate a layer that's </span><span class="line" data-startTime="6010">probably going to get painted. </span><span class="line" data-startTime="6012">Because you're going to move </span><span class="line" data-startTime="6012">it, scale it, fade it, or </span><span class="line" data-startTime="6017">rotate it, I think. </span></p>

<p class="speaker"><span class="line" data-starttime="6018"><span class="speakerName">Ariya Hidayat</span>: And filter. </span></p>

<p class="speaker"><span class="line" data-starttime="6019"><span class="speakerName">Paul Lewis</span>: Or filter. </span> <span class="line" data-startTime="6019">And Paul Irish actually </span><span class="line" data-startTime="6019">helped me figure &mdash; </span><span class="line" data-startTime="6022">he came up with those four, </span><span class="line" data-startTime="6022">which is really helpful. </span> <span class="line" data-startTime="6026">So if you're going to do one of </span><span class="line" data-startTime="6026">those things, or if you're </span><span class="line" data-startTime="6030">going to paint something and </span><span class="line" data-startTime="6030">it's going to affect other </span><span class="line" data-startTime="6033">elements, then it's a good </span><span class="line" data-startTime="6033">time to isolate it. </span> <span class="line" data-startTime="6034">Other than that, like you said, </span><span class="line" data-startTime="6034">it's probably not going </span><span class="line" data-startTime="6036">offer you anything. </span> <span class="line" data-startTime="6037">And you're potentially creating </span><span class="line" data-startTime="6037">more of a problem, </span><span class="line" data-startTime="6039">because you're going to have to </span><span class="line" data-startTime="6039">upload a texture for that </span><span class="line" data-startTime="6041">layer to the GPU. </span> <span class="line" data-startTime="6042">And if you're on a constrained </span><span class="line" data-startTime="6042">device, like mobile one, well, </span><span class="line" data-startTime="6046">you're going to pay that </span><span class="line" data-startTime="6046">tax every time </span><span class="line" data-startTime="6048">you change that layer. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="6051"><span class="speakerName">Jonathan Klein</span>: One of the </span><span class="line" data-startTime="6051">interesting things, I think, </span><span class="line" data-startTime="6052">about the web that's happening </span><span class="line" data-startTime="6052">right now is </span><span class="line" data-startTime="6054">that we have two &mdash; </span><span class="line" data-startTime="6056">or not even two, but whatever. </span><span class="line" data-startTime="6057">A gradient of use cases. </span><span class="line" data-startTime="6059">Because the browser now becomes </span><span class="line" data-startTime="6059">this platform where </span><span class="line" data-startTime="6061">you can do complex animations, </span><span class="line" data-startTime="6061">you can do full gaming </span><span class="line" data-startTime="6064">experiences, et cetera. </span><span class="line" data-startTime="6065">But you can also build a </span><span class="line" data-startTime="6065">pretty static website. </span><span class="line" data-startTime="6068">So when we talk about developers </span><span class="line" data-startTime="6068">shouldn't have to </span><span class="line" data-startTime="6070">worry about this, well, if </span><span class="line" data-startTime="6070">you're building a high </span><span class="line" data-startTime="6071">performance game in the browser, </span><span class="line" data-startTime="6071">you probably should </span><span class="line" data-startTime="6073">have to worry about </span><span class="line" data-startTime="6073">that, right? </span><span class="line" data-startTime="6074">But if you're building your </span><span class="line" data-startTime="6074">blog, you shouldn't. </span><span class="line" data-startTime="6077">So I think there needs to be a </span><span class="line" data-startTime="6077">facility for both camps of </span><span class="line" data-startTime="6080">people to be able to use these </span><span class="line" data-startTime="6080">tools effectively without </span><span class="line" data-startTime="6083">having to worry too much if </span><span class="line" data-startTime="6083">you're on the low end, but you </span><span class="line" data-startTime="6085">should be able to access those </span><span class="line" data-startTime="6085">APIs if you're working on </span><span class="line" data-startTime="6087">something really complex. </span></p>

<p class="speaker"><span class="line" data-starttime="6089"><span class="speakerName">Andre Behrens</span>: I think we'll </span><span class="line" data-startTime="6089">move on to our next question. </span><span class="line" data-startTime="6092">Ben Holland. </span><span class="line" data-startTime="6094">Grab the mic. </span></p>

<p class="speaker"><span class="line" data-starttime="6099"><span class="speakerName">Ben Holland</span>: So we have </span><span class="line" data-startTime="6099">reasonably good tools and </span><span class="line" data-startTime="6102">insight into rendering </span><span class="line" data-startTime="6102">performance in a dev </span><span class="line" data-startTime="6104">environment . </span><span class="line" data-startTime="6105">But not data from the field. </span><span class="line" data-startTime="6107">What events or metrics would we </span><span class="line" data-startTime="6107">ideally like to be able to </span><span class="line" data-startTime="6110">measure and report on </span><span class="line" data-startTime="6110">for real users? </span></p>

<p class="speaker"><span class="line" data-starttime="6116"><span class="speakerName">Joshua Peek</span>: The only thing we </span><span class="line" data-startTime="6116">can do live in production is </span><span class="line" data-startTime="6120">measure like the Window </span><span class="line" data-startTime="6120">Performance APIs. </span><span class="line" data-startTime="6122">Those are pretty great. </span><span class="line" data-startTime="6123">But those only affect </span><span class="line" data-startTime="6123">initial load. </span><span class="line" data-startTime="6125">You don't get anything </span><span class="line" data-startTime="6125">after the fact. </span><span class="line" data-startTime="6128">So being able to hap into the </span><span class="line" data-startTime="6128">timeline from JavaScript and </span><span class="line" data-startTime="6131">get the actual values </span><span class="line" data-startTime="6131">would be great. </span><span class="line" data-startTime="6134">We do some stuff where we </span><span class="line" data-startTime="6134">profile method times and then </span><span class="line" data-startTime="6140">report these back over Ajax </span><span class="line" data-startTime="6140">in our production app. </span><span class="line" data-startTime="6143">But you can't get access to any </span><span class="line" data-startTime="6143">timeline data live from </span><span class="line" data-startTime="6147">JavaScript. </span><span class="line" data-startTime="6148">So having those would </span><span class="line" data-startTime="6148">be great. </span></p>

<p class="speaker"><span class="line" data-starttime="6151"><span class="speakerName">Jonathan Klein</span>: Yeah. </span><span class="line" data-startTime="6152">I'd love to have real user data </span><span class="line" data-startTime="6152">in production as well, </span><span class="line" data-startTime="6154">but I'd also love to have even </span><span class="line" data-startTime="6154">better synthetic tooling </span><span class="line" data-startTime="6157">around it for remote use. </span><span class="line" data-startTime="6159">So what I mean by that is to </span><span class="line" data-startTime="6159">say, right now there's no </span><span class="line" data-startTime="6161">JavaScript API into the frame </span><span class="line" data-startTime="6161">rate, for example, that the </span><span class="line" data-startTime="6164">Chrome DevTools gives you for </span><span class="line" data-startTime="6164">that rendering meter. </span><span class="line" data-startTime="6167">So it'd great if you could </span><span class="line" data-startTime="6167">just hook into that with </span><span class="line" data-startTime="6168">JavaScript, because then you </span><span class="line" data-startTime="6168">could write tools that would </span><span class="line" data-startTime="6170">basically change different </span><span class="line" data-startTime="6170">events, hide nodes while </span><span class="line" data-startTime="6174">scrolling the page, and then </span><span class="line" data-startTime="6174">read off those frame numbers </span><span class="line" data-startTime="6177">and the paint numbers. </span><span class="line" data-startTime="6178">And then you could very quickly </span><span class="line" data-startTime="6178">narrow it down in an </span><span class="line" data-startTime="6180">automated fashion on the area </span><span class="line" data-startTime="6180">that's causing a problem. </span><span class="line" data-startTime="6183">So I think that's the next step, </span><span class="line" data-startTime="6183">is how can we get code </span><span class="line" data-startTime="6187">around that paint meter, so we </span><span class="line" data-startTime="6187">can easily find out where the </span><span class="line" data-startTime="6191">problem areas are. </span></p>

<p class="speaker"><span class="line" data-starttime="6192"><span class="speakerName">Paul Lewis</span>: I think that's </span><span class="line" data-startTime="6192">interesting. </span> <span class="line" data-startTime="6193">But is that in a lab </span><span class="line" data-startTime="6193">environment or </span><span class="line" data-startTime="6196">is that in the live? </span><span class="line" data-startTime="6197">The reason I ask is because if </span><span class="line" data-startTime="6197">you're talking about live, say </span><span class="line" data-startTime="6201">frames per second, it's very </span><span class="line" data-startTime="6201">difficult to separate signal </span><span class="line" data-startTime="6205">from noise. </span> <span class="line" data-startTime="6206">Because you don't know if it's </span><span class="line" data-startTime="6206">contention at the OS level, if </span><span class="line" data-startTime="6210">it's a badly-configured monitor, </span><span class="line" data-startTime="6210">terrible GPU drivers, </span><span class="line" data-startTime="6213">contention at the Chrome </span><span class="line" data-startTime="6213">level, or browser-level </span><span class="line" data-startTime="6215">contention actually within the </span><span class="line" data-startTime="6215">page and a bottleneck there. </span> <span class="line" data-startTime="6219">So just a simple frames per </span><span class="line" data-startTime="6219">second probably wouldn't give </span><span class="line" data-startTime="6222">you that much. </span> <span class="line" data-startTime="6223">But in a lab environment, where </span><span class="line" data-startTime="6223">you can be pretty sure </span><span class="line" data-startTime="6226">that there's nothing else </span><span class="line" data-startTime="6226">running and so on, then that </span><span class="line" data-startTime="6228">seems to me to be a reasonable </span><span class="line" data-startTime="6228">first step. </span></p>

<p class="speaker"><span class="line" data-starttime="6230"><span class="speakerName">Jonathan Klein</span>: Yeah. </span><span class="line" data-startTime="6230">I was thinking a lab. </span><span class="line" data-startTime="6231">Because right now, if you want </span><span class="line" data-startTime="6231">to take a page and figure out </span><span class="line" data-startTime="6234">why its rendering performance </span><span class="line" data-startTime="6234">is bad, it </span><span class="line" data-startTime="6235">takes a lot of work. </span><span class="line" data-startTime="6236">So if you could build better </span><span class="line" data-startTime="6236">tooling around that in a lab </span><span class="line" data-startTime="6238">environment, it can be very fast </span><span class="line" data-startTime="6238">to narrow down on where </span><span class="line" data-startTime="6240">the problem is. </span><span class="line" data-startTime="6241">But you're right. </span><span class="line" data-startTime="6242">It's not going to work very well </span><span class="line" data-startTime="6242">in the real world today. </span></p>

<p class="speaker"><span class="line" data-starttime="6243"><span class="speakerName">Andre Behrens</span>: I think we have </span><span class="line" data-startTime="6243">a question from the room. </span><span class="line" data-startTime="6245">James Ide. </span></p>

<p class="speaker"><span class="line" data-starttime="6252"><span class="speakerName">James</span>: Hi So for some context, </span><span class="line" data-startTime="6252">I feel like a lot of the </span><span class="line" data-startTime="6256">performance characteristics of </span><span class="line" data-startTime="6256">how browsers work, like a lot </span><span class="line" data-startTime="6259">of the things in Jonathan's </span><span class="line" data-startTime="6259">slides, are understood by a </span><span class="line" data-startTime="6262">lot of web developers. </span> <span class="line" data-startTime="6263">And the DevTools have </span><span class="line" data-startTime="6263">gone great. </span> <span class="line" data-startTime="6266">Even 11's really great now. </span> <span class="line" data-startTime="6267">You should check it out. </span> <span class="line" data-startTime="6269">But understanding how the </span><span class="line" data-startTime="6269">browser works is great if </span><span class="line" data-startTime="6273">you're a one-man show </span><span class="line" data-startTime="6273">and you're building </span><span class="line" data-startTime="6276">your own web page. </span></p>

<p><span class="line" data-startTime="6277">And as soon as you start to have </span><span class="line" data-startTime="6277">a large team working on </span><span class="line" data-startTime="6280">your product, it's very easy </span><span class="line" data-startTime="6280">for someone to introduce a </span><span class="line" data-startTime="6282">regression. </span> <span class="line" data-startTime="6283">So I'm wondering &mdash; </span><span class="line" data-startTime="6285">For example, at Facebook, we </span><span class="line" data-startTime="6285">have a library called React, </span><span class="line" data-startTime="6288">which helps avoid layouts </span><span class="line" data-startTime="6288">thrash when we </span><span class="line" data-startTime="6291">render our web pages. </span> <span class="line" data-startTime="6292">And I'm wondering if there </span><span class="line" data-startTime="6292">are, let's say </span><span class="line" data-startTime="6295">organizationally scalable APIs </span><span class="line" data-startTime="6295">that the browser vendors can </span><span class="line" data-startTime="6300">provide to us. </span> <span class="line" data-startTime="6301">So concretely speaking, </span><span class="line" data-startTime="6301">maybe asynchronous </span><span class="line" data-startTime="6304">APIs to decode images. </span></p>

<p><span class="line" data-startTime="6306">Or asynchronous APIs </span><span class="line" data-startTime="6306">to compute the </span><span class="line" data-startTime="6308">dimensions a DOM element. </span> <span class="line" data-startTime="6310">Things that are asynchronous </span><span class="line" data-startTime="6310">and slow down </span><span class="line" data-startTime="6312">the page right now. </span> <span class="line" data-startTime="6314">Are there these types of things </span><span class="line" data-startTime="6314">that the DOM could </span><span class="line" data-startTime="6316">provide to us that you think </span><span class="line" data-startTime="6316">would be Helpful </span></p>

<p class="speaker"><span class="line" data-starttime="6319"><span class="speakerName">Eli Fidler</span>: I think that's </span><span class="line" data-startTime="6319">actually one of the most </span><span class="line" data-startTime="6321">interesting areas of active </span><span class="line" data-startTime="6321">development in at least most </span><span class="line" data-startTime="6325">of the popular web engines </span><span class="line" data-startTime="6325">right now. </span> <span class="line" data-startTime="6327">Definitely WebKit and Blink </span><span class="line" data-startTime="6327">are both working on &mdash; </span><span class="line" data-startTime="6331">they call it different things. </span> <span class="line" data-startTime="6332">But some sort of incremental </span><span class="line" data-startTime="6332">layout, where certain </span><span class="line" data-startTime="6334">properties, when you request </span><span class="line" data-startTime="6334">them from JavaScript, don't </span><span class="line" data-startTime="6337">trigger a full re-layout </span><span class="line" data-startTime="6337">of the page. </span> <span class="line" data-startTime="6339">And I can't give you a list </span><span class="line" data-startTime="6339">of what works right now or </span><span class="line" data-startTime="6344">anything, because </span><span class="line" data-startTime="6344">a lot of this is </span><span class="line" data-startTime="6345">research code right now. </span> <span class="line" data-startTime="6346">But this is a very good example </span><span class="line" data-startTime="6346">of where the browser </span><span class="line" data-startTime="6350">can make things fast without </span><span class="line" data-startTime="6350">you changing anything. </span></p>

<p><span class="line" data-startTime="6353">So right now, there's a couple </span><span class="line" data-startTime="6353">of properties that you ask </span><span class="line" data-startTime="6355">for, like Offset Width, that </span><span class="line" data-startTime="6355">will trigger a full re-layout </span><span class="line" data-startTime="6360">of the entire page. </span> <span class="line" data-startTime="6361">And it doesn't technically </span><span class="line" data-startTime="6361">have to. </span> <span class="line" data-startTime="6363">But right now, the way that </span><span class="line" data-startTime="6363">the engines work, </span><span class="line" data-startTime="6365">that's what they do. </span> <span class="line" data-startTime="6366">So stay tuned. </span> <span class="line" data-startTime="6368">But there's a lot of things </span><span class="line" data-startTime="6368">there that are getting faster </span><span class="line" data-startTime="6370">without web developers having </span><span class="line" data-startTime="6370">to change things. </span> <span class="line" data-startTime="6373">In terms of adding new DOM </span><span class="line" data-startTime="6373">APIs, we have standards </span><span class="line" data-startTime="6378">bodies, and they accept </span><span class="line" data-startTime="6378">public comments. </span></p>

<p><span class="line" data-startTime="6382">Definitely we've seen a lot </span><span class="line" data-startTime="6382">of people providing </span><span class="line" data-startTime="6385">that sort of feedback. </span></p>

<p class="speaker"><span class="line" data-starttime="6387"><span class="speakerName">Andre Behrens</span>: We have another </span><span class="line" data-startTime="6387">question from Mike Petrovich. </span><span class="line" data-startTime="6394">Mic? </span></p>

<p class="speaker"><span class="line" data-starttime="6400"><span class="speakerName">Mike Petrovich</span>: So to John's </span><span class="line" data-startTime="6400">point about synthetic testing, </span><span class="line" data-startTime="6403">I know Etsy does synthetic </span><span class="line" data-startTime="6403">testing for initial page speed </span><span class="line" data-startTime="6406">performance. </span> <span class="line" data-startTime="6407">But if we did something like </span><span class="line" data-startTime="6407">that with using Selenium test. </span> <span class="line" data-startTime="6411">In that it's a [INAUDIBLE] </span><span class="line" data-startTime="6412">environment that would </span><span class="line" data-startTime="6412">actually, in a </span><span class="line" data-startTime="6416">context-sensitive area </span><span class="line" data-startTime="6416">for your app, how </span><span class="line" data-startTime="6419">it's meant to work. </span> <span class="line" data-startTime="6420">Clicking around. </span> <span class="line" data-startTime="6421">200 milliseconds later, clicking </span><span class="line" data-startTime="6421">this other element. </span> <span class="line" data-startTime="6424">And that's all affected by </span><span class="line" data-startTime="6424">different rendering speeds and </span><span class="line" data-startTime="6427">also JavaScript evaluations. </span></p>

<p><span class="line" data-startTime="6428">So it's more of a real-world </span><span class="line" data-startTime="6428">example than just straight up, </span><span class="line" data-startTime="6431">how long did it take </span><span class="line" data-startTime="6431">to render this? </span><span class="line" data-startTime="6433">And it doesn't work at a </span><span class="line" data-startTime="6433">generalized level, like </span><span class="line" data-startTime="6436">there's usually a consensus. </span> <span class="line" data-startTime="6437">But on a very contextual </span><span class="line" data-startTime="6437">basis. </span> <span class="line" data-startTime="6440">What about using automated </span><span class="line" data-startTime="6440">behavioral tools such as that? </span></p>

<p class="speaker"><span class="line" data-starttime="6444"><span class="speakerName">Jonathan Klein</span>: Yes. </span> <span class="line" data-startTime="6445">We sort of that today </span><span class="line" data-startTime="6445">with web page tests. </span> <span class="line" data-startTime="6446">So Pat's here, he built an </span><span class="line" data-startTime="6446">awesome tool that allows you </span><span class="line" data-startTime="6449">to do multi-page flows and see </span><span class="line" data-startTime="6449">screenshots for every step of </span><span class="line" data-startTime="6453">the way, and look at waterfall </span><span class="line" data-startTime="6453">that show JavaScript </span><span class="line" data-startTime="6456">execution, and even see how long </span><span class="line" data-startTime="6456">those things are taking, </span><span class="line" data-startTime="6457">and even monitor CPU during </span><span class="line" data-startTime="6457">that process. </span> <span class="line" data-startTime="6461">So that's, I think, the best </span><span class="line" data-startTime="6461">proxy we have for it today. </span> <span class="line" data-startTime="6463">But again, one of the </span><span class="line" data-startTime="6463">challenging things is that we </span><span class="line" data-startTime="6465">can't currently get data on </span><span class="line" data-startTime="6465">frame rate or paint events out </span><span class="line" data-startTime="6469">of the browser through an API. </span> <span class="line" data-startTime="6471">So that's where you run </span><span class="line" data-startTime="6471">into that wall. </span> <span class="line" data-startTime="6473">So you can get part of the way </span><span class="line" data-startTime="6473">there, but you still can't </span><span class="line" data-startTime="6476">calculate how long a paint </span><span class="line" data-startTime="6476">takes, as far as I'm aware. </span></p>

<p><span class="line" data-startTime="6479">Unless you patch </span><span class="line" data-startTime="6479">Chrome, maybe. </span> <span class="line" data-startTime="6480">I don't know. </span></p>

<p class="speaker"><span class="line" data-starttime="6481"><span class="speakerName">Paul Lewis</span>: Telemetry actually </span><span class="line" data-startTime="6481">runs Chrome with a very </span><span class="line" data-startTime="6484">specific flag-enabled GPU </span><span class="line" data-startTime="6484">benchmarking, which enables a </span><span class="line" data-startTime="6487">GPU benchmarking API. </span><span class="line" data-startTime="6490">And that will give </span><span class="line" data-startTime="6490">you some stuff. </span><span class="line" data-startTime="6492">And in fact, that's the </span><span class="line" data-startTime="6492">reason telemetry can </span><span class="line" data-startTime="6494">get the data out. </span><span class="line" data-startTime="6496">The other thing you can do is </span><span class="line" data-startTime="6496">connect to DevTools over the </span><span class="line" data-startTime="6499">WebSocket, and get it to run </span><span class="line" data-startTime="6499">through the thing, pull off </span><span class="line" data-startTime="6503">the timeline data, and </span><span class="line" data-startTime="6503">then check for paint </span><span class="line" data-startTime="6505">records and so forth. </span><span class="line" data-startTime="6506">So there are things there. </span><span class="line" data-startTime="6508">They are not, I would say, that </span><span class="line" data-startTime="6508">easily grunt task-able, </span><span class="line" data-startTime="6514">and just easily inserted into </span><span class="line" data-startTime="6514">your workflow today. </span><span class="line" data-startTime="6516">And I think that's something </span><span class="line" data-startTime="6516">I'm very interested in, is </span><span class="line" data-startTime="6519">whether we can actually make </span><span class="line" data-startTime="6519">that a thing that's easy for </span><span class="line" data-startTime="6521">developers to just include </span><span class="line" data-startTime="6521">in their build steps. </span></p>

<p class="speaker"><span class="line" data-starttime="6524"><span class="speakerName">Ariya Hidayat</span>: A good example </span><span class="line" data-startTime="6524">of the use of telemetry is </span><span class="line" data-startTime="6526">Adobe's topcoat project. </span><span class="line" data-startTime="6528">I think they have a fantastic </span><span class="line" data-startTime="6528">dashboard that shows how long </span><span class="line" data-startTime="6531">does it take to render a </span><span class="line" data-startTime="6531">button for every single </span><span class="line" data-startTime="6533">revision of the code, </span><span class="line" data-startTime="6533">of the CSS. </span><span class="line" data-startTime="6535">So if you accidentally change </span><span class="line" data-startTime="6535">the CSS and it slows down the </span><span class="line" data-startTime="6538">rendering of the button, then </span><span class="line" data-startTime="6538">you'll know it immediately. </span><span class="line" data-startTime="6540">I think this is all using </span><span class="line" data-startTime="6540">Chrome telemetry. </span></p>

<p class="speaker"><span class="line" data-starttime="6543"><span class="speakerName">Andre Behrens</span>: All right. </span><span class="line" data-startTime="6544">Next question. </span><span class="line" data-startTime="6546">[INAUDIBLE]? </span></p>

<p class="speaker"><span class="line" data-starttime="6547"><span class="speakerName">Audience</span>: Yup. </span></p>

<p class="speaker"><span class="line" data-starttime="6551"><span class="speakerName">Andre Behrens</span>: Microphone. </span></p>

<p class="speaker"><span class="line" data-starttime="6558"><span class="speakerName">Audience</span>: So the question </span><span class="line" data-startTime="6558">is, how can we track the </span><span class="line" data-startTime="6560">performance detriment that </span><span class="line" data-startTime="6560">third-party scripts, such as </span><span class="line" data-startTime="6563">ads, social buttons, or anything </span><span class="line" data-startTime="6563">you want to add, have </span><span class="line" data-startTime="6566">on rendering performance? </span><span class="line" data-startTime="6567">And steps to mediate that </span><span class="line" data-startTime="6567">without being too hacky. </span></p>

<p class="speaker"><span class="line" data-starttime="6573"><span class="speakerName">Jonathan Klein</span>: Come </span><span class="line" data-startTime="6573">back in two hours. </span><span class="line" data-startTime="6574">[LAUGHTER] </span></p>

<p class="speaker"><span class="line" data-starttime="6576"><span class="speakerName">Paul Lewis</span>: I think profile. </span><span class="line" data-startTime="6578">You should know how your </span><span class="line" data-startTime="6578">app is running. </span><span class="line" data-startTime="6581">And then you should know what </span><span class="line" data-startTime="6581">happens when you add that </span><span class="line" data-startTime="6583">thing in, and see what </span><span class="line" data-startTime="6583">the change is. </span><span class="line" data-startTime="6588">If it's hideous, then you </span><span class="line" data-startTime="6588">need to make a decision. </span><span class="line" data-startTime="6592">I think operating blindly </span><span class="line" data-startTime="6592">with your code is a </span><span class="line" data-startTime="6596">very dangerous approach. </span><span class="line" data-startTime="6598">For me it is fairly simple. </span><span class="line" data-startTime="6600">Get used to the tools </span><span class="line" data-startTime="6600">that are available. </span><span class="line" data-startTime="6601">They are great tools. </span><span class="line" data-startTime="6604">And just go make sure you </span><span class="line" data-startTime="6604">understand how it runs before </span><span class="line" data-startTime="6606">and after the third-party </span><span class="line" data-startTime="6606">script, to know whether it was </span><span class="line" data-startTime="6608">worth adding it in. </span><span class="line" data-startTime="6609">Because anything you add </span><span class="line" data-startTime="6609">is going to have a tax. </span><span class="line" data-startTime="6613">it's just whether you're </span><span class="line" data-startTime="6613">happy to pay the tax. </span><span class="line" data-startTime="6616">That's really the question. </span></p>

<p class="speaker"><span class="line" data-starttime="6618"><span class="speakerName">Eli Fidler</span>: When we've talked a </span><span class="line" data-startTime="6618">lot about painting, we find </span><span class="line" data-startTime="6621">that a lot of the issues about </span><span class="line" data-startTime="6621">badly-written third-party code </span><span class="line" data-startTime="6624">is not so much about painting, </span><span class="line" data-startTime="6624">but about adding extra event </span><span class="line" data-startTime="6627">handlers, or doing busy </span><span class="line" data-startTime="6627">work when other </span><span class="line" data-startTime="6630">things could be happening. </span><span class="line" data-startTime="6631">And the remote Web Inspector </span><span class="line" data-startTime="6631">from DevTools, or whatever's </span><span class="line" data-startTime="6636">available on all the browsers </span><span class="line" data-startTime="6636">today, are really good at </span><span class="line" data-startTime="6639">showing, you had a scroll event, </span><span class="line" data-startTime="6639">and somebody had an </span><span class="line" data-startTime="6642">on-scroll handler, and it ran </span><span class="line" data-startTime="6642">for five seconds, and it came </span><span class="line" data-startTime="6644">from Facebook. </span><span class="line" data-startTime="6647">Facebook doesn't actually have </span><span class="line" data-startTime="6647">a scroll handler that takes </span><span class="line" data-startTime="6649">five seconds. </span><span class="line" data-startTime="6650">[LAUGHTER] </span></p>

<p class="speaker"><span class="line" data-starttime="6657"><span class="speakerName">Andre Behrens</span>: So let's </span><span class="line" data-startTime="6657">go onto the next one. </span><span class="line" data-startTime="6659">Edd Sowden. </span></p>

<p class="speaker"><span class="line" data-starttime="6668"><span class="speakerName">Edd Sowden</span>: This was an </span><span class="line" data-startTime="6668">anonymous question. </span><span class="line" data-startTime="6671">"What is the easiest thing </span><span class="line" data-startTime="6671">browser vendors could do to </span><span class="line" data-startTime="6673">make it easy for developers to </span><span class="line" data-startTime="6673">optimize the performance of </span><span class="line" data-startTime="6675">their sites? </span><span class="line" data-startTime="6680">[LAUGHTER] </span></p>

<p class="speaker"><span class="line" data-starttime="6682"><span class="speakerName">Jonathan Klein</span>: No one? </span><span class="line" data-startTime="6682">[LAUGHTER] </span></p>

<p class="speaker"><span class="line" data-starttime="6684"><span class="speakerName">Joshua Peek</span>: It's just the </span><span class="line" data-startTime="6684">YSlow question again. </span><span class="line" data-startTime="6686">What are these magic </span><span class="line" data-startTime="6686">things you can do? </span></p>

<p class="speaker"><span class="line" data-starttime="6690"><span class="speakerName">Jonathan Klein</span>: I think more </span><span class="line" data-startTime="6690">to that point &mdash; we talked </span><span class="line" data-startTime="6691">about this in the last </span><span class="line" data-startTime="6691">session, actually. </span><span class="line" data-startTime="6693">Because browsers are now being </span><span class="line" data-startTime="6693">put on watches and glasses in </span><span class="line" data-startTime="6697">really low-end phones, it's </span><span class="line" data-startTime="6697">hard to say what can the </span><span class="line" data-startTime="6700">browsers do to just make </span><span class="line" data-startTime="6700">our jobs easier. </span><span class="line" data-startTime="6702">Because devices keep getting </span><span class="line" data-startTime="6702">lower-powered. </span><span class="line" data-startTime="6705">So I think we're going to keep </span><span class="line" data-startTime="6705">seeing new environments for </span><span class="line" data-startTime="6708">browsers to operate in. </span><span class="line" data-startTime="6709">And it's hard to say, </span><span class="line" data-startTime="6709">the browser's </span><span class="line" data-startTime="6711">will just fix it all. </span></p>

<p class="speaker"><span class="line" data-starttime="6713"><span class="speakerName">Paul Lewis</span>: More tools. </span> <span class="line" data-startTime="6715">That's the only thing </span><span class="line" data-startTime="6715">I think of. </span> <span class="line" data-startTime="6716">More tools. </span> <span class="line" data-startTime="6717">But that's got to be balanced. </span> <span class="line" data-startTime="6718">Because you want &mdash; </span><span class="line" data-startTime="6720">If you've ever used tracing. </span> <span class="line" data-startTime="6721">Tracing is brilliant. </span> <span class="line" data-startTime="6722">But it's overwhelming at first </span><span class="line" data-startTime="6722">when you hit that thing. </span> <span class="line" data-startTime="6725">You're like, what have you </span><span class="line" data-startTime="6725">just done to my eyes. </span> <span class="line" data-startTime="6728">So here has to be balance. </span> <span class="line" data-startTime="6731">For example, you can't actually </span><span class="line" data-startTime="6731">drill down in Chrome </span><span class="line" data-startTime="6733">DevTools today inside </span><span class="line" data-startTime="6733">paint records. </span> <span class="line" data-startTime="6735">The know that you spent some </span><span class="line" data-startTime="6735">time painting, but you don't </span><span class="line" data-startTime="6737">know what was painted. </span> <span class="line" data-startTime="6738">We recently added details on </span><span class="line" data-startTime="6738">image decode and resize so </span><span class="line" data-startTime="6743">that you know which image was </span><span class="line" data-startTime="6743">decoded and resized, which is </span><span class="line" data-startTime="6746">invaluable. </span> <span class="line" data-startTime="6747">So we can continue to iterate </span><span class="line" data-startTime="6747">and improve the tools so that </span><span class="line" data-startTime="6752">you're in no doubt as to where </span><span class="line" data-startTime="6752">your bottlenecks came from. </span></p>

<p><span class="line" data-startTime="6756">But to make your life </span><span class="line" data-startTime="6756">easier, you're the </span><span class="line" data-startTime="6759">ones writing the code. </span></p>

<p class="speaker"><span class="line" data-starttime="6762"><span class="speakerName">Eli Fidler</span>: I make browsers, so </span><span class="line" data-startTime="6762">I need you to answer that </span><span class="line" data-startTime="6764">question for me. </span> <span class="line" data-startTime="6765">But one thing that I always ask </span><span class="line" data-startTime="6765">when I go to conferences </span><span class="line" data-startTime="6769">like this is I talk to web </span><span class="line" data-startTime="6769">developers and I say, what are </span><span class="line" data-startTime="6771">the tools that you need that </span><span class="line" data-startTime="6771">would tell you things that you </span><span class="line" data-startTime="6774">can actually act on? </span><span class="line" data-startTime="6776">So when I ask, what </span><span class="line" data-startTime="6776">do you need? </span><span class="line" data-startTime="6778">And people tell me, I want to </span><span class="line" data-startTime="6778">know what's going on in the </span><span class="line" data-startTime="6780">paint record. </span> <span class="line" data-startTime="6783">And then you say, oh, but that </span><span class="line" data-startTime="6783">will be different tomorrow, or </span><span class="line" data-startTime="6785">that will be different on </span><span class="line" data-startTime="6785">different device by an order </span><span class="line" data-startTime="6788">of magnitude, which it often is, </span><span class="line" data-startTime="6788">that becomes information </span><span class="line" data-startTime="6791">that's very difficult </span><span class="line" data-startTime="6791">for them to act on. </span> <span class="line" data-startTime="6793">So there are some developers who </span><span class="line" data-startTime="6793">deliberately target every </span><span class="line" data-startTime="6796">single device out there with </span><span class="line" data-startTime="6796">individualized code. </span> <span class="line" data-startTime="6797">But those developers are very </span><span class="line" data-startTime="6797">rare, when you have the kind </span><span class="line" data-startTime="6799">of money and time to </span><span class="line" data-startTime="6799">spend on that. </span> <span class="line" data-startTime="6802">So tell us what you </span><span class="line" data-startTime="6802">need to know. </span></p>

<p><span class="line" data-startTime="6805">And we will try to </span><span class="line" data-startTime="6805">make that happen. </span> <span class="line" data-startTime="6806">Also, we try to just make </span><span class="line" data-startTime="6806">everything fast. </span></p>

<p class="speaker"><span class="line" data-starttime="6808"><span class="speakerName">Ariya Hidayat</span>: So I have this </span><span class="line" data-startTime="6808">gut feeling that in the near </span><span class="line" data-startTime="6811">future, the rendering </span><span class="line" data-startTime="6811">performance tool, especially </span><span class="line" data-startTime="6813">with painting, will fall </span><span class="line" data-startTime="6813">into two categories. </span><span class="line" data-startTime="6817">One is how to improve from 10 </span><span class="line" data-startTime="6817">frames per second to 30, and </span><span class="line" data-startTime="6821">the other one is how to go </span><span class="line" data-startTime="6821">from 40 to 60 or 58 to 60 </span><span class="line" data-startTime="6826">frames per second. </span><span class="line" data-startTime="6827">Because what you're looking </span><span class="line" data-startTime="6827">for is that quick fix. </span><span class="line" data-startTime="6830">So that instead of 10, you run </span><span class="line" data-startTime="6830">up to 30 frames per second. </span></p>

<p class="speaker"><span class="line" data-starttime="6834"><span class="speakerName">Andre Behrens</span>: And you </span><span class="line" data-startTime="6834">had a question? </span></p>

<p class="speaker"><span class="line" data-starttime="6836"><span class="speakerName">Audience</span>: Just to say, one thing </span><span class="line" data-startTime="6836">that you can do is tell </span><span class="line" data-startTime="6839">us there is a problem. </span><span class="line" data-startTime="6840">So I think, granted, we don't </span><span class="line" data-startTime="6840">have best practices exactly at </span><span class="line" data-startTime="6842">how to solve it. </span><span class="line" data-startTime="6845">I get the point about doing </span><span class="line" data-startTime="6845">synthetic testing. </span><span class="line" data-startTime="6847">But most people on the panel </span><span class="line" data-startTime="6847">agreed that the profile of how </span><span class="line" data-startTime="6853">many frames per second you </span><span class="line" data-startTime="6853">get varies per device. </span><span class="line" data-startTime="6855">And of course, you can't </span><span class="line" data-startTime="6855">simulate all these different </span><span class="line" data-startTime="6858">situations. </span><span class="line" data-startTime="6859">If we had some sort of real </span><span class="line" data-startTime="6859">user monitoring at least </span><span class="line" data-startTime="6863">telling us, hey, there is a </span><span class="line" data-startTime="6863">problem on whatever Android </span><span class="line" data-startTime="6867">device X on this page frequently </span><span class="line" data-startTime="6867">enough, then that </span><span class="line" data-startTime="6872">would motivate me to go buy that </span><span class="line" data-startTime="6872">device and run some more </span><span class="line" data-startTime="6875">test just to balance the </span><span class="line" data-startTime="6875">different effects. </span><span class="line" data-startTime="6878">Even ahead of having the best </span><span class="line" data-startTime="6878">practices for exactly how </span><span class="line" data-startTime="6882">would I fix my codes </span><span class="line" data-startTime="6882">to make it go away. </span></p>

<p class="speaker"><span class="line" data-starttime="6885"><span class="speakerName">Jonathan Klein</span>: I think </span><span class="line" data-startTime="6885">that's a great point. </span><span class="line" data-startTime="6886">And something that that brings </span><span class="line" data-startTime="6886">to mind is with the YSlow tool </span><span class="line" data-startTime="6890">release and the web performance </span><span class="line" data-startTime="6890">movement that's </span><span class="line" data-startTime="6892">been going on for the past 10 </span><span class="line" data-startTime="6892">years, we've had a lot of </span><span class="line" data-startTime="6894">studies that come out, saying, </span><span class="line" data-startTime="6894">look at the top 1,000 Alexa </span><span class="line" data-startTime="6896">sites, and how bad they are, </span><span class="line" data-startTime="6896">and these best practices. </span><span class="line" data-startTime="6898">That hasn't happened yet, </span><span class="line" data-startTime="6898">I think, with rendering </span><span class="line" data-startTime="6900">performance. </span><span class="line" data-startTime="6901">So I think it'd be useful just </span><span class="line" data-startTime="6901">to have somebody go out and </span><span class="line" data-startTime="6903">look at popular sites, and be </span><span class="line" data-startTime="6903">like, look, there are problems </span><span class="line" data-startTime="6906">here on these devices, </span><span class="line" data-startTime="6906">on these browsers. </span><span class="line" data-startTime="6908">And just expose it on a wider </span><span class="line" data-startTime="6908">basis so that people are aware </span><span class="line" data-startTime="6910">of the problem. </span><span class="line" data-startTime="6911">Because I think in this </span><span class="line" data-startTime="6911">community, it's </span><span class="line" data-startTime="6913">obviously well known. </span><span class="line" data-startTime="6914">But I think in the wider </span><span class="line" data-startTime="6914">community people don't think </span><span class="line" data-startTime="6915">as much about rendering </span><span class="line" data-startTime="6915">performance. </span></p>

<p class="speaker"><span class="line" data-starttime="6918"><span class="speakerName">Ariya Hidayat</span>: Does anyone know </span><span class="line" data-startTime="6918">if Google reduces page </span><span class="line" data-startTime="6921">rank for sites that are slow? </span><span class="line" data-startTime="6924">[LAUGHTER] </span></p>

<p class="speaker"><span class="line" data-starttime="6928"><span class="speakerName">Ariya Hidayat</span>: I'm not saying. </span><span class="line" data-startTime="6930">No idea. </span><span class="line" data-startTime="6931">I'm just asking. </span><span class="line" data-startTime="6931">I have no idea. </span></p>

<p class="speaker"><span class="line" data-starttime="6937"><span class="speakerName">Andre Behrens</span>: All right. </span><span class="line" data-startTime="6938">Our next question comes </span><span class="line" data-startTime="6938">from Dunston Castin. </span></p>

<p class="speaker"><span class="line" data-starttime="6946"><span class="speakerName">Dunston</span>: Hey. </span><span class="line" data-startTime="6947">So my experience with paint </span><span class="line" data-startTime="6947">performance usually drops </span><span class="line" data-startTime="6950">frames with garbage collection </span><span class="line" data-startTime="6950">events and memory management. </span><span class="line" data-startTime="6952">What responsibility should web </span><span class="line" data-startTime="6952">developers take on for those </span><span class="line" data-startTime="6955">two things, memory management </span><span class="line" data-startTime="6955">and garbage collection? </span></p>

<p class="speaker"><span class="line" data-starttime="6962"><span class="speakerName">Paul Lewis</span>: OK. </span><span class="line" data-startTime="6962">So the immediate thing is that </span><span class="line" data-startTime="6962">GC causes jank because GC's </span><span class="line" data-startTime="6968">almost guaranteed to push you </span><span class="line" data-startTime="6968">over that frame budget of 16 </span><span class="line" data-startTime="6970">milliseconds. </span><span class="line" data-startTime="6973">Your only option is to </span><span class="line" data-startTime="6973">try and avoid GC. </span><span class="line" data-startTime="6975">This, I think, depends on how </span><span class="line" data-startTime="6975">big a problem this is for you. </span><span class="line" data-startTime="6979">How much memory churn you </span><span class="line" data-startTime="6979">actually have, how much time </span><span class="line" data-startTime="6982">garbage collection is actually </span><span class="line" data-startTime="6982">taking, and how often it runs. </span><span class="line" data-startTime="6985">Which is going to be very </span><span class="line" data-startTime="6985">specific to your own </span><span class="line" data-startTime="6987">application. </span><span class="line" data-startTime="6987">There are things. </span><span class="line" data-startTime="6991">On HTML5 Rocks, we have an </span><span class="line" data-startTime="6991">article about using static </span><span class="line" data-startTime="6994">memory pools to recycle </span><span class="line" data-startTime="6994">objects and so forth. </span><span class="line" data-startTime="6997">You're avoiding object creation, </span><span class="line" data-startTime="6997">which tends to be </span><span class="line" data-startTime="7001">good for GC. </span><span class="line" data-startTime="7003">But personally speaking, </span><span class="line" data-startTime="7003">I don't believe it's &mdash; </span><span class="line" data-startTime="7008">People have requested, can we </span><span class="line" data-startTime="7008">have a garbage collection API? </span><span class="line" data-startTime="7012">And I would be concerned about </span><span class="line" data-startTime="7012">a browser including that, </span><span class="line" data-startTime="7016">because that one could get </span><span class="line" data-startTime="7016">really hairy very quickly. </span></p>

<p class="speaker"><span class="line" data-starttime="7022"><span class="speakerName">Andre Behrens</span>: What would </span><span class="line" data-startTime="7022">be the problems? </span></p>

<p class="speaker"><span class="line" data-starttime="7026"><span class="speakerName">Paul Lewis</span>: The browser is </span><span class="line" data-startTime="7026">uniquely positioned to &mdash; </span><span class="line" data-startTime="7030">Your page is not the </span><span class="line" data-startTime="7030">only thing that's </span><span class="line" data-startTime="7032">running in the browser. </span> <span class="line" data-startTime="7033">So it's in a unique position </span><span class="line" data-startTime="7033">to know when </span><span class="line" data-startTime="7035">garbage should be collected. </span> <span class="line" data-startTime="7036">And if you were to force the </span><span class="line" data-startTime="7036">issue, you may, basically, </span><span class="line" data-startTime="7040">make the wrong call. </span> <span class="line" data-startTime="7043">This is one of these times </span><span class="line" data-startTime="7043">where, as I say, the browser </span><span class="line" data-startTime="7047">is the one that has all the </span><span class="line" data-startTime="7047">information and knows when </span><span class="line" data-startTime="7049">it's the right time to </span><span class="line" data-startTime="7049">pick up garbage. </span> <span class="line" data-startTime="7051">Ideally, you want it to do it </span><span class="line" data-startTime="7051">at the best point for every </span><span class="line" data-startTime="7054">application that's running. </span></p>

<p><span class="line" data-startTime="7056">But that's the nature </span><span class="line" data-startTime="7056">of [INAUDIBLE]. </span></p>

<p class="speaker"><span class="line" data-starttime="7057"><span class="speakerName">Ariya Hidayat</span>: What if the GC </span><span class="line" data-startTime="7057">API is just a strong hint for </span><span class="line" data-startTime="7060">the browser to do garbage </span><span class="line" data-startTime="7060">[INAUDIBLE] </span><span class="line" data-startTime="7062">when it's possible? </span></p>

<p class="speaker"><span class="line" data-starttime="7064"><span class="speakerName">Paul Lewis</span>: So if you do that, </span><span class="line" data-startTime="7064">then what happens if it </span><span class="line" data-startTime="7067">ignores you? </span><span class="line" data-startTime="7070">Or you get different browsers </span><span class="line" data-startTime="7070">ignoring you </span><span class="line" data-startTime="7072">at different times? </span><span class="line" data-startTime="7073">Is it any better than </span><span class="line" data-startTime="7073">the browser just </span><span class="line" data-startTime="7075">making the call itself? </span></p>

<p class="speaker"><span class="line" data-starttime="7076"><span class="speakerName">Ariya Hidayat</span>: But that's the </span><span class="line" data-startTime="7076">same situation like the </span><span class="line" data-startTime="7078">translateZ layer hacks, right? </span></p>

<p class="speaker"><span class="line" data-starttime="7080"><span class="speakerName">Paul Lewis</span>: Yeah. </span><span class="line" data-startTime="7081">No, exactly. </span><span class="line" data-startTime="7081">And so some of this stuff is </span><span class="line" data-startTime="7081">just real-world, yeah, we're </span><span class="line" data-startTime="7085">just going to do </span><span class="line" data-startTime="7085">this right now. </span><span class="line" data-startTime="7086">We wish we didn't, because </span><span class="line" data-startTime="7086">we just want to get </span><span class="line" data-startTime="7089">stuff that runs well. </span></p>

<p class="speaker"><span class="line" data-starttime="7092"><span class="speakerName">Eli Fidler</span>: We've gotten </span><span class="line" data-startTime="7092">complaints, mostly from sites </span><span class="line" data-startTime="7094">that do permanent animation </span><span class="line" data-startTime="7094">all the time, </span><span class="line" data-startTime="7098">that GCs are a problem. </span> <span class="line" data-startTime="7099">And that's things like games. </span> <span class="line" data-startTime="7101">And if you're writing something </span><span class="line" data-startTime="7101">that is truly </span><span class="line" data-startTime="7105">interrupted by GCs on a regular </span><span class="line" data-startTime="7105">basis, then you just </span><span class="line" data-startTime="7109">have to create less garbage. </span> <span class="line" data-startTime="7111">But building a game that's going </span><span class="line" data-startTime="7111">to run at 60 FPS while </span><span class="line" data-startTime="7114">doing complicated things is a </span><span class="line" data-startTime="7114">hard problem no matter what </span><span class="line" data-startTime="7117">environment it's running in and </span><span class="line" data-startTime="7117">no matter what language </span><span class="line" data-startTime="7119">you're running it in. </span> <span class="line" data-startTime="7120">So you can't expect that the </span><span class="line" data-startTime="7120">browser's just going </span><span class="line" data-startTime="7124">to do it for you. </span> <span class="line" data-startTime="7125">And I don't think that you could </span><span class="line" data-startTime="7125">make an easy decision, </span><span class="line" data-startTime="7127">even if you had a guaranteed </span><span class="line" data-startTime="7127">API that said, GC now? </span><span class="line" data-startTime="7130">You couldn't make an easy </span><span class="line" data-startTime="7130">decision about when </span><span class="line" data-startTime="7132">to call that API. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="7137"><span class="speakerName">Andre Behrens</span>: I'm curious. </span><span class="line" data-startTime="7138">We hear again and again when </span><span class="line" data-startTime="7138">we talk about rendering </span><span class="line" data-startTime="7140">performance, we have to test, </span><span class="line" data-startTime="7140">we have to look, we have to </span><span class="line" data-startTime="7143">look at specific things. </span><span class="line" data-startTime="7144">What is the brightest sign of </span><span class="line" data-startTime="7144">hope for the next thing that's </span><span class="line" data-startTime="7147">going to be easier to handle? </span><span class="line" data-startTime="7150">I'm curious, if anyone </span><span class="line" data-startTime="7150">has a perspective. </span></p>

<p class="speaker"><span class="line" data-starttime="7154"><span class="speakerName">Paul Lewis</span>: When you say </span><span class="line" data-startTime="7154">easier to handle &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="7158"><span class="speakerName">Andre Behrens</span>: In the sense of </span><span class="line" data-startTime="7158">the timeline view, made at </span><span class="line" data-startTime="7161">least getting a handle on </span><span class="line" data-startTime="7161">it easier than it was. </span><span class="line" data-startTime="7163">You could actually see it. </span><span class="line" data-startTime="7166">I know the inability to </span><span class="line" data-startTime="7166">see pictures in the &mdash; </span><span class="line" data-startTime="7170">[INAUDIBLE] </span><span class="line" data-startTime="7170">seen picture decode and say, oh, </span><span class="line" data-startTime="7170">that was a picture decode. </span><span class="line" data-startTime="7172">That's what that thing was. </span><span class="line" data-startTime="7174">Having that show up in </span><span class="line" data-startTime="7174">the tools is a easier </span><span class="line" data-startTime="7176">thing to deal with. </span><span class="line" data-startTime="7177">Is there anything that either </span><span class="line" data-startTime="7177">is going to go away or is </span><span class="line" data-startTime="7179">going to be much easier </span><span class="line" data-startTime="7179">to test for? </span></p>

<p class="speaker"><span class="line" data-starttime="7182"><span class="speakerName">Paul Lewis</span>: In terms of going </span><span class="line" data-startTime="7182">away, from Chrome perspective, </span><span class="line" data-startTime="7187">image decodes and resizes </span><span class="line" data-startTime="7187">are, at the </span><span class="line" data-startTime="7189">moment, extremely expensive. </span> <span class="line" data-startTime="7191">And as we all probably </span><span class="line" data-startTime="7191">know, 60% of the </span><span class="line" data-startTime="7195">average page is images. </span> <span class="line" data-startTime="7197">So if you can fix image decoding </span><span class="line" data-startTime="7197">and resizing as a </span><span class="line" data-startTime="7201">bottleneck, that helps </span><span class="line" data-startTime="7201">enormously with that problem. </span> <span class="line" data-startTime="7206">So our engineers are definitely </span><span class="line" data-startTime="7206">looking at ways to </span><span class="line" data-startTime="7209">make that a thing. </span> <span class="line" data-startTime="7210">The other that you often </span><span class="line" data-startTime="7210">see is the main thread. </span></p>

<p><span class="line" data-startTime="7214">The contention on the main </span><span class="line" data-startTime="7214">thread being so high such that </span><span class="line" data-startTime="7216">work can't continue, and the </span><span class="line" data-startTime="7216">app becomes unresponsive. </span> <span class="line" data-startTime="7221">And we're looking at ways of </span><span class="line" data-startTime="7221">reducing the workload. </span> <span class="line" data-startTime="7225">That doesn't always necessarily </span><span class="line" data-startTime="7225">mean firing off </span><span class="line" data-startTime="7227">more threads, which I think is </span><span class="line" data-startTime="7227">the sometimes mooted idea. </span> <span class="line" data-startTime="7231">Which is, in Chrome's case, </span><span class="line" data-startTime="7231">we have a fairly </span><span class="line" data-startTime="7236">thread-heavy app. </span> <span class="line" data-startTime="7238">So just creating more threads </span><span class="line" data-startTime="7238">wouldn't necessarily solve it. </span> <span class="line" data-startTime="7241">So what you actually want </span><span class="line" data-startTime="7241">to do is do the work </span><span class="line" data-startTime="7243">in a smarter way. </span> <span class="line" data-startTime="7245">So, for example, putting more </span><span class="line" data-startTime="7245">work that is suitable for the </span><span class="line" data-startTime="7248">GPU to go to the GPU, </span><span class="line" data-startTime="7248">that kind of stuff. </span></p>

<p><span class="line" data-startTime="7251">From a developer's point of </span><span class="line" data-startTime="7251">view, none of that actually </span><span class="line" data-startTime="7253">requires action other than try </span><span class="line" data-startTime="7253">and reduce the work that </span><span class="line" data-startTime="7257">you're doing, which has </span><span class="line" data-startTime="7257">always been the case. </span> <span class="line" data-startTime="7259">If you're layout-bound try </span><span class="line" data-startTime="7259">and reduce layout. </span> <span class="line" data-startTime="7262">Even if layout gets faster in </span><span class="line" data-startTime="7262">the browser, you still want to </span><span class="line" data-startTime="7265">do less of it. </span> <span class="line" data-startTime="7266">Performance is the </span><span class="line" data-startTime="7266">art of doing the </span><span class="line" data-startTime="7268">least amount of work. </span></p>

<p class="speaker"><span class="line" data-starttime="7272"><span class="speakerName">Andre Behrens</span>: I think we have </span><span class="line" data-startTime="7272">a question from the crowd. </span><span class="line" data-startTime="7274">Suraj. </span><span class="line" data-startTime="7276">Yes. </span><span class="line" data-startTime="7276">Microphone. </span></p>

<p class="speaker"><span class="line" data-starttime="7280"><span class="speakerName">Audience</span>: Hi. </span><span class="line" data-startTime="7281">I have a very simple question. </span><span class="line" data-startTime="7283">So a few weeks ago, I was </span><span class="line" data-startTime="7283">developing this web </span><span class="line" data-startTime="7286">application. </span><span class="line" data-startTime="7287">I don't have any complicated </span><span class="line" data-startTime="7287">CSS going on, no timeouts, </span><span class="line" data-startTime="7291">very simple layout. </span><span class="line" data-startTime="7293">But it just uses a </span><span class="line" data-startTime="7293">lot of images. </span><span class="line" data-startTime="7295">So it [INAUDIBLE] images from </span><span class="line" data-startTime="7295">Picasa and it shows it to you. </span><span class="line" data-startTime="7300">And it's just slow. </span><span class="line" data-startTime="7301">Especially the first time, the </span><span class="line" data-startTime="7301">rendering performance is just </span><span class="line" data-startTime="7304">really bad. </span><span class="line" data-startTime="7305">So what, as a developer, I </span><span class="line" data-startTime="7305">can do to increase that </span><span class="line" data-startTime="7309">performance? </span></p>

<p class="speaker"><span class="line" data-starttime="7313"><span class="speakerName">Paul Lewis</span>: That is a tough one </span><span class="line" data-startTime="7313">right now, if I'm honest. </span> <span class="line" data-startTime="7315">From my point of view, </span><span class="line" data-startTime="7315">we don't have &mdash; </span><span class="line" data-startTime="7319">so when the page is rasterizing, </span><span class="line" data-startTime="7319">it does the image </span><span class="line" data-startTime="7321">decodes and resizes in line </span><span class="line" data-startTime="7321">as a sort of dependency. </span> <span class="line" data-startTime="7324">It gets this draw bitmap where </span><span class="line" data-startTime="7324">it goes, OK, now I need to </span><span class="line" data-startTime="7326">draw an image. </span> <span class="line" data-startTime="7327">And I need to decode </span><span class="line" data-startTime="7327">that image and </span><span class="line" data-startTime="7329">resize it if necessary. </span> <span class="line" data-startTime="7331">And then I can actually </span><span class="line" data-startTime="7331">rasterize it into the page. </span> <span class="line" data-startTime="7334">That all happens in line. </span> <span class="line" data-startTime="7335">If it was decoupled from the </span><span class="line" data-startTime="7335">rasterization and there was a </span><span class="line" data-startTime="7340">gap where it was, then it </span><span class="line" data-startTime="7340">appeared later, that </span><span class="line" data-startTime="7342">might be one thing. </span> <span class="line" data-startTime="7343">But as a developer, there's </span><span class="line" data-startTime="7343">not a lot you can do. </span> <span class="line" data-startTime="7345">Apart from perhaps batch in your </span><span class="line" data-startTime="7345">images, is something you </span><span class="line" data-startTime="7349">could potentially look at. </span> <span class="line" data-startTime="7350">Because if it's all </span><span class="line" data-startTime="7350">done on demand &mdash; </span><span class="line" data-startTime="7352">So again, this is from a </span><span class="line" data-startTime="7352">Chrome prospective &mdash; </span><span class="line" data-startTime="7354">it looks at what it needs </span><span class="line" data-startTime="7354">to rasterize. </span></p>

<p><span class="line" data-startTime="7356">If that's 30 images, 30 images </span><span class="line" data-startTime="7356">are going to get queued up for </span><span class="line" data-startTime="7359">decoding and resizing </span><span class="line" data-startTime="7359">in one go. </span> <span class="line" data-startTime="7363">It depends on the app, but it </span><span class="line" data-startTime="7363">might be better to hold off </span><span class="line" data-startTime="7366">and go, can I do these </span><span class="line" data-startTime="7366">one by one? </span><span class="line" data-startTime="7368">Or just over a few frames </span><span class="line" data-startTime="7368">so that I'm not hitting </span><span class="line" data-startTime="7371">everything at once. </span> <span class="line" data-startTime="7373">That sometimes may be a thing. </span> <span class="line" data-startTime="7375">But I offer advice without </span><span class="line" data-startTime="7375">knowing the </span><span class="line" data-startTime="7378">application in detail. </span> <span class="line" data-startTime="7380">So use it wisely. </span> <span class="line" data-startTime="7382">[LAUGHTER] </span></p>

<p class="speaker"><span class="line" data-starttime="7384"><span class="speakerName">Ariya Hidayat</span>: Does it need </span><span class="line" data-startTime="7384">to show all of those </span><span class="line" data-startTime="7386">30 images at once? </span></p>

<p class="speaker"><span class="line" data-starttime="7392"><span class="speakerName">Audience</span>: Not really. </span><span class="line" data-startTime="7393">And that was one of the </span><span class="line" data-startTime="7393">things I tried to do. </span><span class="line" data-startTime="7396">To just show that images, </span><span class="line" data-startTime="7396">whatever is </span><span class="line" data-startTime="7399">visible in one page size. </span><span class="line" data-startTime="7401">But even then, first time, you </span><span class="line" data-startTime="7401">are getting, let's say, </span><span class="line" data-startTime="7404">images, it's visibly slow. </span><span class="line" data-startTime="7408">And I've seen similar pattern </span><span class="line" data-startTime="7408">in other websites, too, </span><span class="line" data-startTime="7412">well-known websites. </span><span class="line" data-startTime="7414">So I wasn't sure if there's </span><span class="line" data-startTime="7414">anything that can </span><span class="line" data-startTime="7415">be done about it. </span></p>

<p class="speaker"><span class="line" data-starttime="7418"><span class="speakerName">Paul Lewis</span>: We are trying to </span><span class="line" data-startTime="7418">get reduced the tax that is </span><span class="line" data-startTime="7421">levied for decodes </span><span class="line" data-startTime="7421">and resizes. </span></p>

<p class="speaker"><span class="line" data-starttime="7424"><span class="speakerName">Eli Fidler</span>: We just do a whole </span><span class="line" data-startTime="7424">panel talking about images. </span><span class="line" data-startTime="7427">Images are expensive. </span><span class="line" data-startTime="7428">Having to touch every pixel in </span><span class="line" data-startTime="7428">an image and doing decodes and </span><span class="line" data-startTime="7431">things like that is an </span><span class="line" data-startTime="7431">expensive operation. </span><span class="line" data-startTime="7433">There's fundamentally no way </span><span class="line" data-startTime="7433">around the fact that we have </span><span class="line" data-startTime="7435">to do a lot of work when </span><span class="line" data-startTime="7435">we show images. </span><span class="line" data-startTime="7438">But the techniques that were </span><span class="line" data-startTime="7438">talked about in the last </span><span class="line" data-startTime="7440">panel &mdash; especially if you </span><span class="line" data-startTime="7440">control your images. </span><span class="line" data-startTime="7442">In your case, you may not. </span><span class="line" data-startTime="7443">But putting low-quality images </span><span class="line" data-startTime="7443">in as placeholders, and then </span><span class="line" data-startTime="7447">asynchronously bringing in </span><span class="line" data-startTime="7447">higher-quality versions. </span><span class="line" data-startTime="7450">Or carefully choosing what types </span><span class="line" data-startTime="7450">of images that you're </span><span class="line" data-startTime="7453">using, what compression formats, </span><span class="line" data-startTime="7453">that sort of thing, </span><span class="line" data-startTime="7456">for whatever's fast for your </span><span class="line" data-startTime="7456">specific operation is </span><span class="line" data-startTime="7460">something that you can do to </span><span class="line" data-startTime="7460">optimize image-heavy sites. </span><span class="line" data-startTime="7463">But fundamentally, images </span><span class="line" data-startTime="7463">are expensive. </span><span class="line" data-startTime="7464">There's no way around that. </span></p>

<p class="speaker"><span class="line" data-starttime="7465"><span class="speakerName">Paul Lewis</span>: It's interesting, as </span><span class="line" data-startTime="7465">a side note, that when the </span><span class="line" data-startTime="7467">last panel was talking, </span><span class="line" data-startTime="7467">there was a lot of </span><span class="line" data-startTime="7471">discussion about bandwidth. </span> <span class="line" data-startTime="7473">And that's only part of the </span><span class="line" data-startTime="7473">picture when you're talking </span><span class="line" data-startTime="7475">about images. </span> <span class="line" data-startTime="7476">Which is, the other side of this </span><span class="line" data-startTime="7476">is, how long, then, does </span><span class="line" data-startTime="7478">it take me to decode </span><span class="line" data-startTime="7478">it and resize it? </span><span class="line" data-startTime="7480">So you actually need a </span><span class="line" data-startTime="7480">full understanding. </span> <span class="line" data-startTime="7483">You could save time on the </span><span class="line" data-startTime="7483">transfer of an image, yay. </span> <span class="line" data-startTime="7487">And then have something that is </span><span class="line" data-startTime="7487">actually really horrible to </span><span class="line" data-startTime="7489">decode, or is horrible to resize </span><span class="line" data-startTime="7489">on the other side. </span></p>

<p><span class="line" data-startTime="7493">So your overall picture is </span><span class="line" data-startTime="7493">actually either worse or the </span><span class="line" data-startTime="7497">same or better. </span> <span class="line" data-startTime="7498">But you need to understand the </span><span class="line" data-startTime="7498">whole lifecycle of an image to </span><span class="line" data-startTime="7501">actually know whether or not </span><span class="line" data-startTime="7501">you're doing the right thing. </span> <span class="line" data-startTime="7505">And also, the low-quality </span><span class="line" data-startTime="7505">placeholder switched out with </span><span class="line" data-startTime="7508">a high-res one could </span><span class="line" data-startTime="7508">be really good. </span> <span class="line" data-startTime="7511">But then you're also trading off </span><span class="line" data-startTime="7511">the fact that you probably </span><span class="line" data-startTime="7512">have a second request to get </span><span class="line" data-startTime="7512">your higher-res image. </span> <span class="line" data-startTime="7515">So it's not just straightforward </span><span class="line" data-startTime="7515">often anyway. </span></p>

<p><span class="line" data-startTime="7518">And it's very specific to your </span><span class="line" data-startTime="7518">app what it is that's </span><span class="line" data-startTime="7520">worthwhile doing. </span></p>

<p class="speaker"><span class="line" data-starttime="7521"><span class="speakerName">Ariya Hidayat</span>: It'll be </span><span class="line" data-startTime="7521">interesting to see if, in the </span><span class="line" data-startTime="7522">near future, instead of a single </span><span class="line" data-startTime="7522">CPU alone responsible </span><span class="line" data-startTime="7526">for images, we could </span><span class="line" data-startTime="7526">GPAC co-processors. </span><span class="line" data-startTime="7529">Ooh. </span></p>

<p class="speaker"><span class="line" data-starttime="7531"><span class="speakerName">Andre Behrens</span>: I </span><span class="line" data-startTime="7531">think we have a </span><span class="line" data-startTime="7531">question from Jake Archibald. </span></p>

<p class="speaker"><span class="line" data-starttime="7537"><span class="speakerName">Eli Fidler</span>: While he's getting </span><span class="line" data-startTime="7537">the mic, image decoding is </span><span class="line" data-startTime="7539">actually hardware-accelerated </span><span class="line" data-startTime="7539">in many cases. </span></p>

<p class="speaker"><span class="line" data-starttime="7542"><span class="speakerName">Jake Archibald</span>: So on the </span><span class="line" data-startTime="7542">scrolling-to-load-images </span><span class="line" data-startTime="7545">thing, like when they're out of </span><span class="line" data-startTime="7545">you, use a scroll event to </span><span class="line" data-startTime="7548">bring the images in, I just </span><span class="line" data-startTime="7548">wanted to point out that </span><span class="line" data-startTime="7550">that's a massive anti-pattern </span><span class="line" data-startTime="7550">on mobile. </span><span class="line" data-startTime="7552">Because if the radio falls </span><span class="line" data-startTime="7552">asleep, any device with a </span><span class="line" data-startTime="7556">cellular connection, waking </span><span class="line" data-startTime="7556">that radio up comes with a </span><span class="line" data-startTime="7558">huge latency and will </span><span class="line" data-startTime="7558">ruin the battery. </span><span class="line" data-startTime="7561">On the resource priority spec, </span><span class="line" data-startTime="7561">we've got a new attribute </span><span class="line" data-startTime="7563">called Postpone, which </span><span class="line" data-startTime="7563">hands that </span><span class="line" data-startTime="7565">power back to the browser. </span><span class="line" data-startTime="7566">And lets the browser </span><span class="line" data-startTime="7566">render without &mdash; </span><span class="line" data-startTime="7568">it can defer the image loading, </span><span class="line" data-startTime="7568">downloading, if it's </span><span class="line" data-startTime="7571">out of view. </span></p>

<p class="speaker"><span class="line" data-starttime="7576"><span class="speakerName">Paul Lewis</span>: As well as </span><span class="line" data-startTime="7576">deferring the image </span><span class="line" data-startTime="7577">downloading, I'd actually love </span><span class="line" data-startTime="7577">the ability to defer it </span><span class="line" data-startTime="7580">decoding as well. </span><span class="line" data-startTime="7582">I don't see why you'd have </span><span class="line" data-startTime="7582">one not the other. </span><span class="line" data-startTime="7584">Don't load this. </span><span class="line" data-startTime="7585">OK, do load it. </span><span class="line" data-startTime="7586">Fine. </span><span class="line" data-startTime="7587">But don't decode it. </span><span class="line" data-startTime="7588">OK, do decode it, it's fine. </span><span class="line" data-startTime="7590">That seems to go hand-in-hand </span><span class="line" data-startTime="7590">to me. </span><span class="line" data-startTime="7593">Unless I'm crazy. </span><span class="line" data-startTime="7594">It's possible. </span></p>

<p class="speaker"><span class="line" data-starttime="7595"><span class="speakerName">Eli Fidler</span>: That's exactly the </span><span class="line" data-startTime="7595">magic of Web Audio for Audio. </span><span class="line" data-startTime="7597">Because decoding the audio is </span><span class="line" data-startTime="7597">expensive, so you want to do </span><span class="line" data-startTime="7599">it first so it's ready. </span><span class="line" data-startTime="7600">Maybe we can do Web </span><span class="line" data-startTime="7600">Audio for images. </span><span class="line" data-startTime="7603">Somebody write a spec. </span></p>

<p class="speaker"><span class="line" data-starttime="7605"><span class="speakerName">Paul Lewis</span>: That's </span><span class="line" data-startTime="7605">a great idea. </span></p>

<p class="speaker"><span class="line" data-starttime="7609"><span class="speakerName">Andre Behrens</span>: Next question. </span><span class="line" data-startTime="7613">Matt Todd. </span></p>

<p class="speaker"><span class="line" data-starttime="7626"><span class="speakerName">Matt Todd</span>: This is an </span><span class="line" data-startTime="7626">enormous question. </span><span class="line" data-startTime="7630">What have been the biggest wins </span><span class="line" data-startTime="7630">and wastes of time at </span><span class="line" data-startTime="7632">real websites? </span><span class="line" data-startTime="7633">And I think balancing that </span><span class="line" data-startTime="7633">between front-end developers </span><span class="line" data-startTime="7638">and web developers, but also </span><span class="line" data-startTime="7638">from browser implementation </span><span class="line" data-startTime="7643">development, what have been </span><span class="line" data-startTime="7643">really rewarding endeavors and </span><span class="line" data-startTime="7647">what have been huge wastes of </span><span class="line" data-startTime="7647">time to have taken more time </span><span class="line" data-startTime="7651">to actually produce any </span><span class="line" data-startTime="7651">kind of benefit? </span></p>

<p class="speaker"><span class="line" data-starttime="7654"><span class="speakerName">Eli Fidler</span>: We still see a lot </span><span class="line" data-startTime="7654">of sites that, in busy loops, </span><span class="line" data-startTime="7658">add one node to the DOM and then </span><span class="line" data-startTime="7658">ask for a property that </span><span class="line" data-startTime="7663">requires you to do a layout, </span><span class="line" data-startTime="7663">and then add a note to the </span><span class="line" data-startTime="7665">DOM, and then ask for a property </span><span class="line" data-startTime="7665">that requires a </span><span class="line" data-startTime="7667">layout, in a really </span><span class="line" data-startTime="7667">tight loop. </span><span class="line" data-startTime="7669">And this is a huge </span><span class="line" data-startTime="7669">anti-pattern. </span><span class="line" data-startTime="7671">We've been telling people </span><span class="line" data-startTime="7671">this forever. </span><span class="line" data-startTime="7672">Most people are pretty good </span><span class="line" data-startTime="7672">about batching nodes dumped </span><span class="line" data-startTime="7675">into the DOM and that </span><span class="line" data-startTime="7675">sort of thing. </span><span class="line" data-startTime="7676">But still, a ton of people </span><span class="line" data-startTime="7676">do this all the time. </span></p>

<p class="speaker"><span class="line" data-starttime="7679"><span class="speakerName">Joshua Peek</span>: I feel like that </span><span class="line" data-startTime="7679">doesn't happen so much where </span><span class="line" data-startTime="7682">you see the tight loop. </span><span class="line" data-startTime="7683">But it's more so that you </span><span class="line" data-startTime="7683">have all these other </span><span class="line" data-startTime="7685">components on the page. </span><span class="line" data-startTime="7686">Where one will add something </span><span class="line" data-startTime="7686">to the DOM, and something </span><span class="line" data-startTime="7689">unrelated can trigger </span><span class="line" data-startTime="7689">to compute stop. </span><span class="line" data-startTime="7692">And it just happens as </span><span class="line" data-startTime="7692">you render this page. </span><span class="line" data-startTime="7694">So a lot of it's </span><span class="line" data-startTime="7694">uncoordinated. </span><span class="line" data-startTime="7696">It's not these little tight &mdash; </span><span class="line" data-startTime="7700">The tight loop things, </span><span class="line" data-startTime="7700">I think, for </span><span class="line" data-startTime="7702">painting and rendering. </span><span class="line" data-startTime="7702">But a lot of people just have </span><span class="line" data-startTime="7702">all these components. </span><span class="line" data-startTime="7705">And then some affect the DOM </span><span class="line" data-startTime="7705">and some require reading. </span><span class="line" data-startTime="7708">So I think you see that among </span><span class="line" data-startTime="7708">just having a ton of </span><span class="line" data-startTime="7711">stuff on your page. </span></p>

<p class="speaker"><span class="line" data-starttime="7713"><span class="speakerName">Paul Lewis</span>: From my point of </span><span class="line" data-startTime="7713">view, the biggest waste of </span><span class="line" data-startTime="7717">time I think I've seen would </span><span class="line" data-startTime="7717">be CSS selector matching, </span><span class="line" data-startTime="7721">which is remarkably fast. </span><span class="line" data-startTime="7722">And if you're optimizing your </span><span class="line" data-startTime="7722">selectors for matching, it's </span><span class="line" data-startTime="7726">probably not something you're </span><span class="line" data-startTime="7726">going to see every turn on. </span><span class="line" data-startTime="7729">The thing that I've seen the </span><span class="line" data-startTime="7729">most use come from would be </span><span class="line" data-startTime="7733">promoting for isolation, putting </span><span class="line" data-startTime="7733">elements onto their </span><span class="line" data-startTime="7737">own layer when they're </span><span class="line" data-startTime="7737">frequently painted. </span><span class="line" data-startTime="7739">That's the one I've seen </span><span class="line" data-startTime="7739">work the most. </span></p>

<p class="speaker"><span class="line" data-starttime="7742"><span class="speakerName">Joshua Peek</span>: I agree mostly on </span><span class="line" data-startTime="7742">the selector matching stuff. </span><span class="line" data-startTime="7744">But if you look at some really </span><span class="line" data-startTime="7744">huge DOMs, that have maybe </span><span class="line" data-startTime="7748">like 30,000 nodes, and </span><span class="line" data-startTime="7748">you have just a </span><span class="line" data-startTime="7751">buildup of all the CSS. </span><span class="line" data-startTime="7753">And typically people have so </span><span class="line" data-startTime="7753">many descendant selectors that </span><span class="line" data-startTime="7756">just target an anchor element. </span><span class="line" data-startTime="7758">And if you add a ton of anchor </span><span class="line" data-startTime="7758">elements in this DOM, that's </span><span class="line" data-startTime="7763">going to add up. </span><span class="line" data-startTime="7763">So it's not that every rule </span><span class="line" data-startTime="7763">matters, but there's ones that </span><span class="line" data-startTime="7767">you can call out. </span></p>

<p class="speaker"><span class="line" data-starttime="7768"><span class="speakerName">Paul Lewis</span>: Right. </span><span class="line" data-startTime="7769">For sure. </span><span class="line" data-startTime="7770">But I would argue that was a </span><span class="line" data-startTime="7770">fairly extreme case, unless </span><span class="line" data-startTime="7772">I'm misunderstanding </span><span class="line" data-startTime="7772">your description. </span><span class="line" data-startTime="7774">I think for most people and most </span><span class="line" data-startTime="7774">applications where the </span><span class="line" data-startTime="7777">DOM is not 30,000 nodes &mdash; </span><span class="line" data-startTime="7779">Wow. </span></p>

<p class="speaker"><span class="line" data-starttime="7781"><span class="speakerName">Joshua Peek</span>: It's a GitHub </span><span class="line" data-startTime="7781">commit difs. </span></p>

<p class="speaker"><span class="line" data-starttime="7783"><span class="speakerName">Paul Lewis</span>: Boom. </span></p>

<p class="speaker"><span class="line" data-starttime="7785"><span class="speakerName">Eli Fidler</span>: We see a lot </span><span class="line" data-startTime="7785">of sites that are </span><span class="line" data-startTime="7786">over 100,000 nodes. </span></p>

<p class="speaker"><span class="line" data-starttime="7787"><span class="speakerName">Paul Lewis</span>: Really? </span><span class="line" data-startTime="7788">Wow. </span><span class="line" data-startTime="7789">I'm just going to let that </span><span class="line" data-startTime="7789">sink in for a bit. </span></p>

<p class="speaker"><span class="line" data-starttime="7792"><span class="speakerName">Andre Behrens</span>: Jonathan, </span><span class="line" data-startTime="7792">I was wondering what </span><span class="line" data-startTime="7793">your experience was. </span></p>

<p class="speaker"><span class="line" data-starttime="7794"><span class="speakerName">Joshua Peek</span>: At Etsy, </span><span class="line" data-startTime="7794">unfortunately, the big winds </span><span class="line" data-startTime="7796">have been removing content or </span><span class="line" data-startTime="7796">removing design elements. </span><span class="line" data-startTime="7799">So removing drop shadows off of </span><span class="line" data-startTime="7799">every element on the page. </span><span class="line" data-startTime="7804">Things like getting rid </span><span class="line" data-startTime="7804">of animated carousels. </span><span class="line" data-startTime="7807">Sometimes those things are hard </span><span class="line" data-startTime="7807">to pass through, because </span><span class="line" data-startTime="7809">the designers or the UX people </span><span class="line" data-startTime="7809">really want that. </span><span class="line" data-startTime="7811">But at the end of the day, </span><span class="line" data-startTime="7811">you have to test it. </span><span class="line" data-startTime="7813">And if people want a jank-free </span><span class="line" data-startTime="7813">experience more than they want </span><span class="line" data-startTime="7816">drop shadows, then that's what </span><span class="line" data-startTime="7816">you should give them. </span></p>

<p class="speaker"><span class="line" data-starttime="7819"><span class="speakerName">Andre Behrens</span>: We have a </span><span class="line" data-startTime="7819">question from John Mung. </span></p>

<p class="speaker"><span class="line" data-starttime="7825"><span class="speakerName">John</span>: Hi. </span><span class="line" data-startTime="7826">We've talk about images, </span><span class="line" data-startTime="7826">decoding and resizing being </span><span class="line" data-startTime="7829">very expensive. </span><span class="line" data-startTime="7830">Do we know of any example </span><span class="line" data-startTime="7830">libraries or example </span><span class="line" data-startTime="7833">implementations that use web </span><span class="line" data-startTime="7833">workers and transferable </span><span class="line" data-startTime="7836">objects to have a significant </span><span class="line" data-startTime="7836">impact on this? </span></p>

<p class="speaker"><span class="line" data-starttime="7838"><span class="speakerName">Paul Lewis</span>: Oh dear. </span><span class="line" data-startTime="7839">Yes. </span><span class="line" data-startTime="7840">I did do, actually, an </span><span class="line" data-startTime="7840">experiment with this one where </span><span class="line" data-startTime="7843">I actually created canvas </span><span class="line" data-startTime="7843">elements for all the images </span><span class="line" data-startTime="7847">and used workers to decode </span><span class="line" data-startTime="7847">and resize the images. </span><span class="line" data-startTime="7853">So you can do it, is </span><span class="line" data-startTime="7853">the first answer. </span><span class="line" data-startTime="7855">Whether you should do it becomes </span><span class="line" data-startTime="7855">the next question. </span><span class="line" data-startTime="7857">And no would be &mdash; </span><span class="line" data-startTime="7859">[LAUGHTER] </span></p>

<p class="speaker"><span class="line" data-starttime="7860"><span class="speakerName">Paul Lewis</span>: Because </span><span class="line" data-startTime="7860">you have to manage </span><span class="line" data-startTime="7862">all the images yourself. </span><span class="line" data-startTime="7864">Is it in view? </span><span class="line" data-startTime="7866">Is it decoded already? </span><span class="line" data-startTime="7868">Have I decoded this </span><span class="line" data-startTime="7868">thing before? </span><span class="line" data-startTime="7870">All these things that the </span><span class="line" data-startTime="7870">browser does fantastically </span><span class="line" data-startTime="7872">well for you, you are </span><span class="line" data-startTime="7872">now having to </span><span class="line" data-startTime="7874">take care of yourself. </span><span class="line" data-startTime="7876">And you could shoot yourself </span><span class="line" data-startTime="7876">in the foot so hard and so </span><span class="line" data-startTime="7878">fast that I feel duty-bound to </span><span class="line" data-startTime="7878">say, you can do it, but don't. </span><span class="line" data-startTime="7882">But you can do it. </span><span class="line" data-startTime="7883">And it's cool. </span></p>

<p class="speaker"><span class="line" data-starttime="7885"><span class="speakerName">Eli Fidler</span>: Especially on </span><span class="line" data-startTime="7885">mobile, I think it will </span><span class="line" data-startTime="7887">definitely, definitely </span><span class="line" data-startTime="7887">not be a win. </span><span class="line" data-startTime="7888">So even if you can get the </span><span class="line" data-startTime="7888">image decoded a couple of </span><span class="line" data-startTime="7891">milliseconds faster, the amount </span><span class="line" data-startTime="7891">of time that you're </span><span class="line" data-startTime="7893">going to be moving pixels </span><span class="line" data-startTime="7893">around, saturating your memory </span><span class="line" data-startTime="7897">bus and the battery impact of </span><span class="line" data-startTime="7897">running these web workers at </span><span class="line" data-startTime="7902">the same time is going to be </span><span class="line" data-startTime="7902">way, way worse than just </span><span class="line" data-startTime="7905">decoding the images normally. </span></p>

<p class="speaker"><span class="line" data-starttime="7906"><span class="speakerName">Paul Lewis</span>: Because you're going </span><span class="line" data-startTime="7906">to spawn a new worker. </span><span class="line" data-startTime="7909">So you haven't got enough cause </span><span class="line" data-startTime="7909">on mobile, probably, to </span><span class="line" data-startTime="7912">support that decision. </span><span class="line" data-startTime="7915">And it's going to be slower </span><span class="line" data-startTime="7915">because it's JavaScript. </span><span class="line" data-startTime="7918">But you are in control. </span><span class="line" data-startTime="7919">You are in total control. </span><span class="line" data-startTime="7922">So that's the trade </span><span class="line" data-startTime="7922">off you're making. </span><span class="line" data-startTime="7924">Control for all that. </span></p>

<p class="speaker"><span class="line" data-starttime="7926"><span class="speakerName">Andre Behrens</span>: OK. </span><span class="line" data-startTime="7927">We have another question </span><span class="line" data-startTime="7927">from Sergei. </span></p>

<p class="speaker"><span class="line" data-starttime="7933"><span class="speakerName">Sergei</span>: We've had a lot of </span><span class="line" data-startTime="7933">challenges explaining network </span><span class="line" data-startTime="7937">performance, basically the </span><span class="line" data-startTime="7937">other side of performance </span><span class="line" data-startTime="7940">through designers and </span><span class="line" data-startTime="7940">businesspeople. </span><span class="line" data-startTime="7943">And a lot of rendering </span><span class="line" data-startTime="7943">performance, actually, is much </span><span class="line" data-startTime="7946">closer to the product they might </span><span class="line" data-startTime="7946">actually understand. </span><span class="line" data-startTime="7949">Do you have any suggestions on </span><span class="line" data-startTime="7949">how we organize the process </span><span class="line" data-startTime="7952">for making them understand all </span><span class="line" data-startTime="7952">these sides of the issues. </span></p>

<p class="speaker"><span class="line" data-starttime="7956"><span class="speakerName">Andre Behrens</span>: Jonathan? </span></p>

<p class="speaker"><span class="line" data-starttime="7958"><span class="speakerName">Jonathan Klein</span>: Yeah. </span> <span class="line" data-startTime="7958">I think similar to network </span><span class="line" data-startTime="7958">performance, you have to show </span><span class="line" data-startTime="7961">it to them. </span> <span class="line" data-startTime="7962">And in a lot of cases, it's a </span><span class="line" data-startTime="7962">lot easier to see rendering </span><span class="line" data-startTime="7964">improvements being </span><span class="line" data-startTime="7964">problematic. </span> <span class="line" data-startTime="7967">Especially if you have low-end </span><span class="line" data-startTime="7967">devices that you can show </span><span class="line" data-startTime="7969">people with. </span> <span class="line" data-startTime="7969">So I think it's a question of </span><span class="line" data-startTime="7969">getting it in front of them. </span> <span class="line" data-startTime="7972">And like you said, it's </span><span class="line" data-startTime="7972">closer to the product. </span> <span class="line" data-startTime="7973">It's closer to the design </span><span class="line" data-startTime="7973">side of things. </span> <span class="line" data-startTime="7975">So I think it should be easier </span><span class="line" data-startTime="7975">for those people to have a bit </span><span class="line" data-startTime="7978">more intuitive. </span> <span class="line" data-startTime="7979">But I think demonstration </span><span class="line" data-startTime="7979">is the best option. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="7983"><span class="speakerName">Andre Behrens</span>: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="7984"><span class="speakerName">Eli Fidler</span>: I think also demoing </span><span class="line" data-startTime="7984">on cellular instead of </span><span class="line" data-startTime="7985">Wi-Fi helps a lot. </span><span class="line" data-startTime="7988">If I'm just demoing on a </span><span class="line" data-startTime="7988">constrained device, pick one. </span><span class="line" data-startTime="7992">Look. </span><span class="line" data-startTime="7993">Slow. </span><span class="line" data-startTime="7993">Look. </span><span class="line" data-startTime="7994">Fast. </span><span class="line" data-startTime="7994">Which would you rather ship? </span><span class="line" data-startTime="7997">the 10-speed's pretty </span><span class="line" data-startTime="7997">easy then, I think. </span><span class="line" data-startTime="7999">Or easier. </span></p>

<p class="speaker"><span class="line" data-starttime="8000"><span class="speakerName">Jonathan Klein</span>: And then one </span><span class="line" data-startTime="8000">thing that was really </span><span class="line" data-startTime="8001">successful for WPU was just </span><span class="line" data-startTime="8001">business metrics. </span><span class="line" data-startTime="8004">And we have some of </span><span class="line" data-startTime="8004">that data now. </span><span class="line" data-startTime="8005">It's starting to come out </span><span class="line" data-startTime="8005">from Facebook and SE. </span><span class="line" data-startTime="8008">So I think showing that </span><span class="line" data-startTime="8008">information is really </span><span class="line" data-startTime="8010">important, to say, this </span><span class="line" data-startTime="8010">doesn't really impact </span><span class="line" data-startTime="8012">engagement. </span><span class="line" data-startTime="8014">We have a question </span><span class="line" data-startTime="8014">from Paul lrish. </span></p>

<p class="speaker"><span class="line" data-starttime="8024"><span class="speakerName">Paul Irish</span>: I think I was going </span><span class="line" data-startTime="8024">to mostly ask about the </span><span class="line" data-startTime="8026">same sort of thing, but I'm </span><span class="line" data-startTime="8026">interested in ways to </span><span class="line" data-startTime="8031">communicate what the impact. </span><span class="line" data-startTime="8033">Because network performance, </span><span class="line" data-startTime="8033">page load time, is a really </span><span class="line" data-startTime="8036">easy metric. </span><span class="line" data-startTime="8037">We can track that across </span><span class="line" data-startTime="8037">browsers, across different </span><span class="line" data-startTime="8040">connectivity. </span><span class="line" data-startTime="8041">Rendering perf. </span><span class="line" data-startTime="8043">There's not much in the way </span><span class="line" data-startTime="8043">of numbers that we can </span><span class="line" data-startTime="8046">demonstrate, say, this is the </span><span class="line" data-startTime="8046">impact that I had, or this is </span><span class="line" data-startTime="8049">where our problem's </span><span class="line" data-startTime="8049">at right now. </span><span class="line" data-startTime="8050">We need to bring it down here. </span><span class="line" data-startTime="8052">So do you have any ideas on </span><span class="line" data-startTime="8052">making things a bit more </span><span class="line" data-startTime="8056">quantitative so that management </span><span class="line" data-startTime="8056">and clients can </span><span class="line" data-startTime="8060">really see the impact that we </span><span class="line" data-startTime="8060">have, and then understand that </span><span class="line" data-startTime="8065">there is a problem that </span><span class="line" data-startTime="8065">we need to solve </span><span class="line" data-startTime="8066">before we get into it. </span></p>

<p class="speaker"><span class="line" data-starttime="8069"><span class="speakerName">Jonathan Klein</span>: Yeah. </span><span class="line" data-startTime="8070">That's a great question. </span><span class="line" data-startTime="8070">Because everyone quotes </span><span class="line" data-startTime="8070">these stats. </span><span class="line" data-startTime="8071">Like 100 milliseconds on </span><span class="line" data-startTime="8071">Amazon was 1% revenue. </span><span class="line" data-startTime="8074">But you can't say like 3 frames </span><span class="line" data-startTime="8074">per second was half a </span><span class="line" data-startTime="8077">present revenue or something </span><span class="line" data-startTime="8077">like that. </span><span class="line" data-startTime="8078">So I think we just have to have </span><span class="line" data-startTime="8078">real studies that have </span><span class="line" data-startTime="8080">been done by real companies. </span><span class="line" data-startTime="8081">And ideally, companies that </span><span class="line" data-startTime="8081">are in your market. </span><span class="line" data-startTime="8085">So again, it's a </span><span class="line" data-startTime="8085">tough problem. </span><span class="line" data-startTime="8087">But I think we just need to </span><span class="line" data-startTime="8087">have more people doing </span><span class="line" data-startTime="8089">experiments. </span><span class="line" data-startTime="8089">And be willing to slow down </span><span class="line" data-startTime="8089">half their traffic to 30 </span><span class="line" data-startTime="8092">frames per second and </span><span class="line" data-startTime="8092">see what happens. </span></p>

<p class="speaker"><span class="line" data-starttime="8094"><span class="speakerName">Paul Lewis</span>: We are now at the </span><span class="line" data-startTime="8094">point where the browser is </span><span class="line" data-startTime="8096">capable of 60 frames a second, </span><span class="line" data-startTime="8096">which hasn't always been true. </span><span class="line" data-startTime="8100">But now that it is, we're </span><span class="line" data-startTime="8100">playing catch-up with the page </span><span class="line" data-startTime="8103">load time part of the </span><span class="line" data-startTime="8103">performance, and now we need </span><span class="line" data-startTime="8106">to ask that question. </span><span class="line" data-startTime="8107">Say, as an industry, as a body </span><span class="line" data-startTime="8107">of developers, we are </span><span class="line" data-startTime="8111">interested, I hope, in seeing </span><span class="line" data-startTime="8111">how the actual runtime </span><span class="line" data-startTime="8115">experience affects our </span><span class="line" data-startTime="8115">users, and how much </span><span class="line" data-startTime="8118">it affects our users. </span><span class="line" data-startTime="8119">Because we don't know today, is </span><span class="line" data-startTime="8119">at the same, is it less, is </span><span class="line" data-startTime="8122">it more than the </span><span class="line" data-startTime="8122">page load time? </span><span class="line" data-startTime="8124">Because they load once, </span><span class="line" data-startTime="8124">hopefully, and run </span><span class="line" data-startTime="8128">it for a long time. </span><span class="line" data-startTime="8129">So 100 milliseconds different on </span><span class="line" data-startTime="8129">rendering for page load is </span><span class="line" data-startTime="8134">a very different deal to </span><span class="line" data-startTime="8134">repeatedly hitting them with </span><span class="line" data-startTime="8137">100 miliseconds. </span><span class="line" data-startTime="8138">But we don't know </span><span class="line" data-startTime="8138">how big that is. </span><span class="line" data-startTime="8141">So we don't have a good answer, </span><span class="line" data-startTime="8141">I don't think, on how </span><span class="line" data-startTime="8145">much it affects the </span><span class="line" data-startTime="8145">bottom line. </span><span class="line" data-startTime="8146">But I think we need to find </span><span class="line" data-startTime="8146">out, and pretty quickly. </span></p>

<p class="speaker"><span class="line" data-starttime="8151"><span class="speakerName">Andre Behrens</span>: All right. </span><span class="line" data-startTime="8152">I think that about wraps </span><span class="line" data-startTime="8152">it up for us. </span><span class="line" data-startTime="8153">Are we ready for lunch? </span><span class="line" data-startTime="8156">[LAUGHTER] </span></p>

<p class="speaker"><span class="line" data-starttime="8159"><span class="speakerName">Andre Behrens</span>: Oh, someone has </span><span class="line" data-startTime="8159">a microphone ready to go? </span></p>

<p class="speaker"><span class="line" data-starttime="8160"><span class="speakerName">Audience</span>: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="8161"><span class="speakerName">Andre Behrens</span>: That's fine. </span></p>

<p class="speaker"><span class="line" data-starttime="8162"><span class="speakerName">Audience</span>: One question. </span> <span class="line" data-startTime="8164">My biggest problem with </span><span class="line" data-startTime="8164">rendering performance is that </span><span class="line" data-startTime="8166">I cannot describe my intent </span><span class="line" data-startTime="8166">to the browser. </span> <span class="line" data-startTime="8168">I cannot describe my intent that </span><span class="line" data-startTime="8168">I want this element to </span><span class="line" data-startTime="8172">have higher priority when </span><span class="line" data-startTime="8172">branded over another. </span> <span class="line" data-startTime="8175">And I think that's the biggest </span><span class="line" data-startTime="8175">problem for me which we're </span><span class="line" data-startTime="8177">talking rendering performance. </span> <span class="line" data-startTime="8178">That the browser is making false </span><span class="line" data-startTime="8178">assumptions of what my </span><span class="line" data-startTime="8181">intent is in my layout out. </span></p>

<p><span class="line" data-startTime="8183">And I think this goes together </span><span class="line" data-startTime="8183">with images. </span> <span class="line" data-startTime="8184">This image should be rendered </span><span class="line" data-startTime="8184">before that. </span> <span class="line" data-startTime="8187">This box should be rendered </span><span class="line" data-startTime="8187">before this box. </span> <span class="line" data-startTime="8190">And what are we doing to look </span><span class="line" data-startTime="8190">into that so I, as a </span><span class="line" data-startTime="8192">developer, can declare my intend </span><span class="line" data-startTime="8192">to the browser so the </span><span class="line" data-startTime="8195">browser can make or the </span><span class="line" data-startTime="8195">rendering agent can make a </span><span class="line" data-startTime="8197">more intelligent guess of how </span><span class="line" data-startTime="8197">things should be composed when </span><span class="line" data-startTime="8201">layoutting. </span> <span class="line" data-startTime="8202">Because now we're talking </span><span class="line" data-startTime="8202">about translateZ. </span> <span class="line" data-startTime="8205">That is, to me, a hack. </span> <span class="line" data-startTime="8207">First of all, it is </span><span class="line" data-startTime="8207">not hardware &mdash; </span><span class="line" data-startTime="8209">[INAUDIBLE] hardware </span><span class="line" data-startTime="8209">restoration in IE. </span></p>

<p><span class="line" data-startTime="8211">And as a web developer, I </span><span class="line" data-startTime="8211">shouldn't know about layers. </span> <span class="line" data-startTime="8214">That's an implementation </span><span class="line" data-startTime="8214">detail in </span><span class="line" data-startTime="8216">the rendering engine. </span> <span class="line" data-startTime="8217">I just want to declare my intent </span><span class="line" data-startTime="8217">that this layer is </span><span class="line" data-startTime="8221">either higher or lower priority, </span><span class="line" data-startTime="8221">and then you guys </span><span class="line" data-startTime="8225">should figure out the rest. </span> <span class="line" data-startTime="8226">Are we looking into </span><span class="line" data-startTime="8226">these things? </span><span class="line" data-startTime="8228">Is there any proposals </span><span class="line" data-startTime="8228">coming up? </span><span class="line" data-startTime="8231">MALE SPEAKER: [INAUDIBLE]. </span> <span class="line" data-startTime="8235">No? </span><span class="line" data-startTime="8235">Nobody [INAUDIBLE]? </span></p>

<p class="speaker"><span class="line" data-starttime="8240"><span class="speakerName">Paul Lewis</span>: First of all, the </span><span class="line" data-startTime="8240">browser should do everything </span><span class="line" data-startTime="8242">for me is one thing I would </span><span class="line" data-startTime="8242">want to pick up on. </span> <span class="line" data-startTime="8247">I don't know how much </span><span class="line" data-startTime="8247">I agree with that. </span> <span class="line" data-startTime="8248">I don't think I agree </span><span class="line" data-startTime="8248">with that. </span> <span class="line" data-startTime="8252">The way I would normally phrase </span><span class="line" data-startTime="8252">this is if you write </span><span class="line" data-startTime="8254">spec compliant code, you should </span><span class="line" data-startTime="8254">expect spec compliant </span><span class="line" data-startTime="8257">responses from the browser. </span> <span class="line" data-startTime="8259">But there is no promise </span><span class="line" data-startTime="8259">of performance. </span> <span class="line" data-startTime="8261">Now, the promise comes </span><span class="line" data-startTime="8261">through the fact that </span><span class="line" data-startTime="8262">everybody wants fast code. </span> <span class="line" data-startTime="8263">Browser vendors want to give </span><span class="line" data-startTime="8263">you fast implementations. </span></p>

<p><span class="line" data-startTime="8268">And so that's something you </span><span class="line" data-startTime="8268">should seek and you should ask </span><span class="line" data-startTime="8271">for and you should push </span><span class="line" data-startTime="8271">for, definitely. </span> <span class="line" data-startTime="8273">But I think it's very difficult </span><span class="line" data-startTime="8273">to, hand-on-heart, </span><span class="line" data-startTime="8277">say any programmer should be </span><span class="line" data-startTime="8277">completely divorced from the </span><span class="line" data-startTime="8281">system they're programming on. </span> <span class="line" data-startTime="8282">I can't quite bring myself </span><span class="line" data-startTime="8282">to say that. </span> <span class="line" data-startTime="8285">I think it would be a nice </span><span class="line" data-startTime="8285">thing, but I don't think </span><span class="line" data-startTime="8289">that's realistic. </span> <span class="line" data-startTime="8291">Is that something that we </span><span class="line" data-startTime="8291">are looking to improve? </span><span class="line" data-startTime="8293">Yeah, always. </span> <span class="line" data-startTime="8294">I think there's always </span><span class="line" data-startTime="8294">a definite </span><span class="line" data-startTime="8295">balancing act of APIs. </span></p>

<p><span class="line" data-startTime="8298">If they're overly prescriptive </span><span class="line" data-startTime="8298">and you don't get enough </span><span class="line" data-startTime="8300">control, then you end up with </span><span class="line" data-startTime="8300">what I think is the App Cache </span><span class="line" data-startTime="8303">situation, where you can't </span><span class="line" data-startTime="8303">bridge that gap. </span> <span class="line" data-startTime="8309">At least if it's too difficult </span><span class="line" data-startTime="8309">or it's a horrible API &mdash; </span><span class="line" data-startTime="8313">and I would argue that things </span><span class="line" data-startTime="8313">like WebGL are very, very </span><span class="line" data-startTime="8316">horrible from a developer's </span><span class="line" data-startTime="8316">point of view. </span> <span class="line" data-startTime="8319">But at least you can </span><span class="line" data-startTime="8319">polyfill that. </span> <span class="line" data-startTime="8320">You can at least add on </span><span class="line" data-startTime="8320">something like 3JS. </span></p>

<p><span class="line" data-startTime="8323">so I'd rather it's </span><span class="line" data-startTime="8323">that way around. </span> <span class="line" data-startTime="8325">But it comes through developer </span><span class="line" data-startTime="8325">feedback, saying we don't </span><span class="line" data-startTime="8329">think this works. </span> <span class="line" data-startTime="8330">We don't like this. </span></p>

<p class="speaker"><span class="line" data-starttime="8331"><span class="speakerName">Andre Behrens</span>: OK. </span><span class="line" data-startTime="8332">And I think that is really it. </span><span class="line" data-startTime="8335">[APPLAUSE] </span></p>

<p class="speaker"><span class="line" data-starttime="8345"><span class="speakerName">Andrew Betts</span>: Thanks </span><span class="line" data-startTime="8345">very much. </span><span class="line" data-startTime="8345">So we have a 15 minute </span><span class="line" data-startTime="8345">break now. </span><span class="line" data-startTime="8348">So go ahead and have some </span><span class="line" data-startTime="8348">snacks, go to the loo. </span><span class="line" data-startTime="8351">Back in 15 minutes. </span><span class="line" data-startTime="8352">[INTERPOSING VOICES] </span></p>

<p class="speaker"><span class="line" data-starttime="8359"><span class="speakerName">Andrew Betts</span>: Steve. </span><span class="line" data-startTime="8360">Right. </span><span class="line" data-startTime="8361">You're next. </span></p>

<p class="speaker"><span class="line" data-starttime="8362"><span class="speakerName">Steve Thair</span>: OK. </span></p>

<p class="speaker"><span class="line" data-starttime="8363"><span class="speakerName">Andrew Betts</span>: Then bring up &mdash; </span><span class="line" data-startTime="8364">[MUSIC PLAYING] </span></p>

<p class="speaker"><span class="line" data-starttime="9170"><span class="speakerName">Andrew Betts</span>: Hi everyone. </span><span class="line" data-startTime="9171">We're going to get started again </span><span class="line" data-startTime="9171">in a few minutes' time. </span><span class="line" data-startTime="9173">So make your way back </span><span class="line" data-startTime="9173">to your seats. </span><span class="line" data-startTime="9175">Thanks very much. </span><span class="line" data-startTime="9175">[INTERPOSING VOICES] </span><span class="line" data-startTime="9278">[MUSIC PLAYING] </span></p>

<p class="speaker"><span class="line" data-starttime="9376"><span class="speakerName">Andrew Betts</span>: OK everyone. </span><span class="line" data-startTime="9378">Can you take a seat, because </span><span class="line" data-startTime="9378">we're going to get started </span><span class="line" data-startTime="9380">with the next session now. </span><span class="line" data-startTime="9381">So please come back and </span><span class="line" data-startTime="9381">take your seats. </span><span class="line" data-startTime="9385">[INTERPOSING VOICES] </span></p>

<p class="speaker"><span class="line" data-starttime="9391"><span class="speakerName">Andrew Betts</span>: So are you </span><span class="line" data-startTime="9391">doing his slides? </span></p>

<p class="speaker"><span class="line" data-starttime="9393"><span class="speakerName">Steve Thair</span>: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="9395"><span class="speakerName">Andrew Betts</span>: That works. </span><span class="line" data-startTime="9396">[INTERPOSING VOICES] </span></p>

<p class="speaker"><span class="line" data-starttime="9441"><span class="speakerName">Andrew Betts</span>: OK. </span><span class="line" data-startTime="9442">We'll make a start now. </span><span class="line" data-startTime="9444">Our next session is one that </span><span class="line" data-startTime="9444">I've been really looking </span><span class="line" data-startTime="9447">forward to. </span><span class="line" data-startTime="9448">Hey everyone. </span></p>

<p class="speaker"><span class="line" data-starttime="9449"><span class="speakerName">Steve Thair</span>: Grab a set! </span></p>

<p class="speaker"><span class="line" data-starttime="9451"><span class="speakerName">Andrew Betts</span>: Thank you Steve. </span><span class="line" data-startTime="9452">[STEVE WHISTLES] </span></p>

<p class="speaker"><span class="line" data-starttime="9454"><span class="speakerName">Andrew Betts</span>: This next session </span><span class="line" data-startTime="9454">is one I've been </span><span class="line" data-startTime="9455">really looking forward to. </span><span class="line" data-startTime="9456">Because most large content </span><span class="line" data-startTime="9456">publishers, including the FT, </span><span class="line" data-startTime="9461">have a lot of third-party </span><span class="line" data-startTime="9461">scripts that they </span><span class="line" data-startTime="9464">put on their websites. </span><span class="line" data-startTime="9465">And managing those scripts and </span><span class="line" data-startTime="9465">managing the performance, the </span><span class="line" data-startTime="9469">implications of having a lot of </span><span class="line" data-startTime="9469">third-party scripts can be </span><span class="line" data-startTime="9471">a really trying experience for </span><span class="line" data-startTime="9471">a lot of web developers. </span><span class="line" data-startTime="9474">And it's certainly a </span><span class="line" data-startTime="9474">challenge that we </span><span class="line" data-startTime="9476">struggle with every day. </span><span class="line" data-startTime="9476">So to moderate this panel, we </span><span class="line" data-startTime="9476">have my friend Steve Thair </span><span class="line" data-startTime="9483">who, I'm sure, will </span><span class="line" data-startTime="9483">introduce himself </span><span class="line" data-startTime="9485">and his panel admirably. </span><span class="line" data-startTime="9487">So I'll give it to Steve. </span></p>

<p class="speaker"><span class="line" data-starttime="9490"><span class="speakerName">Steve Thair</span>: Thanks, Andrew. </span> <span class="line" data-startTime="9492">Thank you. </span> <span class="line" data-startTime="9493">Thank you, Barb. </span> <span class="line" data-startTime="9495">Hi. </span> <span class="line" data-startTime="9496">My name's Steve Thair. </span> <span class="line" data-startTime="9497">I run the London Web Performance </span><span class="line" data-startTime="9497">user group and I </span><span class="line" data-startTime="9501">run WebPerfDays in London. </span> <span class="line" data-startTime="9503">So performance of third-party </span><span class="line" data-startTime="9503">scripts is a really big area </span><span class="line" data-startTime="9506">for us, and we debate </span><span class="line" data-startTime="9506">it endlessly. </span> <span class="line" data-startTime="9509">I'll quickly introduce you </span><span class="line" data-startTime="9509">to the people on a panel. </span> <span class="line" data-startTime="9513">On my right, I've got the &mdash; </span><span class="line" data-startTime="9517">Well, if we're going to do a </span><span class="line" data-startTime="9517">drug dealer analogy, these are </span><span class="line" data-startTime="9519">the guys who are actually </span><span class="line" data-startTime="9519">producing the stuff. </span> <span class="line" data-startTime="9523">We've got Ben Vinegar </span><span class="line" data-startTime="9523">from Disqus. </span> <span class="line" data-startTime="9526">Discussions and comments </span><span class="line" data-startTime="9526">you'll have </span><span class="line" data-startTime="9527">seen on many websites. </span> <span class="line" data-startTime="9529">We've got Stoyan Stefanov from </span><span class="line" data-startTime="9529">Facebook, who is Like buttons </span><span class="line" data-startTime="9533">and those Facebook widgets </span><span class="line" data-startTime="9533">that you like </span><span class="line" data-startTime="9535">to put on your page. </span> <span class="line" data-startTime="9537">And over here, we've got Guy </span><span class="line" data-startTime="9537">Podjarny from Akamai, who's </span><span class="line" data-startTime="9541">like the middle man, the </span><span class="line" data-startTime="9541">distribution network for the </span><span class="line" data-startTime="9543">stuff that they're dealing. </span></p>

<p><span class="line" data-startTime="9546">And then we've got &mdash; </span><span class="line" data-startTime="9547">well, I was going to say </span><span class="line" data-startTime="9547">addict, but that's </span><span class="line" data-startTime="9548">probably not right. </span> <span class="line" data-startTime="9550">We've got Barbara Bermes from </span><span class="line" data-startTime="9550">the Canadian Broadcasting </span><span class="line" data-startTime="9553">Corporation. </span> <span class="line" data-startTime="9554">She's the end user, this poor </span><span class="line" data-startTime="9554">person that's having all of </span><span class="line" data-startTime="9557">these scripts. </span> <span class="line" data-startTime="9559">She has to deal with her </span><span class="line" data-startTime="9559">customers, the people on the </span><span class="line" data-startTime="9562">marketing team who never </span><span class="line" data-startTime="9562">met a third-party </span><span class="line" data-startTime="9564">script they didn't like. </span> <span class="line" data-startTime="9567">And they just want to </span><span class="line" data-startTime="9567">stick a [INAUDIBLE] </span><span class="line" data-startTime="9568">on the page, and she's got to </span><span class="line" data-startTime="9568">deal with all of those issues. </span> <span class="line" data-startTime="9570">So we're going to kick off </span><span class="line" data-startTime="9570">with a presentation from </span><span class="line" data-startTime="9574">Stoyan just to set </span><span class="line" data-startTime="9574">the scene on what </span><span class="line" data-startTime="9576">third-party stuff means. </span> <span class="line" data-startTime="9578">Just remember, obviously we've </span><span class="line" data-startTime="9578">got the on slide stuff. </span> <span class="line" data-startTime="9582">So try and use that as </span><span class="line" data-startTime="9582">much as you can. </span></p>

<p><span class="line" data-startTime="9585">Come in, give positive and </span><span class="line" data-startTime="9585">negative feedback. </span> <span class="line" data-startTime="9589">And obviously, put your </span><span class="line" data-startTime="9589">hand up on slide </span><span class="line" data-startTime="9592">if you want to talk. </span> <span class="line" data-startTime="9593">Thank you. </span> <span class="line" data-startTime="9595">[INAUDIBLE]. </span></p>

<p class="speaker"><span class="line" data-starttime="9596"><span class="speakerName">Stoyan Stefanov</span>: Thank </span><span class="line" data-startTime="9596">you Steven. </span><span class="line" data-startTime="9598">All right. </span><span class="line" data-startTime="9599">So welcome to the third-party </span><span class="line" data-startTime="9599">party, where we party like </span><span class="line" data-startTime="9606">it's 1995, because in many ways, </span><span class="line" data-startTime="9606">it is 1995 when it comes </span><span class="line" data-startTime="9612">to third-party widgets. </span><span class="line" data-startTime="9613">So I'm hoping we can have a </span><span class="line" data-startTime="9613">nice discussion on how to </span><span class="line" data-startTime="9616">bring this party to today </span><span class="line" data-startTime="9616">and tomorrow. </span><span class="line" data-startTime="9621">Slide, please. </span><span class="line" data-startTime="9625">So Steven now did the same thing </span><span class="line" data-startTime="9625">that I was planning to. </span><span class="line" data-startTime="9629">So he stole my thunder, of </span><span class="line" data-startTime="9629">presenting the widget makers </span><span class="line" data-startTime="9633">versus the consumers. </span><span class="line" data-startTime="9635">I can only add that Steven </span><span class="line" data-startTime="9635">is also on the upside. </span><span class="line" data-startTime="9637">He's social on Barbara's side. </span><span class="line" data-startTime="9642">Protecting. </span></p>

<p class="speaker"><span class="line" data-starttime="9643"><span class="speakerName">Steve Thair</span>: Impartial </span><span class="line" data-startTime="9643">moderator. </span></p>

<p class="speaker"><span class="line" data-starttime="9646"><span class="speakerName">Stoyan Stefanov</span>: Protecting the </span><span class="line" data-startTime="9646">publishers from all the </span><span class="line" data-startTime="9649">extravagance we put out there. </span> <span class="line" data-startTime="9654">All right. </span> <span class="line" data-startTime="9655">So just a quick overview. </span> <span class="line" data-startTime="9658">Third-party content comes mostly </span><span class="line" data-startTime="9658">in the form of script </span><span class="line" data-startTime="9661">that you include on the page. </span> <span class="line" data-startTime="9663">It may not do anything </span><span class="line" data-startTime="9663">visible. </span> <span class="line" data-startTime="9665">It may be something like </span><span class="line" data-startTime="9665">Google Analytics. </span> <span class="line" data-startTime="9668">Or you put an iFrame on </span><span class="line" data-startTime="9668">the page coming from a </span><span class="line" data-startTime="9672">third-party. </span> <span class="line" data-startTime="9673">Or the state of the art used </span><span class="line" data-startTime="9673">to be that you do both. </span> <span class="line" data-startTime="9676">You include a script that writes </span><span class="line" data-startTime="9676">an iFrame for you. </span> <span class="line" data-startTime="9681">So that we focus, we want to </span><span class="line" data-startTime="9681">talk more about how we deal </span><span class="line" data-startTime="9685">with scripts than iFrames. </span></p>

<p><span class="line" data-startTime="9691">You're including JavaScript </span><span class="line" data-startTime="9691">on the page coming from </span><span class="line" data-startTime="9695">somewhere, you don't know, you </span><span class="line" data-startTime="9695">have no control over, coming </span><span class="line" data-startTime="9698">over the network. </span> <span class="line" data-startTime="9698">So what could possibly </span><span class="line" data-startTime="9698">go wrong with that? </span><span class="line" data-startTime="9702">Well, obviously, there's </span><span class="line" data-startTime="9702">a security issue. </span> <span class="line" data-startTime="9704">And Ben wanted to bring up a </span><span class="line" data-startTime="9704">recent attack on Outbrain, </span><span class="line" data-startTime="9711">which is a producer </span><span class="line" data-startTime="9711">of third-party </span><span class="line" data-startTime="9715">recommendation engine. </span> <span class="line" data-startTime="9718">So it was attacked by Syrian </span><span class="line" data-startTime="9718">Army folks who were able to </span><span class="line" data-startTime="9727">mess with our JavaScript. </span> <span class="line" data-startTime="9728">And in this way, affect </span><span class="line" data-startTime="9728">all the pages </span><span class="line" data-startTime="9731">that use their service. </span> <span class="line" data-startTime="9733">So let's say, for example, they </span><span class="line" data-startTime="9733">could redirect all the </span><span class="line" data-startTime="9737">visitors to "Washington Post" </span><span class="line" data-startTime="9737">to some other page. </span> <span class="line" data-startTime="9741">So I think if you're an </span><span class="line" data-startTime="9741">attacker, if you're a </span><span class="line" data-startTime="9743">malicious person, why would </span><span class="line" data-startTime="9743">you try to break into all </span><span class="line" data-startTime="9746">these websites, where you can do </span><span class="line" data-startTime="9746">your one-stop shopping and </span><span class="line" data-startTime="9749">break into a third-party widget </span><span class="line" data-startTime="9749">provider and have </span><span class="line" data-startTime="9751">control over so many websites. </span></p>

<p><span class="line" data-startTime="9754">So security is obviously </span><span class="line" data-startTime="9754">a big one. </span> <span class="line" data-startTime="9756">And then you have the SPOF, or </span><span class="line" data-startTime="9756">single point of failure, where </span><span class="line" data-startTime="9763">if a page includes a script </span><span class="line" data-startTime="9763">synchronously, they add a </span><span class="line" data-startTime="9766">single point of failure. </span> <span class="line" data-startTime="9768">And despite the fact that we </span><span class="line" data-startTime="9768">have now good tools from Pat </span><span class="line" data-startTime="9771">Meenan's SPOF-O-matic extension </span><span class="line" data-startTime="9771">for Chrome. </span> <span class="line" data-startTime="9775">And also, you are able to find </span><span class="line" data-startTime="9775">SPOF using web page test. </span> <span class="line" data-startTime="9780">But it seems like that still </span><span class="line" data-startTime="9780">tends to be an issue. </span> <span class="line" data-startTime="9784">Which is pretty silly, because </span><span class="line" data-startTime="9784">if the third-party provider is </span><span class="line" data-startTime="9787">blocked in a country or an </span><span class="line" data-startTime="9787">enterprise, that means your </span><span class="line" data-startTime="9790">site is effectively blocked </span><span class="line" data-startTime="9790">as well, or black-holed. </span></p>

<p><span class="line" data-startTime="9794">And then there's all the </span><span class="line" data-startTime="9794">performance issues that </span><span class="line" data-startTime="9797">anything you add on the page </span><span class="line" data-startTime="9797">will add to the rendering time </span><span class="line" data-startTime="9802">and loading time and all that. </span> <span class="line" data-startTime="9806">All right. </span> <span class="line" data-startTime="9807">So what does the </span><span class="line" data-startTime="9807">state-of-the-art </span><span class="line" data-startTime="9808">of the script include? </span><span class="line" data-startTime="9810">So despite all the evangelism </span><span class="line" data-startTime="9810">for using asynchronous </span><span class="line" data-startTime="9813">scripts, people are still </span><span class="line" data-startTime="9813">using scripts tags. </span> <span class="line" data-startTime="9816">And sometimes the widget </span><span class="line" data-startTime="9816">providers on the marketing </span><span class="line" data-startTime="9821">side will prefer that, </span><span class="line" data-startTime="9821">because it's easier. </span></p>

<p><span class="line" data-startTime="9822">You just have one script </span><span class="line" data-startTime="9822">tag instead of a </span><span class="line" data-startTime="9825">little bit of code. </span> <span class="line" data-startTime="9827">So that's pretty bad. </span> <span class="line" data-startTime="9829">There is currently some things </span><span class="line" data-startTime="9829">on the crazier side, like </span><span class="line" data-startTime="9833">using frame-in-frame, loading </span><span class="line" data-startTime="9833">JavaScript inside of a iFrame. </span> <span class="line" data-startTime="9838">Or when you write an </span><span class="line" data-startTime="9838">iFrame, write it </span><span class="line" data-startTime="9841">inside of another iFrame. </span> <span class="line" data-startTime="9842">So the first iFrame container </span><span class="line" data-startTime="9842">is blank, so it's not in the </span><span class="line" data-startTime="9846">way of the window </span><span class="line" data-startTime="9846">onload event. </span> <span class="line" data-startTime="9848">So this is for people who still </span><span class="line" data-startTime="9848">care about the window </span><span class="line" data-startTime="9851">[INAUDIBLE] onload and </span><span class="line" data-startTime="9851">whenever it happens. </span> <span class="line" data-startTime="9854">Not as easy or friendly to </span><span class="line" data-startTime="9854">copy-paste, but it exists. </span></p>

<p><span class="line" data-startTime="9861">Something else. </span> <span class="line" data-startTime="9863">So the thing about third-party </span><span class="line" data-startTime="9863">JavaScript is they are </span><span class="line" data-startTime="9865">notoriously being very </span><span class="line" data-startTime="9865">short-lived. </span> <span class="line" data-startTime="9868">10, 15 minutes, half an hour. </span> <span class="line" data-startTime="9871">And the reason is so that the </span><span class="line" data-startTime="9871">third-party provider can push </span><span class="line" data-startTime="9875">fixes and security updates </span><span class="line" data-startTime="9875">very quickly. </span> <span class="line" data-startTime="9880">But that's bad for performance, </span><span class="line" data-startTime="9880">because we cannot </span><span class="line" data-startTime="9882">use future expires header. </span> <span class="line" data-startTime="9886">So there's this technique of, </span><span class="line" data-startTime="9886">again, using an iFrame and </span><span class="line" data-startTime="9890">reloading that iFrame </span><span class="line" data-startTime="9890">that causes </span><span class="line" data-startTime="9893">this group to be refreshed. </span> <span class="line" data-startTime="9894">So we can have a third-party </span><span class="line" data-startTime="9894">JavaScript with a far future </span><span class="line" data-startTime="9897">expires header. </span></p>

<p><span class="line" data-startTime="9899">I don't know if anyone's </span><span class="line" data-startTime="9899">doing it currently. </span> <span class="line" data-startTime="9903">MALE SPEAKER: [INAUDIBLE]. </span> <span class="line" data-startTime="9904">STOYAN STEFANOV: [INAUDIBLE]. </span> <span class="line" data-startTime="9904">All right. </span> <span class="line" data-startTime="9907">And then there's stuff that's </span><span class="line" data-startTime="9907">coming out from the WebPerf </span><span class="line" data-startTime="9911">W3C group, which I was hoping </span><span class="line" data-startTime="9911">someone can enlighten us </span><span class="line" data-startTime="9916">what's going on there </span><span class="line" data-startTime="9916">with the progress. </span> <span class="line" data-startTime="9920">Right. </span> <span class="line" data-startTime="9921">Next. </span> <span class="line" data-startTime="9924">Oh yeah. </span> <span class="line" data-startTime="9925">There's this idea about </span><span class="line" data-startTime="9925">what I call C3PO, or </span><span class="line" data-startTime="9929">Common 3rd Party Object. </span> <span class="line" data-startTime="9934">So this is something that I put </span><span class="line" data-startTime="9934">up some time ago, and then </span><span class="line" data-startTime="9937">Ben said that he's been thinking </span><span class="line" data-startTime="9937">about the same thing, </span><span class="line" data-startTime="9940">but we never really </span><span class="line" data-startTime="9940">got to talk. </span> <span class="line" data-startTime="9941">So I think that's as </span><span class="line" data-startTime="9941">good a time as any. </span></p>

<p><span class="line" data-startTime="9944">So the views of those scripts </span><span class="line" data-startTime="9944">that are included from third </span><span class="line" data-startTime="9948">parties usually do </span><span class="line" data-startTime="9948">the same thing. </span> <span class="line" data-startTime="9950">They hunt the page for </span><span class="line" data-startTime="9950">any hints where the </span><span class="line" data-startTime="9953">iFrame should go. </span> <span class="line" data-startTime="9954">So they look at the DOM and then </span><span class="line" data-startTime="9954">write an iFrame, and then </span><span class="line" data-startTime="9958">resize the iFrame because </span><span class="line" data-startTime="9958">the content doesn't fit. </span> <span class="line" data-startTime="9960">Let's say you have a Like button </span><span class="line" data-startTime="9960">in German, which is a </span><span class="line" data-startTime="9963">longer word. </span> <span class="line" data-startTime="9964">So you have to resize the iFrame </span><span class="line" data-startTime="9964">not to take more space </span><span class="line" data-startTime="9967">than needed. </span> <span class="line" data-startTime="9968">And a lot of widget providers </span><span class="line" data-startTime="9968">are doing the same thing. </span></p>

<p><span class="line" data-startTime="9973">So what if we can have one </span><span class="line" data-startTime="9973">script that is open source </span><span class="line" data-startTime="9978">that handles this for </span><span class="line" data-startTime="9978">most of the widgets? </span><span class="line" data-startTime="9984">So this means that the publisher </span><span class="line" data-startTime="9984">can include the </span><span class="line" data-startTime="9987">script and package it however </span><span class="line" data-startTime="9987">they want with their scripts, </span><span class="line" data-startTime="9991">and handle all the widgets. </span> <span class="line" data-startTime="9995">Or we download five, six scrips </span><span class="line" data-startTime="9995">with 100, 200K instead </span><span class="line" data-startTime="10000">of having just 0 requests. </span> <span class="line" data-startTime="10003">So that is the idea. </span> <span class="line" data-startTime="10007">Meanwhile, what we have in the </span><span class="line" data-startTime="10007">near future coming up. </span> <span class="line" data-startTime="10011">So we have now Web Components. </span> <span class="line" data-startTime="10013">I don't know if anyone's </span><span class="line" data-startTime="10013">using Web Components. </span></p>

<p><span class="line" data-startTime="10016">If not, why not? </span><span class="line" data-startTime="10018">It seems like the widgets are </span><span class="line" data-startTime="10018">the best use case for Web </span><span class="line" data-startTime="10020">Components. </span> <span class="line" data-startTime="10022">Then I'm thinking, is it any </span><span class="line" data-startTime="10022">easier on the publisher's side </span><span class="line" data-startTime="10027">to include a Web Component </span><span class="line" data-startTime="10027">instead of the current state, </span><span class="line" data-startTime="10030">where you include a dif class </span><span class="line" data-startTime="10030">something, end the script. </span> <span class="line" data-startTime="10035">There's the iFrame Sandbox. </span> <span class="line" data-startTime="10038">It's really cool. </span> <span class="line" data-startTime="10040">Should we encourage people </span><span class="line" data-startTime="10040">to use it or not? </span><span class="line" data-startTime="10043">What would this allow in </span><span class="line" data-startTime="10043">a third-party widget? </span><span class="line" data-startTime="10047">So there was the idea </span><span class="line" data-startTime="10047">of seamless iFrame. </span> <span class="line" data-startTime="10050">Seems like it's not </span><span class="line" data-startTime="10050">going away. </span> <span class="line" data-startTime="10055">The same with the </span><span class="line" data-startTime="10055">iFrame scrdoc. </span> <span class="line" data-startTime="10056">I don't know what's </span><span class="line" data-startTime="10056">the state of that. </span> <span class="line" data-startTime="10059">Is it dying as well? </span><span class="line" data-startTime="10060">So we can talk about it. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="10062"><span class="speakerName">Steve Thair</span>: We just got </span><span class="line" data-startTime="10062">a negative vote. </span><span class="line" data-startTime="10065">[LAUGHTER] </span><span class="line" data-startTime="10067">MALE SPEAKER: [INAUDIBLE] </span></p>

<p class="speaker"><span class="line" data-starttime="10073"><span class="speakerName">Stoyan Stefanov</span>: Content </span><span class="line" data-startTime="10073">security policy. </span> <span class="line" data-startTime="10075">It exists. </span> <span class="line" data-startTime="10075">It's out there. </span> <span class="line" data-startTime="10077">What should we do about it? </span><span class="line" data-startTime="10078">Should we encourage people to </span><span class="line" data-startTime="10078">use it, providers as well as </span><span class="line" data-startTime="10082">publishers? </span><span class="line" data-startTime="10083">I'm curious to hear </span><span class="line" data-startTime="10083">your thoughts. </span> <span class="line" data-startTime="10088">But meanwhile, what </span><span class="line" data-startTime="10088">happens now &mdash; </span><span class="line" data-startTime="10091">and Barbara can talk about </span><span class="line" data-startTime="10091">this from the publisher's </span><span class="line" data-startTime="10095">perspective. </span> <span class="line" data-startTime="10096">So she said that sites are </span><span class="line" data-startTime="10096">now bombarded by scripts. </span> <span class="line" data-startTime="10099">There's too much </span><span class="line" data-startTime="10099">stuff going on. </span> <span class="line" data-startTime="10102">And she is also, like Steven </span><span class="line" data-startTime="10102">said, challenging anyone to </span><span class="line" data-startTime="10105">stand between the marketing </span><span class="line" data-startTime="10105">people and their widgets. </span> <span class="line" data-startTime="10109">So how do you monitor </span><span class="line" data-startTime="10109">third-party widgets? </span><span class="line" data-startTime="10112">Do people set a budgets </span><span class="line" data-startTime="10112">and say, OK, you have </span><span class="line" data-startTime="10115">this amount of time. </span></p>

<p><span class="line" data-startTime="10119">How do we keep the third-parties </span><span class="line" data-startTime="10119">in track? </span><span class="line" data-startTime="10123">Also, how do we deal with some &mdash; </span><span class="line" data-startTime="10123">because not all the </span><span class="line" data-startTime="10126">third party code is </span><span class="line" data-startTime="10126">very well-written. </span> <span class="line" data-startTime="10129">So how do people deal with the </span><span class="line" data-startTime="10129">scripts that have to do </span><span class="line" data-startTime="10131">document.write and so on. </span> <span class="line" data-startTime="10135">Guy brought a good question </span><span class="line" data-startTime="10135">about according to the HTTP </span><span class="line" data-startTime="10141">archive, the number of </span><span class="line" data-startTime="10141">the main [INAUDIBLE] </span><span class="line" data-startTime="10143">website he's using isn't going </span><span class="line" data-startTime="10143">up, is increasing. </span> <span class="line" data-startTime="10147">And it can be largely attributed </span><span class="line" data-startTime="10147">to third parties. </span> <span class="line" data-startTime="10151">So what can we do to fix this? </span><span class="line" data-startTime="10155">And he has some ideas. </span></p>

<p><span class="line" data-startTime="10157">Some borderline crazy, like </span><span class="line" data-startTime="10157">coping cookies from one domain </span><span class="line" data-startTime="10161">to the other. </span> <span class="line" data-startTime="10162">Some maybe more manageable, </span><span class="line" data-startTime="10162">like, what if we use the same </span><span class="line" data-startTime="10166">domain name for all the static </span><span class="line" data-startTime="10166">resources and script and </span><span class="line" data-startTime="10169">styles and sprites, and shared </span><span class="line" data-startTime="10169">between all the third parties. </span> <span class="line" data-startTime="10174">So instead of loading something </span><span class="line" data-startTime="10174">from Facebook, </span><span class="line" data-startTime="10178">Akamai.net, whatever, why don't </span><span class="line" data-startTime="10178">we use something else, </span><span class="line" data-startTime="10182">like common domain name. </span> <span class="line" data-startTime="10183">C3PO comes to mind. </span></p>

<p class="speaker"><span class="line" data-starttime="10186"><span class="speakerName">Steve Thair</span>: I think it would </span><span class="line" data-startTime="10186">be C3PO.Akamai.com. </span></p>

<p class="speaker"><span class="line" data-starttime="10191"><span class="speakerName">Stoyan Stefanov</span>: Oh, mobile. </span><span class="line" data-startTime="10191">Right. </span><span class="line" data-startTime="10192">It's finally here. </span><span class="line" data-startTime="10193">Yay. </span><span class="line" data-startTime="10195">What does it mean for widgets? </span><span class="line" data-startTime="10197">Is it only just making </span><span class="line" data-startTime="10197">performance </span><span class="line" data-startTime="10200">issues even more visible? </span><span class="line" data-startTime="10201">Should we do something </span><span class="line" data-startTime="10201">about it? </span><span class="line" data-startTime="10203">Are people using that many </span><span class="line" data-startTime="10203">widgets on mobile websites? </span><span class="line" data-startTime="10208">Curious to know. </span><span class="line" data-startTime="10212">I think that's all I had. </span><span class="line" data-startTime="10214">Let's talk about </span><span class="line" data-startTime="10214">all this stuff. </span><span class="line" data-startTime="10216">[APPLAUSE] </span></p>

<p class="speaker"><span class="line" data-starttime="10222"><span class="speakerName">Steve Thair</span>: Thanks </span><span class="line" data-startTime="10222">very much, Stoyan. </span><span class="line" data-startTime="10223">I'm just going to do a quick </span><span class="line" data-startTime="10223">poll of the panel. </span><span class="line" data-startTime="10224">Guy, any quick comments from </span><span class="line" data-startTime="10224">Stoyan's opening talk? </span></p>

<p class="speaker"><span class="line" data-starttime="10227"><span class="speakerName">Guy Podjarny</span>: Sure, maybe </span><span class="line" data-startTime="10227">I'll add a couple. </span> <span class="line" data-startTime="10229">One is, in general, </span><span class="line" data-startTime="10229">third-party's a little bit </span><span class="line" data-startTime="10231">broader than that. </span> <span class="line" data-startTime="10232">I think there's some bias </span><span class="line" data-startTime="10232">to think about &mdash; </span><span class="line" data-startTime="10234">every person has a bias. </span> <span class="line" data-startTime="10235">But there's also tracking </span><span class="line" data-startTime="10235">beacons, which for some </span><span class="line" data-startTime="10237">websites are plentiful and often </span><span class="line" data-startTime="10237">come in, often, in the </span><span class="line" data-startTime="10239">form of an image. </span> <span class="line" data-startTime="10241">And there are also, actually, </span><span class="line" data-startTime="10241">third-party components that </span><span class="line" data-startTime="10243">are more inline in your pages. </span> <span class="line" data-startTime="10244">Also some shopping cart </span><span class="line" data-startTime="10244">virtualization components and </span><span class="line" data-startTime="10247">such that start to </span><span class="line" data-startTime="10247">tread the line. </span> <span class="line" data-startTime="10250">Because while they're </span><span class="line" data-startTime="10250">third-party, they're not </span><span class="line" data-startTime="10253">extraneous to the core flow or </span><span class="line" data-startTime="10253">requirement of the product. </span></p>

<p><span class="line" data-startTime="10256">But there's still a concern in </span><span class="line" data-startTime="10256">all sorts of things, like </span><span class="line" data-startTime="10258">number of domains and </span><span class="line" data-startTime="10258">reliability concerns. </span> <span class="line" data-startTime="10260">Security concern is still very </span><span class="line" data-startTime="10260">much valid for them. </span> <span class="line" data-startTime="10263">So that's one point. </span> <span class="line" data-startTime="10264">And then the second one is just </span><span class="line" data-startTime="10264">to highlight the aspect </span><span class="line" data-startTime="10266">of the number of domains. </span> <span class="line" data-startTime="10267">There's basically the problems </span><span class="line" data-startTime="10267">with third parties that have </span><span class="line" data-startTime="10269">to do with best practices around </span><span class="line" data-startTime="10269">how to use them, how to </span><span class="line" data-startTime="10274">write them. </span> <span class="line" data-startTime="10275">If you're an author of them, to </span><span class="line" data-startTime="10275">try and get them out of the </span><span class="line" data-startTime="10277">way as much as possible </span><span class="line" data-startTime="10277">while still keeping </span><span class="line" data-startTime="10279">them reasonably fast. </span> <span class="line" data-startTime="10282">And there's also things that </span><span class="line" data-startTime="10282">are just trends, like the </span><span class="line" data-startTime="10284">number of domains or like the </span><span class="line" data-startTime="10284">existence of unoptimized </span><span class="line" data-startTime="10287">third-party scripts that use </span><span class="line" data-startTime="10287">document.write whether you </span><span class="line" data-startTime="10290">like it or not. </span> <span class="line" data-startTime="10292">And those are just paths that, </span><span class="line" data-startTime="10292">to me, are more interesting </span><span class="line" data-startTime="10294">because as far as I know, </span><span class="line" data-startTime="10294">there's no good set to advance </span><span class="line" data-startTime="10301">us in the right direction. </span></p>

<p><span class="line" data-startTime="10302">[INAUDIBLE] </span><span class="line" data-startTime="10303">fix those. </span></p>

<p class="speaker"><span class="line" data-starttime="10304"><span class="speakerName">Steve Thair</span>: Barbara? </span></p>

<p class="speaker"><span class="line" data-starttime="10305"><span class="speakerName">Barbara Bermes</span>: For me, </span><span class="line" data-startTime="10305">I'm basically in </span><span class="line" data-startTime="10307">the middle of both. </span><span class="line" data-startTime="10308">So I want to make sure that the </span><span class="line" data-startTime="10308">developers understand what </span><span class="line" data-startTime="10311">third-party scripts really do </span><span class="line" data-startTime="10311">to your page, and also the </span><span class="line" data-startTime="10316">business side, to tell them what </span><span class="line" data-startTime="10316">to look for when asking </span><span class="line" data-startTime="10320">third-party providers to </span><span class="line" data-startTime="10320">provide their code. </span></p>

<p class="speaker"><span class="line" data-starttime="10322"><span class="speakerName">Steve Thair</span>: So you're saying </span><span class="line" data-startTime="10322">it's not really possible to </span><span class="line" data-startTime="10324">tell the marketing department </span><span class="line" data-startTime="10324">they can't have that piece of </span><span class="line" data-startTime="10326">code because it has a </span><span class="line" data-startTime="10326">document.write in it, because </span><span class="line" data-startTime="10328">they just won't understand. </span></p>

<p class="speaker"><span class="line" data-starttime="10329"><span class="speakerName">Barbara Bermes</span>: Exactly. </span><span class="line" data-startTime="10329">You've got to explain to them </span><span class="line" data-startTime="10329">what the impact actually is, </span><span class="line" data-startTime="10332">and they don't always </span><span class="line" data-startTime="10332">understand that. </span></p>

<p class="speaker"><span class="line" data-starttime="10334"><span class="speakerName">Steve Thair</span>: Good. </span><span class="line" data-startTime="10335">Cool. </span><span class="line" data-startTime="10335">So Ben, as a provider, what </span><span class="line" data-startTime="10335">would you say about Stoyan's </span><span class="line" data-startTime="10341">opening remarks? </span></p>

<p class="speaker"><span class="line" data-starttime="10342"><span class="speakerName">Ben Vinegar</span>: They're really </span><span class="line" data-startTime="10342">good comments. </span><span class="line" data-startTime="10347">It's been set up that this whole </span><span class="line" data-startTime="10347">panel is sort of like, </span><span class="line" data-startTime="10349">if you're a website publisher </span><span class="line" data-startTime="10349">then third-party scripts are </span><span class="line" data-startTime="10352">mean and we're villians. </span><span class="line" data-startTime="10354">Also Stoyan. </span><span class="line" data-startTime="10356">But I want to flip </span><span class="line" data-startTime="10356">this around. </span><span class="line" data-startTime="10359">Maybe people aren't thinking </span><span class="line" data-startTime="10359">that as a third-party </span><span class="line" data-startTime="10362">developer that has a pretty </span><span class="line" data-startTime="10362">complex application that I'm </span><span class="line" data-startTime="10365">serving to publish your pages, </span><span class="line" data-startTime="10365">there are publishers that are </span><span class="line" data-startTime="10368">doing really bad things to me </span><span class="line" data-startTime="10368">and I would love to talk about </span><span class="line" data-startTime="10371">some of those. </span><span class="line" data-startTime="10372">And what can &mdash; </span><span class="line" data-startTime="10373">[LAUGHTER] </span></p>

<p class="speaker"><span class="line" data-starttime="10374"><span class="speakerName">Ben Vinegar</span>: Yes! </span><span class="line" data-startTime="10378">And I don't even mean that &mdash; </span><span class="line" data-startTime="10379">partially as a joke. </span><span class="line" data-startTime="10380">But it can be subjects, like </span><span class="line" data-startTime="10380">people immediately attribute </span><span class="line" data-startTime="10386">performance issues to a </span><span class="line" data-startTime="10386">third-party script. </span><span class="line" data-startTime="10388">That's the first place </span><span class="line" data-startTime="10388">that they go. </span><span class="line" data-startTime="10390">Where I'm debugging publishers' </span><span class="line" data-startTime="10390">websites, and then </span><span class="line" data-startTime="10392">I attribute, basically, </span><span class="line" data-startTime="10392">the performance </span><span class="line" data-startTime="10394">problems back to them. </span><span class="line" data-startTime="10396">So I'm sort of in a </span><span class="line" data-startTime="10396">hard spot as well. </span><span class="line" data-startTime="10398">And I think that's possibly </span><span class="line" data-startTime="10398">worth discussing. </span></p>

<p class="speaker"><span class="line" data-starttime="10401"><span class="speakerName">Steve Thair</span>: Cool. </span><span class="line" data-startTime="10401">I think we've actually got a </span><span class="line" data-startTime="10401">couple questions about how we </span><span class="line" data-startTime="10404">can find and identify those </span><span class="line" data-startTime="10404">performance bottlenecks. </span><span class="line" data-startTime="10406">But first question we've got on </span><span class="line" data-startTime="10406">the floor is actually from </span><span class="line" data-startTime="10409">Yoav Weiss. </span><span class="line" data-startTime="10410">Yoav &mdash; </span><span class="line" data-startTime="10411">Oh, you're down there. </span></p>

<p class="speaker"><span class="line" data-starttime="10418"><span class="speakerName">Yoav Weiss</span>: Hi. </span><span class="line" data-startTime="10420">"What are the mechanisms for </span><span class="line" data-startTime="10420">enabling script loading based </span><span class="line" data-startTime="10423">on media queries, and is </span><span class="line" data-startTime="10423">there a valid proposal? </span><span class="line" data-startTime="10426">And how can we get </span><span class="line" data-startTime="10426">this pushed?" </span></p>

<p class="speaker"><span class="line" data-starttime="10429"><span class="speakerName">Steve Thair</span>: So this is the idea </span><span class="line" data-startTime="10429">of if I've got a script </span><span class="line" data-startTime="10432">that is just not relevant to </span><span class="line" data-startTime="10432">the device that I'm running </span><span class="line" data-startTime="10435">on, why am I downloading </span><span class="line" data-startTime="10435">it in the first place? </span></p>

<p class="speaker"><span class="line" data-starttime="10437"><span class="speakerName">Yoav Weiss</span>: Exactly. </span><span class="line" data-startTime="10438">It relates to the </span><span class="line" data-startTime="10438">mobile thing. </span><span class="line" data-startTime="10440">If I don't show a Like button </span><span class="line" data-startTime="10440">on mobile, why am I </span><span class="line" data-startTime="10444">downloading the script? </span></p>

<p class="speaker"><span class="line" data-starttime="10447"><span class="speakerName">Steve Thair</span>: Do you want to </span><span class="line" data-startTime="10447">start taking that one? </span></p>

<p class="speaker"><span class="line" data-starttime="10450"><span class="speakerName">Stoyan Stefanov</span>: I don't know. </span><span class="line" data-startTime="10450">I'm not aware of any </span><span class="line" data-startTime="10450">development. </span><span class="line" data-startTime="10452">Are you? </span><span class="line" data-startTime="10453">Is there a proposal going on? </span></p>

<p class="speaker"><span class="line" data-starttime="10457"><span class="speakerName">Yoav Weiss</span>: I started playing </span><span class="line" data-startTime="10457">around with the idea. </span><span class="line" data-startTime="10460">It's kind of hard to define what </span><span class="line" data-startTime="10460">happens when the media </span><span class="line" data-startTime="10465">query changes. </span><span class="line" data-startTime="10466">That's where things </span><span class="line" data-startTime="10466">get complicated. </span><span class="line" data-startTime="10469">Do I want to run the </span><span class="line" data-startTime="10469">script or not? </span><span class="line" data-startTime="10471">But in general, do you guys </span><span class="line" data-startTime="10471">think it's a good idea? </span><span class="line" data-startTime="10475">Or is it something that </span><span class="line" data-startTime="10475">should be pursued? </span></p>

<p class="speaker"><span class="line" data-starttime="10480"><span class="speakerName">Stoyan Stefanov</span>: It definitely </span><span class="line" data-startTime="10480">sounds interesting. </span></p>

<p class="speaker"><span class="line" data-starttime="10483"><span class="speakerName">Guy Podjarny</span>: I'm kind </span><span class="line" data-startTime="10483">of fond of it. </span> <span class="line" data-startTime="10485">So I think the notion of </span><span class="line" data-startTime="10485">conditional loading, </span><span class="line" data-startTime="10487">especially in responsive design </span><span class="line" data-startTime="10488">website, is a really issue. </span> <span class="line" data-startTime="10490">And in responsive design, </span><span class="line" data-startTime="10490">we focus on images, </span><span class="line" data-startTime="10492">like we spoke earlier. </span> <span class="line" data-startTime="10494">But maybe the next looming </span><span class="line" data-startTime="10494">problem, if not already here, </span><span class="line" data-startTime="10498">is the notion of scripts. </span> <span class="line" data-startTime="10499">And I regularly see responsive </span><span class="line" data-startTime="10499">websites download, execute </span><span class="line" data-startTime="10502">scripts and then hide them </span><span class="line" data-startTime="10502">because the layout doesn't </span><span class="line" data-startTime="10505">quite make sense for them. </span> <span class="line" data-startTime="10506">So institutionalizing or </span><span class="line" data-startTime="10506">standardizing conditional </span><span class="line" data-startTime="10509">loading makes perfect </span><span class="line" data-startTime="10509">sense to me. </span> <span class="line" data-startTime="10511">And using media queries seems </span><span class="line" data-startTime="10511">like one way to do it. </span></p>

<p><span class="line" data-startTime="10516">Not sure if there's any active </span><span class="line" data-startTime="10516">conversation about it. </span> <span class="line" data-startTime="10518">So I guess we're probably going </span><span class="line" data-startTime="10518">to need to figure out </span><span class="line" data-startTime="10520">all the different </span><span class="line" data-startTime="10520">options of it. </span> <span class="line" data-startTime="10521">But I do think that's a good </span><span class="line" data-startTime="10521">path that we need to go down. </span></p>

<p class="speaker"><span class="line" data-starttime="10524"><span class="speakerName">Barbara Bermes</span>: I think also the </span><span class="line" data-startTime="10524">idea is interesting, but </span><span class="line" data-startTime="10527">I'm also wondering what </span><span class="line" data-startTime="10527">are the use cases? </span><span class="line" data-startTime="10529">So you would not load, for </span><span class="line" data-startTime="10529">example, a Facebook button for </span><span class="line" data-startTime="10533">mobile versus desktop </span><span class="line" data-startTime="10533">or whatever? </span></p>

<p class="speaker"><span class="line" data-starttime="10537"><span class="speakerName">Yoav Weiss</span>: The use cases I </span><span class="line" data-startTime="10537">can think of are Facebook </span><span class="line" data-startTime="10541">button, or social buttons </span><span class="line" data-startTime="10541">in general. </span><span class="line" data-startTime="10544">Maps that may or may not be </span><span class="line" data-startTime="10544">displayed because you want to </span><span class="line" data-startTime="10547">go to the native map. </span><span class="line" data-startTime="10551">JQuery Mobile. </span><span class="line" data-startTime="10552">UI frameworks. </span><span class="line" data-startTime="10554">Where you want to load </span><span class="line" data-startTime="10554">jQuery Mobile here </span><span class="line" data-startTime="10556">and jQuery UI there. </span><span class="line" data-startTime="10559">These are the use cases </span><span class="line" data-startTime="10559">I have in mind. </span></p>

<p class="speaker"><span class="line" data-starttime="10561"><span class="speakerName">Guy Podjarny</span>: Twitter streams, </span><span class="line" data-startTime="10561">I think, are a common one in </span><span class="line" data-startTime="10564">responsive design. </span></p>

<p class="speaker"><span class="line" data-starttime="10565"><span class="speakerName">Barbara Bermes</span>: Or even we are </span><span class="line" data-startTime="10565">doing different ad serving for </span><span class="line" data-startTime="10567">desktop versus mobile </span><span class="line" data-startTime="10567">for example, yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="10570"><span class="speakerName">Steve Thair</span>: We've </span><span class="line" data-startTime="10570">got a couple of </span><span class="line" data-startTime="10570">comments from the floor. </span><span class="line" data-startTime="10571">Kyle Simpson from Getify. </span><span class="line" data-startTime="10573">Did you have something </span><span class="line" data-startTime="10573">to say on this topic? </span></p>

<p class="speaker"><span class="line" data-starttime="10576"><span class="speakerName">Kyle Simpson</span>: I didn't actually </span><span class="line" data-startTime="10576">intend to click that. </span><span class="line" data-startTime="10578">But I'll just say something </span><span class="line" data-startTime="10578">as I do have a question. </span><span class="line" data-startTime="10580">[LAUGHTER] </span></p>

<p class="speaker"><span class="line" data-starttime="10581"><span class="speakerName">Kyle Simpson</span>: Since they </span><span class="line" data-startTime="10581">gave me the mic. </span></p>

<p class="speaker"><span class="line" data-starttime="10582"><span class="speakerName">Steve Thair</span>: OK. </span></p>

<p class="speaker"><span class="line" data-starttime="10583"><span class="speakerName">Barbara Bermes</span>: It's </span><span class="line" data-startTime="10583">your time. </span></p>

<p class="speaker"><span class="line" data-starttime="10583"><span class="speakerName">Kyle Simpson</span>: But on </span><span class="line" data-startTime="10583">that topic though. </span> <span class="line" data-startTime="10585">So there is definitely a </span><span class="line" data-startTime="10585">strong push to create </span><span class="line" data-startTime="10589">declarative solutions, like </span><span class="line" data-startTime="10589">markup-only stuff. </span> <span class="line" data-startTime="10591">I need to be able to </span><span class="line" data-startTime="10591">express all of my </span><span class="line" data-startTime="10593">intent through markup. </span> <span class="line" data-startTime="10594">But I do just want to point out </span><span class="line" data-startTime="10594">that there's a vast array </span><span class="line" data-startTime="10598">of complex situations that you </span><span class="line" data-startTime="10598">make these decisions on. </span> <span class="line" data-startTime="10600">For instance, I've got a simple </span><span class="line" data-startTime="10600">version of a calendar </span><span class="line" data-startTime="10603">widget and a complex version </span><span class="line" data-startTime="10603">of a calendar widget, and I </span><span class="line" data-startTime="10606">make decisions based upon </span><span class="line" data-startTime="10606">bandwidth and screen size and </span><span class="line" data-startTime="10608">all those other things. </span> <span class="line" data-startTime="10609">So I think it's troublesome </span><span class="line" data-startTime="10609">to say, this is a </span><span class="line" data-startTime="10613">one-size-fits-all solution to </span><span class="line" data-startTime="10613">try to encode into my markup </span><span class="line" data-startTime="10617">when a script should </span><span class="line" data-startTime="10617">be loaded. </span></p>

<p><span class="line" data-startTime="10620">I'm a little biased, but I feel </span><span class="line" data-startTime="10620">that's the job of script </span><span class="line" data-startTime="10622">loaders rather than markup. </span></p>

<p class="speaker"><span class="line" data-starttime="10626"><span class="speakerName">Guy Podjarny</span>: I think that's </span><span class="line" data-startTime="10626">a valid statement. </span><span class="line" data-startTime="10629">But there's also the statement </span><span class="line" data-startTime="10629">to say that, especially in </span><span class="line" data-startTime="10632">responsive design world, there </span><span class="line" data-startTime="10632">are a lot of decisions that </span><span class="line" data-startTime="10634">are made based on things that </span><span class="line" data-startTime="10634">could have been determined </span><span class="line" data-startTime="10636">through screen properties. </span><span class="line" data-startTime="10638">So maybe it's not 100%. </span><span class="line" data-startTime="10639">And you don't take away the </span><span class="line" data-startTime="10639">capability or the value of </span><span class="line" data-startTime="10643">loading things through </span><span class="line" data-startTime="10643">a more elaborate </span><span class="line" data-startTime="10646">script-based loading condition. </span><span class="line" data-startTime="10649">But if it's a common enough use </span><span class="line" data-startTime="10649">case and you can make it </span><span class="line" data-startTime="10652">faster and easier, then I still </span><span class="line" data-startTime="10652">think it's a worthy </span><span class="line" data-startTime="10654">proposition. </span></p>

<p class="speaker"><span class="line" data-starttime="10657"><span class="speakerName">Steve Thair</span>: We've got David </span><span class="line" data-startTime="10657">Stickman from Akamai wants to </span><span class="line" data-startTime="10660">make a comment. </span><span class="line" data-startTime="10661">Feel free to disagree with </span><span class="line" data-startTime="10661">Guy from Akamai. </span><span class="line" data-startTime="10664">[LAUGHTER] </span></p>

<p class="speaker"><span class="line" data-starttime="10665"><span class="speakerName">Guy Podjarny</span>: At </span><span class="line" data-startTime="10665">least briefly. </span></p>

<p class="speaker"><span class="line" data-starttime="10669"><span class="speakerName">David Stickman</span>: Hi. </span><span class="line" data-startTime="10669">One of the most common use cases </span><span class="line" data-startTime="10669">we see is actually tons </span><span class="line" data-startTime="10673">of new domain. </span><span class="line" data-startTime="10674">And people tend to do domain </span><span class="line" data-startTime="10674">shedding thinking that it's </span><span class="line" data-startTime="10676">going to improve the performance </span><span class="line" data-startTime="10676">of the website. </span><span class="line" data-startTime="10678">But obviously, we're </span><span class="line" data-startTime="10678">third-party. </span><span class="line" data-startTime="10680">We have 40, 50 different </span><span class="line" data-startTime="10680">domains that are </span><span class="line" data-startTime="10682">called by the browser. </span><span class="line" data-startTime="10683">Is there any way we can give </span><span class="line" data-startTime="10683">a hint of what kind of DNS </span><span class="line" data-startTime="10686">resolution should be done for </span><span class="line" data-startTime="10686">third-party content before </span><span class="line" data-startTime="10689">actually loading the </span><span class="line" data-startTime="10689">third-party itself? </span><span class="line" data-startTime="10691">Because there is a lot of </span><span class="line" data-startTime="10691">bottleneck with just DNS </span><span class="line" data-startTime="10694">resolution itself. </span></p>

<p class="speaker"><span class="line" data-starttime="10699"><span class="speakerName">Steve Thair</span>: Anyone? </span></p>

<p class="speaker"><span class="line" data-starttime="10700"><span class="speakerName">Guy Podjarny</span>: I can take </span><span class="line" data-startTime="10700">that because I know &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="10701"><span class="speakerName">Steve Thair</span>: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="10702"><span class="speakerName">Guy Podjarny</span>: So I think the </span><span class="line" data-startTime="10702">number of domains, as pointed </span><span class="line" data-startTime="10704">out before &mdash; </span><span class="line" data-startTime="10705">this has not been coordinated, </span><span class="line" data-startTime="10705">just to make sure &mdash; </span><span class="line" data-startTime="10710">is a real problem. </span> <span class="line" data-startTime="10711">It comes into play in DNS. </span> <span class="line" data-startTime="10712">It comes into play with the fact </span><span class="line" data-startTime="10712">that SPDY and HTTP2 and </span><span class="line" data-startTime="10714">all sorts of pending solutions </span><span class="line" data-startTime="10714">don't touch on it. </span> <span class="line" data-startTime="10717">They don't try to optimize </span><span class="line" data-startTime="10717">across domains. </span> <span class="line" data-startTime="10719">So I think it's a real </span><span class="line" data-startTime="10719">problem today. </span> <span class="line" data-startTime="10722">There is no deprioritization, </span><span class="line" data-startTime="10722">as far as I know, of </span><span class="line" data-startTime="10725">third-party content. </span></p>

<p><span class="line" data-startTime="10726">You can mark things beyond the </span><span class="line" data-startTime="10726">async or the processing </span><span class="line" data-startTime="10729">aspects in the browser. </span> <span class="line" data-startTime="10730">You can mark something </span><span class="line" data-startTime="10730">as slower or faster. </span> <span class="line" data-startTime="10735">So I think they contend </span><span class="line" data-startTime="10735">for resources today. </span> <span class="line" data-startTime="10737">A part of it is about </span><span class="line" data-startTime="10737">how do we optimize </span><span class="line" data-startTime="10738">the number of domains? </span><span class="line" data-startTime="10739">And today, the only tools you </span><span class="line" data-startTime="10739">have for deprioritizing them </span><span class="line" data-startTime="10744">is things like async and such. </span></p>

<p class="speaker"><span class="line" data-starttime="10746"><span class="speakerName">Steve Thair</span>: OK. </span><span class="line" data-startTime="10747">We're going to come on </span><span class="line" data-startTime="10747">to a later question. </span><span class="line" data-startTime="10749">We're going to talk more </span><span class="line" data-startTime="10749">about dependencies </span><span class="line" data-startTime="10750">and execution time. </span><span class="line" data-startTime="10751">But just to stick with the </span><span class="line" data-startTime="10751">original intent of this </span><span class="line" data-startTime="10755">question was, in the earlier </span><span class="line" data-startTime="10755">session, we talked a lot about </span><span class="line" data-startTime="10758">how you were going to do media </span><span class="line" data-startTime="10758">queries to decide what image </span><span class="line" data-startTime="10761">you want to download? </span><span class="line" data-startTime="10763">Do we need a similar mechanism </span><span class="line" data-startTime="10763">for scripts or not? </span><span class="line" data-startTime="10767">If you were to put it to the </span><span class="line" data-startTime="10767">audience on a vote, you'd say, </span><span class="line" data-startTime="10769">yes, we need this mechanism, or </span><span class="line" data-startTime="10769">we don't need a mechanism </span><span class="line" data-startTime="10772">for this and we can </span><span class="line" data-startTime="10772">just move on. </span><span class="line" data-startTime="10774">Is this problem, you think? </span><span class="line" data-startTime="10776">I'm sending way too </span><span class="line" data-startTime="10776">many third-party </span><span class="line" data-startTime="10778">JavaScripts to my &mdash; </span><span class="line" data-startTime="10780">So we've got two votes, three </span><span class="line" data-startTime="10780">votes, four votes, five votes. </span><span class="line" data-startTime="10783">So people do think this </span><span class="line" data-startTime="10783">is a problem. </span><span class="line" data-startTime="10785">And that's not just Yoav hitting </span><span class="line" data-startTime="10785">the button five times. </span><span class="line" data-startTime="10787">[LAUGHTER] </span></p>

<p class="speaker"><span class="line" data-starttime="10788"><span class="speakerName">Yoav Weiss</span>: I have </span><span class="line" data-startTime="10788">several accounts. </span><span class="line" data-startTime="10790">[LAUGHTER] </span></p>

<p class="speaker"><span class="line" data-starttime="10791"><span class="speakerName">Barbara Bermes</span>: And friends. </span></p>

<p class="speaker"><span class="line" data-starttime="10793"><span class="speakerName">Ben Vinegar</span>: I would just say </span><span class="line" data-startTime="10793">that we experience that people </span><span class="line" data-startTime="10796">are conditionally loading our </span><span class="line" data-startTime="10796">application, usually doing </span><span class="line" data-startTime="10799">templates or JavaScript </span><span class="line" data-startTime="10799">or whatever, already. </span><span class="line" data-startTime="10802">So if there can just be really </span><span class="line" data-startTime="10802">nice, declarative way of doing </span><span class="line" data-startTime="10806">that as opposed to setting up </span><span class="line" data-startTime="10806">JavaScript code, I don't see </span><span class="line" data-startTime="10809">the problem with that. </span><span class="line" data-startTime="10810">People are doing it already, </span><span class="line" data-startTime="10810">is what I'm trying to say. </span></p>

<p class="speaker"><span class="line" data-starttime="10812"><span class="speakerName">Barbara Bermes</span>: Whenever the </span><span class="line" data-startTime="10812">developer wants to do, if it's </span><span class="line" data-startTime="10814">easier for them. </span><span class="line" data-startTime="10815">And if media queries enhance </span><span class="line" data-startTime="10815">the performance as well in </span><span class="line" data-startTime="10819">loading things. </span><span class="line" data-startTime="10822">If you make it easy for them </span><span class="line" data-startTime="10822">to use stuff as a publisher </span><span class="line" data-startTime="10824">again, then it's cool. </span></p>

<p class="speaker"><span class="line" data-starttime="10826"><span class="speakerName">Guy Podjarny</span>: I will say, it's </span><span class="line" data-startTime="10826">not just third-party, though. </span><span class="line" data-startTime="10828">So conditional loading of </span><span class="line" data-startTime="10828">JavaScript on a responsive </span><span class="line" data-startTime="10830">website is broader. </span><span class="line" data-startTime="10832">Third parties are a specific </span><span class="line" data-startTime="10832">case of it. </span></p>

<p class="speaker"><span class="line" data-starttime="10834"><span class="speakerName">Steve Thair</span>: OK/ So let's go </span><span class="line" data-startTime="10834">onto the second question. </span><span class="line" data-startTime="10837">We've got Tom Bushak. </span><span class="line" data-startTime="10840">Bushak? </span><span class="line" data-startTime="10841">OK. </span></p>

<p class="speaker"><span class="line" data-starttime="10849"><span class="speakerName">Tom</span>: So this one came in </span><span class="line" data-startTime="10849">anonymously as well. </span><span class="line" data-startTime="10851">The WhatWG has proposed a </span><span class="line" data-startTime="10851">solution for managing script </span><span class="line" data-startTime="10855">dependencies and </span><span class="line" data-startTime="10855">execution time. </span><span class="line" data-startTime="10857">Will this solve the </span><span class="line" data-startTime="10857">performance and </span><span class="line" data-startTime="10859">blocking use cases? </span><span class="line" data-startTime="10860">And Kyle, I believe, actually </span><span class="line" data-startTime="10860">is part of that proposal. </span><span class="line" data-startTime="10863">So maybe hell have some </span><span class="line" data-startTime="10863">helpful input as well. </span></p>

<p class="speaker"><span class="line" data-starttime="10866"><span class="speakerName">Steve Thair</span>: This is, as I </span><span class="line" data-startTime="10866">understand, it's related. </span><span class="line" data-startTime="10868">There are a lot of hacky ways </span><span class="line" data-startTime="10868">people download scripts as </span><span class="line" data-startTime="10871">comments and then add them </span><span class="line" data-startTime="10871">dynamically to the page when </span><span class="line" data-startTime="10875">they need them. </span><span class="line" data-startTime="10876">There's a lot of hacks out there </span><span class="line" data-startTime="10876">that people are doing to </span><span class="line" data-startTime="10878">get around the async blocking </span><span class="line" data-startTime="10878">nature of the scripts. </span><span class="line" data-startTime="10882">So what's happening with </span><span class="line" data-startTime="10882">the working groups? </span><span class="line" data-startTime="10885">And what's the best </span><span class="line" data-startTime="10885">solution for this? </span></p>

<p class="speaker"><span class="line" data-starttime="10890"><span class="speakerName">Ben Vinegar</span>: I am not familiar </span><span class="line" data-startTime="10890">with this topic. </span><span class="line" data-startTime="10892">[LAUGHTER] </span></p>

<p class="speaker"><span class="line" data-starttime="10895"><span class="speakerName">Guy Podjarny</span>: Well, I &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="10896"><span class="speakerName">Steve Thair</span>: Go ahead. </span></p>

<p class="speaker"><span class="line" data-starttime="10897"><span class="speakerName">Stoyan Stefanov</span>: Anyone </span><span class="line" data-startTime="10897">from the audience who </span><span class="line" data-startTime="10898">wants to take it? </span><span class="line" data-startTime="10899">Kyle or &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="10900"><span class="speakerName">Guy Podjarny</span>: I can even </span><span class="line" data-startTime="10900">starting, and then maybe we'll </span><span class="line" data-startTime="10901">switch to Kyle. </span> <span class="line" data-startTime="10905">So I think there's a </span><span class="line" data-startTime="10905">few things there. </span> <span class="line" data-startTime="10906">There's one in cold resource </span><span class="line" data-startTime="10906">priorities that has to do with </span><span class="line" data-startTime="10910">enabling the Lazy </span><span class="line" data-startTime="10910">Load and Defer </span><span class="line" data-startTime="10911">attributes on more objects. </span> <span class="line" data-startTime="10913">Those are actually probably </span><span class="line" data-startTime="10913">further along on scripts than </span><span class="line" data-startTime="10915">they are on some other </span><span class="line" data-startTime="10915">components. </span> <span class="line" data-startTime="10918">But there is some </span><span class="line" data-startTime="10918">promise there. </span> <span class="line" data-startTime="10921">I think there's still </span><span class="line" data-startTime="10921">a lot of debates. </span> <span class="line" data-startTime="10924">And I heard some comments in a </span><span class="line" data-startTime="10924">previous conversation today on </span><span class="line" data-startTime="10928">possible paths. </span> <span class="line" data-startTime="10929">But I think there's still a hole </span><span class="line" data-startTime="10929">around how do you manage </span><span class="line" data-startTime="10931">groups of dependencies? </span><span class="line" data-startTime="10933">So that you want to say, </span><span class="line" data-startTime="10933">this script need to </span><span class="line" data-startTime="10934">run after the other. </span></p>

<p><span class="line" data-startTime="10935">But both of them combined </span><span class="line" data-startTime="10935">should be asynchronous. </span> <span class="line" data-startTime="10939">There's things around </span><span class="line" data-startTime="10939">association of onload, </span><span class="line" data-startTime="10942">triggering with the </span><span class="line" data-startTime="10942">onload event. </span> <span class="line" data-startTime="10946">And an async script. </span> <span class="line" data-startTime="10947">It has an asynch script to deal </span><span class="line" data-startTime="10948">with still delay download. </span> <span class="line" data-startTime="10949">So I think on the loading </span><span class="line" data-startTime="10949">process, there </span><span class="line" data-startTime="10954">are some good actions. </span> <span class="line" data-startTime="10955">On the grouping and </span><span class="line" data-startTime="10955">such, I would </span><span class="line" data-startTime="10957">find them very promising. </span> <span class="line" data-startTime="10958">But I don't know if they're </span><span class="line" data-startTime="10958">very far along. </span></p>

<p class="speaker"><span class="line" data-starttime="10962"><span class="speakerName">Kyle Simpson</span>: So since my </span><span class="line" data-startTime="10962">name was brought up, </span><span class="line" data-startTime="10964">I will speak up. </span> <span class="line" data-startTime="10966">Two or three years ago, there </span><span class="line" data-startTime="10966">was some proposals. </span> <span class="line" data-startTime="10970">Nicholas Zakas and I joined </span><span class="line" data-startTime="10970">together and made some </span><span class="line" data-startTime="10974">proposals on WhatWG about what </span><span class="line" data-startTime="10974">we call script preloading. </span> <span class="line" data-startTime="10979">So the idea of loading </span><span class="line" data-startTime="10979">a script, but it not </span><span class="line" data-startTime="10981">automatically executing the </span><span class="line" data-startTime="10981">way normal scripts do. </span> <span class="line" data-startTime="10984">And then being able to </span><span class="line" data-startTime="10984">programmatically control when </span><span class="line" data-startTime="10986">that script might load. </span> <span class="line" data-startTime="10988">And that has gone through a </span><span class="line" data-startTime="10988">whole bunch of starts and </span><span class="line" data-startTime="10992">stops and restarts over </span><span class="line" data-startTime="10992">the last three years. </span></p>

<p><span class="line" data-startTime="10994">Most recently, about a month </span><span class="line" data-startTime="10994">ago, it started back up. </span> <span class="line" data-startTime="10997">It turns out there's several </span><span class="line" data-startTime="10997">different things. </span> <span class="line" data-startTime="10999">And maybe Jake Archibald </span><span class="line" data-startTime="10999">can also chime in. </span> <span class="line" data-startTime="11003">So there's some stuff with </span><span class="line" data-startTime="11003">navigation controller, and </span><span class="line" data-startTime="11006">then there's discussions about </span><span class="line" data-startTime="11006">other use cases that that </span><span class="line" data-startTime="11009">might not handle. </span> <span class="line" data-startTime="11011">I don't think I would classify </span><span class="line" data-startTime="11011">us as far along in terms of </span><span class="line" data-startTime="11014">implementation, but there has </span><span class="line" data-startTime="11014">been an enormous amount of </span><span class="line" data-startTime="11016">discussion about it. </span> <span class="line" data-startTime="11017">And developers do you want, I </span><span class="line" data-startTime="11017">think, more control over it. </span> <span class="line" data-startTime="11021">There's a one side, which is I </span><span class="line" data-startTime="11021">want control in the markup. </span> <span class="line" data-startTime="11024">Again, back to this </span><span class="line" data-startTime="11024">declarative versus </span><span class="line" data-startTime="11026">programmatic control. </span> <span class="line" data-startTime="11028">And I think that's really </span><span class="line" data-startTime="11028">one of the big </span><span class="line" data-startTime="11031">sticking points so far. </span></p>

<p class="speaker"><span class="line" data-starttime="11034"><span class="speakerName">Steve Thair</span>: OK. </span><span class="line" data-startTime="11035">Jake, did you want to </span><span class="line" data-startTime="11035">say anything, since </span><span class="line" data-startTime="11038">you got called out? </span></p>

<p class="speaker"><span class="line" data-starttime="11045"><span class="speakerName">Jake Archibald</span>: Yeah. </span><span class="line" data-startTime="11046">I think the worst thing we've </span><span class="line" data-startTime="11046">got with script loading at the </span><span class="line" data-startTime="11047">moment is if you want to load </span><span class="line" data-startTime="11047">a series of scripts without </span><span class="line" data-startTime="11051">blocking, rendering, or blocking </span><span class="line" data-startTime="11051">any other computing, </span><span class="line" data-startTime="11056">but maintain the order of </span><span class="line" data-startTime="11056">execution, we don't have that </span><span class="line" data-startTime="11060">unless you use JavaScript. </span><span class="line" data-startTime="11062">And we don't want to use </span><span class="line" data-startTime="11062">JavaScript for script loading, </span><span class="line" data-startTime="11064">because then you lose </span><span class="line" data-startTime="11064">the preloader. </span><span class="line" data-startTime="11066">And the preloader, you could </span><span class="line" data-startTime="11066">boost, getting to DOM content </span><span class="line" data-startTime="11069">loaded by 20%. </span><span class="line" data-startTime="11071">So we want something in the </span><span class="line" data-startTime="11071">markup that can dictate which </span><span class="line" data-startTime="11076">order that the scripts </span><span class="line" data-startTime="11076">will be executed. </span><span class="line" data-startTime="11079">And then load them </span><span class="line" data-startTime="11079">asynchronously. </span></p>

<p class="speaker"><span class="line" data-starttime="11082"><span class="speakerName">Guy Podjarny</span>: Just specifically </span><span class="line" data-startTime="11082">related to </span><span class="line" data-startTime="11083">third-party, I do think there </span><span class="line" data-startTime="11083">is another barrier, which is </span><span class="line" data-startTime="11085">document.write. </span> <span class="line" data-startTime="11086">So when you're a publisher and </span><span class="line" data-startTime="11086">you're using a third party, </span><span class="line" data-startTime="11092">you need to be absolutely </span><span class="line" data-startTime="11092">confident 100% that that </span><span class="line" data-startTime="11096">script would never, ever use </span><span class="line" data-startTime="11096">document.write if you're </span><span class="line" data-startTime="11099">including them as an </span><span class="line" data-startTime="11099">asynchronous components. </span> <span class="line" data-startTime="11101">Otherwise, that can lock </span><span class="line" data-startTime="11101">up your entire page. </span> <span class="line" data-startTime="11103">And as far as I know, there is </span><span class="line" data-startTime="11103">no work going on right now, </span><span class="line" data-startTime="11106">but there definitely </span><span class="line" data-startTime="11106">should be, on doing </span><span class="line" data-startTime="11108">something like that. </span> <span class="line" data-startTime="11110">Even something like just </span><span class="line" data-startTime="11110">ignoring the document.write, </span><span class="line" data-startTime="11114">in many cases, would be better </span><span class="line" data-startTime="11114">than blanking out the page and </span><span class="line" data-startTime="11118">writing only that piece, instead </span><span class="line" data-startTime="11118">of the entire page. </span> <span class="line" data-startTime="11121">But ideally, there's something </span><span class="line" data-startTime="11121">a little bit more elaborate </span><span class="line" data-startTime="11123">that can, after the fact, write </span><span class="line" data-startTime="11126">content in those sections. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="11130"><span class="speakerName">Steve Thair</span>: OK. </span><span class="line" data-startTime="11132">Let's see. </span><span class="line" data-startTime="11134">Wilson Page from FT labs has got </span><span class="line" data-startTime="11134">his hand up to comment on </span><span class="line" data-startTime="11139">this topic, hopefully. </span></p>

<p class="speaker"><span class="line" data-starttime="11143"><span class="speakerName">Wilson Page</span>: Hello. </span><span class="line" data-startTime="11143">And a web app developer, </span><span class="line" data-startTime="11143">I like to have </span><span class="line" data-startTime="11145">control of my resources. </span><span class="line" data-startTime="11147">So would it be possible that </span><span class="line" data-startTime="11147">third parties, like discussed, </span><span class="line" data-startTime="11150">might let me bundle those </span><span class="line" data-startTime="11150">resources, their third-party </span><span class="line" data-startTime="11154">scripts, into my JS bundle </span><span class="line" data-startTime="11154">or other assets like CSS. </span><span class="line" data-startTime="11161">I can see why you wouldn't </span><span class="line" data-startTime="11161">want that, </span><span class="line" data-startTime="11163">because you want control. </span><span class="line" data-startTime="11164">[LAUGHTER] </span></p>

<p class="speaker"><span class="line" data-starttime="11165"><span class="speakerName">Wilson Page</span>: You want the </span><span class="line" data-startTime="11165">control to be able to update </span><span class="line" data-startTime="11167">when you want to update it. </span><span class="line" data-startTime="11168">But I also don't want 100 HTTP </span><span class="line" data-startTime="11168">requests going off on my page. </span></p>

<p class="speaker"><span class="line" data-starttime="11173"><span class="speakerName">Ben Vinegar</span>: Yeah. </span> <span class="line" data-startTime="11174">Oh, man. a lot of </span><span class="line" data-startTime="11174">eyes on me here. </span> <span class="line" data-startTime="11179">On some level, I'm a </span><span class="line" data-startTime="11179">web developer too. </span> <span class="line" data-startTime="11182">I hope so. </span> <span class="line" data-startTime="11184">And I would like to do that. </span> <span class="line" data-startTime="11187">So it would makes sense. </span> <span class="line" data-startTime="11187">But you basically just hit be </span><span class="line" data-startTime="11187">the other end of it, which is </span><span class="line" data-startTime="11192">we're just changing things at </span><span class="line" data-startTime="11192">such a rapid pace that for </span><span class="line" data-startTime="11195">somebody to bundle it and </span><span class="line" data-startTime="11195">serve it from their own </span><span class="line" data-startTime="11197">servers or whatever, </span><span class="line" data-startTime="11197">we can't do it. </span> <span class="line" data-startTime="11199">And this actually touches, a </span><span class="line" data-startTime="11199">little bit, on some of the </span><span class="line" data-startTime="11202">C3PO stuff. </span> <span class="line" data-startTime="11205">The idea is that if we had a </span><span class="line" data-startTime="11205">common library that ran on </span><span class="line" data-startTime="11207">your host page. </span> <span class="line" data-startTime="11208">And then you could bundlke </span><span class="line" data-startTime="11208">that part. </span></p>

<p><span class="line" data-startTime="11210">And then the stuff inside of </span><span class="line" data-startTime="11210">the frames could then do </span><span class="line" data-startTime="11212">whatever they wanted. </span> <span class="line" data-startTime="11212">You at least got that </span><span class="line" data-startTime="11212">much out of it. </span> <span class="line" data-startTime="11214">Even on that point, inevitably, </span><span class="line" data-startTime="11214">I might want to do </span><span class="line" data-startTime="11219">something different. </span> <span class="line" data-startTime="11219">And now I have to go around to </span><span class="line" data-startTime="11219">thousands of websites and say, </span><span class="line" data-startTime="11223">please update this library in </span><span class="line" data-startTime="11223">order for you to have the next </span><span class="line" data-startTime="11226">version of Disqus. </span> <span class="line" data-startTime="11227">And that is just such </span><span class="line" data-startTime="11227">a ridiculous pain </span><span class="line" data-startTime="11230">point, to go to &mdash; </span><span class="line" data-startTime="11233">the way that that scales is </span><span class="line" data-startTime="11233">that there's one of me and </span><span class="line" data-startTime="11234">there's thousands &mdash; </span><span class="line" data-startTime="11235">or think there's basically </span><span class="line" data-startTime="11235">millions of </span><span class="line" data-startTime="11237">websites with Disqus. </span></p>

<p><span class="line" data-startTime="11237">And to go and get all them to </span><span class="line" data-startTime="11237">upgrade all of their bundles </span><span class="line" data-startTime="11241">or whatever would be brutal. </span> <span class="line" data-startTime="11242">So that's just &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="11243"><span class="speakerName">Steve Thair</span>: So no. </span></p>

<p class="speaker"><span class="line" data-starttime="11244"><span class="speakerName">Ben Vinegar</span>:  &mdash; why </span><span class="line" data-startTime="11244">we don't explore. </span><span class="line" data-startTime="11245">So, no. </span></p>

<p class="speaker"><span class="line" data-starttime="11247"><span class="speakerName">Barbara Bermes</span>: As a publisher, </span><span class="line" data-startTime="11247">what we do, we have </span><span class="line" data-startTime="11249">all libraries like JQuery and </span><span class="line" data-startTime="11249">all that stuff, we know will </span><span class="line" data-startTime="11253">not change that often. </span><span class="line" data-startTime="11254">So we compile them or bundle </span><span class="line" data-startTime="11254">them up in one request. </span><span class="line" data-startTime="11257">But then of course, which </span><span class="line" data-startTime="11257">is the change that </span><span class="line" data-startTime="11259">could change it? </span><span class="line" data-startTime="11261">Any minute you've got to find </span><span class="line" data-startTime="11261">a solution for that. </span></p>

<p class="speaker"><span class="line" data-starttime="11265"><span class="speakerName">Steve Thair</span>: OK. </span></p>

<p class="speaker"><span class="line" data-starttime="11266"><span class="speakerName">Guy Podjarny</span>: We do some </span><span class="line" data-startTime="11266">proxying of third-party </span><span class="line" data-startTime="11268">content sometimes, and there's </span><span class="line" data-startTime="11268">a different flavor of it. </span> <span class="line" data-startTime="11270">So on the good side, if you </span><span class="line" data-startTime="11270">proxy third party content </span><span class="line" data-startTime="11273">through your servers, your CDN, </span><span class="line" data-startTime="11273">then you regain control </span><span class="line" data-startTime="11278">over some availability </span><span class="line" data-startTime="11278">test, over the </span><span class="line" data-startTime="11280">performance delivery of it. </span> <span class="line" data-startTime="11281">They may not be delivering it as </span><span class="line" data-startTime="11281">high-quality, or we're not </span><span class="line" data-startTime="11285">willing to spend as much on </span><span class="line" data-startTime="11285">the delivering controls </span><span class="line" data-startTime="11288">as you might be. </span> <span class="line" data-startTime="11289">Where that really runs </span><span class="line" data-startTime="11289">into an obstacle is </span><span class="line" data-startTime="11292">with things like tracking. </span> <span class="line" data-startTime="11293">So on Facebook, you could </span><span class="line" data-startTime="11293">probably pull that off with a </span><span class="line" data-startTime="11295">Facebook SDK, which is </span><span class="line" data-startTime="11295">generic and cachable. </span> <span class="line" data-startTime="11299">But you wouldn't be able to </span><span class="line" data-startTime="11299">do it with the iFrame that </span><span class="line" data-startTime="11302">figures out which of your </span><span class="line" data-startTime="11302">friends recommended this. </span></p>

<p><span class="line" data-startTime="11304">Because that requires some </span><span class="line" data-startTime="11304">special cookies. </span> <span class="line" data-startTime="11308">And once you move it off to </span><span class="line" data-startTime="11308">a different domain, those </span><span class="line" data-startTime="11310">cookies no longer get sent. </span> <span class="line" data-startTime="11313">So to me, if we are to do </span><span class="line" data-startTime="11313">something like a C3PO or some </span><span class="line" data-startTime="11316">equivalent of it, we </span><span class="line" data-startTime="11316">should tackle that. </span> <span class="line" data-startTime="11317">Because our assessment &mdash; we've </span><span class="line" data-startTime="11317">done some mass testing on it &mdash; </span><span class="line" data-startTime="11322">was that that really </span><span class="line" data-startTime="11322">qualifies a lot. </span> <span class="line" data-startTime="11325">In order to move something to </span><span class="line" data-startTime="11325">a different domain, you need </span><span class="line" data-startTime="11327">to be absolutely sure that </span><span class="line" data-startTime="11327">there would be no cookies </span><span class="line" data-startTime="11330">associated with that request. </span> <span class="line" data-startTime="11332">Or, even if you're doing cookies </span><span class="line" data-startTime="11332">syncing, there would </span><span class="line" data-startTime="11334">be no cookies other </span><span class="line" data-startTime="11334">than a session ID </span><span class="line" data-startTime="11336">cookie on that domain. </span> <span class="line" data-startTime="11338">And that's just a very </span><span class="line" data-startTime="11338">tough restriction. </span> <span class="line" data-startTime="11340">So we need to standardize how </span><span class="line" data-startTime="11340">that is being handled, if we </span><span class="line" data-startTime="11343">wanted to go down </span><span class="line" data-startTime="11343">to that path. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="11346"><span class="speakerName">Steve Thair</span>: I think we'll </span><span class="line" data-startTime="11346">come back to that 3PO and </span><span class="line" data-startTime="11349">shared cookie things in </span><span class="line" data-startTime="11349">a later question. </span><span class="line" data-startTime="11352">But I think there's an </span><span class="line" data-startTime="11352">interesting question there for </span><span class="line" data-startTime="11355">the browser vendors. </span><span class="line" data-startTime="11356">Have we actually made this </span><span class="line" data-startTime="11356">problem for ourselves because </span><span class="line" data-startTime="11358">we can't share cookies and </span><span class="line" data-startTime="11358">domains for security reasons? </span><span class="line" data-startTime="11361">We've actually created </span><span class="line" data-startTime="11361">this problem. </span><span class="line" data-startTime="11363">And there needs to be some </span><span class="line" data-startTime="11363">way to address it. </span><span class="line" data-startTime="11365">Because effectively, there's </span><span class="line" data-startTime="11365">an ecosystem of people that </span><span class="line" data-startTime="11368">want to share this data. </span><span class="line" data-startTime="11370">There is no effective mechanism, </span><span class="line" data-startTime="11370">that I'm aware of </span><span class="line" data-startTime="11372">anyway, that can do that. </span><span class="line" data-startTime="11375">Next question we've </span><span class="line" data-startTime="11375">got is from Wes. </span><span class="line" data-startTime="11379">Oh, Calvin? </span><span class="line" data-startTime="11380">Calvin? </span><span class="line" data-startTime="11380">Sorry, Calvin. </span></p>

<p class="speaker"><span class="line" data-starttime="11381"><span class="speakerName">Calvin Spealman</span>: The problem </span><span class="line" data-startTime="11381">with document write was </span><span class="line" data-startTime="11383">mentioned earlier. </span> <span class="line" data-startTime="11384">And the need to make sure your </span><span class="line" data-startTime="11384">async loaded scripts don't </span><span class="line" data-startTime="11388">have document.write tags. </span> <span class="line" data-startTime="11389">I work with an environment </span><span class="line" data-startTime="11389">where I have hundreds of </span><span class="line" data-startTime="11392">unknown vendors, including </span><span class="line" data-startTime="11392">third-party </span><span class="line" data-startTime="11394">scripts, at any time. </span> <span class="line" data-startTime="11395">And I have no way to ever vet </span><span class="line" data-startTime="11395">them all, because they come </span><span class="line" data-startTime="11398">from 150 different properties. </span> <span class="line" data-startTime="11400">And we currently use a tool </span><span class="line" data-startTime="11400">called write capture to </span><span class="line" data-startTime="11404">override what document.write </span><span class="line" data-startTime="11404">does and force asynchronous </span><span class="line" data-startTime="11408">loading of everything. </span> <span class="line" data-startTime="11409">And it's awful. </span></p>

<p><span class="line" data-startTime="11410">And when it breaks, it </span><span class="line" data-startTime="11410">gives me headaches </span><span class="line" data-startTime="11412">for months at a time. </span> <span class="line" data-startTime="11413">We can never get rid of that. </span> <span class="line" data-startTime="11417">My question is, can we </span><span class="line" data-startTime="11417">get rid of that? </span><span class="line" data-startTime="11418">Is there anything we can do so </span><span class="line" data-startTime="11418">that we can stop having to vet </span><span class="line" data-startTime="11421">these and know that they're </span><span class="line" data-startTime="11421">not going to do </span><span class="line" data-startTime="11423">document.write? </span><span class="line" data-startTime="11424">Because the surprise is awful </span><span class="line" data-startTime="11424">if it ever happens. </span></p>

<p class="speaker"><span class="line" data-starttime="11429"><span class="speakerName">Steve Thair</span>: So you want a </span><span class="line" data-startTime="11429">flag on the browser or </span><span class="line" data-startTime="11432">something to say, this is page </span><span class="line" data-startTime="11432">doesn't support document.write </span><span class="line" data-startTime="11435">or something. </span></p>

<p class="speaker"><span class="line" data-starttime="11436"><span class="speakerName">Calvin Spealman</span>: We add </span><span class="line" data-startTime="11436">APIs all the time. </span><span class="line" data-startTime="11438">Can we do the opposite </span><span class="line" data-startTime="11438">just once? </span><span class="line" data-startTime="11439">[LAUGHTER] </span></p>

<p class="speaker"><span class="line" data-starttime="11444"><span class="speakerName">Steve Thair</span>: So like that </span><span class="line" data-startTime="11444">Kill IE6 campaign. </span><span class="line" data-startTime="11448">You're just going to start a </span><span class="line" data-startTime="11448">website, Kill Document.write. </span></p>

<p class="speaker"><span class="line" data-starttime="11450"><span class="speakerName">Calvin Spealman</span>: I would be </span><span class="line" data-startTime="11450">very happy with that. </span></p>

<p class="speaker"><span class="line" data-starttime="11453"><span class="speakerName">Steve Thair</span>: Who here would </span><span class="line" data-startTime="11453">vote for that one? </span></p>

<p class="speaker"><span class="line" data-starttime="11456"><span class="speakerName">Ben Vinegar</span>: Wait, what </span><span class="line" data-startTime="11456">am I voting on? </span></p>

<p class="speaker"><span class="line" data-starttime="11458"><span class="speakerName">Steve Thair</span>: Kill </span><span class="line" data-startTime="11458">document.write. </span><span class="line" data-startTime="11459">Just get rid of it. </span></p>

<p class="speaker"><span class="line" data-starttime="11460"><span class="speakerName">Ben Vinegar</span>: Sure. </span><span class="line" data-startTime="11460">We could start a trade </span><span class="line" data-startTime="11460">association too, in which we </span><span class="line" data-startTime="11463">vet scripts. </span><span class="line" data-startTime="11464">I don't know. </span><span class="line" data-startTime="11466">I'm not being serious. </span><span class="line" data-startTime="11467">This is a terrible joke. </span><span class="line" data-startTime="11468">[LAUGHTER] </span></p>

<p class="speaker"><span class="line" data-starttime="11469"><span class="speakerName">Guy Podjarny</span>: So we do the </span><span class="line" data-startTime="11469">same thing, of the write </span><span class="line" data-startTime="11471">capture as part of the </span><span class="line" data-startTime="11471">optimizations we do in Akamai. </span><span class="line" data-startTime="11475">And I share your pain. </span><span class="line" data-startTime="11478">And I'd like to believe that </span><span class="line" data-startTime="11478">browser vendors should be able </span><span class="line" data-startTime="11482">to tackle that. </span><span class="line" data-startTime="11483">I don't know if any browser </span><span class="line" data-startTime="11483">vendor in the crowd </span><span class="line" data-startTime="11484">wants to chime in. </span><span class="line" data-startTime="11486">By doing some 90% accurate </span><span class="line" data-startTime="11486">version of the document.write, </span><span class="line" data-startTime="11491">just write that out in spot </span><span class="line" data-startTime="11491">where that scrips would have </span><span class="line" data-startTime="11493">been after the fact. </span><span class="line" data-startTime="11495">Because oftentimes, just killing </span><span class="line" data-startTime="11495">document.write or </span><span class="line" data-startTime="11497">trying to mark it </span><span class="line" data-startTime="11497">up in JavaScript </span><span class="line" data-startTime="11500">is the best we have. </span><span class="line" data-startTime="11501">So we use that where needed. </span><span class="line" data-startTime="11503">But it's extremely </span><span class="line" data-startTime="11503">far from ideal. </span></p>

<p class="speaker"><span class="line" data-starttime="11506"><span class="speakerName">Steve Thair</span>: We've got to move </span><span class="line" data-startTime="11506">on to the next question. </span><span class="line" data-startTime="11508">So the next question is </span><span class="line" data-startTime="11508">actually from Wes. </span></p>

<p class="speaker"><span class="line" data-starttime="11516"><span class="speakerName">Wesley Hales</span>: So Facebook has </span><span class="line" data-startTime="11516">recently taken steps to </span><span class="line" data-startTime="11518">optimize the scripts for its </span><span class="line" data-startTime="11518">embeddable Like button, which </span><span class="line" data-startTime="11521">I think you guys can speak to. </span><span class="line" data-startTime="11525">But how do we measure </span><span class="line" data-startTime="11525">the impact of </span><span class="line" data-startTime="11527">embedding these scripts? </span><span class="line" data-startTime="11528">And then a second part to this </span><span class="line" data-startTime="11528">question is, is the Web </span><span class="line" data-startTime="11531">Intents specification our only </span><span class="line" data-startTime="11531">hope to conquer app linking </span><span class="line" data-startTime="11538">and embedding these scripts? </span><span class="line" data-startTime="11540">Is Web Intents our hope for </span><span class="line" data-startTime="11540">not having these types of </span><span class="line" data-startTime="11547">Share buttons and scripts that </span><span class="line" data-startTime="11547">are included with those? </span></p>

<p class="speaker"><span class="line" data-starttime="11550"><span class="speakerName">Steve Thair</span>: Well, I might </span><span class="line" data-startTime="11550">throw this question to </span><span class="line" data-startTime="11552">Barbara, actually, </span><span class="line" data-startTime="11552">as a consumer. </span><span class="line" data-startTime="11554">Do you do performance testing? </span><span class="line" data-startTime="11558">Somebody comes to you and says, </span><span class="line" data-startTime="11558">I want to add this new </span><span class="line" data-startTime="11559">third-party script. </span><span class="line" data-startTime="11561">What you do to measure </span><span class="line" data-startTime="11561">the impact of that? </span></p>

<p class="speaker"><span class="line" data-starttime="11565"><span class="speakerName">Barbara Bermes</span>: I'm big </span><span class="line" data-startTime="11565">on performance. </span> <span class="line" data-startTime="11566">And obviously, I have issues </span><span class="line" data-startTime="11566">when 50% of our CBC desktop </span><span class="line" data-startTime="11571">site is serving third-party </span><span class="line" data-startTime="11571">scripts and the rest we are </span><span class="line" data-startTime="11575">serving to the customers </span><span class="line" data-startTime="11575">is just all content. </span> <span class="line" data-startTime="11578">So I do try to do that. </span> <span class="line" data-startTime="11580">It is very difficult for us to </span><span class="line" data-startTime="11580">make sure that all the content </span><span class="line" data-startTime="11584">areas at CBC know about it </span><span class="line" data-startTime="11584">and how to include it. </span> <span class="line" data-startTime="11589">So in terms of performance, </span><span class="line" data-startTime="11589">I do performance tests. </span> <span class="line" data-startTime="11592">Especially the AB, what happens </span><span class="line" data-startTime="11592">before putting the </span><span class="line" data-startTime="11595">script in versus after. </span> <span class="line" data-startTime="11597">And we've seen some really bad </span><span class="line" data-startTime="11597">incidents where ads or scripts </span><span class="line" data-startTime="11600">like that slow down our site. </span> <span class="line" data-startTime="11602">So to track those kind of </span><span class="line" data-startTime="11602">things and give them to </span><span class="line" data-startTime="11607">business and say, see, this </span><span class="line" data-startTime="11607">is what could happen. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="11611"><span class="speakerName">Steve Thair</span>: What about from </span><span class="line" data-startTime="11611">your side, Stoyan? </span><span class="line" data-startTime="11614">What do you do to make sure </span><span class="line" data-startTime="11614">yours is not so slow? </span></p>

<p class="speaker"><span class="line" data-starttime="11617"><span class="speakerName">Stoyan Stefanov</span>: When optimizing </span><span class="line" data-startTime="11617">the Like button, </span><span class="line" data-startTime="11619">then the only thing you can do </span><span class="line" data-startTime="11619">is write block post and say, </span><span class="line" data-startTime="11622">oh, see how the waterfall </span><span class="line" data-startTime="11622">is so nice now. </span></p>

<p class="speaker"><span class="line" data-starttime="11625"><span class="speakerName">Barbara Bermes</span>: But it was. </span><span class="line" data-startTime="11625">It is. </span><span class="line" data-startTime="11626">That was good. </span></p>

<p class="speaker"><span class="line" data-starttime="11630"><span class="speakerName">Stoyan Stefanov</span>: I don't think </span><span class="line" data-startTime="11630">we're doing anything to prove, </span><span class="line" data-startTime="11632">OK, I know how much it reduces </span><span class="line" data-startTime="11632">the average website and so on. </span><span class="line" data-startTime="11637">Just trying to do the best </span><span class="line" data-startTime="11637">thing and then let other </span><span class="line" data-startTime="11640">people measure and see how it </span><span class="line" data-startTime="11640">affects their websites. </span></p>

<p class="speaker"><span class="line" data-starttime="11647"><span class="speakerName">Steve Thair</span>: That's good. </span><span class="line" data-startTime="11648">Ben, you said earlier that you </span><span class="line" data-startTime="11648">do a lot of debugging of the </span><span class="line" data-startTime="11652">customers' websites because they </span><span class="line" data-startTime="11652">always blame you for the </span><span class="line" data-startTime="11654">performance issues. </span><span class="line" data-startTime="11655">So are there tools? </span><span class="line" data-startTime="11657">Are there Techniques </span><span class="line" data-startTime="11657">Are there tips? </span><span class="line" data-startTime="11658">Is there a methodology that you </span><span class="line" data-startTime="11658">follow to prove that it's </span><span class="line" data-startTime="11661">the sucky customer website and </span><span class="line" data-startTime="11661">not your awesome script? </span></p>

<p class="speaker"><span class="line" data-starttime="11666"><span class="speakerName">Ben Vinegar</span>: That is exactly </span><span class="line" data-startTime="11666">how I phrase it. </span><span class="line" data-startTime="11667">[LAUGHTER] </span></p>

<p class="speaker"><span class="line" data-starttime="11669"><span class="speakerName">Ben Vinegar</span>: Goes over </span><span class="line" data-startTime="11669">really well. </span> <span class="line" data-startTime="11673">There's a ton of techniques that </span><span class="line" data-startTime="11673">are pretty well-published </span><span class="line" data-startTime="11675">out there that I'm </span><span class="line" data-startTime="11675">probably using. </span> <span class="line" data-startTime="11680">I don't even know I was </span><span class="line" data-startTime="11680">saying "we" there. </span> <span class="line" data-startTime="11684">In my mind, a lot of these seem </span><span class="line" data-startTime="11684">like very tried and true </span><span class="line" data-startTime="11687">performance things. </span> <span class="line" data-startTime="11688">Like not binding </span><span class="line" data-startTime="11688">to, debouncing, </span><span class="line" data-startTime="11691">throttling, scroll handlers. </span> <span class="line" data-startTime="11693">Or something we do is we </span><span class="line" data-startTime="11693">render in chunks now. </span> <span class="line" data-startTime="11698">So we'll render five comments, </span><span class="line" data-startTime="11698">release to the browser. </span> <span class="line" data-startTime="11702">Render five comments, release </span><span class="line" data-startTime="11702">to the browser. </span> <span class="line" data-startTime="11704">We're very cognizant of just </span><span class="line" data-startTime="11704">never tying up the UI thread. </span> <span class="line" data-startTime="11711">I don't think that's something </span><span class="line" data-startTime="11711">that I can &mdash; </span><span class="line" data-startTime="11714">An individual widget developer </span><span class="line" data-startTime="11714">or third-party application </span><span class="line" data-startTime="11716">developer, they all </span><span class="line" data-startTime="11716">have to do that. </span></p>

<p><span class="line" data-startTime="11718">And I think the big issue is </span><span class="line" data-startTime="11718">that they don't, or it's just </span><span class="line" data-startTime="11722">all over the place as </span><span class="line" data-startTime="11722">to whether they do. </span> <span class="line" data-startTime="11725">I might be rambline here. </span> <span class="line" data-startTime="11726">You can bring me back. </span></p>

<p class="speaker"><span class="line" data-starttime="11728"><span class="speakerName">Steve Thair</span>: The question &mdash; </span><span class="line" data-startTime="11730">If we take an example of where </span><span class="line" data-startTime="11730">you said that you've proved </span><span class="line" data-startTime="11734">that it wasn't your script that </span><span class="line" data-startTime="11734">was blocking the site. </span><span class="line" data-startTime="11739">Was it something that the </span><span class="line" data-startTime="11739">customer was doing that was </span><span class="line" data-startTime="11741">impacting your script </span><span class="line" data-startTime="11741">in a negative way? </span><span class="line" data-startTime="11744">And how did you prove that? </span></p>

<p class="speaker"><span class="line" data-starttime="11749"><span class="speakerName">Ben Vinegar</span>: Actually, the last </span><span class="line" data-startTime="11749">time I was debugging a </span><span class="line" data-startTime="11750">site, I think I brought this on </span><span class="line" data-startTime="11750">myself, in the sense that I </span><span class="line" data-startTime="11754">was observing that Disqus </span><span class="line" data-startTime="11754">was slow when scrolling </span><span class="line" data-startTime="11757">through it on a blog. </span><span class="line" data-startTime="11759">And actually, I think today </span><span class="line" data-startTime="11759">that's actually a lot of CSS </span><span class="line" data-startTime="11761">performance. </span><span class="line" data-startTime="11762">Which is another topic </span><span class="line" data-startTime="11762">that I will address. </span><span class="line" data-startTime="11764">But so I was debugging our </span><span class="line" data-startTime="11764">scroll handlers, and figuring </span><span class="line" data-startTime="11766">out that in this case, the </span><span class="line" data-startTime="11766">parent website was not </span><span class="line" data-startTime="11772">throttling a scroll handler. </span><span class="line" data-startTime="11773">And they were activating it </span><span class="line" data-startTime="11773">as you went over Disqus. </span><span class="line" data-startTime="11776">So you would scroll down, and </span><span class="line" data-startTime="11776">it would actually chug a </span><span class="line" data-startTime="11778">little bit. </span><span class="line" data-startTime="11779">I don't remember the </span><span class="line" data-startTime="11779">purpose of it. </span><span class="line" data-startTime="11782">That's just a random anecdote </span><span class="line" data-startTime="11782">of something. </span></p>

<p class="speaker"><span class="line" data-starttime="11785"><span class="speakerName">Barbara Bermes</span>: Might be nice to </span><span class="line" data-startTime="11785">automate that somewhere on </span><span class="line" data-startTime="11789">your end, that you can say, OK, </span><span class="line" data-startTime="11789">Publisher A is not using </span><span class="line" data-startTime="11792">it properly. </span><span class="line" data-startTime="11792">Or don't blame us if </span><span class="line" data-startTime="11792">the site is slow. </span><span class="line" data-startTime="11798">We've got Matt May from Adobe. </span><span class="line" data-startTime="11799">Do you have a comment on how </span><span class="line" data-startTime="11799">you measure the impact of </span><span class="line" data-startTime="11802">these scripts? </span></p>

<p class="speaker"><span class="line" data-starttime="11807"><span class="speakerName">Matt May</span>: Actually, my </span><span class="line" data-startTime="11807">question's a different thing. </span></p>

<p class="speaker"><span class="line" data-starttime="11810"><span class="speakerName">Steve Thair</span>: Oh, well we'll </span><span class="line" data-startTime="11810">hold that question, then. </span><span class="line" data-startTime="11811">We'll try and stick </span><span class="line" data-startTime="11811">with the topic. </span></p>

<p class="speaker"><span class="line" data-starttime="11814"><span class="speakerName">Guy Podjarny</span>: I've got one </span><span class="line" data-startTime="11814">comment maybe to throw in, </span><span class="line" data-startTime="11817">which is that resource timing is </span><span class="line" data-startTime="11817">hopefully going to help us </span><span class="line" data-startTime="11823">identify in real users where </span><span class="line" data-startTime="11823">to lay the blame. </span><span class="line" data-startTime="11826">There are some security aspects </span><span class="line" data-startTime="11826">to resource timing. </span><span class="line" data-startTime="11829">But from my perspective, when </span><span class="line" data-startTime="11829">somebody comes Akamai and </span><span class="line" data-startTime="11831">says, you're not making my site </span><span class="line" data-startTime="11831">faster, sometimes the </span><span class="line" data-startTime="11836">purpose is to show that it's </span><span class="line" data-startTime="11836">actually the third party </span><span class="line" data-startTime="11838">that's on your page </span><span class="line" data-startTime="11838">that's the cause. </span><span class="line" data-startTime="11844">At least we put a lot of hope </span><span class="line" data-startTime="11844">in that front to give us </span><span class="line" data-startTime="11848">clarity about who's truly to </span><span class="line" data-startTime="11848">blame for the problem, and </span><span class="line" data-startTime="11853">therefore where should </span><span class="line" data-startTime="11853">the solution lie? </span></p>

<p class="speaker"><span class="line" data-starttime="11855"><span class="speakerName">Steve Thair</span>: Sergei? </span><span class="line" data-startTime="11855">Did you want to make </span><span class="line" data-startTime="11855">a comment? </span></p>

<p class="speaker"><span class="line" data-starttime="11860"><span class="speakerName">Sergei</span>: I've actually been </span><span class="line" data-startTime="11860">working for a while with </span><span class="line" data-startTime="11863">vendors that work with us on </span><span class="line" data-startTime="11863">enforcing the contract between </span><span class="line" data-startTime="11867">the groups. </span><span class="line" data-startTime="11869">And one of the lines was, never </span><span class="line" data-startTime="11869">use document.write. </span><span class="line" data-startTime="11874">And the question is, can we </span><span class="line" data-startTime="11874">create or promote this </span><span class="line" data-startTime="11880">contract between widget </span><span class="line" data-startTime="11880">providers, of different kinds </span><span class="line" data-startTime="11884">surely, and publishers. </span><span class="line" data-startTime="11886">And kind of help emerging </span><span class="line" data-startTime="11886">providers, which have to deal </span><span class="line" data-startTime="11891">with a lot, to follow that. </span><span class="line" data-startTime="11893">At the same time, probably </span><span class="line" data-startTime="11893">protect widget providers' </span><span class="line" data-startTime="11898">needs as well. </span></p>

<p class="speaker"><span class="line" data-starttime="11900"><span class="speakerName">Barbara Bermes</span>: I </span><span class="line" data-startTime="11900">would love that. </span><span class="line" data-startTime="11902">We talked about that. </span><span class="line" data-startTime="11903">Some sort of a policy. </span><span class="line" data-startTime="11904">And I would love to create a </span><span class="line" data-startTime="11904">policy that we could give to </span><span class="line" data-startTime="11908">the widget creators and say, </span><span class="line" data-startTime="11908">you follow those steps, we </span><span class="line" data-startTime="11911">would consider you using. </span><span class="line" data-startTime="11912">And I think it is important </span><span class="line" data-startTime="11912">to make that point. </span></p>

<p class="speaker"><span class="line" data-starttime="11917"><span class="speakerName">Guy Podjarny</span>: We may be able to </span><span class="line" data-startTime="11917">copy some of the security </span><span class="line" data-startTime="11918">policies we're doing. </span><span class="line" data-startTime="11919">We're talking about sandboxing </span><span class="line" data-startTime="11919">from that prospective. </span><span class="line" data-startTime="11921">Saying, well, I'm only giving </span><span class="line" data-startTime="11921">you a constrained access to </span><span class="line" data-startTime="11923">certain APIs. </span><span class="line" data-startTime="11924">You're not allowed to </span><span class="line" data-startTime="11924">use document.write. </span><span class="line" data-startTime="11926">It's just going to break. </span></p>

<p class="speaker"><span class="line" data-starttime="11928"><span class="speakerName">Stoyan Stefanov</span>: Well, there's </span><span class="line" data-startTime="11928">this organization called &mdash; </span><span class="line" data-startTime="11930">I forgot what the name was. </span><span class="line" data-startTime="11932">Interactive Advertising Bureau, </span><span class="line" data-startTime="11932">something like this. </span></p>

<p class="speaker"><span class="line" data-starttime="11935"><span class="speakerName">Steve Thair</span>: The IAB. </span></p>

<p class="speaker"><span class="line" data-starttime="11936"><span class="speakerName">Stoyan Stefanov</span>: IAB. </span><span class="line" data-startTime="11936">They've released a document </span><span class="line" data-startTime="11936">saying, related to ads, saying </span><span class="line" data-startTime="11940">these are the best practices </span><span class="line" data-startTime="11940">for ads. </span><span class="line" data-startTime="11942">That kind of stuff. </span><span class="line" data-startTime="11943">So do we need something </span><span class="line" data-startTime="11943">similar for widgets? </span></p>

<p class="speaker"><span class="line" data-starttime="11945"><span class="speakerName">Guy Podjarny</span>: Or just </span><span class="line" data-startTime="11945">enforcement </span><span class="line" data-startTime="11946">of it in the browser. </span></p>

<p class="speaker"><span class="line" data-starttime="11949"><span class="speakerName">Stoyan Stefanov</span>: But I don't </span><span class="line" data-startTime="11949">think there is any, OK this is </span><span class="line" data-startTime="11951">the checklist that you have to </span><span class="line" data-startTime="11951">follow, otherwise you're not </span><span class="line" data-startTime="11954">given an A. </span></p>

<p class="speaker"><span class="line" data-starttime="11958"><span class="speakerName">Steve Thair</span>: OK. </span><span class="line" data-startTime="11958">So we'll switch on to </span><span class="line" data-startTime="11958">the next topic. </span><span class="line" data-startTime="11961">Markus? </span><span class="line" data-startTime="11962">Marquis? </span><span class="line" data-startTime="11966">Stand up. </span></p>

<p class="speaker"><span class="line" data-starttime="11976"><span class="speakerName">Audience</span>: So this is an </span><span class="line" data-startTime="11976">anonymous question. </span><span class="line" data-startTime="11979">"The growing use of third-party </span><span class="line" data-startTime="11979">services means web </span><span class="line" data-startTime="11982">pages today consume content </span><span class="line" data-startTime="11982">from over 16 domains on </span><span class="line" data-startTime="11984">average, creating performance </span><span class="line" data-startTime="11984">and reliability problems. </span><span class="line" data-startTime="11988">SPDY and HTTP2 work per </span><span class="line" data-startTime="11988">domain and don't help. </span><span class="line" data-startTime="11992">Can we share connections or </span><span class="line" data-startTime="11992">delivery across third </span><span class="line" data-startTime="11995">parties?" </span></p>

<p class="speaker"><span class="line" data-starttime="11998"><span class="speakerName">Steve Thair</span>: So I guess </span><span class="line" data-startTime="11998">this is the point to </span><span class="line" data-startTime="12000">discuss, the 3PO idea. </span><span class="line" data-startTime="12003">And particularly when </span><span class="line" data-startTime="12003">the [INAUDIBLE] </span><span class="line" data-startTime="12009">a lot with this is like </span><span class="line" data-startTime="12009">affiliate tracking, and you're </span><span class="line" data-startTime="12011">trying to attribute </span><span class="line" data-startTime="12011">the affiliate </span><span class="line" data-startTime="12014">referral fee to somebody. </span><span class="line" data-startTime="12016">And so all of these affiliates </span><span class="line" data-startTime="12016">are coming from different </span><span class="line" data-startTime="12018">domains and different affiliate </span><span class="line" data-startTime="12018">tracking networks. </span><span class="line" data-startTime="12021">And I've got to have that </span><span class="line" data-startTime="12021">script on my page. </span><span class="line" data-startTime="12024">It's part of the business </span><span class="line" data-startTime="12024">model of the customer. </span><span class="line" data-startTime="12027">But if all of these things were </span><span class="line" data-startTime="12027">put into one centralized </span><span class="line" data-startTime="12030">domain, or there was an </span><span class="line" data-startTime="12030">effective mechanism for </span><span class="line" data-startTime="12033">sharing synchronizing the </span><span class="line" data-startTime="12033">cookies across the domains, </span><span class="line" data-startTime="12037">that would help me a lot. </span><span class="line" data-startTime="12038">Is that something </span><span class="line" data-startTime="12038">that we can do? </span><span class="line" data-startTime="12041">Or do you think that's never </span><span class="line" data-startTime="12041">going to happen? </span></p>

<p class="speaker"><span class="line" data-starttime="12045"><span class="speakerName">Stoyan Stefanov</span>: I really </span><span class="line" data-startTime="12045">like the idea. </span><span class="line" data-startTime="12048">There's many things that </span><span class="line" data-startTime="12048">we can optimize. </span><span class="line" data-startTime="12050">First is the script that writes </span><span class="line" data-startTime="12050">whatever the widget is </span><span class="line" data-startTime="12053">doing, the iFrame, and so on. </span><span class="line" data-startTime="12055">So having this as packaged </span><span class="line" data-startTime="12055">together with the publisher's </span><span class="line" data-startTime="12060">script sounds great. </span><span class="line" data-startTime="12061">We have to make sure that it's </span><span class="line" data-startTime="12061">absolutely future-proof. </span><span class="line" data-startTime="12064">Because people might not upgrade </span><span class="line" data-startTime="12064">it once they get it </span><span class="line" data-startTime="12068">off of GitHub. </span><span class="line" data-startTime="12070">And then the other thing about a </span><span class="line" data-startTime="12070">common domain is right after </span><span class="line" data-startTime="12074">you have already written the </span><span class="line" data-startTime="12074">iFrame or the static resources </span><span class="line" data-startTime="12078">on that iFrame, could they be </span><span class="line" data-startTime="12078">sharing the same domain? </span><span class="line" data-startTime="12082">That'd be cool. </span><span class="line" data-startTime="12084">So you still have to make a </span><span class="line" data-startTime="12084">request to the third-party </span><span class="line" data-startTime="12087">provider to get the HTML, </span><span class="line" data-startTime="12087">any loggings, and </span><span class="line" data-startTime="12090">that kind of stuff. </span><span class="line" data-startTime="12090">But when it comes to static </span><span class="line" data-startTime="12090">resources, why not? </span></p>

<p class="speaker"><span class="line" data-starttime="12097"><span class="speakerName">Ben Vinegar</span>: So with idea, maybe </span><span class="line" data-startTime="12097">we have a 3PJS CDN.com, </span><span class="line" data-startTime="12101">and we have </span><span class="line" data-startTime="12101">3PJS/Facebook/Disqus. </span><span class="line" data-startTime="12106">And that's where we put our </span><span class="line" data-startTime="12106">static stuff, and then we </span><span class="line" data-startTime="12108">benefit from having </span><span class="line" data-startTime="12108">a single domain? </span><span class="line" data-startTime="12109">Is that basically the idea? </span><span class="line" data-startTime="12112">Try and help me understand </span><span class="line" data-startTime="12112">here. </span></p>

<p class="speaker"><span class="line" data-starttime="12114"><span class="speakerName">Guy Podjarny</span>: I think there's </span><span class="line" data-startTime="12114">two aspects of it. </span><span class="line" data-startTime="12116">There's the standardizing of how </span><span class="line" data-startTime="12116">something gets included on </span><span class="line" data-startTime="12118">the page, which would help </span><span class="line" data-startTime="12118">alleviate some of the concern </span><span class="line" data-startTime="12121">with [INAUDIBLE] </span><span class="line" data-startTime="12122">third parties, or third parties </span><span class="line" data-startTime="12122">that don't put as much </span><span class="line" data-startTime="12125">effort into it. </span><span class="line" data-startTime="12126">And then there's the delivery </span><span class="line" data-startTime="12126">aspect, which was around. </span><span class="line" data-startTime="12130">Yeah, having some shared &mdash; </span><span class="line" data-startTime="12135">The ideal would be maybe </span><span class="line" data-startTime="12135">a single domain. </span><span class="line" data-startTime="12137">There are all sorts of security </span><span class="line" data-startTime="12137">aspects to putting </span><span class="line" data-startTime="12139">content from multiple providers </span><span class="line" data-startTime="12139">on the same domain. </span><span class="line" data-startTime="12141">So that might not </span><span class="line" data-startTime="12141">be an option. </span><span class="line" data-startTime="12143">So maybe at the very least, </span><span class="line" data-startTime="12143">that there's shared </span><span class="line" data-startTime="12144">connections for those components </span><span class="line" data-startTime="12144">to deliver them, </span><span class="line" data-startTime="12151">where possible, through </span><span class="line" data-startTime="12151">the same entity. </span></p>

<p class="speaker"><span class="line" data-starttime="12155"><span class="speakerName">Steve Thair</span>: So much this has </span><span class="line" data-startTime="12155">to be done client-side, </span><span class="line" data-startTime="12158">because it inherently wants to </span><span class="line" data-startTime="12158">read a cookie to find what </span><span class="line" data-startTime="12162">other website that you went to </span><span class="line" data-startTime="12162">so I can do my affiliate </span><span class="line" data-startTime="12164">tracking and things like that. </span><span class="line" data-startTime="12167">If we had some kind of shared </span><span class="line" data-startTime="12167">mechanism, could we move a lot </span><span class="line" data-startTime="12170">of this service-side? </span><span class="line" data-startTime="12171">Are there any effective </span><span class="line" data-startTime="12171">service-side solutions? </span><span class="line" data-startTime="12173">So I can just take all the </span><span class="line" data-startTime="12173">scripts off my page. </span><span class="line" data-startTime="12177">Is that feasible? </span><span class="line" data-startTime="12178">What would we need to be able </span><span class="line" data-startTime="12178">to move some of this stuff </span><span class="line" data-startTime="12180">service-side? </span></p>

<p class="speaker"><span class="line" data-starttime="12182"><span class="speakerName">Guy Podjarny</span>: Well, for the </span><span class="line" data-startTime="12182">server to be able to pull in </span><span class="line" data-startTime="12188">content from multiple domains, </span><span class="line" data-startTime="12188">for starters, for many of </span><span class="line" data-startTime="12192">these third-party services, </span><span class="line" data-startTime="12192">you would need some cookie </span><span class="line" data-startTime="12195">syncing capability. </span> <span class="line" data-startTime="12195">Because they track </span><span class="line" data-startTime="12195">different IDs. </span> <span class="line" data-startTime="12197">The cookie syncing is a </span><span class="line" data-startTime="12197">solved problem in ads, </span><span class="line" data-startTime="12199">so that can be done. </span> <span class="line" data-startTime="12201">But then the second problem </span><span class="line" data-startTime="12201">is non-ID cookies. </span> <span class="line" data-startTime="12204">And that's not at all </span><span class="line" data-startTime="12204">a solved problem. </span> <span class="line" data-startTime="12206">So we would need, basically, </span><span class="line" data-startTime="12206">a commitment from anybody </span><span class="line" data-startTime="12208">participating in this, from the </span><span class="line" data-startTime="12208">Facebooks and Disqus of </span><span class="line" data-startTime="12212">the world, to say, I will keep </span><span class="line" data-startTime="12212">everything server-side. </span></p>

<p><span class="line" data-startTime="12216">Maybe even provide </span><span class="line" data-startTime="12216">some supporting </span><span class="line" data-startTime="12217">mechanisms for that. </span> <span class="line" data-startTime="12219">And work fully on </span><span class="line" data-startTime="12219">a session ID. </span> <span class="line" data-startTime="12222">And then, of course, then the </span><span class="line" data-startTime="12222">politics kick in about who </span><span class="line" data-startTime="12223">owns that ID. </span> <span class="line" data-startTime="12224">But we'll leave that </span><span class="line" data-startTime="12224">part for later. </span> <span class="line" data-startTime="12229">And on top of all of those, you </span><span class="line" data-startTime="12229">would need the browser to </span><span class="line" data-startTime="12231">share connections if you didn't </span><span class="line" data-startTime="12231">literally land on the </span><span class="line" data-startTime="12233">same domain. </span> <span class="line" data-startTime="12234">So you'd need to somehow </span><span class="line" data-startTime="12234">have the browsers play </span><span class="line" data-startTime="12237">ball on that front. </span></p>

<p class="speaker"><span class="line" data-starttime="12239"><span class="speakerName">Barbara Bermes</span>: And of course </span><span class="line" data-startTime="12239">for the publisher, it would be </span><span class="line" data-startTime="12240">great to just include something, </span><span class="line" data-startTime="12240">or run a script </span><span class="line" data-startTime="12242">somewhere, and include all </span><span class="line" data-startTime="12242">the things that you need. </span><span class="line" data-startTime="12245">So that would help, for sure. </span></p>

<p class="speaker"><span class="line" data-starttime="12248"><span class="speakerName">Guy Podjarny</span>: I would say there </span><span class="line" data-startTime="12248">is a lower bar around </span><span class="line" data-startTime="12250">sharing, at least. </span><span class="line" data-startTime="12251">Delivering them from a standard </span><span class="line" data-startTime="12252">component for providers. </span><span class="line" data-startTime="12254">So if providers had an easy way </span><span class="line" data-startTime="12254">to know which resources of </span><span class="line" data-startTime="12259">their third parties are things </span><span class="line" data-startTime="12259">that they could pull in to </span><span class="line" data-startTime="12261">their content, then </span><span class="line" data-startTime="12261">I think that would </span><span class="line" data-startTime="12264">be a big step forward. </span><span class="line" data-startTime="12264">We had to do conversations with </span><span class="line" data-startTime="12264">Facebook, with Google, </span><span class="line" data-startTime="12267">with various others to learn </span><span class="line" data-startTime="12267">that, I believe the Google </span><span class="line" data-startTime="12269">Analytics JavaScript library, </span><span class="line" data-startTime="12269">the Facebook SDK, those </span><span class="line" data-startTime="12272">components are static. </span><span class="line" data-startTime="12273">But you basically don't know </span><span class="line" data-startTime="12273">those without a very explicit </span><span class="line" data-startTime="12276">statement from the third-party </span><span class="line" data-startTime="12276">vendors. </span></p>

<p class="speaker"><span class="line" data-starttime="12285"><span class="speakerName">Steve Thair</span>: No questions? </span><span class="line" data-startTime="12287">No comments? </span><span class="line" data-startTime="12287">OK, we'll move straight </span><span class="line" data-startTime="12287">onto the next one. </span><span class="line" data-startTime="12290">Andre Behrens? </span></p>

<p class="speaker"><span class="line" data-starttime="12296"><span class="speakerName">Andre Behrens</span>: Hi. </span><span class="line" data-startTime="12296">And this is an anonymous </span><span class="line" data-startTime="12296">question. </span><span class="line" data-startTime="12298">"If a blocking script is loaded </span><span class="line" data-startTime="12298">from a domain that goes </span><span class="line" data-startTime="12301">down, this will cause my </span><span class="line" data-startTime="12301">page to fail to load. </span><span class="line" data-startTime="12303">How can we test and/or </span><span class="line" data-startTime="12303">address the single </span><span class="line" data-startTime="12305">point of failure issue? </span><span class="line" data-startTime="12309">I guess I'll go to Barbara. </span><span class="line" data-startTime="12311">Single points of failure? </span></p>

<p class="speaker"><span class="line" data-starttime="12312"><span class="speakerName">Barbara Bermes</span>: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="12313"><span class="speakerName">Steve Thair</span>: Is this </span><span class="line" data-startTime="12313">a real problem that </span><span class="line" data-startTime="12314">affects your website? </span></p>

<p class="speaker"><span class="line" data-starttime="12315"><span class="speakerName">Barbara Bermes</span>: Yeah. </span> <span class="line" data-startTime="12316">I would say so. </span> <span class="line" data-startTime="12317">And I see, sometimes, even </span><span class="line" data-startTime="12317">script being not properly </span><span class="line" data-startTime="12320">included on the CBC domain. </span> <span class="line" data-startTime="12323">Literally, ad hoc, you could </span><span class="line" data-startTime="12323">use Pat's SPOF-O-matic to </span><span class="line" data-startTime="12327">check how your site is behaving </span><span class="line" data-startTime="12329">with third-party scripts. </span> <span class="line" data-startTime="12330">I also like SPOFCheck. </span> <span class="line" data-startTime="12333">I think the eBay team did that, </span><span class="line" data-startTime="12333">so you can pull it into </span><span class="line" data-startTime="12336">your continuous integration. </span> <span class="line" data-startTime="12337">So when somebody develops </span><span class="line" data-startTime="12337">something, we could right away </span><span class="line" data-startTime="12342">figure out that they're </span><span class="line" data-startTime="12343">including scripts not properly. </span> <span class="line" data-startTime="12344">And then avoid that </span><span class="line" data-startTime="12344">potential failure. </span> <span class="line" data-startTime="12347">And we've had happening </span><span class="line" data-startTime="12347">as well. </span> <span class="line" data-startTime="12349">Even, I think, last </span><span class="line" data-startTime="12349">week with ads. </span> <span class="line" data-startTime="12351">Where something was not properly </span><span class="line" data-startTime="12351">included, and we got </span><span class="line" data-startTime="12355">some bad hits for that. </span></p>

<p class="speaker"><span class="line" data-starttime="12360"><span class="speakerName">Stoyan Stefanov</span>: So you were </span><span class="line" data-startTime="12360">able to check during the build </span><span class="line" data-startTime="12362">process that somebody somewhere </span><span class="line" data-startTime="12362">included a block &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="12365"><span class="speakerName">Barbara Bermes</span>: Yeah, exactly. </span> <span class="line" data-startTime="12366">So it literally checks </span><span class="line" data-startTime="12366">for script. </span> <span class="line" data-startTime="12368">And if you just put </span><span class="line" data-startTime="12368">it wherever it is, </span><span class="line" data-startTime="12370">it's really cool tool. </span> <span class="line" data-startTime="12372">There's even, I think, a </span><span class="line" data-startTime="12372">Grunt plugin as well </span><span class="line" data-startTime="12374">that you can use. </span> <span class="line" data-startTime="12376">I would love to have those </span><span class="line" data-startTime="12376">kinds of things more </span><span class="line" data-startTime="12377">integrated in our deployment. </span> <span class="line" data-startTime="12379">So that basically, as </span><span class="line" data-startTime="12379">a developer, you </span><span class="line" data-startTime="12382">can almost be dumb. </span></p>

<p><span class="line" data-startTime="12383">You just don't have </span><span class="line" data-startTime="12383">to think about it. </span> <span class="line" data-startTime="12385">And we catch that, and we're </span><span class="line" data-startTime="12385">not able to deploy stuff. </span></p>

<p class="speaker"><span class="line" data-starttime="12389"><span class="speakerName">Guy Podjarny</span>: It's important </span><span class="line" data-startTime="12389">to clarify that the SPOF is </span><span class="line" data-startTime="12392">the extreme scenario, this </span><span class="line" data-startTime="12392">website is down. </span> <span class="line" data-startTime="12395">And maybe a slightly </span><span class="line" data-startTime="12395">more rare one. </span> <span class="line" data-startTime="12397">But a mini-version of </span><span class="line" data-startTime="12397">it happens every </span><span class="line" data-startTime="12398">time the page is loaded. </span> <span class="line" data-startTime="12399">Any one of these blockers is </span><span class="line" data-startTime="12399">also some sort of delay, some </span><span class="line" data-startTime="12402">sort of resource contention </span><span class="line" data-startTime="12402">for each </span><span class="line" data-startTime="12403">one of those resources. </span> <span class="line" data-startTime="12405">So sometimes, the conversation </span><span class="line" data-startTime="12405">comes into, nah, Facebook's </span><span class="line" data-startTime="12408">not going to go down. </span> <span class="line" data-startTime="12409">Which is a different </span><span class="line" data-startTime="12409">conversation. </span></p>

<p><span class="line" data-startTime="12412">But there is always a little bit </span><span class="line" data-startTime="12412">of a penalty, even for the </span><span class="line" data-startTime="12415">most cutting-edge </span><span class="line" data-startTime="12415">third parties. </span> <span class="line" data-startTime="12417">So getting them out of </span><span class="line" data-startTime="12417">the line of fire is </span><span class="line" data-startTime="12419">always a good idea. </span></p>

<p class="speaker"><span class="line" data-starttime="12421"><span class="speakerName">Stoyan Stefanov</span>: What I was </span><span class="line" data-startTime="12421">saying is, it may not be down, </span><span class="line" data-startTime="12424">but it may be blocked </span><span class="line" data-startTime="12424">in the company. </span><span class="line" data-startTime="12427">You don't want people on </span><span class="line" data-startTime="12427">Facebook during working </span><span class="line" data-startTime="12430">hours and so on. </span><span class="line" data-startTime="12430">So you effectively destroy the </span><span class="line" data-startTime="12430">website, because Facebook is </span><span class="line" data-startTime="12435">blocked for some reason. </span></p>

<p class="speaker"><span class="line" data-starttime="12437"><span class="speakerName">Steve Thair</span>: Kyle Kinneman, </span><span class="line" data-startTime="12437">you had a &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="12439"><span class="speakerName">Kyle</span>: It's been answered. </span></p>

<p class="speaker"><span class="line" data-starttime="12439"><span class="speakerName">Steve Thair</span>: It's </span><span class="line" data-startTime="12439">been answered? </span><span class="line" data-startTime="12440">OK. </span><span class="line" data-startTime="12441">Cool. </span></p>

<p class="speaker"><span class="line" data-starttime="12442"><span class="speakerName">Ben Vinegar</span>: I was just going </span><span class="line" data-startTime="12442">to add really quickly that, </span><span class="line" data-startTime="12444">other than the case where </span><span class="line" data-startTime="12444">somebody just puts in a </span><span class="line" data-startTime="12447">blocking script tag. </span> <span class="line" data-startTime="12448">There's that problem. </span> <span class="line" data-startTime="12449">I do think that third-party </span><span class="line" data-startTime="12449">applications and third-party </span><span class="line" data-startTime="12452">scripts, we absolutely have </span><span class="line" data-startTime="12452">to be good citizens. </span> <span class="line" data-startTime="12455">And we have to work in </span><span class="line" data-startTime="12455">situations where stuff is down </span><span class="line" data-startTime="12458">or wherever. </span> <span class="line" data-startTime="12460">I know that a big push that </span><span class="line" data-startTime="12460">we're making in our company is </span><span class="line" data-startTime="12462">that if Disqus goes down, we </span><span class="line" data-startTime="12462">at least want you to see </span><span class="line" data-startTime="12465">static comments that </span><span class="line" data-startTime="12465">are not dynamic. </span> <span class="line" data-startTime="12470">The server's not to listen to, </span><span class="line" data-startTime="12470">because maybe it's blowing up. </span> <span class="line" data-startTime="12472">But at least you can </span><span class="line" data-startTime="12472">read comments. </span> <span class="line" data-startTime="12473">And for all intents and </span><span class="line" data-startTime="12473">purposes, that's just static. </span> <span class="line" data-startTime="12476">It's from a CDN, and </span><span class="line" data-startTime="12476">things look OK. </span> <span class="line" data-startTime="12480">But this is just stuff </span><span class="line" data-startTime="12480">that we have to do. </span></p>

<p><span class="line" data-startTime="12484">And I don't know if there's just </span><span class="line" data-startTime="12484">a hammer that everybody </span><span class="line" data-startTime="12488">can just use for that. </span></p>

<p class="speaker"><span class="line" data-starttime="12489"><span class="speakerName">Stoyan Stefanov</span>: If everybody </span><span class="line" data-startTime="12489">did that, we would be </span><span class="line" data-startTime="12491">definitely better off. </span></p>

<p class="speaker"><span class="line" data-starttime="12492"><span class="speakerName">Barbara Bermes</span>: Yeah. </span><span class="line" data-startTime="12492">And of course I appreciate </span><span class="line" data-startTime="12492">those things </span><span class="line" data-startTime="12494">that providers do. </span><span class="line" data-startTime="12497">One of the other challenges we </span><span class="line" data-startTime="12497">have is will editors finding </span><span class="line" data-startTime="12502">news be able to include </span><span class="line" data-startTime="12502">widgets? </span><span class="line" data-startTime="12504">And they literally take them </span><span class="line" data-startTime="12504">from a website, not thinking </span><span class="line" data-startTime="12508">how to properly include it. </span><span class="line" data-startTime="12510">Those are the challenges for </span><span class="line" data-startTime="12510">us, also, to sandbox that. </span></p>

<p class="speaker"><span class="line" data-starttime="12516"><span class="speakerName">Stoyan Stefanov</span>: Something </span><span class="line" data-startTime="12516">that [INAUDIBLE] </span><span class="line" data-startTime="12517">from your comment, I'd really </span><span class="line" data-startTime="12517">love to ask people to write </span><span class="line" data-startTime="12522">block posts and do research </span><span class="line" data-startTime="12522">and put us to shame. </span><span class="line" data-startTime="12528">Just to keep the third-party </span><span class="line" data-startTime="12528">providers in check. </span><span class="line" data-startTime="12530">And say, oh, this is horrible. </span><span class="line" data-startTime="12533">So if you see if you see some </span><span class="line" data-startTime="12533">third-party provider that </span><span class="line" data-startTime="12536">doesn't provide asynchronous </span><span class="line" data-startTime="12536">[INAUDIBLE], </span><span class="line" data-startTime="12538">make noise about it. </span></p>

<p class="speaker"><span class="line" data-starttime="12541"><span class="speakerName">Steve Thair</span>: I think </span><span class="line" data-startTime="12541">it's probably an </span><span class="line" data-startTime="12541">important thing to mention. </span> <span class="line" data-startTime="12542">Is that not you're </span><span class="line" data-startTime="12542">not necessarily </span><span class="line" data-startTime="12544">always criticizing them. </span> <span class="line" data-startTime="12545">What you're actually doing is </span><span class="line" data-startTime="12545">giving them the opportunity to </span><span class="line" data-startTime="12548">go to their boss and say, look, </span><span class="line" data-startTime="12548">all these people are </span><span class="line" data-startTime="12550">complaining about it. </span> <span class="line" data-startTime="12550">And that's a really effective </span><span class="line" data-startTime="12550">mechanism for them to get the </span><span class="line" data-startTime="12554">resources they need. </span> <span class="line" data-startTime="12555">A lot of these guys </span><span class="line" data-startTime="12555">are providers. </span> <span class="line" data-startTime="12557">They want to fix the problem, </span><span class="line" data-startTime="12557">but they've got competing </span><span class="line" data-startTime="12559">business priorities. </span></p>

<p><span class="line" data-startTime="12560">If you're out there making a </span><span class="line" data-startTime="12560">lot of noise about it, it </span><span class="line" data-startTime="12562">suddenly becomes a business </span><span class="line" data-startTime="12562">priority. </span> <span class="line" data-startTime="12563">And you really help </span><span class="line" data-startTime="12563">them to address. </span> <span class="line" data-startTime="12566">We've only got about </span><span class="line" data-startTime="12566">four minutes left. </span> <span class="line" data-startTime="12568">I'm actually going to skip </span><span class="line" data-startTime="12568">one question, which </span><span class="line" data-startTime="12569">we'll come back to. </span> <span class="line" data-startTime="12571">Because I really want </span><span class="line" data-startTime="12571">to get question </span><span class="line" data-startTime="12572">number seven answered. </span> <span class="line" data-startTime="12575">Which, from Rahul Choudhary? </span><span class="line" data-startTime="12577">Cho-dari? </span></p>

<p class="speaker"><span class="line" data-starttime="12586"><span class="speakerName">Rahul Choudhary</span>: So this is </span><span class="line" data-startTime="12586">another anonymous question. </span><span class="line" data-startTime="12589">"What could the browser vendors </span><span class="line" data-startTime="12589">provide to eliminate </span><span class="line" data-startTime="12591">third-party scripts and the </span><span class="line" data-startTime="12591">problems associated with </span><span class="line" data-startTime="12593">them?" I don't really agree </span><span class="line" data-startTime="12593">with this question. </span><span class="line" data-startTime="12597">[LAUGHTER] </span></p>

<p class="speaker"><span class="line" data-starttime="12602"><span class="speakerName">Steve Thair</span>: We've got people </span><span class="line" data-startTime="12602">from the Chrome team. </span><span class="line" data-startTime="12604">We've got people from Mozilla. </span><span class="line" data-startTime="12605">We've got people &mdash; </span><span class="line" data-startTime="12607">I'd be very interested </span><span class="line" data-startTime="12607">to hear from those. </span><span class="line" data-startTime="12609">But if you could have one thing </span><span class="line" data-startTime="12609">from a browser vendor </span><span class="line" data-startTime="12612">guy to help address this </span><span class="line" data-startTime="12612">problem, what would it be? </span></p>

<p class="speaker"><span class="line" data-starttime="12617"><span class="speakerName">Guy Podjarny</span>: My number one </span><span class="line" data-startTime="12617">would probably be the script </span><span class="line" data-startTime="12619">dependencies. </span><span class="line" data-startTime="12619">Document.write a close second. </span><span class="line" data-startTime="12622">The ability to group async. </span></p>

<p class="speaker"><span class="line" data-starttime="12625"><span class="speakerName">Steve Thair</span>: Barbara? </span></p>

<p class="speaker"><span class="line" data-starttime="12625"><span class="speakerName">Barbara Bermes</span>: Actually, same. </span><span class="line" data-startTime="12626">Same. </span><span class="line" data-startTime="12626">The document.write issue. </span></p>

<p class="speaker"><span class="line" data-starttime="12631"><span class="speakerName">Stoyan Stefanov</span>: I like </span><span class="line" data-startTime="12631">the browsers. </span><span class="line" data-startTime="12632">They're my favorite. </span></p>

<p class="speaker"><span class="line" data-starttime="12634"><span class="speakerName">Ben Vinegar</span>: I could </span><span class="line" data-startTime="12634">probably go off on </span><span class="line" data-startTime="12636">this for a long time. </span></p>

<p class="speaker"><span class="line" data-starttime="12638"><span class="speakerName">Steve Thair</span>: Please do. </span></p>

<p class="speaker"><span class="line" data-starttime="12639"><span class="speakerName">Ben Vinegar</span>: So starting on </span><span class="line" data-startTime="12639">setup, basically the way that </span><span class="line" data-startTime="12640">most complex widgets work today </span><span class="line" data-startTime="12640">is there's a script runs </span><span class="line" data-startTime="12643">on the host page, and it usually </span><span class="line" data-startTime="12643">opens up an iFrame </span><span class="line" data-startTime="12645">that communicate with </span><span class="line" data-startTime="12645">each other. </span> <span class="line" data-startTime="12646">And in a perfect world, I would </span><span class="line" data-startTime="12646">love if Disqus was just </span><span class="line" data-startTime="12650">an iFrame, and there was </span><span class="line" data-startTime="12650">that separation. </span> <span class="line" data-startTime="12653">Everyone could feel confident </span><span class="line" data-startTime="12653">about it. </span> <span class="line" data-startTime="12654">And that would be </span><span class="line" data-startTime="12654">the contract. </span> <span class="line" data-startTime="12656">You know it's in the iFrame. </span> <span class="line" data-startTime="12656">You know it's not going </span><span class="line" data-startTime="12656">to escape the iFrame. </span> <span class="line" data-startTime="12658">But the problem is that the </span><span class="line" data-startTime="12658">tools for making that happen </span><span class="line" data-startTime="12663">are just nonexistent. </span> <span class="line" data-startTime="12666">There are tons of &mdash; </span><span class="line" data-startTime="12667">I won't say tons. </span></p>

<p><span class="line" data-startTime="12668">But there are things that are </span><span class="line" data-startTime="12668">being developed right now for </span><span class="line" data-startTime="12670">further isolating iFrames. </span> <span class="line" data-startTime="12672">There is the Sandbox </span><span class="line" data-startTime="12672">attribute. </span> <span class="line" data-startTime="12674">Let's really break </span><span class="line" data-startTime="12674">down this iFrame. </span> <span class="line" data-startTime="12678">There's no tools that are being </span><span class="line" data-startTime="12678">developed from the other </span><span class="line" data-startTime="12680">perspective, which are, let me </span><span class="line" data-startTime="12680">get access to some of stuff </span><span class="line" data-startTime="12683">that's happening on </span><span class="line" data-startTime="12683">the parent page. </span> <span class="line" data-startTime="12685">Let me know that somebody's </span><span class="line" data-startTime="12685">scrolling the page. </span> <span class="line" data-startTime="12687">Let me know that somebody's </span><span class="line" data-startTime="12687">clicking so that I can close a </span><span class="line" data-startTime="12690">menu that I have happened </span><span class="line" data-startTime="12690">to open in my iFrame. </span> <span class="line" data-startTime="12693">There is none of those </span><span class="line" data-startTime="12693">tools right now. </span> <span class="line" data-startTime="12694">And because of that, or even </span><span class="line" data-startTime="12694">very simply, I cannot resize </span><span class="line" data-startTime="12697">the iFrame today. </span></p>

<p><span class="line" data-startTime="12700">Because there are none of those </span><span class="line" data-startTime="12700">tools, we have to have </span><span class="line" data-startTime="12701">this dual system where </span><span class="line" data-startTime="12701">have we have to put </span><span class="line" data-startTime="12704">JavaScript on your page. </span> <span class="line" data-startTime="12705">And that's unfortunate. </span> <span class="line" data-startTime="12706">It would be terrific if we </span><span class="line" data-startTime="12706">started looking at things from </span><span class="line" data-startTime="12710">the other side, and then maybe </span><span class="line" data-startTime="12710">things could get better, I </span><span class="line" data-startTime="12712">think a lot better, just by </span><span class="line" data-startTime="12712">providing those tools. </span></p>

<p class="speaker"><span class="line" data-starttime="12716"><span class="speakerName">Stoyan Stefanov</span>: Would </span><span class="line" data-startTime="12716">the Web Components be </span><span class="line" data-startTime="12717">an answer to that? </span></p>

<p class="speaker"><span class="line" data-starttime="12723"><span class="speakerName">Ben Vinegar</span>: I've only </span><span class="line" data-startTime="12723">looked a little bit. </span><span class="line" data-startTime="12725">Perhaps this morning, to </span><span class="line" data-startTime="12725">research a little bit more </span><span class="line" data-startTime="12728">about Web Components </span><span class="line" data-startTime="12728">so I didn't look </span><span class="line" data-startTime="12729">like a complete fool. </span><span class="line" data-startTime="12732">But from what I've seen, is that </span><span class="line" data-startTime="12732">they're successful by the </span><span class="line" data-startTime="12734">parent page, right? </span><span class="line" data-startTime="12735">Even if they're kind </span><span class="line" data-startTime="12735">of hidden? </span><span class="line" data-startTime="12738">Is there a Web Components </span><span class="line" data-startTime="12738">person? </span><span class="line" data-startTime="12740">You create &mdash; </span><span class="line" data-startTime="12740">STOYAN STEFANOV: </span><span class="line" data-startTime="12740">Anyone who's &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="12741"><span class="speakerName">Steve Thair</span>: The delegate put </span><span class="line" data-startTime="12741">their hand up thing is not. </span><span class="line" data-startTime="12744">So if anybody's an expert </span><span class="line" data-startTime="12744">on Web Components. </span><span class="line" data-startTime="12746">Anyone? </span></p>

<p class="speaker"><span class="line" data-starttime="12748"><span class="speakerName">Ben Vinegar</span>: I have somebody </span><span class="line" data-startTime="12748">over there. </span></p>

<p class="speaker"><span class="line" data-starttime="12749"><span class="speakerName">Steve Thair</span>: Alex! </span><span class="line" data-startTime="12751">Alex to the rescue. </span></p>

<p class="speaker"><span class="line" data-starttime="12752"><span class="speakerName">Alex Russell</span>: Hi. </span> <span class="line" data-startTime="12753">Alex Russell from Google. </span> <span class="line" data-startTime="12754">So the way Web Components </span><span class="line" data-startTime="12754">work are it's a </span><span class="line" data-startTime="12758">bunch of related specs. </span> <span class="line" data-startTime="12759">We designed it that way for a </span><span class="line" data-startTime="12759">reason that I won't go into. </span> <span class="line" data-startTime="12761">But you can have something </span><span class="line" data-startTime="12761">called a shadow DOM, which </span><span class="line" data-startTime="12765">hides away the implementation </span><span class="line" data-startTime="12765">of your UI from the normal </span><span class="line" data-startTime="12771">iteration order through </span><span class="line" data-startTime="12771">the document. </span> <span class="line" data-startTime="12773">And you're entirely correct that </span><span class="line" data-startTime="12773">that doesn't solve the </span><span class="line" data-startTime="12777">problem for you. </span> <span class="line" data-startTime="12777">Because you can still reach </span><span class="line" data-startTime="12777">into the shadow DOM. </span> <span class="line" data-startTime="12779">It was explicitly designed not </span><span class="line" data-startTime="12779">to be a security boundary. </span> <span class="line" data-startTime="12782">Today the answer is, put an </span><span class="line" data-startTime="12782">iFrame in your shadow DOM and </span><span class="line" data-startTime="12788">use it that way. </span> <span class="line" data-startTime="12788">So it doesn't get you </span><span class="line" data-startTime="12788">out of any of the </span><span class="line" data-startTime="12790">sizing issues, I'm afraid. </span></p>

<p class="speaker"><span class="line" data-starttime="12791"><span class="speakerName">Ben Vinegar</span>: So I think a lot of </span><span class="line" data-startTime="12791">this new stuff [INAUDIBLE] </span><span class="line" data-startTime="12793">thing is still being developed </span><span class="line" data-startTime="12793">from this perspective of, </span><span class="line" data-startTime="12797">almost like if I was Google, and </span><span class="line" data-startTime="12797">I had widgets that I want </span><span class="line" data-startTime="12802">on all my other services and I </span><span class="line" data-startTime="12802">trust those services, I feel </span><span class="line" data-startTime="12804">like a lot of is being </span><span class="line" data-startTime="12804">designed from that </span><span class="line" data-startTime="12805">perspective. </span> <span class="line" data-startTime="12806">Somebody can shut me </span><span class="line" data-startTime="12806">up if they want. </span> <span class="line" data-startTime="12809">Because the security things </span><span class="line" data-startTime="12809">aren't addressed. </span> <span class="line" data-startTime="12812">There was the seamless spec that </span><span class="line" data-startTime="12812">came out, but it still </span><span class="line" data-startTime="12814">let styles come in. </span> <span class="line" data-startTime="12817">For that kind of publisher, </span><span class="line" data-startTime="12817">they may be </span><span class="line" data-startTime="12818">interested in that. </span> <span class="line" data-startTime="12819">But I'm not interested </span><span class="line" data-startTime="12819">in that. </span></p>

<p><span class="line" data-startTime="12821">Anyways. </span> <span class="line" data-startTime="12823">I've got that sheet that </span><span class="line" data-startTime="12823">says, shut up. </span></p>

<p class="speaker"><span class="line" data-starttime="12825"><span class="speakerName">Steve Thair</span>: Time to go. </span><span class="line" data-startTime="12827">All right. </span><span class="line" data-startTime="12827">So basically, we've got </span><span class="line" data-startTime="12827">one minute left. </span><span class="line" data-startTime="12829">We're going to wrap up. </span><span class="line" data-startTime="12830">I think immediately </span><span class="line" data-startTime="12830">after this, we're </span><span class="line" data-startTime="12832">staying here for lunch. </span><span class="line" data-startTime="12834">Is that right. </span><span class="line" data-startTime="12835">ANDREW BETTS: [INAUDIBLE] </span><span class="line" data-startTime="12835">Yup. </span></p>

<p class="speaker"><span class="line" data-starttime="12835"><span class="speakerName">Steve Thair</span>: Yeah. </span><span class="line" data-startTime="12836">Well, thank you very much to </span><span class="line" data-startTime="12836">the people on the party &mdash; </span><span class="line" data-startTime="12839">People on the party? </span><span class="line" data-startTime="12840">P &mdash; p &mdash; </span><span class="line" data-startTime="12841">[APPLAUSE] </span></p>

<p class="speaker"><span class="line" data-starttime="12842"><span class="speakerName">Steve Thair</span>: People </span><span class="line" data-startTime="12842">on the panel! </span><span class="line" data-startTime="12844">Peter Piper picked a peck </span><span class="line" data-startTime="12844">of pickled peppers! </span><span class="line" data-startTime="12846">[APPLAUSE] </span></p>

<p class="speaker"><span class="line" data-starttime="12847"><span class="speakerName">Steve Thair</span>: I'll hand </span><span class="line" data-startTime="12847">it back to Andrew. </span></p>

<p class="speaker"><span class="line" data-starttime="12849"><span class="speakerName">Andrew Betts</span>: Thanks Steve. </span></p>

<p class="speaker"><span class="line" data-starttime="12849"><span class="speakerName">Steve Thair</span>: Thank you. </span></p>

<p class="speaker"><span class="line" data-starttime="12849"><span class="speakerName">Andrew Betts</span>: So we're going </span><span class="line" data-startTime="12849">to do lunch now. </span><span class="line" data-startTime="12851">I just have a couple of </span><span class="line" data-startTime="12851">announcements before lunch. </span><span class="line" data-startTime="12852">First of all, everyone's </span><span class="line" data-startTime="12852">obviously discovered that you </span><span class="line" data-startTime="12855">can change the name on your </span><span class="line" data-startTime="12855">Google accounts to put </span><span class="line" data-startTime="12857">messages on the screen. </span><span class="line" data-startTime="12858">That's very clever. </span><span class="line" data-startTime="12858">Well done. </span><span class="line" data-startTime="12859">[LAUGHTER] </span></p>

<p class="speaker"><span class="line" data-starttime="12862"><span class="speakerName">Andrew Betts</span>: Also, someone </span><span class="line" data-startTime="12862">sent us a pull request. </span> <span class="line" data-startTime="12863">So thanks very much for that. </span> <span class="line" data-startTime="12866">And if you do have trouble </span><span class="line" data-startTime="12866">connecting, it seems to be </span><span class="line" data-startTime="12869">working really well now. </span> <span class="line" data-startTime="12870">But Wesley, who's sitting </span><span class="line" data-startTime="12870">right here, is really </span><span class="line" data-startTime="12873">interested to get your feedback </span><span class="line" data-startTime="12873">and but reports if </span><span class="line" data-startTime="12875">you've got a device that </span><span class="line" data-startTime="12875">it doesn't work on. </span> <span class="line" data-startTime="12876">So go and chat him over lunch. </span> <span class="line" data-startTime="12880">We've got some smokers who </span><span class="line" data-startTime="12880">were interested in going </span><span class="line" data-startTime="12882">outside to smoke. </span> <span class="line" data-startTime="12884">Unfortunately, it is kind </span><span class="line" data-startTime="12884">of inconvenient. </span></p>

<p><span class="line" data-startTime="12886">We have to escort you through </span><span class="line" data-startTime="12886">the building. </span> <span class="line" data-startTime="12889">But there will be people </span><span class="line" data-startTime="12889">around to do that. </span> <span class="line" data-startTime="12891">So just grab hold of some of the </span><span class="line" data-startTime="12891">helpers who will take you </span><span class="line" data-startTime="12895">to where you can do that. </span> <span class="line" data-startTime="12898">Remember to use the feedback </span><span class="line" data-startTime="12898">form to give us feedback </span><span class="line" data-startTime="12901">before the end of the day. </span> <span class="line" data-startTime="12903">And lunch is right there. </span> <span class="line" data-startTime="12904">So go help yourselves. </span> <span class="line" data-startTime="12910">[MUSIC PLAYING] </span></p></div>