<style>* {font-family: "Open Sans", sans-serif}
a {color: #77aaff}
a.video {border-bottom: 1px solid #ddd; display: block; margin: 0 0 2em 0; padding: 0 0 2em 0}
h2 {color: #444; font-size: 18px;}
span.speakerName {color: black; font-weight: 900;}
body {padding: 2em}
p {color: #444; margin: 0; text-indent: 1.5em;}
p.speaker {margin: 1em 0 0 0; text-indent: 0;}
div#transcript > p:first-child {text-indent: 0;}
</style>

<h1>Chrome Office Hours: Movi Kanti Revoâ€”Behind the Divs</h1>

<h2>Bill Luan, Pete LePage, Aubrey Anderson, KC Austin</h2>

<a class="video" href="http://youtu.be/OXQsZSWBDDM">youtu.be/OXQsZSWBDDM</a><div id="transcript"><p><span class="line" data-startTime="0">[MUSIC PLAYING] </span></p>

<p class="speaker"><span class="line" data-starttime="12"><span class="speakerName">Bill Luan</span>: Shanghai </span><span class="line" data-startTime="12">GDG is a very </span><span class="line" data-startTime="13">interesting developer community. </span></p>

<p class="speaker"><span class="line" data-starttime="16"><span class="speakerName">Female Speaker</span>: I'm </span><span class="line" data-startTime="16">glad somebody </span><span class="line" data-startTime="16">has asked this question. </span></p>

<p class="speaker"><span class="line" data-starttime="17"><span class="speakerName">Male Speaker</span>: This is where </span><span class="line" data-startTime="17">the magic happens. </span></p>

<p class="speaker"><span class="line" data-starttime="19"><span class="speakerName">Female Speaker</span>: This is </span><span class="line" data-startTime="19">primarily a question and </span><span class="line" data-startTime="21">answer show, so if any </span><span class="line" data-startTime="21">of you out there </span><span class="line" data-startTime="22">would like to ask questions. </span><span class="line" data-startTime="28">[MUSIC PLAYING] </span></p>

<p class="speaker"><span class="line" data-starttime="46"><span class="speakerName">Pete LePage</span>: Welcome, </span><span class="line" data-startTime="46">everybody. </span><span class="line" data-startTime="48">Really awesome event today. </span><span class="line" data-startTime="50">We're taking a behind scenes </span><span class="line" data-startTime="50">look at Movi Kanti Revo, one </span><span class="line" data-startTime="54">of the new Chrome experiments </span><span class="line" data-startTime="54">that just launched yesterday. </span><span class="line" data-startTime="57">My name's Pete LePage, I'm a </span><span class="line" data-startTime="57">developer advocate with the </span><span class="line" data-startTime="60">Chrome team. </span><span class="line" data-startTime="61">And with me, we've got Aubrey </span><span class="line" data-startTime="61">and KC from Subatomic who </span><span class="line" data-startTime="65">built this absolutely phenomenal </span><span class="line" data-startTime="65">experience. </span><span class="line" data-startTime="68">Do you guys want to introduce </span><span class="line" data-startTime="68">yourself? </span></p>

<p class="speaker"><span class="line" data-starttime="70"><span class="speakerName">Aubrey Anderson</span>: Sure, my </span><span class="line" data-startTime="70">name's Aubrey Anderson. </span><span class="line" data-startTime="72">I'm the president </span><span class="line" data-startTime="72">of Subatomic. </span></p>

<p class="speaker"><span class="line" data-starttime="75"><span class="speakerName">KC Austin</span>: My name </span><span class="line" data-startTime="75">is KC Austin. </span><span class="line" data-startTime="76">I'm one of the lead developers </span><span class="line" data-startTime="76">on this project. </span></p>

<p class="speaker"><span class="line" data-starttime="81"><span class="speakerName">Pete LePage</span>: Awesome. </span><span class="line" data-startTime="82">So this launched yesterday. </span><span class="line" data-startTime="83">This is something that has been </span><span class="line" data-startTime="83">coming to fruition for us </span><span class="line" data-startTime="88">for probably four or </span><span class="line" data-startTime="88">five months now. </span></p>

<p class="speaker"><span class="line" data-starttime="91"><span class="speakerName">Aubrey Anderson</span>: Yeah, </span><span class="line" data-startTime="91">about five months. </span> <span class="line" data-startTime="92">I'd say we started storyboarding </span><span class="line" data-startTime="92">and concepting </span><span class="line" data-startTime="94">probably fully five </span><span class="line" data-startTime="94">months ago. </span> <span class="line" data-startTime="96">And then did some initial </span><span class="line" data-startTime="96">concept work in the browser </span><span class="line" data-startTime="101">just to make sure that all our </span><span class="line" data-startTime="101">assumptions, or at least most </span><span class="line" data-startTime="105">of our assumptions were </span><span class="line" data-startTime="105">going to true. </span> <span class="line" data-startTime="107">And then we had a long period </span><span class="line" data-startTime="107">of just asset creation where </span><span class="line" data-startTime="111">we went out to Las Vegas and </span><span class="line" data-startTime="111">shot the Cirque people doing </span><span class="line" data-startTime="114">their performances on the </span><span class="line" data-startTime="114">blue [? sight. ?] </span><span class="line" data-startTime="119">And a lot of post production, </span><span class="line" data-startTime="119">and just getting what they </span><span class="line" data-startTime="123">call mats sorted out, and </span><span class="line" data-startTime="123">getting everybody keyed. </span></p>

<p><span class="line" data-startTime="128">And sort of in parallel to </span><span class="line" data-startTime="128">that, KC and I have been </span><span class="line" data-startTime="132">developing the browser, working </span><span class="line" data-startTime="132">on building scenes. </span> <span class="line" data-startTime="136">And we'll kind of show you how </span><span class="line" data-startTime="136">we build the scenes as we go. </span></p>

<p class="speaker"><span class="line" data-starttime="138"><span class="speakerName">Pete LePage</span>: Awesome, cool. </span><span class="line" data-startTime="139">So for those of you who are </span><span class="line" data-startTime="139">watching live right now, we do </span><span class="line" data-startTime="143">have a moderator queue, that </span><span class="line" data-startTime="143">if you want to go post your </span><span class="line" data-startTime="145">questions, you can go post </span><span class="line" data-startTime="145">your questions there. </span><span class="line" data-startTime="148">We'll take your live </span><span class="line" data-startTime="148">questions towards </span><span class="line" data-startTime="150">the end of our session. </span><span class="line" data-startTime="151">So as we dive into some of these </span><span class="line" data-startTime="151">things, please post your </span><span class="line" data-startTime="155">questions there. </span><span class="line" data-startTime="157">Let's jump in and talk about </span><span class="line" data-startTime="157">some of the 3D experiences and </span><span class="line" data-startTime="162">how those were built. </span><span class="line" data-startTime="163">Because it's a pretty new </span><span class="line" data-startTime="163">concept for the browser to put </span><span class="line" data-startTime="169">all of these pieces into the </span><span class="line" data-startTime="169">world and actually build </span><span class="line" data-startTime="173">something that as it rotates </span><span class="line" data-startTime="173">and moves, really the </span><span class="line" data-startTime="178">prospective just changes. </span><span class="line" data-startTime="179">You've got a really neat </span><span class="line" data-startTime="179">parallaxing going on, all of </span><span class="line" data-startTime="182">that kind of stuff. </span></p>

<p class="speaker"><span class="line" data-starttime="183"><span class="speakerName">Aubrey Anderson</span>: Yeah, so maybe </span><span class="line" data-startTime="183">we'll show you a little </span><span class="line" data-startTime="185">bit, in case you haven't </span><span class="line" data-startTime="185">seen the experience. </span></p>

<p class="speaker"><span class="line" data-starttime="187"><span class="speakerName">Pete LePage</span>: All right, well if </span><span class="line" data-startTime="187">we can bring up the screen. </span><span class="line" data-startTime="192">Great. </span></p>

<p class="speaker"><span class="line" data-starttime="193"><span class="speakerName">Aubrey Anderson</span>: It looks </span><span class="line" data-startTime="193">like it's happening. </span> <span class="line" data-startTime="196">So I'm just going hold off on </span><span class="line" data-startTime="196">the microphone for now. </span> <span class="line" data-startTime="198">So what we've done, we've tried </span><span class="line" data-startTime="198">to keep to sort of a </span><span class="line" data-startTime="202">theatrical approach </span><span class="line" data-startTime="202">but do that with </span><span class="line" data-startTime="205">elements in the browser. </span> <span class="line" data-startTime="206">And I'm just going to rotate </span><span class="line" data-startTime="206">this model as we look at. </span> <span class="line" data-startTime="209">These are all divs, which is a </span><span class="line" data-startTime="209">sort of important distinction </span><span class="line" data-startTime="213">from technologies like WebGL or </span><span class="line" data-startTime="213">other ways that you might </span><span class="line" data-startTime="218">manipulate content in 3D. </span> <span class="line" data-startTime="220">But the other challenge we </span><span class="line" data-startTime="220">had is integrating video. </span> <span class="line" data-startTime="223">So in this example, you'll see, </span><span class="line" data-startTime="223">as obviously in the real </span><span class="line" data-startTime="226">experience, you can't turn the </span><span class="line" data-startTime="226">model around because that sort </span><span class="line" data-startTime="228">of blows it. </span> <span class="line" data-startTime="229">But I think it's sort of good to </span><span class="line" data-startTime="229">understand how these things </span><span class="line" data-startTime="234">are stacked up in 3D space. </span> <span class="line" data-startTime="237">We have the front layer here, </span><span class="line" data-startTime="237">which is a video element. </span> <span class="line" data-startTime="239">That's a piece of </span><span class="line" data-startTime="239">WebM that we're </span><span class="line" data-startTime="242">loading and playing back. </span></p>

<p><span class="line" data-startTime="244">And that has the same background </span><span class="line" data-startTime="244">in the same </span><span class="line" data-startTime="248">proportions as you see when the </span><span class="line" data-startTime="248">interactive part of the </span><span class="line" data-startTime="250">experience starts. </span> <span class="line" data-startTime="251">But if I flip it here, </span><span class="line" data-startTime="251">you'll see that's </span><span class="line" data-startTime="253">the back of the video. </span> <span class="line" data-startTime="255">There's the sea, which is </span><span class="line" data-startTime="255">actually titled away from us a </span><span class="line" data-startTime="257">little bit. </span> <span class="line" data-startTime="259">And then these other elements, </span><span class="line" data-startTime="259">the links, and the back plate. </span> <span class="line" data-startTime="263">And if you can see, even farther </span><span class="line" data-startTime="263">behind that, is sort </span><span class="line" data-startTime="266">of the sky, and the sea, </span><span class="line" data-startTime="266">and some kind of </span><span class="line" data-startTime="269">foggy elements there. </span> <span class="line" data-startTime="272">And as the video plays out, what </span><span class="line" data-startTime="272">it does is it just kind </span><span class="line" data-startTime="274">of crossfades to the 3D elements </span><span class="line" data-startTime="274">behind it and creates </span><span class="line" data-startTime="280">this kind of relatively </span><span class="line" data-startTime="280">fluid experience. </span></p>

<p><span class="line" data-startTime="283">I think it's just about to </span><span class="line" data-startTime="283">go in to crossfade here. </span></p>

<p class="speaker"><span class="line" data-starttime="286"><span class="speakerName">KC Austin</span>: We actually build the </span><span class="line" data-startTime="286">scene in CSS with all the </span><span class="line" data-startTime="290">separate elements first. </span><span class="line" data-startTime="292">Screenshot that, composited </span><span class="line" data-startTime="292">that screenshot into the </span><span class="line" data-startTime="295">background plate of the video, </span><span class="line" data-startTime="295">and then that got exported at </span><span class="line" data-startTime="300">WebM, so it crossfades </span><span class="line" data-startTime="300">perfectly. </span></p>

<p class="speaker"><span class="line" data-starttime="302"><span class="speakerName">Aubrey Anderson</span>: So there's </span><span class="line" data-startTime="302">a real back and forth. </span><span class="line" data-startTime="304">And for post-production people, </span><span class="line" data-startTime="304">this is kind of a new </span><span class="line" data-startTime="307">idea because they're used to </span><span class="line" data-startTime="307">just sort of getting a </span><span class="line" data-startTime="310">drawing, getting some art, </span><span class="line" data-startTime="310">and then having to </span><span class="line" data-startTime="312">put that in the video. </span><span class="line" data-startTime="313">But in this case, that </span><span class="line" data-startTime="313">was only the start. </span></p>

<p class="speaker"><span class="line" data-starttime="315"><span class="speakerName">Pete LePage</span>: OK. </span><span class="line" data-startTime="316">So now one of the things I know </span><span class="line" data-startTime="316">we were playing with and </span><span class="line" data-startTime="319">looking at early on was that </span><span class="line" data-startTime="319">WebM doesn't do alpha </span><span class="line" data-startTime="323">transparency yet. </span></p>

<p class="speaker"><span class="line" data-starttime="325"><span class="speakerName">Aubrey Anderson</span>: It's true. </span> <span class="line" data-startTime="326">Fortunately, for everybody, </span><span class="line" data-startTime="326">I think that's coming. </span> <span class="line" data-startTime="328">And we worked with the animation </span><span class="line" data-startTime="328">codec as a way to </span><span class="line" data-startTime="333">kind of comp these things </span><span class="line" data-startTime="333">together, which does do video </span><span class="line" data-startTime="335">transparency. </span> <span class="line" data-startTime="336">Obviously you can't put that on </span><span class="line" data-startTime="336">the web because the files </span><span class="line" data-startTime="338">are hundreds of meg. </span> <span class="line" data-startTime="340">But one of the things we look </span><span class="line" data-startTime="340">forward to is being able to </span><span class="line" data-startTime="343">actually live composite these </span><span class="line" data-startTime="343">elements right into the scene. </span> <span class="line" data-startTime="347">So rather than having a back </span><span class="line" data-startTime="347">plate inside the video like we </span><span class="line" data-startTime="349">saw and having to do this sort </span><span class="line" data-startTime="349">hoop jumping of switching it </span><span class="line" data-startTime="352">out, we'll be able to just </span><span class="line" data-startTime="352">make the background </span><span class="line" data-startTime="355">transparent, key out the </span><span class="line" data-startTime="355">characters, and just park them </span><span class="line" data-startTime="358">right in the 3D model, </span><span class="line" data-startTime="358">which is just going </span><span class="line" data-startTime="362">to be insanely powerful. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="363"><span class="speakerName">KC Austin</span>: And all the scenes </span><span class="line" data-startTime="363">are actually built now. </span><span class="line" data-startTime="364">Even the contortionist scene </span><span class="line" data-startTime="364">with the tree behind it, the </span><span class="line" data-startTime="368">tree was built with CSS, with </span><span class="line" data-startTime="368">every strip of bark on it is a </span><span class="line" data-startTime="373">different PNG. </span></p>

<p class="speaker"><span class="line" data-starttime="374"><span class="speakerName">Pete LePage</span>: Oh wow. </span></p>

<p class="speaker"><span class="line" data-starttime="375"><span class="speakerName">KC Austin</span>: So it's built in </span><span class="line" data-startTime="375">3D and rotated behind the </span><span class="line" data-startTime="378">characters. </span><span class="line" data-startTime="380">And as soon as we found out </span><span class="line" data-startTime="380">that alpha wasn't going to </span><span class="line" data-startTime="383">make it, we set it up to </span><span class="line" data-startTime="383">screenshot it, composite it </span><span class="line" data-startTime="388">again behind. </span><span class="line" data-startTime="390">But all the scenes are set </span><span class="line" data-startTime="390">up, so they do work </span><span class="line" data-startTime="394">if you had the alpha. </span></p>

<p class="speaker"><span class="line" data-starttime="397"><span class="speakerName">Pete LePage</span>: So we have a case </span><span class="line" data-startTime="397">study that I sort of took this </span><span class="line" data-startTime="400">particular scene and took it </span><span class="line" data-startTime="400">apart and sort of built each </span><span class="line" data-startTime="403">of the pieces individually. </span><span class="line" data-startTime="405">But why don't we open up the dev </span><span class="line" data-startTime="405">tools and have a look at, </span><span class="line" data-startTime="409">or even some real code, </span><span class="line" data-startTime="409">and have a look at </span><span class="line" data-startTime="413">what's going on here. </span><span class="line" data-startTime="414">Like how is this built? </span></p>

<p class="speaker"><span class="line" data-starttime="415"><span class="speakerName">Aubrey Anderson</span>: I think that's </span><span class="line" data-startTime="415">a super great idea. </span><span class="line" data-startTime="417">The other think I just wanted to </span><span class="line" data-startTime="417">point out also is that you </span><span class="line" data-startTime="419">can kind of keep going </span><span class="line" data-startTime="419">in Z space. </span><span class="line" data-startTime="421">So here, if you hit back button, </span><span class="line" data-startTime="421">we have the pink man. </span><span class="line" data-startTime="425">And this is just sort </span><span class="line" data-startTime="425">of non sequitur. </span><span class="line" data-startTime="426">It's just something that </span><span class="line" data-startTime="426">happens if you </span><span class="line" data-startTime="428">happen to find this. </span></p>

<p class="speaker"><span class="line" data-starttime="430"><span class="speakerName">Pete LePage</span>: It's a nice </span><span class="line" data-startTime="430">little Easter egg. </span></p>

<p class="speaker"><span class="line" data-starttime="431"><span class="speakerName">Aubrey Anderson</span>: A little </span><span class="line" data-startTime="431">Easter egg, exactly. </span><span class="line" data-startTime="432">You can zoom the whole model out </span><span class="line" data-startTime="432">and you can keep going in </span><span class="line" data-startTime="436">3D space, both forward and back, </span><span class="line" data-startTime="436">and left and right, and </span><span class="line" data-startTime="439">up and down. </span><span class="line" data-startTime="440">Yeah, probably the easiest </span><span class="line" data-startTime="440">thing is to just sort of </span><span class="line" data-startTime="442">inspect some of this stuff </span><span class="line" data-startTime="442">as a way to get started. </span></p>

<p class="speaker"><span class="line" data-starttime="446"><span class="speakerName">KC Austin</span>: Start with like the </span><span class="line" data-startTime="446">rotational containers? </span></p>

<p class="speaker"><span class="line" data-starttime="448"><span class="speakerName">Aubrey Anderson</span>: Yeah. </span> <span class="line" data-startTime="451">I can kind of show you some </span><span class="line" data-startTime="451">of the anatomy of how </span><span class="line" data-startTime="454">this is built out. </span> <span class="line" data-startTime="455">This is probably small </span><span class="line" data-startTime="455">text for you guys. </span> <span class="line" data-startTime="458">Sorry about that. </span> <span class="line" data-startTime="458">But you will at least get a </span><span class="line" data-startTime="458">sense of how the rotation is </span><span class="line" data-startTime="462">accomplished. </span> <span class="line" data-startTime="464">We have several div containers </span><span class="line" data-startTime="464">which have 3D prospective </span><span class="line" data-startTime="467">applied to them via CSS. </span> <span class="line" data-startTime="470">And I think one of the biggest </span><span class="line" data-startTime="470">brain challenges is not </span><span class="line" data-startTime="474">thinking of elements as singular </span><span class="line" data-startTime="474">and transformable by </span><span class="line" data-startTime="479">themselves. </span> <span class="line" data-startTime="480">A lot of times, a complex </span><span class="line" data-startTime="480">transformation is happening </span><span class="line" data-startTime="482">because the element is moving </span><span class="line" data-startTime="482">and its container is moving on </span><span class="line" data-startTime="486">a different axis, and its </span><span class="line" data-startTime="486">container is moving maybe on a </span><span class="line" data-startTime="489">different axis. </span></p>

<p><span class="line" data-startTime="490">So we find this model is </span><span class="line" data-startTime="490">generally contained in three </span><span class="line" data-startTime="494">boxes and each box generally </span><span class="line" data-startTime="494">handles one axis of the </span><span class="line" data-startTime="498">rotation, which gives us kind of </span><span class="line" data-startTime="498">an infinite flexibility in </span><span class="line" data-startTime="503">moving this model around. </span> <span class="line" data-startTime="504">We can move it up and down, left </span><span class="line" data-startTime="504">and right, and kind of </span><span class="line" data-startTime="506">tilt it all around. </span> <span class="line" data-startTime="507">But that requires three </span><span class="line" data-startTime="507">containers to really </span><span class="line" data-startTime="510">accomplish it in the way </span><span class="line" data-startTime="510">that you would want. </span> <span class="line" data-startTime="514">I think I see when people first </span><span class="line" data-startTime="514">approach CSS and 3D, </span><span class="line" data-startTime="517">they're like, well, I have the </span><span class="line" data-startTime="517">element, and I put it, I </span><span class="line" data-startTime="521">rotated it, and then I wanted to </span><span class="line" data-startTime="521">rotate it that way as well, </span><span class="line" data-startTime="523">and that didn't work. </span></p>

<p><span class="line" data-startTime="524">And it's like, well, it's a </span><span class="line" data-startTime="524">container within a container. </span> <span class="line" data-startTime="527">It's just a slightly different </span><span class="line" data-startTime="527">way to think about it. </span></p>

<p class="speaker"><span class="line" data-starttime="529"><span class="speakerName">KC Austin</span>: It's a lot easier to </span><span class="line" data-startTime="529">think about it that way, to </span><span class="line" data-startTime="531">separate out the translates </span><span class="line" data-startTime="531">and the rotates as well. </span><span class="line" data-startTime="534">Because in the CSS transform, </span><span class="line" data-startTime="534">you have to have translate 3D </span><span class="line" data-startTime="538">and rotate within the </span><span class="line" data-startTime="538">same transform </span><span class="line" data-startTime="540">block in the same string. </span><span class="line" data-startTime="542">So if you break those out, you </span><span class="line" data-startTime="542">now can have the translate 3D </span><span class="line" data-startTime="546">on one div and then the </span><span class="line" data-startTime="546">container and then another </span><span class="line" data-startTime="549">container have the rotate, and </span><span class="line" data-startTime="549">you can affect them separately </span><span class="line" data-startTime="551">and not have to worry about. </span></p>

<p class="speaker"><span class="line" data-starttime="555"><span class="speakerName">Aubrey Anderson</span>: So I just </span><span class="line" data-startTime="555">wanted to kind of point out a </span><span class="line" data-startTime="557">couple of things. </span><span class="line" data-startTime="557">We also lean very heavily </span><span class="line" data-startTime="557">on animation. </span><span class="line" data-startTime="561">So I'll show you this behavior </span><span class="line" data-startTime="561">really quick. </span><span class="line" data-startTime="563">So when this v first loads, </span><span class="line" data-startTime="563">you'll see it sort of does </span><span class="line" data-startTime="570">this long drift down here. </span><span class="line" data-startTime="572">And you are sort of drifting </span><span class="line" data-startTime="572">through this </span><span class="line" data-startTime="574">kind of 3D star field. </span><span class="line" data-startTime="575">Each of these stars is a PNG </span><span class="line" data-startTime="575">file that KC has placed in </span><span class="line" data-startTime="581">real space, more or less. </span></p>

<p class="speaker"><span class="line" data-starttime="583"><span class="speakerName">Pete LePage</span>: There's </span><span class="line" data-startTime="583">one scene that just </span><span class="line" data-startTime="585">sort of blew me away. </span><span class="line" data-startTime="585">The one scene where the women </span><span class="line" data-startTime="585">are blowing the little </span><span class="line" data-startTime="589">fireflies off. </span><span class="line" data-startTime="590">And just the fact that each one </span><span class="line" data-startTime="590">of those stars is its own </span><span class="line" data-startTime="594">item that sort of moves </span><span class="line" data-startTime="594">in space and time. </span></p>

<p class="speaker"><span class="line" data-starttime="597"><span class="speakerName">KC Austin</span>: Yeah, each </span><span class="line" data-startTime="597">one has a class. </span><span class="line" data-startTime="598">It's just one class for a star </span><span class="line" data-startTime="598">that has this tiny PNG and I </span><span class="line" data-startTime="601">just looped through a couple </span><span class="line" data-startTime="601">hundred times, placed them in </span><span class="line" data-startTime="604">random positions in Z, X, Y. And </span><span class="line" data-startTime="604">it kind of gives you that </span><span class="line" data-startTime="609">parallaxing feel when you </span><span class="line" data-startTime="609">rotate everything. </span></p>

<p class="speaker"><span class="line" data-starttime="611"><span class="speakerName">Aubrey Anderson</span>: Yeah, that's </span><span class="line" data-startTime="611">this view here. </span><span class="line" data-startTime="613">This is an interesting </span><span class="line" data-startTime="613">view as well. </span><span class="line" data-startTime="615">Each of these elements is </span><span class="line" data-startTime="615">obviously, we're accomplishing </span><span class="line" data-startTime="619">transparency here, but not in </span><span class="line" data-startTime="619">the way you might think. </span><span class="line" data-startTime="623">This is a video that we're </span><span class="line" data-startTime="623">making manually by using a </span><span class="line" data-startTime="628">long animation and moving a </span><span class="line" data-startTime="628">background sprite around. </span><span class="line" data-startTime="631">So each of these women is </span><span class="line" data-startTime="631">actually a big sprite sheet of </span><span class="line" data-startTime="635">PNGs that we're applying an </span><span class="line" data-startTime="635">animation and stepping from </span><span class="line" data-startTime="640">scene to scene. </span></p>

<p class="speaker"><span class="line" data-starttime="641"><span class="speakerName">Pete LePage</span>: Oh, very cool. </span><span class="line" data-startTime="642">OK. </span></p>

<p class="speaker"><span class="line" data-starttime="642"><span class="speakerName">KC Austin</span>: Since we move through </span><span class="line" data-startTime="642">that scene, we can't </span><span class="line" data-startTime="644">do any sort of background </span><span class="line" data-startTime="644">compositing behind the videos. </span><span class="line" data-startTime="648">So in this case, we had </span><span class="line" data-startTime="648">to do a sprite sheet. </span><span class="line" data-startTime="651">And it's basically like </span><span class="line" data-startTime="651">an insanely large PNG. </span></p>

<p class="speaker"><span class="line" data-starttime="656"><span class="speakerName">Pete LePage</span>: Wow. </span></p>

<p class="speaker"><span class="line" data-starttime="657"><span class="speakerName">KC Austin</span>: But I mean, even then </span><span class="line" data-startTime="657">as an optimized PNG, it's </span><span class="line" data-startTime="661">like maybe a meg and a half </span><span class="line" data-startTime="661">per sprite sheet. </span><span class="line" data-startTime="664">So it's not as big as a </span><span class="line" data-startTime="664">video would be anyway. </span></p>

<p class="speaker"><span class="line" data-starttime="668"><span class="speakerName">Pete LePage</span>: Yeah, like I was </span><span class="line" data-startTime="668">going to say, compare that to </span><span class="line" data-startTime="670">a video, and it's pretty much </span><span class="line" data-startTime="670">the same size or smaller in </span><span class="line" data-startTime="675">some cases. </span></p>

<p class="speaker"><span class="line" data-starttime="678"><span class="speakerName">Aubrey Anderson</span>: Just if you're </span><span class="line" data-startTime="678">starting from scratch </span><span class="line" data-startTime="680">with this technology, I think </span><span class="line" data-startTime="680">it's just important to </span><span class="line" data-startTime="683">understand how things </span><span class="line" data-startTime="683">get glued together. </span> <span class="line" data-startTime="685">So you'll see in the code </span><span class="line" data-startTime="685">here, we're applying a </span><span class="line" data-startTime="690">transform on this element. </span> <span class="line" data-startTime="692">This has an interesting </span><span class="line" data-startTime="692">side effect. </span> <span class="line" data-startTime="693">When you translate something 3D, </span><span class="line" data-startTime="693">it also will bounce that </span><span class="line" data-startTime="697">element down into the hardware, </span><span class="line" data-startTime="697">essentially put it </span><span class="line" data-startTime="701">in the GPU's stack, rather </span><span class="line" data-startTime="701">than having the </span><span class="line" data-startTime="704">CPU have to do it. </span> <span class="line" data-startTime="706">And also, importantly, think </span><span class="line" data-startTime="706">in terms of prefixes. </span></p>

<p><span class="line" data-startTime="712">This is probably how </span><span class="line" data-startTime="712">you will start </span><span class="line" data-startTime="714">working with it in Chrome. </span> <span class="line" data-startTime="715">We use a framework called </span><span class="line" data-startTime="715">Neutrino, which helps us </span><span class="line" data-startTime="719">simplify some of the language. </span> <span class="line" data-startTime="722">And each of these, in a </span><span class="line" data-startTime="722">different browser context, </span><span class="line" data-startTime="724">will have a different prefix. </span> <span class="line" data-startTime="727">Like that for Mozilla, like that </span><span class="line" data-startTime="727">for Opera, and like that </span><span class="line" data-startTime="734">sort of the various WebKits, </span><span class="line" data-startTime="734">Chrome, Safari, </span><span class="line" data-startTime="736">that type of thing. </span> <span class="line" data-startTime="741">We've done that. </span> <span class="line" data-startTime="741">There's a couple of frameworks </span><span class="line" data-startTime="741">out there that will </span><span class="line" data-startTime="743">help you with this. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="744"><span class="speakerName">Pete LePage</span>: That's awesome. </span> <span class="line" data-startTime="744">AUBREY ANDERSON: </span><span class="line" data-startTime="744">It's just nice. </span> <span class="line" data-startTime="745">This is how it will look </span><span class="line" data-startTime="745">in a year or two. </span> <span class="line" data-startTime="747">So just to get yourself thinking </span><span class="line" data-startTime="747">in terms of the </span><span class="line" data-startTime="750">unprefixed syntax sooner </span><span class="line" data-startTime="750">than later. </span> <span class="line" data-startTime="754">And just kind of a </span><span class="line" data-startTime="754">couple things to </span><span class="line" data-startTime="758">try to parse through. </span> <span class="line" data-startTime="760">There are transforms and </span><span class="line" data-startTime="760">there are animations. </span> <span class="line" data-startTime="762">And animations are just </span><span class="line" data-startTime="762">sequences of CSS state. </span> <span class="line" data-startTime="767">Generally they're sequences of </span><span class="line" data-startTime="767">transform state, but they can </span><span class="line" data-startTime="770">be any state you want. </span> <span class="line" data-startTime="771">You can go from a big fat </span><span class="line" data-startTime="771">border to a tiny border. </span> <span class="line" data-startTime="773">You can go from a blue </span><span class="line" data-startTime="773">background to a red </span><span class="line" data-startTime="775">background. </span></p>

<p><span class="line" data-startTime="776">And what the CSS animation </span><span class="line" data-startTime="776">engine does is it essentially </span><span class="line" data-startTime="780">tweens those states for you. </span> <span class="line" data-startTime="783">So you express yourself </span><span class="line" data-startTime="783">in terms of </span><span class="line" data-startTime="784">where you want to start. </span> <span class="line" data-startTime="785">I want the element to begin 700 </span><span class="line" data-startTime="785">pixels back in Z space. </span> <span class="line" data-startTime="792">So these three elements, this </span><span class="line" data-startTime="792">is X, this is Y, and this is </span><span class="line" data-startTime="795">Z. And I would like it to end </span><span class="line" data-startTime="795">transformed 90 pixels over, </span><span class="line" data-startTime="802">that's 90 pixels to the right. </span> <span class="line" data-startTime="804">1,400 pixels down, that's a </span><span class="line" data-startTime="804">push down on the y-axis. </span> <span class="line" data-startTime="810">And 100 pixels forward </span><span class="line" data-startTime="810">in Z space. </span> <span class="line" data-startTime="812">So you can kind of think </span><span class="line" data-startTime="812">this through. </span> <span class="line" data-startTime="815">The element is moving from </span><span class="line" data-startTime="815">somewhere back there to a </span><span class="line" data-startTime="818">little bit forward of, if you </span><span class="line" data-startTime="818">think of zero, that's the </span><span class="line" data-startTime="822">plane of your browser, </span><span class="line" data-startTime="822">sort of. </span> <span class="line" data-startTime="826">But it's moving forward in </span><span class="line" data-startTime="826">space, as well as down. </span> <span class="line" data-startTime="829">It's also a scaling. </span> <span class="line" data-startTime="831">So actually, a really immense </span><span class="line" data-startTime="831">amount of stuff if you were </span><span class="line" data-startTime="834">thinking of this, trying to </span><span class="line" data-startTime="834">accomplish this in, say, a </span><span class="line" data-startTime="837">canvas, this would be very, </span><span class="line" data-startTime="837">very hard to express. </span></p>

<p><span class="line" data-startTime="839">Just this simple thing, you'd </span><span class="line" data-startTime="839">have to get really granular </span><span class="line" data-startTime="842">about what was happening to </span><span class="line" data-startTime="842">the element fame by frame. </span> <span class="line" data-startTime="845">But here, we just say start </span><span class="line" data-startTime="845">here and end here, take 25 </span><span class="line" data-startTime="849">seconds to make that happen. </span> <span class="line" data-startTime="851">And you can even apply some kind </span><span class="line" data-startTime="851">of using easing, sort of </span><span class="line" data-startTime="854">Robert Penner style </span><span class="line" data-startTime="854">math to how you </span><span class="line" data-startTime="857">begin and end the animation. </span> <span class="line" data-startTime="859">In this case, ease in/out means </span><span class="line" data-startTime="859">that it will sort of </span><span class="line" data-startTime="861">have a parabolic ramp up, get to </span><span class="line" data-startTime="861">a midpoint, and then have a </span><span class="line" data-startTime="864">parabolic ramp down, which just </span><span class="line" data-startTime="864">gives it a little more </span><span class="line" data-startTime="867">organic feel. </span></p>

<p class="speaker"><span class="line" data-starttime="870"><span class="speakerName">KC Austin</span>: We tried to use </span><span class="line" data-startTime="870">animation as much as we could. </span><span class="line" data-startTime="872">Like the bubbles, when you </span><span class="line" data-startTime="872">create a bubble, you just </span><span class="line" data-startTime="875">place it in a random position, </span><span class="line" data-startTime="875">and then just </span><span class="line" data-startTime="877">add a class to it. </span><span class="line" data-startTime="879">And when you add that class, </span><span class="line" data-startTime="879">it adds the ascendant key </span><span class="line" data-startTime="881">frame animation and </span><span class="line" data-startTime="881">the bubble rises. </span><span class="line" data-startTime="883">So you don't have </span><span class="line" data-startTime="883">to go through. </span><span class="line" data-startTime="885">It's just as simple as </span><span class="line" data-startTime="885">creating the div. </span></p>

<p class="speaker"><span class="line" data-starttime="888"><span class="speakerName">Pete LePage</span>: And adding </span><span class="line" data-startTime="888">that class &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="890"><span class="speakerName">KC Austin</span>: And then it goes. </span></p>

<p class="speaker"><span class="line" data-starttime="891"><span class="speakerName">Pete LePage</span>:  &mdash; and it </span><span class="line" data-startTime="891">all happens for you. </span></p>

<p class="speaker"><span class="line" data-starttime="892"><span class="speakerName">KC Austin</span>: And if you create </span><span class="line" data-startTime="892">those at different times, then </span><span class="line" data-startTime="895">you'd get a bunch of bubble </span><span class="line" data-startTime="895">all floating up. </span></p>

<p class="speaker"><span class="line" data-starttime="898"><span class="speakerName">Pete LePage</span>: Very cool. </span><span class="line" data-startTime="899">One of the things I noticed as I </span><span class="line" data-startTime="899">started playing with some of </span><span class="line" data-startTime="902">these 3D animations was that </span><span class="line" data-startTime="902">when you apply a transform on </span><span class="line" data-startTime="908">the z-axis, it pushes it back, </span><span class="line" data-startTime="908">but it also does exactly what </span><span class="line" data-startTime="912">physics says it should do. </span></p>

<p class="speaker"><span class="line" data-starttime="913"><span class="speakerName">Aubrey Anderson</span>: It </span><span class="line" data-startTime="913">gets smaller. </span></p>

<p class="speaker"><span class="line" data-starttime="914"><span class="speakerName">Pete LePage</span>: And it </span><span class="line" data-startTime="914">makes it smaller. </span></p>

<p class="speaker"><span class="line" data-starttime="915"><span class="speakerName">Aubrey Anderson</span>: That's true. </span></p>

<p class="speaker"><span class="line" data-starttime="916"><span class="speakerName">Pete LePage</span>: So that's one of </span><span class="line" data-startTime="916">those ones where keeping in </span><span class="line" data-startTime="918">mind that scale factor </span><span class="line" data-startTime="918">is really important. </span><span class="line" data-startTime="920">Because you're going to put </span><span class="line" data-startTime="920">something back or move it </span><span class="line" data-startTime="922">really close, all of a sudden </span><span class="line" data-startTime="922">it's going to go from being </span><span class="line" data-startTime="925">whatever size you expected </span><span class="line" data-startTime="925">it to be to </span><span class="line" data-startTime="928">being bigger or smaller. </span></p>

<p class="speaker"><span class="line" data-starttime="930"><span class="speakerName">Aubrey Anderson</span>: I think that's </span><span class="line" data-startTime="930">another important thing </span><span class="line" data-startTime="931">to keep in mind too, that what </span><span class="line" data-startTime="931">you get from the rendering </span><span class="line" data-startTime="935">engine generally reflects </span><span class="line" data-startTime="935">reality, but for an </span><span class="line" data-startTime="939">interactive environment </span><span class="line" data-startTime="939">that's not always </span><span class="line" data-startTime="941">what you want to do. </span> <span class="line" data-startTime="942">It's a little bit like </span><span class="line" data-startTime="942">deceleration physics on a </span><span class="line" data-startTime="944">touch device. </span> <span class="line" data-startTime="945">They're not real physics because </span><span class="line" data-startTime="945">real physics actually </span><span class="line" data-startTime="947">don't feel that good. </span> <span class="line" data-startTime="950">Like the way an element really </span><span class="line" data-startTime="950">decelerates in space, from an </span><span class="line" data-startTime="953">interactive perspective is </span><span class="line" data-startTime="953">kind of not that cool. </span> <span class="line" data-startTime="955">So the same with transforms, </span><span class="line" data-startTime="955">a lot of times we'll find </span><span class="line" data-startTime="958">ourselves subtly scaling things </span><span class="line" data-startTime="958">up or down and actually </span><span class="line" data-startTime="962">pulling them out of whatever </span><span class="line" data-startTime="962">you might characterize as </span><span class="line" data-startTime="965">realism in terms of a real 3D </span><span class="line" data-startTime="965">model, if you're thinking in </span><span class="line" data-startTime="968">terms of like WebGL terms. </span></p>

<p><span class="line" data-startTime="971">But in order to make them sit </span><span class="line" data-startTime="971">right compositionally and just </span><span class="line" data-startTime="974">to make when your brain looks </span><span class="line" data-startTime="974">at you go, oh yeah, probably </span><span class="line" data-startTime="977">that tree and that person </span><span class="line" data-startTime="977">are in the same world. </span> <span class="line" data-startTime="980">Oftentimes you have to bring </span><span class="line" data-startTime="980">the person way forward and </span><span class="line" data-startTime="982">scale them way down. </span> <span class="line" data-startTime="983">Because bringing them forward </span><span class="line" data-startTime="983">makes them big, and even </span><span class="line" data-startTime="986">though that is the right </span><span class="line" data-startTime="986">perspective, you have to scale </span><span class="line" data-startTime="989">them down in order to just </span><span class="line" data-startTime="989">buy it compositionally. </span> <span class="line" data-startTime="992">I'll show you another example. </span> <span class="line" data-startTime="994">So these lanterns, you'll see </span><span class="line" data-startTime="994">they're sort of randomized, </span><span class="line" data-startTime="998">and they kind of float out, and </span><span class="line" data-startTime="998">then eventually will shoot </span><span class="line" data-startTime="1001">up into the sky. </span></p>

<p><span class="line" data-startTime="1003">Again, this programmatically </span><span class="line" data-startTime="1003">would be relatively difficult </span><span class="line" data-startTime="1007">to express because you'd have to </span><span class="line" data-startTime="1007">sort of micromanage each of </span><span class="line" data-startTime="1010">these elements. </span> <span class="line" data-startTime="1011">But in our case here, we </span><span class="line" data-startTime="1011">don't actually have </span><span class="line" data-startTime="1013">to do that at all. </span> <span class="line" data-startTime="1014">We have a lantern. </span> <span class="line" data-startTime="1016">This is how every </span><span class="line" data-startTime="1016">lantern starts. </span> <span class="line" data-startTime="1018">And we have a little </span><span class="line" data-startTime="1018">particle generator </span><span class="line" data-startTime="1019">that makes a new lantern. </span> <span class="line" data-startTime="1021">Every time a lantern gets thrown </span><span class="line" data-startTime="1021">up there, it's pushed a </span><span class="line" data-startTime="1025">little bit in left space. </span> <span class="line" data-startTime="1027">It has some sort of width and </span><span class="line" data-startTime="1027">height, and all the stuff </span><span class="line" data-startTime="1030">you'd normally do to a div </span><span class="line" data-startTime="1030">to get it to render. </span> <span class="line" data-startTime="1033">And we set a starting point. </span> <span class="line" data-startTime="1035">And then we just attach an </span><span class="line" data-startTime="1035">animation to it every time it </span><span class="line" data-startTime="1038">gets added. </span> <span class="line" data-startTime="1039">And I think the attachment of </span><span class="line" data-startTime="1039">the animation can happen also </span><span class="line" data-startTime="1043">in JavaScript, which </span><span class="line" data-startTime="1043">is important. </span> <span class="line" data-startTime="1044">You can sort of wait. </span> <span class="line" data-startTime="1045">And in this case, the lanterns </span><span class="line" data-startTime="1045">start all hidden. </span></p>

<p><span class="line" data-startTime="1048">And in JavaScript when the video </span><span class="line" data-startTime="1048">is ended, we get the </span><span class="line" data-startTime="1050">ended event on the video, and </span><span class="line" data-startTime="1050">we kick off these sort of </span><span class="line" data-startTime="1052">lantern animations. </span></p>

<p class="speaker"><span class="line" data-starttime="1053"><span class="speakerName">Pete LePage</span>: So the lanterns </span><span class="line" data-startTime="1053">can start floating in. </span></p>

<p class="speaker"><span class="line" data-starttime="1055"><span class="speakerName">Aubrey Anderson</span>: They can start </span><span class="line" data-startTime="1055">floating in, exactly. </span><span class="line" data-startTime="1057">But then we can forget about </span><span class="line" data-startTime="1057">it, which is awesome. </span><span class="line" data-startTime="1059">The lanterns all go through </span><span class="line" data-startTime="1059">this same transformation. </span><span class="line" data-startTime="1062">But JavaScript, as it loops </span><span class="line" data-startTime="1062">through, is setting a </span><span class="line" data-startTime="1066">different time on </span><span class="line" data-startTime="1066">the animation. </span><span class="line" data-startTime="1068">So the speed at which </span><span class="line" data-startTime="1068">they go through it </span><span class="line" data-startTime="1070">will change and randomize. </span><span class="line" data-startTime="1072">The place they start, X and Y, </span><span class="line" data-startTime="1072">will change and randomize. </span><span class="line" data-startTime="1075">But what happens from there </span><span class="line" data-startTime="1075">is always the same. </span><span class="line" data-startTime="1078">It goes through this </span><span class="line" data-startTime="1078">transform, it </span><span class="line" data-startTime="1079">drifts basically up. </span><span class="line" data-startTime="1081">But if you think of it in 3D </span><span class="line" data-startTime="1081">space, up sort of means away </span><span class="line" data-startTime="1085">because we're also scaling them </span><span class="line" data-startTime="1085">down as they drift up. </span><span class="line" data-startTime="1088">So you can see the go from this </span><span class="line" data-startTime="1088">sort of Y positioning up </span><span class="line" data-startTime="1094">to slightly less </span><span class="line" data-startTime="1094">Y positioning. </span><span class="line" data-startTime="1096">And then in the last 10% of the </span><span class="line" data-startTime="1096">animation, they shoot way </span><span class="line" data-startTime="1101">up in Y, which has the visual </span><span class="line" data-startTime="1101">effect of making them go up </span><span class="line" data-startTime="1105">into space. </span></p>

<p class="speaker"><span class="line" data-starttime="1106"><span class="speakerName">Pete LePage</span>: Yeah, I think </span><span class="line" data-startTime="1106">that's one of my favorite </span><span class="line" data-startTime="1107">things about the animation, is </span><span class="line" data-startTime="1107">being able to say, hey, I </span><span class="line" data-startTime="1112">start at zero, and obviously </span><span class="line" data-startTime="1112">I'm going to </span><span class="line" data-startTime="1115">specify my end animation. </span><span class="line" data-startTime="1116">But you can also put in sort of </span><span class="line" data-startTime="1116">middle points where you can </span><span class="line" data-startTime="1119">say, hey, I want the middle </span><span class="line" data-startTime="1119">point to be maybe at 80%. </span><span class="line" data-startTime="1126">You can get that math </span><span class="line" data-startTime="1126">built yourself. </span><span class="line" data-startTime="1128">Like you could go, oh hey, </span><span class="line" data-startTime="1128">I want it to go how </span><span class="line" data-startTime="1131">I want it to work. </span></p>

<p class="speaker"><span class="line" data-starttime="1132"><span class="speakerName">Aubrey Anderson</span>: Absolutely, and </span><span class="line" data-startTime="1132">you can get really sort of </span><span class="line" data-startTime="1134">propeller heady about it. </span><span class="line" data-startTime="1135">This I believe is five </span><span class="line" data-startTime="1135">digit precision. </span></p>

<p class="speaker"><span class="line" data-starttime="1138"><span class="speakerName">Pete LePage</span>: Oh, wow, I didn't </span><span class="line" data-startTime="1138">know that actually. </span></p>

<p class="speaker"><span class="line" data-starttime="1139"><span class="speakerName">Aubrey Anderson</span>: Some browsers </span><span class="line" data-startTime="1139">have three digit precision, so </span><span class="line" data-startTime="1141">I recommended keeping </span><span class="line" data-startTime="1141">to three. </span><span class="line" data-startTime="1142">But I believe Chrome actually </span><span class="line" data-startTime="1142">observes five. </span><span class="line" data-startTime="1145">So you can get very, </span><span class="line" data-startTime="1145">very specific. </span><span class="line" data-startTime="1148">This in a four second animation, </span><span class="line" data-startTime="1148">obviously, is not </span><span class="line" data-startTime="1151">something you'd do very often. </span><span class="line" data-startTime="1152">But if you have a very </span><span class="line" data-startTime="1152">long-lived animation, </span><span class="line" data-startTime="1155">something that takes 100 </span><span class="line" data-startTime="1155">seconds, or 500 seconds, </span><span class="line" data-startTime="1158">sometimes to get the timing just </span><span class="line" data-startTime="1158">right, like when you're </span><span class="line" data-startTime="1161">motion mapping video. </span></p>

<p class="speaker"><span class="line" data-starttime="1163"><span class="speakerName">KC Austin</span>: That's what we were </span><span class="line" data-startTime="1163">doing for the videos. </span><span class="line" data-startTime="1164">I actually wrote something so </span><span class="line" data-startTime="1164">that when you hit the Space </span><span class="line" data-startTime="1167">bar during a video, it would </span><span class="line" data-startTime="1167">get put the time over the </span><span class="line" data-startTime="1171">duration and log that. </span><span class="line" data-startTime="1173">And then I could just </span><span class="line" data-startTime="1173">copy, paste that </span><span class="line" data-startTime="1175">into here and do that. </span><span class="line" data-startTime="1177">And that's how we would track </span><span class="line" data-startTime="1177">where things to sync things up </span><span class="line" data-startTime="1179">with video. </span></p>

<p class="speaker"><span class="line" data-starttime="1180"><span class="speakerName">Aubrey Anderson</span>: Oh, </span><span class="line" data-startTime="1180">that's cool. </span><span class="line" data-startTime="1181">So you'd leave the video rolling </span><span class="line" data-startTime="1181">and just go tap. </span></p>

<p class="speaker"><span class="line" data-starttime="1182"><span class="speakerName">KC Austin</span>: The video rolling, </span><span class="line" data-startTime="1182">and I'd be like, OK, I want </span><span class="line" data-startTime="1184">that to happen here, and then </span><span class="line" data-startTime="1184">boom, and then just copy that </span><span class="line" data-startTime="1186">in, and that's where that </span><span class="line" data-startTime="1186">key frame basically is. </span><span class="line" data-startTime="1189">It's kind of like </span><span class="line" data-startTime="1189">a queue point. </span></p>

<p class="speaker"><span class="line" data-starttime="1192"><span class="speakerName">Aubrey Anderson</span>: Chrome as a </span><span class="line" data-startTime="1192">tool for motion mapping. </span><span class="line" data-startTime="1194">That's pretty badass. </span><span class="line" data-startTime="1197">So do you want to talk about the </span><span class="line" data-startTime="1197">fireflies at little bit. </span></p>

<p class="speaker"><span class="line" data-starttime="1200"><span class="speakerName">KC Austin</span>: Yeah, so the </span><span class="line" data-startTime="1200">fireflies, I thought about how </span><span class="line" data-startTime="1204">we could do with that sort of </span><span class="line" data-startTime="1204">the key frame animation, but </span><span class="line" data-startTime="1207">we needed them more reactive. </span> <span class="line" data-startTime="1208">So when they're made, they're </span><span class="line" data-startTime="1208">generated, and then they sort </span><span class="line" data-startTime="1216">of fly down the path in front of </span><span class="line" data-startTime="1216">you in Z. And then when you </span><span class="line" data-startTime="1220">get to the next scene at the </span><span class="line" data-startTime="1220">fork, they kind of split and </span><span class="line" data-startTime="1224">go left and right. </span> <span class="line" data-startTime="1225">And that's where you </span><span class="line" data-startTime="1225">can choose a path, </span><span class="line" data-startTime="1227">either left or right. </span> <span class="line" data-startTime="1228">And when you lean left, they </span><span class="line" data-startTime="1228">have to all kind of </span><span class="line" data-startTime="1230">hover to the left. </span> <span class="line" data-startTime="1231">When you lean right, they have </span><span class="line" data-startTime="1231">to hover to the right. </span></p>

<p><span class="line" data-startTime="1233">So in that case, since they're </span><span class="line" data-startTime="1233">reactive, we couldn't really </span><span class="line" data-startTime="1238">use the key frame animations. </span> <span class="line" data-startTime="1241">So as you can see here, they're </span><span class="line" data-startTime="1241">kind of just flying </span><span class="line" data-startTime="1244">down in front of you. </span> <span class="line" data-startTime="1247">So there's a state that they all </span><span class="line" data-startTime="1247">look for that's out in the </span><span class="line" data-startTime="1252">main application that's </span><span class="line" data-startTime="1252">called control. </span> <span class="line" data-startTime="1254">And if that's set to center, </span><span class="line" data-startTime="1254">they just go in the center. </span> <span class="line" data-startTime="1258">If that's set to right, they </span><span class="line" data-startTime="1258">all move to the right, if </span><span class="line" data-startTime="1261">that's set to left. </span> <span class="line" data-startTime="1261">So you can call that </span><span class="line" data-startTime="1261">from anywhere, </span><span class="line" data-startTime="1263">and set that variable. </span> <span class="line" data-startTime="1265">For example, right now &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1268"><span class="speakerName">Aubrey Anderson</span>: You'll see </span><span class="line" data-startTime="1268">them, there, they're more or </span><span class="line" data-startTime="1270">less centered. </span><span class="line" data-startTime="1271">Or they're split, right? </span></p>

<p class="speaker"><span class="line" data-starttime="1273"><span class="speakerName">KC Austin</span>: Left and right. </span><span class="line" data-startTime="1276">If you just make this variable </span><span class="line" data-startTime="1276">control, if you set it to </span><span class="line" data-startTime="1280">right, you'll see them </span><span class="line" data-startTime="1280">all kind of &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1285"><span class="speakerName">Pete LePage</span>: Oh, and they </span><span class="line" data-startTime="1285">all move to the right. </span></p>

<p class="speaker"><span class="line" data-starttime="1287"><span class="speakerName">KC Austin</span>:  &mdash; they all </span><span class="line" data-startTime="1287">meander over. </span><span class="line" data-startTime="1288">And then if you set it </span><span class="line" data-startTime="1288">to split, they split. </span><span class="line" data-startTime="1292">And then if you set it to left, </span><span class="line" data-startTime="1292">they'll all meander over </span><span class="line" data-startTime="1294">to the other side. </span><span class="line" data-startTime="1296">And these, there's an object. </span><span class="line" data-startTime="1301">There's a few ways that I was </span><span class="line" data-startTime="1301">experimenting with doing this. </span><span class="line" data-startTime="1303">There was the jQuery </span><span class="line" data-startTime="1303">thing where you can </span><span class="line" data-startTime="1306">add data to a div. </span><span class="line" data-startTime="1308">And that was the first thing. </span><span class="line" data-startTime="1310">But I ended up just doing the </span><span class="line" data-startTime="1310">way that I'm used to doing, </span><span class="line" data-startTime="1312">which is I have an object that's </span><span class="line" data-startTime="1312">a firefly JavaScript </span><span class="line" data-startTime="1317">object that has all the X, Y, Z </span><span class="line" data-startTime="1317">positions and the logic for </span><span class="line" data-startTime="1322">updating it, the particle. </span><span class="line" data-startTime="1324">So it's a very simple </span><span class="line" data-startTime="1324">particle system that </span><span class="line" data-startTime="1326">updates on every frame. </span><span class="line" data-startTime="1327">And then I have a loop </span><span class="line" data-startTime="1327">that goes through </span><span class="line" data-startTime="1329">and updates all those. </span><span class="line" data-startTime="1331">And then within that object, </span><span class="line" data-startTime="1331">there's also a </span><span class="line" data-startTime="1333">reference to the div. </span></p>

<p class="speaker"><span class="line" data-starttime="1334"><span class="speakerName">Aubrey Anderson</span>: Are those </span><span class="line" data-startTime="1334">guys their own view? </span></p>

<p class="speaker"><span class="line" data-starttime="1336"><span class="speakerName">KC Austin</span>: Yeah, they </span><span class="line" data-startTime="1336">have their own view. </span><span class="line" data-startTime="1337">It's fireflies.js. </span><span class="line" data-startTime="1340">So you'll see, this is </span><span class="line" data-startTime="1340">the fireflies object. </span><span class="line" data-startTime="1345">Oh, this is the control here, </span><span class="line" data-startTime="1345">so that could be center, </span><span class="line" data-startTime="1349">split, and then disperse just </span><span class="line" data-startTime="1349">sends them off of the screen. </span><span class="line" data-startTime="1354">Where to generate them in the </span><span class="line" data-startTime="1354">beginning is a whole other </span><span class="line" data-startTime="1358">thing to get into. </span><span class="line" data-startTime="1359">But we needed them to actually </span><span class="line" data-startTime="1359">show up at the end of the hand </span><span class="line" data-startTime="1364">when the siren actually </span><span class="line" data-startTime="1364">raise her hand. </span><span class="line" data-startTime="1367">So what I had to do was find the </span><span class="line" data-startTime="1367">X and Y position of that </span><span class="line" data-startTime="1371">sprite sheet and then go into </span><span class="line" data-startTime="1371">the sprite sheet in Photoshop </span><span class="line" data-startTime="1376">and see how many pixels left </span><span class="line" data-startTime="1376">and top where the hand is. </span></p>

<p class="speaker"><span class="line" data-starttime="1383"><span class="speakerName">Pete LePage</span>: Oh wow. </span></p>

<p class="speaker"><span class="line" data-starttime="1383"><span class="speakerName">KC Austin</span>: And add that to </span><span class="line" data-startTime="1383">the sprite sheet X and Y. </span></p>

<p class="speaker"><span class="line" data-starttime="1386"><span class="speakerName">Pete LePage</span>: So you were going, </span><span class="line" data-startTime="1386">OK, here's my sprite </span><span class="line" data-startTime="1388">sheet, I know that the </span><span class="line" data-startTime="1388">hand ends at this. </span></p>

<p class="speaker"><span class="line" data-starttime="1391"><span class="speakerName">KC Austin</span>: And the hand </span><span class="line" data-startTime="1391">pixels where I want </span><span class="line" data-startTime="1392">it to form is there. </span> <span class="line" data-startTime="1395">And then you add that to the </span><span class="line" data-startTime="1395">X, Y, Z of the sprite sheet </span><span class="line" data-startTime="1399">and then that places it where </span><span class="line" data-startTime="1399">you want it to go. </span> <span class="line" data-startTime="1401">With then you call that on the </span><span class="line" data-startTime="1401">WebKit animation iteration. </span> <span class="line" data-startTime="1407">So when that iteration is done, </span><span class="line" data-startTime="1407">the sprite sheet is </span><span class="line" data-startTime="1410">ended, that's when her hand is </span><span class="line" data-startTime="1410">up, create the thing, and then </span><span class="line" data-startTime="1414">it just goes by itself. </span> <span class="line" data-startTime="1416">And you can see it in the </span><span class="line" data-startTime="1416">update loop here. </span> <span class="line" data-startTime="1423">This is all the variables </span><span class="line" data-startTime="1423">for the set-up. </span> <span class="line" data-startTime="1430">And if it's left, it sets </span><span class="line" data-startTime="1430">the center and border. </span> <span class="line" data-startTime="1434">If it's right, it sets the </span><span class="line" data-startTime="1434">center and border. </span> <span class="line" data-startTime="1436">If it's split, it checks if </span><span class="line" data-startTime="1436">its ID is even or odd. </span></p>

<p><span class="line" data-startTime="1444">If it's even, then it goes to </span><span class="line" data-startTime="1444">one side, if it's odd, it goes </span><span class="line" data-startTime="1446">to the other. </span> <span class="line" data-startTime="1448">And if it disperses, it just </span><span class="line" data-startTime="1448">takes off, off the screen, and </span><span class="line" data-startTime="1450">doesn't mind the borders. </span> <span class="line" data-startTime="1452">It's a very simple </span><span class="line" data-startTime="1452">particle system. </span> <span class="line" data-startTime="1454">But for this, we had to </span><span class="line" data-startTime="1454">update it on every </span><span class="line" data-startTime="1457">frame with the interval. </span></p>

<p class="speaker"><span class="line" data-starttime="1460"><span class="speakerName">Aubrey Anderson</span>: And then, let's </span><span class="line" data-startTime="1460">look at the CSS as well </span><span class="line" data-startTime="1465">just as kind of see how they </span><span class="line" data-startTime="1465">get bound together. </span><span class="line" data-startTime="1469">Because the fireflies </span><span class="line" data-startTime="1469">themselves have a &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1472"><span class="speakerName">KC Austin</span>: Yeah, they also have </span><span class="line" data-startTime="1472">an animation on them. </span><span class="line" data-startTime="1475">And the CSS animation is </span><span class="line" data-startTime="1475">to make them blink. </span></p>

<p class="speaker"><span class="line" data-starttime="1480"><span class="speakerName">Aubrey Anderson</span>: So each of </span><span class="line" data-startTime="1480">these elements, every time you </span><span class="line" data-startTime="1482">add a div, you give it the class </span><span class="line" data-startTime="1482">firefly, it's going to </span><span class="line" data-startTime="1485">obey these directions here, and </span><span class="line" data-startTime="1485">bind itself to the firefly </span><span class="line" data-startTime="1488">light animation. </span><span class="line" data-startTime="1490">And it'll do this independently </span><span class="line" data-startTime="1490">of whatever </span><span class="line" data-startTime="1492">JavaScript is doing to the div </span><span class="line" data-startTime="1492">that actually contains them. </span><span class="line" data-startTime="1495">This bit just keeps </span><span class="line" data-startTime="1495">running on a loop. </span></p>

<p class="speaker"><span class="line" data-starttime="1498"><span class="speakerName">KC Austin</span>: And since they're </span><span class="line" data-startTime="1498">created at different times, </span><span class="line" data-startTime="1500">then they blink at </span><span class="line" data-startTime="1500">different times. </span></p>

<p class="speaker"><span class="line" data-starttime="1503"><span class="speakerName">Aubrey Anderson</span>: Yeah, these </span><span class="line" data-startTime="1503">will all go from zero. </span><span class="line" data-startTime="1505">Animations are also interesting </span><span class="line" data-startTime="1505">in the sense that </span><span class="line" data-startTime="1507">when the element is visible, </span><span class="line" data-startTime="1507">the animation runs. </span><span class="line" data-startTime="1512">But they'll clean </span><span class="line" data-startTime="1512">themselves up. </span><span class="line" data-startTime="1514">If you set the elements to </span><span class="line" data-startTime="1514">display none, the animation </span><span class="line" data-startTime="1517">stops and unloads. </span></p>

<p class="speaker"><span class="line" data-starttime="1519"><span class="speakerName">Pete LePage</span>: Oh, cool. </span></p>

<p class="speaker"><span class="line" data-starttime="1520"><span class="speakerName">Aubrey Anderson</span>: So we were sort </span><span class="line" data-startTime="1520">of pleasantly surprised </span><span class="line" data-startTime="1522">by how much management </span><span class="line" data-startTime="1522">you get. </span><span class="line" data-startTime="1524">We never have to go in and </span><span class="line" data-startTime="1524">cancel the information. </span></p>

<p class="speaker"><span class="line" data-starttime="1527"><span class="speakerName">KC Austin</span>: Like for the bubbles </span><span class="line" data-startTime="1527">for example, when we </span><span class="line" data-startTime="1529">would create the bubble, it </span><span class="line" data-startTime="1529">would play the animation. </span><span class="line" data-startTime="1533">And then on WebKit end, we were </span><span class="line" data-startTime="1533">settings display to none, </span><span class="line" data-startTime="1538">that would clear </span><span class="line" data-startTime="1538">the animation. </span></p>

<p class="speaker"><span class="line" data-starttime="1540"><span class="speakerName">Pete LePage</span>: Then it's </span><span class="line" data-startTime="1540">not taking up memory. </span><span class="line" data-startTime="1543">Something like this &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1544"><span class="speakerName">KC Austin</span>: It's not on </span><span class="line" data-startTime="1544">the render queue. </span></p>

<p class="speaker"><span class="line" data-starttime="1545"><span class="speakerName">Pete LePage</span>:  &mdash; if every piece </span><span class="line" data-startTime="1545">of bark on some of these </span><span class="line" data-startTime="1547">things is its own element &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1548"><span class="speakerName">KC Austin</span>: Oh yeah, </span><span class="line" data-startTime="1548">it gets heavy. </span></p>

<p class="speaker"><span class="line" data-starttime="1549"><span class="speakerName">Pete LePage</span>:  &mdash; you got </span><span class="line" data-startTime="1549">to start thinking </span><span class="line" data-startTime="1550">about a lot of usage. </span></p>

<p class="speaker"><span class="line" data-starttime="1552"><span class="speakerName">KC Austin</span>: Or if you're </span><span class="line" data-startTime="1552">generating bubbles every </span><span class="line" data-startTime="1555">second, the divs start </span><span class="line" data-startTime="1555">piling up. </span><span class="line" data-startTime="1561">Actually for the bubbles, on </span><span class="line" data-startTime="1561">WebKit end I was actually </span><span class="line" data-startTime="1563">removing the div. </span></p>

<p class="speaker"><span class="line" data-starttime="1565"><span class="speakerName">Aubrey Anderson</span>: Oh right, </span><span class="line" data-startTime="1565">when the animation ends, </span><span class="line" data-startTime="1567">[INAUDIBLE], you can just </span><span class="line" data-startTime="1567">take the div out. </span></p>

<p class="speaker"><span class="line" data-starttime="1570"><span class="speakerName">Pete LePage</span>: And there's an </span><span class="line" data-startTime="1570">event that's fired when the </span><span class="line" data-startTime="1573">animation &mdash; </span><span class="line" data-startTime="1573">[INTERPOSING VOICES] </span></p>

<p class="speaker"><span class="line" data-starttime="1574"><span class="speakerName">Pete LePage</span>:  &mdash; oh, that event. </span></p>

<p class="speaker"><span class="line" data-starttime="1575"><span class="speakerName">Aubrey Anderson</span>: Both transition </span><span class="line" data-startTime="1575">and animation get a </span><span class="line" data-startTime="1577">start and an end. </span><span class="line" data-startTime="1578">And animations get an iteration, </span><span class="line" data-startTime="1578">which means that </span><span class="line" data-startTime="1582">like if it's looping over </span><span class="line" data-startTime="1582">a second, you'll get an </span><span class="line" data-startTime="1584">iteration called [INAUDIBLE]. </span><span class="line" data-startTime="1585">You can actually fake a </span><span class="line" data-startTime="1585">setTimeout that way. </span></p>

<p class="speaker"><span class="line" data-starttime="1588"><span class="speakerName">Pete LePage</span>: Oh, very nice. </span></p>

<p class="speaker"><span class="line" data-starttime="1589"><span class="speakerName">Aubrey Anderson</span>: I didn't say </span><span class="line" data-startTime="1589">that and I don't recommend it. </span></p>

<p class="speaker"><span class="line" data-starttime="1591"><span class="speakerName">Pete LePage</span>: Now, actually </span><span class="line" data-startTime="1591">that's a good point. </span><span class="line" data-startTime="1593">I assume you guys used </span><span class="line" data-startTime="1593">requestAnimationFrame as </span><span class="line" data-startTime="1596">opposed to setTimeout for? </span></p>

<p class="speaker"><span class="line" data-starttime="1598"><span class="speakerName">Aubrey Anderson</span>: We ended up </span><span class="line" data-startTime="1598">using setTimeout for almost </span><span class="line" data-startTime="1600">everything, primarily for </span><span class="line" data-startTime="1600">compatibility's sake. </span><span class="line" data-startTime="1602">Because requestAnimationFrame, </span><span class="line" data-startTime="1602">I think, is cooler and better </span><span class="line" data-startTime="1607">objectively speaking. </span></p>

<p class="speaker"><span class="line" data-starttime="1608"><span class="speakerName">Pete LePage</span>: Absolutely. </span></p>

<p class="speaker"><span class="line" data-starttime="1611"><span class="speakerName">Aubrey Anderson</span>: Obviously this </span><span class="line" data-startTime="1611">is a Chrome experiment, </span><span class="line" data-startTime="1612">but we wanted to be as </span><span class="line" data-startTime="1612">compatible as possible when </span><span class="line" data-startTime="1615">you took it to another </span><span class="line" data-startTime="1615">environment. </span> <span class="line" data-startTime="1617">And not all environments speak </span><span class="line" data-startTime="1617">requestAnimationFrame, with </span><span class="line" data-startTime="1622">some notable exceptions. </span> <span class="line" data-startTime="1625">And then in testing also, </span><span class="line" data-startTime="1625">I did a bunch of sort of </span><span class="line" data-startTime="1630">parallel testing in terms of </span><span class="line" data-startTime="1630">setting timeouts that way, </span><span class="line" data-startTime="1634">setting them with animation, </span><span class="line" data-startTime="1634">setting them with setTimeouts. </span> <span class="line" data-startTime="1636">The main thing about setTimeout </span><span class="line" data-startTime="1636">is that you just </span><span class="line" data-startTime="1638">have to be really careful </span><span class="line" data-startTime="1638">that you don't </span><span class="line" data-startTime="1640">leave anybody hanging. </span></p>

<p><span class="line" data-startTime="1641">So when you view tears down, </span><span class="line" data-startTime="1641">you just have to make sure </span><span class="line" data-startTime="1644">that any time you set a timeout </span><span class="line" data-startTime="1644">you keep a reference </span><span class="line" data-startTime="1647">to it, and as your view tears </span><span class="line" data-startTime="1647">down, you cancel. </span> <span class="line" data-startTime="1653">And I think timeout has got such </span><span class="line" data-startTime="1653">a bad name for a number </span><span class="line" data-startTime="1656">of reasons, but that's </span><span class="line" data-startTime="1656">one of them. </span> <span class="line" data-startTime="1657">It's very easy to make </span><span class="line" data-startTime="1657">terrible mistakes. </span></p>

<p class="speaker"><span class="line" data-starttime="1660"><span class="speakerName">KC Austin</span>: I think we'd prefer </span><span class="line" data-startTime="1660">to do the animation frame, </span><span class="line" data-startTime="1663">because it is clocked </span><span class="line" data-startTime="1663">like exactly. </span><span class="line" data-startTime="1666">But for this kind of stuff </span><span class="line" data-startTime="1666">too, it's just fireflies </span><span class="line" data-startTime="1669">flying around the screen, it </span><span class="line" data-startTime="1669">doesn't have to be perfectly </span><span class="line" data-startTime="1673">precise at exactly 60 frames </span><span class="line" data-startTime="1673">a second or exactly </span><span class="line" data-startTime="1676">whatever you need. </span><span class="line" data-startTime="1677">So as long as they move around </span><span class="line" data-startTime="1677">realistically, the interval </span><span class="line" data-startTime="1680">works fine, as long as </span><span class="line" data-startTime="1680">you clear it after. </span></p>

<p class="speaker"><span class="line" data-starttime="1683"><span class="speakerName">Aubrey Anderson</span>: And </span><span class="line" data-startTime="1683">for us, there's </span><span class="line" data-startTime="1685">so much media happening. </span><span class="line" data-startTime="1687">So a lot of times, our timing, </span><span class="line" data-startTime="1687">the holder of the master clock </span><span class="line" data-startTime="1691">is actually a piece of video </span><span class="line" data-startTime="1691">or a piece of music. </span><span class="line" data-startTime="1695">So if you look at like the </span><span class="line" data-startTime="1695">tree, for instance. </span></p>

<p class="speaker"><span class="line" data-starttime="1703"><span class="speakerName">Pete LePage</span>: And just as a </span><span class="line" data-startTime="1703">reminder, if people have </span><span class="line" data-startTime="1705">questions, please go and post </span><span class="line" data-startTime="1705">those on Google Moderator so </span><span class="line" data-startTime="1708">we can come back to some of </span><span class="line" data-startTime="1708">these in a little bit. </span><span class="line" data-startTime="1711">And as well, you can go visit </span><span class="line" data-startTime="1711">this at MoviKantiRevo.com. </span><span class="line" data-startTime="1717">It's available as </span><span class="line" data-startTime="1717">of last night. </span></p>

<p class="speaker"><span class="line" data-starttime="1719"><span class="speakerName">Aubrey Anderson</span>: Yeah, </span><span class="line" data-startTime="1719">I heard it launched. </span></p>

<p class="speaker"><span class="line" data-starttime="1720"><span class="speakerName">Pete LePage</span>: Woo-hoo. </span><span class="line" data-startTime="1721">Yay. </span></p>

<p class="speaker"><span class="line" data-starttime="1722"><span class="speakerName">Aubrey Anderson</span>: So in this one, </span><span class="line" data-startTime="1722">we have one big animation </span><span class="line" data-startTime="1725">which is transforming the </span><span class="line" data-startTime="1725">whole model, essentially </span><span class="line" data-startTime="1729">creating a pan up effect. </span><span class="line" data-startTime="1730">But we're not really panning </span><span class="line" data-startTime="1730">up, obviously. </span><span class="line" data-startTime="1733">One big div containing </span><span class="line" data-startTime="1733">everything is actually </span><span class="line" data-startTime="1735">animation down very slowly. </span><span class="line" data-startTime="1737">And then there's all these sort </span><span class="line" data-startTime="1737">of individual pieces of </span><span class="line" data-startTime="1739">video that we're listening to, </span><span class="line" data-startTime="1739">specific events, the start, </span><span class="line" data-startTime="1743">the end, and, in some cases, </span><span class="line" data-startTime="1743">various timing events. </span><span class="line" data-startTime="1747">So there's multiple things </span><span class="line" data-startTime="1747">happening, but there's no </span><span class="line" data-startTime="1748">setTimeouts in this context. </span><span class="line" data-startTime="1750">We're looking at how much time </span><span class="line" data-startTime="1750">has elapsed in the animation </span><span class="line" data-startTime="1754">and how much time has elapsed </span><span class="line" data-startTime="1754">in a given piece of media. </span><span class="line" data-startTime="1757">And those things are keeping </span><span class="line" data-startTime="1757">time for us. </span><span class="line" data-startTime="1760">The advantage there is if for </span><span class="line" data-startTime="1760">some reason somebody hits this </span><span class="line" data-startTime="1763">on a slow network connection and </span><span class="line" data-startTime="1763">the video takes an extra </span><span class="line" data-startTime="1765">five seconds to start, obviously </span><span class="line" data-startTime="1765">you don't want your </span><span class="line" data-startTime="1768">timing to get all messed up. </span><span class="line" data-startTime="1770">So pretty much up to lean on the </span><span class="line" data-startTime="1770">video to kind of run the </span><span class="line" data-startTime="1774">clock and tell you what's </span><span class="line" data-startTime="1774">happening when. </span></p>

<p class="speaker"><span class="line" data-starttime="1776"><span class="speakerName">KC Austin</span>: We also have a simple </span><span class="line" data-startTime="1776">queue point script in </span><span class="line" data-startTime="1781">there that tracks the video on </span><span class="line" data-startTime="1781">video update and tracks what </span><span class="line" data-startTime="1785">time it is. </span><span class="line" data-startTime="1785">And then you have an array that </span><span class="line" data-startTime="1785">has times and functions </span><span class="line" data-startTime="1791">that fire during those times. </span><span class="line" data-startTime="1793">So as soon as it hits those </span><span class="line" data-startTime="1793">times, it will fire those </span><span class="line" data-startTime="1795">functions off. </span><span class="line" data-startTime="1798">So you can bring up the video, </span><span class="line" data-startTime="1798">see what time exactly you want </span><span class="line" data-startTime="1802">that to fire. </span><span class="line" data-startTime="1803">Like on the curtain, when she </span><span class="line" data-startTime="1803">leans, we need to trigger the </span><span class="line" data-startTime="1806">curtain to open. </span><span class="line" data-startTime="1807">So we just say at five seconds, </span><span class="line" data-startTime="1807">trigger the current </span><span class="line" data-startTime="1812">left, and then it'll </span><span class="line" data-startTime="1812">fire that. </span></p>

<p class="speaker"><span class="line" data-starttime="1815"><span class="speakerName">Aubrey Anderson</span>: One of the </span><span class="line" data-startTime="1815">things I'd love to see happen </span><span class="line" data-startTime="1817">in the media tags, in general, </span><span class="line" data-startTime="1817">is some sort of a better way </span><span class="line" data-startTime="1820">to plug into what's happening </span><span class="line" data-startTime="1820">in the media world. </span><span class="line" data-startTime="1823">Like a of times, we have to </span><span class="line" data-startTime="1823">manually set up a framework to </span><span class="line" data-startTime="1827">observe a piece of media. </span><span class="line" data-startTime="1828">The media tells us a lot when </span><span class="line" data-startTime="1828">it's loading and about whether </span><span class="line" data-startTime="1833">it can play or can't play. </span><span class="line" data-startTime="1834">Once it's rolling, it's kind </span><span class="line" data-startTime="1834">of quiet unless you ask it, </span><span class="line" data-startTime="1837">and basically just go </span><span class="line" data-startTime="1837">in and getTime. </span><span class="line" data-startTime="1839">You get the element and ask </span><span class="line" data-startTime="1839">it for current time. </span><span class="line" data-startTime="1843">And current time will give </span><span class="line" data-startTime="1843">you seconds and sometimes </span><span class="line" data-startTime="1846">milliseconds. </span><span class="line" data-startTime="1848">And then you have to kind of </span><span class="line" data-startTime="1848">infer from what's going on. </span><span class="line" data-startTime="1851">But it'd be great to have that </span><span class="line" data-startTime="1851">API get deeper someday and be </span><span class="line" data-startTime="1854">able to have the media tell us </span><span class="line" data-startTime="1854">and create callbacks that we </span><span class="line" data-startTime="1859">can listen for. </span><span class="line" data-startTime="1860">It's very new, it's very </span><span class="line" data-startTime="1860">young, so there's a </span><span class="line" data-startTime="1863">lot going on there. </span></p>

<p class="speaker"><span class="line" data-starttime="1865"><span class="speakerName">Pete LePage</span>: I think there's </span><span class="line" data-startTime="1865">so many opportunities. </span><span class="line" data-startTime="1867">We've got like the now with </span><span class="line" data-startTime="1867">the Web Audio API. </span><span class="line" data-startTime="1872">Hopefully we'll be able to get </span><span class="line" data-startTime="1872">something potentially similar </span><span class="line" data-startTime="1875">sort of for video that we'll </span><span class="line" data-startTime="1875">be able to get a lot more </span><span class="line" data-startTime="1877">stuff with. </span></p>

<p class="speaker"><span class="line" data-starttime="1878"><span class="speakerName">Aubrey Anderson</span>: Oh yeah, </span><span class="line" data-startTime="1878">and we had high hopes. </span> <span class="line" data-startTime="1880">Obviously, we're using Web </span><span class="line" data-startTime="1880">Audio and WebRTC in this. </span> <span class="line" data-startTime="1887">But one of the things we ran </span><span class="line" data-startTime="1887">into, which I think just got </span><span class="line" data-startTime="1890">fixed in Canary, like yesterday, </span><span class="line" data-startTime="1890">was the ability to </span><span class="line" data-startTime="1894">essentially loop those </span><span class="line" data-startTime="1894">things back and plug </span><span class="line" data-startTime="1897">them into one another. </span> <span class="line" data-startTime="1899">Which you wouldn't think would </span><span class="line" data-startTime="1899">be that big a deal, but it's </span><span class="line" data-startTime="1902">actually a super, super </span><span class="line" data-startTime="1902">important when creating things </span><span class="line" data-startTime="1907">like voice control. </span> <span class="line" data-startTime="1908">So what we had hoped to </span><span class="line" data-startTime="1908">accomplish here was to allow </span><span class="line" data-startTime="1914">us to listen to the camera </span><span class="line" data-startTime="1914">and microphone. </span> <span class="line" data-startTime="1919">And obviously, we're painting </span><span class="line" data-startTime="1919">the camera frames </span><span class="line" data-startTime="1922">in here with a canvas. </span> <span class="line" data-startTime="1925">But the audio, we cannot, or </span><span class="line" data-startTime="1925">at least have not been able </span><span class="line" data-startTime="1929">to, sort of feed that back into </span><span class="line" data-startTime="1929">the Web Audio API and </span><span class="line" data-startTime="1932">analyze it. </span></p>

<p><span class="line" data-startTime="1933">Our sort of dream for some of </span><span class="line" data-startTime="1933">these sections was she would </span><span class="line" data-startTime="1936">come up and ask you to whistle, </span><span class="line" data-startTime="1936">you would whistle, we </span><span class="line" data-startTime="1939">would look at the frequency and </span><span class="line" data-startTime="1939">use Web Audio to sort of </span><span class="line" data-startTime="1941">analyze whether you had hit a </span><span class="line" data-startTime="1941">certain frequency range, and </span><span class="line" data-startTime="1944">create different behaviors </span><span class="line" data-startTime="1944">based on low tone, a high </span><span class="line" data-startTime="1947">tone, a loud sound, </span><span class="line" data-startTime="1947">a quiet sound. </span> <span class="line" data-startTime="1950">And that's something that I </span><span class="line" data-startTime="1950">think we will get to as we go. </span> <span class="line" data-startTime="1954">But it's really exciting to see </span><span class="line" data-startTime="1954">that kind of come about. </span> <span class="line" data-startTime="1959">And there was a bug filed </span><span class="line" data-startTime="1959">about it already. </span> <span class="line" data-startTime="1961">But we jumped on the bug and </span><span class="line" data-startTime="1961">we're like, well we're trying </span><span class="line" data-startTime="1963">to do this, and this, </span><span class="line" data-startTime="1963">and this. </span> <span class="line" data-startTime="1964">And then we saw other people </span><span class="line" data-startTime="1964">kind of go, oh yeah, we want </span><span class="line" data-startTime="1966">to do that too. </span></p>

<p><span class="line" data-startTime="1967">So I think it built some </span><span class="line" data-startTime="1967">momentum and has now actually </span><span class="line" data-startTime="1970">been sorted out. </span></p>

<p class="speaker"><span class="line" data-starttime="1972"><span class="speakerName">Pete LePage</span>: So let's talk about </span><span class="line" data-startTime="1972">the facial detection, </span><span class="line" data-startTime="1975">getUserMedia, and what's </span><span class="line" data-startTime="1975">going on there. </span><span class="line" data-startTime="1977">Because you start Movi Kanti </span><span class="line" data-startTime="1977">Revo for the first time and it </span><span class="line" data-startTime="1982">says, hey, this application </span><span class="line" data-startTime="1982">wants to use your webcam and </span><span class="line" data-startTime="1986">microphone, do you </span><span class="line" data-startTime="1986">want to allow? </span><span class="line" data-startTime="1987">And you click Yes, and all of </span><span class="line" data-startTime="1987">a sudden, there's your face. </span><span class="line" data-startTime="1991">What's going on there? </span></p>

<p class="speaker"><span class="line" data-starttime="1992"><span class="speakerName">Aubrey Anderson</span>: So there's a </span><span class="line" data-startTime="1992">bunch of stuff going on there. </span> <span class="line" data-startTime="1994">The first thing happens is </span><span class="line" data-startTime="1994">when you click Allow, it </span><span class="line" data-startTime="1999">creates a video tag. </span> <span class="line" data-startTime="2000">And it sets the source of that </span><span class="line" data-startTime="2000">video tag to whatever </span><span class="line" data-startTime="2004">WebRTC gives you. </span> <span class="line" data-startTime="2006">WebRTC gives you this sort of </span><span class="line" data-startTime="2006">string of gobbledygook, which </span><span class="line" data-startTime="2008">is really just a kind of a </span><span class="line" data-startTime="2008">reference, I think, so that </span><span class="line" data-startTime="2011">the system can bind </span><span class="line" data-startTime="2011">up to the feed </span><span class="line" data-startTime="2014">coming in from the camera. </span> <span class="line" data-startTime="2016">But that's really </span><span class="line" data-startTime="2016">only step one. </span> <span class="line" data-startTime="2017">The video tag doesn't get you </span><span class="line" data-startTime="2017">very far in terms of doing </span><span class="line" data-startTime="2021">motion tracking or anything </span><span class="line" data-startTime="2021">like that. </span> <span class="line" data-startTime="2023">To do that, you really </span><span class="line" data-startTime="2023">need to use canvas, </span><span class="line" data-startTime="2025">at least right now. </span></p>

<p><span class="line" data-startTime="2027">So you never actually see the </span><span class="line" data-startTime="2027">video that we bring in. </span> <span class="line" data-startTime="2030">The first thing you see </span><span class="line" data-startTime="2030">is a canvas element. </span> <span class="line" data-startTime="2033">This canvas element has some </span><span class="line" data-startTime="2033">sort of vignetting going on </span><span class="line" data-startTime="2036">and some other treatments, </span><span class="line" data-startTime="2036">which is why I'm sort of </span><span class="line" data-startTime="2038">partially transparent here. </span> <span class="line" data-startTime="2040">But the sort of meat of what's </span><span class="line" data-startTime="2040">happening is that the frames </span><span class="line" data-startTime="2044">from the video are getting </span><span class="line" data-startTime="2044">pulled into the canvas, we're </span><span class="line" data-startTime="2047">then blowing through </span><span class="line" data-startTime="2047">the pixel. </span> <span class="line" data-startTime="2049">The pixels of the canvas gives </span><span class="line" data-startTime="2049">you a sort of big and </span><span class="line" data-startTime="2054">unfortunately convoluted </span><span class="line" data-startTime="2054">pixel array. </span> <span class="line" data-startTime="2057">So it's actually just a big </span><span class="line" data-startTime="2057">single list of pixels. </span> <span class="line" data-startTime="2061">And pixels 0, 1 2, and 3, are </span><span class="line" data-startTime="2061">the R, G, B, and A of the </span><span class="line" data-startTime="2067">first pixel. </span> <span class="line" data-startTime="2068">Those are the first </span><span class="line" data-startTime="2068">four slots. </span></p>

<p><span class="line" data-startTime="2070">So you have to take the slots </span><span class="line" data-startTime="2070">of the array, four by four, </span><span class="line" data-startTime="2075">and just make a note for </span><span class="line" data-startTime="2075">yourself that every four means </span><span class="line" data-startTime="2079">a pixel, and start your start to </span><span class="line" data-startTime="2079">pixel-level analysis there </span><span class="line" data-startTime="2083">and that way. </span> <span class="line" data-startTime="2085">So we're using a couple </span><span class="line" data-startTime="2085">of things. </span> <span class="line" data-startTime="2088">One is this really fantastic, </span><span class="line" data-startTime="2088">and reasonably fast JavaScript </span><span class="line" data-startTime="2093">CCV library to recognize face. </span> <span class="line" data-startTime="2099">It's very fast, but it's still </span><span class="line" data-startTime="2099">JavaScript, so it's </span><span class="line" data-startTime="2101">comparatively slow to </span><span class="line" data-startTime="2101">like native code. </span> <span class="line" data-startTime="2103">So every second or so, we do </span><span class="line" data-startTime="2103">face detection and average out </span><span class="line" data-startTime="2107">the things like the size and </span><span class="line" data-startTime="2107">the location of your face. </span> <span class="line" data-startTime="2111">And so, if you kind of lean it, </span><span class="line" data-startTime="2111">it's keyed to zoom, and </span><span class="line" data-startTime="2115">that will sort of trigger </span><span class="line" data-startTime="2115">the zoom in. </span></p>

<p><span class="line" data-startTime="2116">Leaning out will sort </span><span class="line" data-startTime="2116">of push out, again, </span><span class="line" data-startTime="2118">with the zoom level. </span> <span class="line" data-startTime="2120">And then from there, we're just </span><span class="line" data-startTime="2120">looking at what I think </span><span class="line" data-startTime="2124">of as pretty traditional </span><span class="line" data-startTime="2124">motion detection. </span> <span class="line" data-startTime="2130">And Jason who's not here wrote </span><span class="line" data-startTime="2130">this, and he's very smart. </span> <span class="line" data-startTime="2134">So it blows through pixels, it </span><span class="line" data-startTime="2134">looks at an interval, it looks </span><span class="line" data-startTime="2139">at what that pixel looked like </span><span class="line" data-startTime="2139">last time it checked and what </span><span class="line" data-startTime="2142">it looks like now. </span> <span class="line" data-startTime="2144">And so it's a threshold </span><span class="line" data-startTime="2144">for a difference. </span> <span class="line" data-startTime="2145">So if that pixel is these </span><span class="line" data-startTime="2145">different enough, that is the </span><span class="line" data-startTime="2148">color or the tone has changed </span><span class="line" data-startTime="2148">past a certain threshold, we </span><span class="line" data-startTime="2152">call that motion. </span> <span class="line" data-startTime="2153">So that means there's </span><span class="line" data-startTime="2153">something happening. </span> <span class="line" data-startTime="2155">There's some places where </span><span class="line" data-startTime="2155">that falls down. </span> <span class="line" data-startTime="2158">But actually, in practice, </span><span class="line" data-startTime="2158">especially with a laptop or </span><span class="line" data-startTime="2161">whatever sitting on the table, </span><span class="line" data-startTime="2161">it's pretty darn accurate, and </span><span class="line" data-startTime="2164">actually very, very fast. </span></p>

<p><span class="line" data-startTime="2166">Fast enough for where this is </span><span class="line" data-startTime="2166">probably 15 or 18 frames per </span><span class="line" data-startTime="2168">second, and we're still doing </span><span class="line" data-startTime="2168">all this other stuff, and 3D </span><span class="line" data-startTime="2171">transforms, and animations </span><span class="line" data-startTime="2171">and stuff. </span> <span class="line" data-startTime="2173">So we're definitely beating </span><span class="line" data-startTime="2173">up the JavaScript </span><span class="line" data-startTime="2177">run time pretty badly. </span> <span class="line" data-startTime="2178">But it's OK, it actually runs. </span></p>

<p class="speaker"><span class="line" data-starttime="2181"><span class="speakerName">Pete LePage</span>: We're pushing </span><span class="line" data-startTime="2181">the browser pretty hard. </span></p>

<p class="speaker"><span class="line" data-starttime="2182"><span class="speakerName">KC Austin</span>: And we threw </span><span class="line" data-startTime="2182">everything else onto the GPU </span><span class="line" data-startTime="2185">with the translate 3D. </span><span class="line" data-startTime="2186">So that frees up all the CPU </span><span class="line" data-startTime="2186">that we can this other stuff. </span></p>

<p class="speaker"><span class="line" data-starttime="2193"><span class="speakerName">Aubrey Anderson</span>: It's that </span><span class="line" data-startTime="2193">sort of balance. </span><span class="line" data-startTime="2194">Anything that you can say, here, </span><span class="line" data-startTime="2194">graphics card, and get </span><span class="line" data-startTime="2198">it out of &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2199"><span class="speakerName">Pete LePage</span>: You go do this. </span></p>

<p class="speaker"><span class="line" data-starttime="2200"><span class="speakerName">Aubrey Anderson</span>: I mean this </span><span class="line" data-startTime="2200">is a huge difference. </span><span class="line" data-startTime="2202">This is sort of a tangent. </span><span class="line" data-startTime="2203">But like the way we used to do </span><span class="line" data-startTime="2203">it with JavaScript, or like if </span><span class="line" data-startTime="2207">you do jquery.animate, or </span><span class="line" data-startTime="2207">anything that is essentially </span><span class="line" data-startTime="2210">clock-based animation where </span><span class="line" data-startTime="2210">JavaScript is setting timeouts </span><span class="line" data-startTime="2214">or running an interval and </span><span class="line" data-startTime="2214">observing elements. </span><span class="line" data-startTime="2217">It's just dog slow compared to, </span><span class="line" data-startTime="2217">an even with a very fast </span><span class="line" data-startTime="2221">JavaScript run time, it's that </span><span class="line" data-startTime="2221">sort of single-threaded like </span><span class="line" data-startTime="2224">JavaScript has to think </span><span class="line" data-startTime="2224">about every frame. </span><span class="line" data-startTime="2226">Which, I think there's 150 </span><span class="line" data-startTime="2226">lanterns, there's this </span><span class="line" data-startTime="2231">background animation happening, </span><span class="line" data-startTime="2231">there are all these </span><span class="line" data-startTime="2234">elements positioned in 3D space, </span><span class="line" data-startTime="2234">the canvas analysis, </span><span class="line" data-startTime="2238">the video coming in, there's </span><span class="line" data-startTime="2238">a lot going on </span><span class="line" data-startTime="2241">even in this one page. </span></p>

<p class="speaker"><span class="line" data-starttime="2244"><span class="speakerName">Pete LePage</span>: So I think that </span><span class="line" data-startTime="2244">one of the things that just </span><span class="line" data-startTime="2246">sort of blew me away with the </span><span class="line" data-startTime="2246">getUserMedia and WebRTC is </span><span class="line" data-startTime="2250">like you get access to the </span><span class="line" data-startTime="2250">camera, of course, user's </span><span class="line" data-startTime="2253">permission first. </span><span class="line" data-startTime="2255">You then take that, render that </span><span class="line" data-startTime="2255">onto canvas, you can do </span><span class="line" data-startTime="2258">whatever you want with </span><span class="line" data-startTime="2258">it from there. </span><span class="line" data-startTime="2259">It's not going anywhere. </span><span class="line" data-startTime="2261">All that video's sitting </span><span class="line" data-startTime="2261">on your local machine. </span><span class="line" data-startTime="2264">So you're doing all that </span><span class="line" data-startTime="2264">analysis there. </span><span class="line" data-startTime="2268">And then being able to make an </span><span class="line" data-startTime="2268">entire scene and the world </span><span class="line" data-startTime="2272">move about in that way. </span><span class="line" data-startTime="2274">So as your head goes one way, </span><span class="line" data-startTime="2274">you start to tilt the world. </span><span class="line" data-startTime="2279">To go back to the 3D transforms </span><span class="line" data-startTime="2279">we were talking </span><span class="line" data-startTime="2281">about earlier, you start </span><span class="line" data-startTime="2281">applying those. </span></p>

<p class="speaker"><span class="line" data-starttime="2283"><span class="speakerName">Aubrey Anderson</span>: Yeah, in the </span><span class="line" data-startTime="2283">real app we have thresholds on </span><span class="line" data-startTime="2286">these 3D transforms. </span><span class="line" data-startTime="2287">I've turned them off for the </span><span class="line" data-startTime="2287">sake of this demo so you can </span><span class="line" data-startTime="2289">see and spin the whole model </span><span class="line" data-startTime="2289">all the way around. </span></p>

<p class="speaker"><span class="line" data-starttime="2291"><span class="speakerName">Pete LePage</span>: Is that something </span><span class="line" data-startTime="2291">that developers </span><span class="line" data-startTime="2292">can go do very easily? </span><span class="line" data-startTime="2294">Is there a place with dev </span><span class="line" data-startTime="2294">tools they can go? </span></p>

<p class="speaker"><span class="line" data-starttime="2298"><span class="speakerName">KC Austin</span>: There was one </span><span class="line" data-startTime="2298">variable author mode that </span><span class="line" data-startTime="2301">turned it on. </span><span class="line" data-startTime="2301">But since, you'd have to just </span><span class="line" data-startTime="2301">take one condition out. </span><span class="line" data-startTime="2305">But yeah, it's just </span><span class="line" data-startTime="2305">one condition. </span><span class="line" data-startTime="2308">AUBREY ANDERSON: </span><span class="line" data-startTime="2308">It's tweakable. </span><span class="line" data-startTime="2309">Maybe I'll send it to you and </span><span class="line" data-startTime="2309">you can post it somewhere. </span></p>

<p class="speaker"><span class="line" data-starttime="2311"><span class="speakerName">Pete LePage</span>: Yeah, that </span><span class="line" data-startTime="2311">would be kind of cool. </span><span class="line" data-startTime="2313">Because it really is one </span><span class="line" data-startTime="2313">of those fun things for </span><span class="line" data-startTime="2315">developers to go, oh, hey, </span><span class="line" data-startTime="2315">I want to take this part. </span><span class="line" data-startTime="2317">I want to see what's going on </span><span class="line" data-startTime="2317">behind each of these pieces. </span></p>

<p class="speaker"><span class="line" data-starttime="2321"><span class="speakerName">Aubrey Anderson</span>: And you don't </span><span class="line" data-startTime="2321">even have to do that by </span><span class="line" data-startTime="2323">tweaking variables. </span><span class="line" data-startTime="2324">You can actually go into the </span><span class="line" data-startTime="2324">inspector and just change the </span><span class="line" data-startTime="2329">translate 3D state </span><span class="line" data-startTime="2329">of the element. </span><span class="line" data-startTime="2332">And almost all the </span><span class="line" data-startTime="2332">elements here are </span><span class="line" data-startTime="2335">transform in 3D space. </span><span class="line" data-startTime="2338">And so you can just go in and </span><span class="line" data-startTime="2338">change the rotate Y value and </span><span class="line" data-startTime="2342">or add a rotate Y value if </span><span class="line" data-startTime="2342">it doesn't have one. </span><span class="line" data-startTime="2344">And you'll see it do this. </span></p>

<p class="speaker"><span class="line" data-starttime="2346"><span class="speakerName">KC Austin</span>: You do to force </span><span class="line" data-startTime="2346">perspective container and go </span><span class="line" data-startTime="2349">into the X, Y, Z of that. </span><span class="line" data-startTime="2351">And you can sort of do </span><span class="line" data-startTime="2351">whatever you want. </span><span class="line" data-startTime="2353">AUBREY ANDERSON: </span><span class="line" data-startTime="2353">Move it around. </span></p>

<p class="speaker"><span class="line" data-starttime="2353"><span class="speakerName">Pete LePage</span>: See how </span><span class="line" data-startTime="2353">that happens. </span></p>

<p class="speaker"><span class="line" data-starttime="2356"><span class="speakerName">Aubrey Anderson</span>: I like that </span><span class="line" data-startTime="2356">you get to see the back </span><span class="line" data-startTime="2357">of the video too. </span><span class="line" data-startTime="2358">You don't have to have this, </span><span class="line" data-startTime="2358">but we've left it on just </span><span class="line" data-startTime="2360">because it's kind of cool. </span></p>

<p class="speaker"><span class="line" data-starttime="2362"><span class="speakerName">Pete LePage</span>: Well, that </span><span class="line" data-startTime="2362">was one of the things. </span><span class="line" data-startTime="2364">I don't think we ended </span><span class="line" data-startTime="2364">up doing it. </span><span class="line" data-startTime="2366">But I remember us talking about </span><span class="line" data-startTime="2366">it at one point, was </span><span class="line" data-startTime="2368">like an Easter egg where like </span><span class="line" data-startTime="2368">if you actually turned the </span><span class="line" data-startTime="2370">scene around all the way, you </span><span class="line" data-startTime="2370">actually would see sort of </span><span class="line" data-startTime="2374">back, like almost backstage </span><span class="line" data-startTime="2374">kind of thing. </span><span class="line" data-startTime="2376">AUBREY ANDERSON: </span><span class="line" data-startTime="2376">Yeah, totally. </span><span class="line" data-startTime="2378">We had kind of a long list of </span><span class="line" data-startTime="2378">extra wonderful things that </span><span class="line" data-startTime="2382">time is always against </span><span class="line" data-startTime="2382">you in trying to </span><span class="line" data-startTime="2385">actually ship something. </span><span class="line" data-startTime="2387">But yeah, there are </span><span class="line" data-startTime="2387">several little </span><span class="line" data-startTime="2390">things if you dig around. </span></p>

<p class="speaker"><span class="line" data-starttime="2391"><span class="speakerName">Pete LePage</span>: Awesome. </span></p>

<p class="speaker"><span class="line" data-starttime="2391"><span class="speakerName">Aubrey Anderson</span>: I'm not </span><span class="line" data-startTime="2391">giving them all way. </span></p>

<p class="speaker"><span class="line" data-starttime="2393"><span class="speakerName">Pete LePage</span>: Yeah, we definitely </span><span class="line" data-startTime="2393">don't want. </span><span class="line" data-startTime="2395">We've given one good one. </span></p>

<p class="speaker"><span class="line" data-starttime="2396"><span class="speakerName">Aubrey Anderson</span>: Yeah, </span><span class="line" data-startTime="2396">there's at least one </span><span class="line" data-startTime="2397">good one we gave away. </span></p>

<p class="speaker"><span class="line" data-starttime="2398"><span class="speakerName">Pete LePage</span>: Cool. </span><span class="line" data-startTime="2400">So one of the other things that </span><span class="line" data-startTime="2400">we thought about with </span><span class="line" data-startTime="2402">this experiment was mobile </span><span class="line" data-startTime="2402">experiences, right? </span><span class="line" data-startTime="2406">Do you want to talk a </span><span class="line" data-startTime="2406">little bit about how </span><span class="line" data-startTime="2408">you approached that? </span></p>

<p class="speaker"><span class="line" data-starttime="2410"><span class="speakerName">Aubrey Anderson</span>: Yeah, I guess </span><span class="line" data-startTime="2410">there's another sort of </span><span class="line" data-startTime="2412">important side effect to letting </span><span class="line" data-startTime="2412">CSS do a lot of this </span><span class="line" data-startTime="2416">heavy lifting for you. </span> <span class="line" data-startTime="2418">One is obviously it's </span><span class="line" data-startTime="2418">just easier on the </span><span class="line" data-startTime="2420">JavaScript run time. </span> <span class="line" data-startTime="2421">But the other kind </span><span class="line" data-startTime="2421">of cool thing is </span><span class="line" data-startTime="2423">that it's very portable. </span> <span class="line" data-startTime="2425">So any other browser runtime </span><span class="line" data-startTime="2425">that thinks about things this </span><span class="line" data-startTime="2428">way will allow you to render </span><span class="line" data-startTime="2428">these elements on the GPU of </span><span class="line" data-startTime="2433">whatever device you happen </span><span class="line" data-startTime="2433">to be looking at. </span> <span class="line" data-startTime="2436">And so we're kind of fortunate </span><span class="line" data-startTime="2436">to be coming into an era where </span><span class="line" data-startTime="2442">a lot of browsers speak the </span><span class="line" data-startTime="2442">same, or at least subtle </span><span class="line" data-startTime="2445">variance of the same language, </span><span class="line" data-startTime="2445">and will do the same things </span><span class="line" data-startTime="2449">with those instructions, so </span><span class="line" data-startTime="2449">particularly animations and </span><span class="line" data-startTime="2453">transforms. </span> <span class="line" data-startTime="2455">So as we set something like </span><span class="line" data-startTime="2455">transform translate 3D, we now </span><span class="line" data-startTime="2461">have support for this in pretty </span><span class="line" data-startTime="2461">much, at least the </span><span class="line" data-startTime="2464">latest releases of, all major </span><span class="line" data-startTime="2464">browsers and mobile. </span></p>

<p><span class="line" data-startTime="2469">And in the mobile space it is </span><span class="line" data-startTime="2469">particularly important because </span><span class="line" data-startTime="2473">obviously your CPU is pegged </span><span class="line" data-startTime="2473">down quite a bit. </span> <span class="line" data-startTime="2475">You're generally running </span><span class="line" data-startTime="2475">on sometimes dual core. </span> <span class="line" data-startTime="2478">Now but it's still </span><span class="line" data-startTime="2478">100 megahertz. </span> <span class="line" data-startTime="2480">And its a phone, it's also doing </span><span class="line" data-startTime="2480">whatever the phone needs </span><span class="line" data-startTime="2483">to do, and there's </span><span class="line" data-startTime="2483">a lot going, it's </span><span class="line" data-startTime="2484">not just the browser. </span> <span class="line" data-startTime="2487">And so the ability to take </span><span class="line" data-startTime="2487">elements in the browser and </span><span class="line" data-startTime="2490">render them on the graphics </span><span class="line" data-startTime="2490">hardware is really, really </span><span class="line" data-startTime="2492">huge and really important. </span> <span class="line" data-startTime="2493">And if you look at this </span><span class="line" data-startTime="2493">experience on tablets, you </span><span class="line" data-startTime="2496">actually get pretty competent </span><span class="line" data-startTime="2496">rendering, and, in some cases, </span><span class="line" data-startTime="2499">really kickass rendering just by </span><span class="line" data-startTime="2499">virtue of this same thing. </span> <span class="line" data-startTime="2503">And places where we don't have </span><span class="line" data-startTime="2503">a really good JavaScript run </span><span class="line" data-startTime="2506">time, we can dodge that to some </span><span class="line" data-startTime="2506">extent by rendering right </span><span class="line" data-startTime="2509">on the hardware. </span></p>

<p class="speaker"><span class="line" data-starttime="2512"><span class="speakerName">Pete LePage</span>: Now we don't have </span><span class="line" data-startTime="2512">getUserMedia on mobile. </span><span class="line" data-startTime="2514">So instead, it did something I </span><span class="line" data-startTime="2514">thought was brilliant and it </span><span class="line" data-startTime="2519">makes perfect sense. </span></p>

<p class="speaker"><span class="line" data-starttime="2520"><span class="speakerName">Aubrey Anderson</span>: Yeah, what we </span><span class="line" data-startTime="2520">did on mobile is we pegged </span><span class="line" data-startTime="2525">that behavior to tilt. </span><span class="line" data-startTime="2527">So as you tilt, you'll see this </span><span class="line" data-startTime="2527">kind of interface here, </span><span class="line" data-startTime="2530">which is like a little </span><span class="line" data-startTime="2530">four-way controller. </span><span class="line" data-startTime="2534">This is a poor man's D-pad. </span><span class="line" data-startTime="2538">And as you tilt, you will get </span><span class="line" data-startTime="2538">the sort of same effect as if </span><span class="line" data-startTime="2544">we detected motion on the </span><span class="line" data-startTime="2544">left and right side. </span></p>

<p class="speaker"><span class="line" data-starttime="2546"><span class="speakerName">Pete LePage</span>: So tilt device </span><span class="line" data-startTime="2546">orientation, so that as you </span><span class="line" data-startTime="2550">tilt the device it gets </span><span class="line" data-startTime="2550">that same thing. </span><span class="line" data-startTime="2552">And it's pretty rare that I'm </span><span class="line" data-startTime="2552">going to pick up my laptop or </span><span class="line" data-startTime="2557">desktop and go, oo, look, </span><span class="line" data-startTime="2557">I can do this. </span><span class="line" data-startTime="2560">I've done it A. Few times for </span><span class="line" data-startTime="2560">a quick little demo and it's </span><span class="line" data-startTime="2563">kind of fun. </span><span class="line" data-startTime="2564">But you're not going to give </span><span class="line" data-startTime="2564">your kid your laptop and say, </span><span class="line" data-startTime="2567">hey, go play with Movi Kanti </span><span class="line" data-startTime="2567">Revo and tilt it. </span><span class="line" data-startTime="2570">So it doesn't work there, but </span><span class="line" data-startTime="2570">it works so beautifully on </span><span class="line" data-startTime="2574">mobile where people just </span><span class="line" data-startTime="2574">naturally think, oh, cool. </span></p>

<p class="speaker"><span class="line" data-starttime="2578"><span class="speakerName">Aubrey Anderson</span>: Yeah, we tried </span><span class="line" data-startTime="2578">to on mobile side do the </span><span class="line" data-startTime="2583">thing that you would think </span><span class="line" data-startTime="2583">that it would do to the </span><span class="line" data-startTime="2586">greatest extent that we could, </span><span class="line" data-startTime="2586">so wherever possible just </span><span class="line" data-startTime="2589">tried to do the right </span><span class="line" data-startTime="2589">thing and the thing </span><span class="line" data-startTime="2592">that you might expect. </span></p>

<p class="speaker"><span class="line" data-starttime="2594"><span class="speakerName">KC Austin</span>: We have sort of this </span><span class="line" data-startTime="2594">higher level thing that </span><span class="line" data-startTime="2596">makes it lean either way, and </span><span class="line" data-startTime="2596">then that will accept input </span><span class="line" data-startTime="2599">from wherever you want. </span><span class="line" data-startTime="2600">So if it's the widget that has </span><span class="line" data-startTime="2600">the video stuff, that'll tell </span><span class="line" data-startTime="2605">it, or the tilt, or whatever </span><span class="line" data-startTime="2605">else we wanted. </span></p>

<p class="speaker"><span class="line" data-starttime="2608"><span class="speakerName">Aubrey Anderson</span>: Yeah, you can </span><span class="line" data-startTime="2608">really map any input into the </span><span class="line" data-startTime="2611">general rotation controller and </span><span class="line" data-startTime="2611">wire up whatever type of </span><span class="line" data-startTime="2615">control you want. </span><span class="line" data-startTime="2616">So you could easily wire </span><span class="line" data-startTime="2616">it touch, or keyboard. </span></p>

<p class="speaker"><span class="line" data-starttime="2621"><span class="speakerName">Pete LePage</span>: So we could even, </span><span class="line" data-startTime="2621">like, game pack controllers. </span></p>

<p class="speaker"><span class="line" data-starttime="2623"><span class="speakerName">Aubrey Anderson</span>: Yeah, </span><span class="line" data-startTime="2623">we could do game pack </span><span class="line" data-startTime="2624">controllers. </span></p>

<p class="speaker"><span class="line" data-starttime="2625"><span class="speakerName">Pete LePage</span>: HTML5 has got the </span><span class="line" data-startTime="2625">API for doing that, so like </span><span class="line" data-startTime="2627">you could [INAUDIBLE]. </span></p>

<p class="speaker"><span class="line" data-starttime="2630"><span class="speakerName">Aubrey Anderson</span>: Yeah, there's </span><span class="line" data-startTime="2630">some potential there. </span></p>

<p class="speaker"><span class="line" data-starttime="2631"><span class="speakerName">Pete LePage</span>: That would </span><span class="line" data-startTime="2631">be really fun. </span><span class="line" data-startTime="2632">That would be really </span><span class="line" data-startTime="2632">net to go do. </span><span class="line" data-startTime="2634">We've been playing with one </span><span class="line" data-startTime="2634">for our Chrome Apps. </span><span class="line" data-startTime="2636">We've got one of the Parrot </span><span class="line" data-startTime="2636">Drone helicopters. </span><span class="line" data-startTime="2640">And we managed to make it fly </span><span class="line" data-startTime="2640">using purely HTML and </span><span class="line" data-startTime="2644">JavaScript with a Chrome </span><span class="line" data-startTime="2644">App, which is like tons </span><span class="line" data-startTime="2648">of fun to go to. </span><span class="line" data-startTime="2649">I'm going to start pull up some </span><span class="line" data-startTime="2649">of the questions to see </span><span class="line" data-startTime="2652">if people have submitted </span><span class="line" data-startTime="2652">stuff. </span><span class="line" data-startTime="2654">But what was your favorite </span><span class="line" data-startTime="2654">part of this project? </span></p>

<p class="speaker"><span class="line" data-starttime="2659"><span class="speakerName">Aubrey Anderson</span>: I don't know. </span><span class="line" data-startTime="2659">Do you have a favorite part? </span></p>

<p class="speaker"><span class="line" data-starttime="2664"><span class="speakerName">KC Austin</span>: Just overall, </span><span class="line" data-startTime="2664">probably just getting to the </span><span class="line" data-startTime="2667">point where I can be creative </span><span class="line" data-startTime="2667">without having to think about </span><span class="line" data-startTime="2672">the CSS, and all the code </span><span class="line" data-startTime="2672">and everything. </span><span class="line" data-startTime="2675">Getting to a point where I can </span><span class="line" data-startTime="2675">set things up, get things </span><span class="line" data-startTime="2678">moving around, build these </span><span class="line" data-startTime="2678">scenes out without thinking </span><span class="line" data-startTime="2681">about the code anymore. </span><span class="line" data-startTime="2682">I think that's the best thing, </span><span class="line" data-startTime="2682">when you finally get to the </span><span class="line" data-startTime="2685">point where you're not thinking </span><span class="line" data-startTime="2685">about how things </span><span class="line" data-startTime="2687">should be set up. </span><span class="line" data-startTime="2688">Because we went to so many </span><span class="line" data-startTime="2688">iterations of do we do CSS </span><span class="line" data-startTime="2692">animations, do we do JavaScript, </span><span class="line" data-startTime="2692">how do we have the </span><span class="line" data-startTime="2696">scenes set up in 3D? </span><span class="line" data-startTime="2697">Once you get to the point </span><span class="line" data-startTime="2697">where all that kind of </span><span class="line" data-startTime="2699">workflow is all settled, and </span><span class="line" data-startTime="2699">then you can take the assets </span><span class="line" data-startTime="2703">from getting build something </span><span class="line" data-startTime="2703">at the end, I think </span><span class="line" data-startTime="2705">that's the best part. </span></p>

<p class="speaker"><span class="line" data-starttime="2708"><span class="speakerName">Aubrey Anderson</span>: I really </span><span class="line" data-startTime="2708">liked also when we were </span><span class="line" data-startTime="2710">shooting in Las Vegas. </span> <span class="line" data-startTime="2714">We had a lot of these models </span><span class="line" data-startTime="2714">or at least preliminary </span><span class="line" data-startTime="2716">versions of the models built. </span> <span class="line" data-startTime="2718">And so we were able to take </span><span class="line" data-startTime="2718">really quick keys from the </span><span class="line" data-startTime="2723">camera and just make me </span><span class="line" data-startTime="2723">quick movie files. </span> <span class="line" data-startTime="2727">And they were sort of res'ed </span><span class="line" data-startTime="2727">out and stuff, but we were </span><span class="line" data-startTime="2730">able to drop those right into </span><span class="line" data-startTime="2730">the environment as we had them </span><span class="line" data-startTime="2734">mocked up and show the actors, </span><span class="line" data-startTime="2734">show the performers what they </span><span class="line" data-startTime="2739">were going to look like </span><span class="line" data-startTime="2739">in the environment. </span> <span class="line" data-startTime="2741">And they were like, ah, OK, </span><span class="line" data-startTime="2741">I see, so I'm in a forest. </span></p>

<p><span class="line" data-startTime="2745">And I think when they went </span><span class="line" data-startTime="2745">back and did another take </span><span class="line" data-startTime="2747">after seeing it, I think it </span><span class="line" data-startTime="2747">changed their idea, and it </span><span class="line" data-startTime="2751">gave them a real sense of </span><span class="line" data-startTime="2751">what was happening. </span> <span class="line" data-startTime="2754">And I think it changed the </span><span class="line" data-startTime="2754">quality of the performance </span><span class="line" data-startTime="2756">because they could actually </span><span class="line" data-startTime="2756">previsualized. </span></p>

<p class="speaker"><span class="line" data-starttime="2758"><span class="speakerName">Pete LePage</span>: Well they were </span><span class="line" data-startTime="2758">in this blue screen room. </span><span class="line" data-startTime="2761">Like literally it was this </span><span class="line" data-startTime="2761">cube of just pure blue. </span><span class="line" data-startTime="2765">And it's hard to imagine in that </span><span class="line" data-startTime="2765">without having something </span><span class="line" data-startTime="2769">to start with where </span><span class="line" data-startTime="2769">you're going. </span></p>

<p class="speaker"><span class="line" data-starttime="2771"><span class="speakerName">KC Austin</span>: And mocking the </span><span class="line" data-startTime="2771">scenes up and just having </span><span class="line" data-startTime="2773">layers is really fast. </span><span class="line" data-startTime="2775">So you could just have that set </span><span class="line" data-startTime="2775">up, throw them in, show </span><span class="line" data-startTime="2778">them how it looks, even change </span><span class="line" data-startTime="2778">stuff on the fly. </span></p>

<p class="speaker"><span class="line" data-starttime="2780"><span class="speakerName">Aubrey Anderson</span>: Yeah, move </span><span class="line" data-startTime="2780">things up and down in Z space, </span><span class="line" data-startTime="2782">scale things around. </span><span class="line" data-startTime="2783">And because it's all CSS and </span><span class="line" data-startTime="2783">you're not down there making a </span><span class="line" data-startTime="2787">code level change and forgetting </span><span class="line" data-startTime="2787">a semicolon or </span><span class="line" data-startTime="2788">whatever, it's very, very quick </span><span class="line" data-startTime="2788">and easy to change. </span><span class="line" data-startTime="2791">You can change it right </span><span class="line" data-startTime="2791">in the inspector. </span><span class="line" data-startTime="2793">It was, I would say, my first </span><span class="line" data-startTime="2793">experience with something that </span><span class="line" data-startTime="2796">was that real time with that </span><span class="line" data-startTime="2796">kind of media production. </span></p>

<p class="speaker"><span class="line" data-starttime="2801"><span class="speakerName">Pete LePage</span>: Yeah, and to see </span><span class="line" data-startTime="2801">them all come over and look at </span><span class="line" data-startTime="2804">this, like they were </span><span class="line" data-startTime="2804">just so amazed. </span><span class="line" data-startTime="2807">And in fact, some of the artists </span><span class="line" data-startTime="2807">were at the launch </span><span class="line" data-startTime="2810">last night. </span><span class="line" data-startTime="2812">Like we've been heads </span><span class="line" data-startTime="2812">down in this. </span><span class="line" data-startTime="2813">We've seen this &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2814"><span class="speakerName">Aubrey Anderson</span>: They'd </span><span class="line" data-startTime="2814">never seen it. </span></p>

<p class="speaker"><span class="line" data-starttime="2815"><span class="speakerName">Pete LePage</span>:  &mdash; hours, and hours, </span><span class="line" data-startTime="2815">and hours a day, and </span><span class="line" data-startTime="2818">they had never seen it. </span><span class="line" data-startTime="2819">And the look of sort of joy, </span><span class="line" data-startTime="2819">and glee, and excitement on </span><span class="line" data-startTime="2822">their face to see them in this </span><span class="line" data-startTime="2822">world was pretty phenomenal. </span></p>

<p class="speaker"><span class="line" data-starttime="2826"><span class="speakerName">Aubrey Anderson</span>: Right on. </span><span class="line" data-startTime="2827">I had to talk, I missed that. </span><span class="line" data-startTime="2829">But I'm glad that happened. </span></p>

<p class="speaker"><span class="line" data-starttime="2829"><span class="speakerName">Pete LePage</span>: Yeah. </span><span class="line" data-startTime="2831">So a couple questions </span><span class="line" data-startTime="2831">from the audience. </span><span class="line" data-startTime="2834">And please post anymore as we're </span><span class="line" data-startTime="2834">going through these. </span><span class="line" data-startTime="2838">But the first question was, </span><span class="line" data-startTime="2838">somebody tried to run it on </span><span class="line" data-startTime="2846">some of the older browsers, so </span><span class="line" data-startTime="2846">like Firefox 3.6, and IE 9, </span><span class="line" data-startTime="2851">and it doesn't degrade </span><span class="line" data-startTime="2851">gracefully. </span><span class="line" data-startTime="2853">And besides WebRTC not working, </span><span class="line" data-startTime="2853">why didn't it work in </span><span class="line" data-startTime="2860">those older browsers? </span></p>

<p class="speaker"><span class="line" data-starttime="2863"><span class="speakerName">Aubrey Anderson</span>: The big barrier </span><span class="line" data-startTime="2863">is the ability to </span><span class="line" data-startTime="2865">translate elements </span><span class="line" data-startTime="2865">in 3D space. </span> <span class="line" data-startTime="2868">And sort of early on we were </span><span class="line" data-startTime="2868">like, well, if we do it this </span><span class="line" data-startTime="2873">way, we are going to </span><span class="line" data-startTime="2873">lose some of the </span><span class="line" data-startTime="2876">older browser renderers. </span> <span class="line" data-startTime="2879">But this being a Chrome </span><span class="line" data-startTime="2879">experiment, we wanted to </span><span class="line" data-startTime="2881">really show the latest, greatest </span><span class="line" data-startTime="2881">and do the really </span><span class="line" data-startTime="2886">best we could do with the </span><span class="line" data-startTime="2886">technology that we have on the </span><span class="line" data-startTime="2889">sort of leading edge. </span> <span class="line" data-startTime="2891">Not that WebKit transform is </span><span class="line" data-startTime="2891">particularly, but broad </span><span class="line" data-startTime="2895">support is pretty new. </span> <span class="line" data-startTime="2898">So the big barrier for older </span><span class="line" data-startTime="2898">browsers is that they will not </span><span class="line" data-startTime="2902">translate elements </span><span class="line" data-startTime="2902">in 3D space. </span> <span class="line" data-startTime="2904">A lot of them have translate Y, </span><span class="line" data-startTime="2904">they have translate X, or </span><span class="line" data-startTime="2909">they have a translate function </span><span class="line" data-startTime="2909">that takes an X and a Y, but </span><span class="line" data-startTime="2915">there's no Z. And they also </span><span class="line" data-startTime="2915">don't do that work </span><span class="line" data-startTime="2919">largely on the GPU. </span></p>

<p><span class="line" data-startTime="2922">So the barrier for us was a </span><span class="line" data-startTime="2922">browser run time that when you </span><span class="line" data-startTime="2927">ask it to put an element, </span><span class="line" data-startTime="2927">position it in 3D space, it </span><span class="line" data-startTime="2931">would do that for you, and do </span><span class="line" data-startTime="2931">the right thing, and hopefully </span><span class="line" data-startTime="2934">do it on the graphics card </span><span class="line" data-startTime="2934">wherever possible. </span> <span class="line" data-startTime="2936">So you'll see this on Windows XP </span><span class="line" data-startTime="2936">as well, like Chrome ships </span><span class="line" data-startTime="2940">with acceleration turned off </span><span class="line" data-startTime="2940">by default on Windows XP. </span> <span class="line" data-startTime="2944">And so even though Chrome can </span><span class="line" data-startTime="2944">do it, they, I think, can't </span><span class="line" data-startTime="2947">reliably be certain of the GPU </span><span class="line" data-startTime="2947">environment, so they hedge the </span><span class="line" data-startTime="2952">bet and ship it off. </span> <span class="line" data-startTime="2953">You can go into about:flags </span><span class="line" data-startTime="2953">and turn it back on. </span> <span class="line" data-startTime="2956">But the browser that can't speak </span><span class="line" data-startTime="2956">that language, we had to </span><span class="line" data-startTime="2959">just let those ones go. </span></p>

<p class="speaker"><span class="line" data-starttime="2960"><span class="speakerName">KC Austin</span>: Or even you could </span><span class="line" data-startTime="2960">have the newest version of </span><span class="line" data-startTime="2963">Chrome but with a super old GPU, </span><span class="line" data-startTime="2963">it just won't know what </span><span class="line" data-startTime="2966">to do with those layers. </span></p>

<p class="speaker"><span class="line" data-starttime="2969"><span class="speakerName">Pete LePage</span>: And one of the </span><span class="line" data-startTime="2969">really important things about </span><span class="line" data-startTime="2971">Chrome experiments is they are </span><span class="line" data-startTime="2971">meant push the web forward and </span><span class="line" data-startTime="2974">show what's possible </span><span class="line" data-startTime="2974">on the web. </span><span class="line" data-startTime="2977">And that's sort of one of those </span><span class="line" data-startTime="2977">things where this works </span><span class="line" data-startTime="2980">in many, almost all of the </span><span class="line" data-startTime="2980">modern browsers without any </span><span class="line" data-startTime="2986">craziness going on. </span><span class="line" data-startTime="2988">And so we want to push that. </span><span class="line" data-startTime="2989">We want people to look at this </span><span class="line" data-startTime="2989">and go, holy smokes, this is </span><span class="line" data-startTime="2993">all HTML, I can do </span><span class="line" data-startTime="2993">this myself. </span><span class="line" data-startTime="2996">I can go in and look this. </span><span class="line" data-startTime="2998">There's nothing proprietary. </span><span class="line" data-startTime="3000">You can view source on </span><span class="line" data-startTime="3000">the code on this. </span></p>

<p class="speaker"><span class="line" data-starttime="3002"><span class="speakerName">Aubrey Anderson</span>: Yeah, and </span><span class="line" data-startTime="3002">change the whole thing. </span> <span class="line" data-startTime="3004">And I mean, I think it's also </span><span class="line" data-startTime="3004">important to really understand </span><span class="line" data-startTime="3006">that this is an art piece. </span> <span class="line" data-startTime="3008">I mean, we're not </span><span class="line" data-startTime="3008">trying to sell </span><span class="line" data-startTime="3012">refrigerators from this website. </span> <span class="line" data-startTime="3013">Like we're trying to do creative </span><span class="line" data-startTime="3013">work with new tools </span><span class="line" data-startTime="3018">that we have discovered </span><span class="line" data-startTime="3018">in modern browsers. </span> <span class="line" data-startTime="3020">And that's, I think, the </span><span class="line" data-startTime="3020">experiment part of the Chrome </span><span class="line" data-startTime="3024">experiment. </span> <span class="line" data-startTime="3026">We're fundamentally pretty </span><span class="line" data-startTime="3026">creative people, and that's </span><span class="line" data-startTime="3029">where our hearts </span><span class="line" data-startTime="3029">and minds are. </span></p>

<p><span class="line" data-startTime="3031">We're also technical. </span> <span class="line" data-startTime="3032">But the point of this whole </span><span class="line" data-startTime="3032">process was to take the tools </span><span class="line" data-startTime="3038">that we have discovered in the </span><span class="line" data-startTime="3038">browser, push them as hard as </span><span class="line" data-startTime="3041">we could in the name </span><span class="line" data-startTime="3041">of doing something </span><span class="line" data-startTime="3043">artistic and creative. </span></p>

<p class="speaker"><span class="line" data-starttime="3046"><span class="speakerName">Pete LePage</span>: Cool, awesome. </span><span class="line" data-startTime="3046">The next question, was it easier </span><span class="line" data-startTime="3046">to do this in HTML and </span><span class="line" data-startTime="3051">JavaScript than it </span><span class="line" data-startTime="3051">was in Flash? </span></p>

<p class="speaker"><span class="line" data-starttime="3054"><span class="speakerName">Aubrey Anderson</span>: Oh, </span><span class="line" data-startTime="3054">that's interesting. </span></p>

<p class="speaker"><span class="line" data-starttime="3056"><span class="speakerName">Pete LePage</span>: And we talked last </span><span class="line" data-startTime="3056">night, you came from a </span><span class="line" data-startTime="3059">Flash world. </span></p>

<p class="speaker"><span class="line" data-starttime="3060"><span class="speakerName">KC Austin</span>: Yeah, I've been in </span><span class="line" data-startTime="3060">the Flash world since '98. </span> <span class="line" data-startTime="3064">I helped shape the plug-in. </span> <span class="line" data-startTime="3068">I've been working on it for </span><span class="line" data-startTime="3068">years, and years, and years. </span> <span class="line" data-startTime="3071">And it's not so much a </span><span class="line" data-startTime="3071">matter of could we do </span><span class="line" data-startTime="3074">it better in Flash. </span> <span class="line" data-startTime="3076">Flash has all kinds of different </span><span class="line" data-startTime="3076">effects, and </span><span class="line" data-startTime="3081">filters, and everything </span><span class="line" data-startTime="3081">but [INAUDIBLE] </span><span class="line" data-startTime="3083">level stuff. </span> <span class="line" data-startTime="3083">And you do get the webcam across </span><span class="line" data-startTime="3083">all browsers, which </span><span class="line" data-startTime="3087">would be great. </span> <span class="line" data-startTime="3087">But it's more the point of being </span><span class="line" data-startTime="3087">challenging and doing it </span><span class="line" data-startTime="3093">without Flash. </span> <span class="line" data-startTime="3096">And this is the future. </span></p>

<p><span class="line" data-startTime="3097">So I think we have to push it. </span> <span class="line" data-startTime="3101">And eventually, we will </span><span class="line" data-startTime="3101">have everything </span><span class="line" data-startTime="3104">that we have in Flash. </span> <span class="line" data-startTime="3105">We already have the </span><span class="line" data-startTime="3105">CSS filters now. </span> <span class="line" data-startTime="3109">With canvas we're getting </span><span class="line" data-startTime="3109">bitmap level effects. </span> <span class="line" data-startTime="3112">So it's getting there and we </span><span class="line" data-startTime="3112">just need to push it forward </span><span class="line" data-startTime="3116">until it is 100%. </span></p>

<p class="speaker"><span class="line" data-starttime="3118"><span class="speakerName">Pete LePage</span>: Yeah, and I think </span><span class="line" data-startTime="3118">this is something that we will </span><span class="line" data-startTime="3120">absolutely get to. </span><span class="line" data-startTime="3122">And this is something that is, </span><span class="line" data-startTime="3122">I think, in many ways, much </span><span class="line" data-startTime="3126">more accessible to people. </span></p>

<p class="speaker"><span class="line" data-starttime="3127"><span class="speakerName">KC Austin</span>: Yeah, and if you </span><span class="line" data-startTime="3127">say, we could have had the </span><span class="line" data-startTime="3130">microphone in Flash, and we </span><span class="line" data-startTime="3130">actually thought about having </span><span class="line" data-startTime="3135">just one element just to grab </span><span class="line" data-startTime="3135">the microphone and pipe it in </span><span class="line" data-startTime="3138">just from Flash. </span><span class="line" data-startTime="3139">But we decided against it just </span><span class="line" data-startTime="3139">because we wanted it to be </span><span class="line" data-startTime="3142">complete a complete </span><span class="line" data-startTime="3142">HTML5 experience. </span><span class="line" data-startTime="3144">And now, yesterday, we do have </span><span class="line" data-startTime="3144">audio in Canary, and because </span><span class="line" data-startTime="3150">of the fact that we're </span><span class="line" data-startTime="3150">pushing it forward. </span><span class="line" data-startTime="3152">So the next thing that we </span><span class="line" data-startTime="3152">do, we will have that. </span></p>

<p class="speaker"><span class="line" data-starttime="3155"><span class="speakerName">Aubrey Anderson</span>: I also think </span><span class="line" data-startTime="3155">it's really important that </span><span class="line" data-startTime="3159">this is markup. </span><span class="line" data-startTime="3161">We're doing things </span><span class="line" data-startTime="3161">declaratively, by and large, </span><span class="line" data-startTime="3164">in this application, which is </span><span class="line" data-startTime="3166">fundamentally a different idea. </span></p>

<p class="speaker"><span class="line" data-starttime="3170"><span class="speakerName">KC Austin</span>: It was a paradigm </span><span class="line" data-startTime="3170">shift for me to work in this. </span><span class="line" data-startTime="3173">I have a very like </span><span class="line" data-startTime="3173">game programming </span><span class="line" data-startTime="3176">mentality in Flash. </span><span class="line" data-startTime="3177">And I have the way that </span><span class="line" data-startTime="3177">I set things up </span><span class="line" data-startTime="3180">is completely different. </span><span class="line" data-startTime="3181">And Aubrey had to kind of turn </span><span class="line" data-startTime="3181">everything on its head for me. </span><span class="line" data-startTime="3185">[INTERPOSING VOICES] </span></p>

<p class="speaker"><span class="line" data-starttime="3188"><span class="speakerName">Pete LePage</span>: So he had to apply </span><span class="line" data-startTime="3188">that 3D transform &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="3189"><span class="speakerName">Aubrey Anderson</span>: Yeah, </span><span class="line" data-startTime="3189">to your brain. </span></p>

<p class="speaker"><span class="line" data-starttime="3191"><span class="speakerName">Pete LePage</span>:  &mdash; and </span><span class="line" data-startTime="3191">then rotate. </span></p>

<p class="speaker"><span class="line" data-starttime="3192"><span class="speakerName">KC Austin</span>: So I had to like </span><span class="line" data-startTime="3192">change things around </span><span class="line" data-startTime="3194">completely and get back into </span><span class="line" data-startTime="3194">that markup, CSS, JavaScript </span><span class="line" data-startTime="3198">kind of mentality. </span></p>

<p class="speaker"><span class="line" data-starttime="3199"><span class="speakerName">Pete LePage</span>: Cool. </span><span class="line" data-startTime="3202">So the next question, what kind </span><span class="line" data-startTime="3202">of DOM and JS cleanup did </span><span class="line" data-startTime="3205">you do to keep the performance </span><span class="line" data-startTime="3205">and memory leaks to a minimum? </span><span class="line" data-startTime="3209">As the user stays in </span><span class="line" data-startTime="3209">this experience, </span><span class="line" data-startTime="3211">like it runs 10 minutes. </span></p>

<p class="speaker"><span class="line" data-starttime="3213"><span class="speakerName">KC Austin</span>: It has to clean </span><span class="line" data-startTime="3213">up everything. </span><span class="line" data-startTime="3214">You have to clean up </span><span class="line" data-startTime="3214">all the intervals. </span><span class="line" data-startTime="3217">And the Neutrino with like </span><span class="line" data-startTime="3217">setting display to none after </span><span class="line" data-startTime="3223">the pages are done. </span></p>

<p class="speaker"><span class="line" data-starttime="3225"><span class="speakerName">Aubrey Anderson</span>: Yeah, we were </span><span class="line" data-startTime="3225">working within a framework </span><span class="line" data-startTime="3227">that we also invented </span><span class="line" data-startTime="3227">call Neutrino. </span><span class="line" data-startTime="3230">And what that does is just gives </span><span class="line" data-startTime="3230">you a simple lifestyle &mdash; </span><span class="line" data-startTime="3235">life cycle. </span><span class="line" data-startTime="3236">Also, some lifestyle management, </span><span class="line" data-startTime="3236">but mostly life </span><span class="line" data-startTime="3238">cycle management. </span></p>

<p class="speaker"><span class="line" data-starttime="3239"><span class="speakerName">Pete LePage</span>: That would </span><span class="line" data-startTime="3239">be a pretty phenomenal </span><span class="line" data-startTime="3243">framework to have. </span></p>

<p class="speaker"><span class="line" data-starttime="3243"><span class="speakerName">Aubrey Anderson</span>: It comes </span><span class="line" data-startTime="3243">with a hat and some cool </span><span class="line" data-startTime="3245">sunglasses. </span></p>

<p class="speaker"><span class="line" data-starttime="3246"><span class="speakerName">Pete LePage</span>: Awesome, </span><span class="line" data-startTime="3246">sign me up. </span></p>

<p class="speaker"><span class="line" data-starttime="3249"><span class="speakerName">Aubrey Anderson</span>: It's a tool </span><span class="line" data-startTime="3249">that allows you to think in </span><span class="line" data-startTime="3253">terms of a kind of atomic </span><span class="line" data-startTime="3253">modular views. </span> <span class="line" data-startTime="3256">And the views have a life cycle, </span><span class="line" data-startTime="3256">they become visible, </span><span class="line" data-startTime="3259">they become invisible. </span> <span class="line" data-startTime="3261">And it just helps you manage </span><span class="line" data-startTime="3261">some of that stuff. </span> <span class="line" data-startTime="3265">Our friend in this situation </span><span class="line" data-startTime="3265">is display none. </span> <span class="line" data-startTime="3268">So what we found in browsers is </span><span class="line" data-startTime="3268">display none takes it out </span><span class="line" data-startTime="3275">of the memory stock. </span> <span class="line" data-startTime="3277">So then you just have to be </span><span class="line" data-startTime="3277">careful about what JavaScript </span><span class="line" data-startTime="3280">is doing, make sure that </span><span class="line" data-startTime="3280">JavaScript is not running </span><span class="line" data-startTime="3282">away, or you don't have </span><span class="line" data-startTime="3282">an interval or a </span><span class="line" data-startTime="3285">timeout still running. </span></p>

<p><span class="line" data-startTime="3288">But by and large, if you are </span><span class="line" data-startTime="3288">animating with WebKit </span><span class="line" data-startTime="3292">animation for with transforms, </span><span class="line" data-startTime="3292">and you set display none on </span><span class="line" data-startTime="3297">any block of HTML, from there </span><span class="line" data-startTime="3297">all the way down the stack in </span><span class="line" data-startTime="3302">the DOM is just yanked. </span> <span class="line" data-startTime="3304">And it's yanked actually </span><span class="line" data-startTime="3304">fairly quickly. </span> <span class="line" data-startTime="3306">And you get the memory back </span><span class="line" data-startTime="3306">almost immediately. </span> <span class="line" data-startTime="3310">So obviously each of these </span><span class="line" data-startTime="3310">scenes has hundreds and </span><span class="line" data-startTime="3314">hundreds of things going on. </span> <span class="line" data-startTime="3316">They're massive, they're </span><span class="line" data-startTime="3316">transparent PNG files, they're </span><span class="line" data-startTime="3319">video files, and all </span><span class="line" data-startTime="3319">those things. </span> <span class="line" data-startTime="3322">And so setting display none to a </span><span class="line" data-startTime="3322">whole block, we can actually </span><span class="line" data-startTime="3325">leave it in the DOM. </span></p>

<p><span class="line" data-startTime="3327">In some cases, we do, some </span><span class="line" data-startTime="3327">cases, we don't. </span></p>

<p class="speaker"><span class="line" data-starttime="3329"><span class="speakerName">KC Austin</span>: Yeah, I was doing </span><span class="line" data-startTime="3329">some cleanup where on WebKit </span><span class="line" data-startTime="3331">end I would actually remove </span><span class="line" data-startTime="3331">the HTML element. </span> <span class="line" data-startTime="3333">But that was more just </span><span class="line" data-startTime="3333">for me, so it wasn't </span><span class="line" data-startTime="3337">2,000 divs in the DOM. </span> <span class="line" data-startTime="3339">AUBREY ANDERSON: </span><span class="line" data-startTime="3339">Yeah, totally. </span> <span class="line" data-startTime="3340">The one exception, I </span><span class="line" data-startTime="3340">think, is video. </span> <span class="line" data-startTime="3344">Obviously, even display </span><span class="line" data-startTime="3344">none on video, </span><span class="line" data-startTime="3347">it's a little squirrely. </span> <span class="line" data-startTime="3348">So you'll see, if you watch </span><span class="line" data-startTime="3348">the life cycle in the DOM </span><span class="line" data-startTime="3353">happen, just let the thing play, </span><span class="line" data-startTime="3353">you'll see video tags </span><span class="line" data-startTime="3356">getting injected, they'll play, </span><span class="line" data-startTime="3356">they'll get pulled. </span> <span class="line" data-startTime="3359">So we do try to do some more </span><span class="line" data-startTime="3359">aggressive cleanup and </span><span class="line" data-startTime="3362">management on video and </span><span class="line" data-startTime="3362">audio in particular. </span></p>

<p><span class="line" data-startTime="3365">But for animations and all that </span><span class="line" data-startTime="3365">stuff, it's just kind of </span><span class="line" data-startTime="3368">wonderfully managed by virtue </span><span class="line" data-startTime="3368">of the view state. </span></p>

<p class="speaker"><span class="line" data-starttime="3371"><span class="speakerName">Pete LePage</span>: Cool. </span><span class="line" data-startTime="3373">So we've only got like a </span><span class="line" data-startTime="3373">couple minutes left. </span><span class="line" data-startTime="3375">So I'm going to take </span><span class="line" data-startTime="3375">this last question. </span><span class="line" data-startTime="3376">I think it's a wonderful </span><span class="line" data-startTime="3376">question. </span><span class="line" data-startTime="3378">How would you recommend a web </span><span class="line" data-startTime="3378">developer that didn't do any </span><span class="line" data-startTime="3381">animations start using them </span><span class="line" data-startTime="3381">in their next app. </span><span class="line" data-startTime="3385">Is there a good framework </span><span class="line" data-startTime="3385">or library that </span><span class="line" data-startTime="3387">they should look at? </span><span class="line" data-startTime="3388">Or is there a set of tools? </span><span class="line" data-startTime="3390">How do they get started? </span></p>

<p class="speaker"><span class="line" data-starttime="3392"><span class="speakerName">Aubrey Anderson</span>: Well, I think </span><span class="line" data-startTime="3392">HTML5 Rocks is actually a </span><span class="line" data-startTime="3396">pretty nice place to start. </span><span class="line" data-startTime="3397">I'm not just plugging </span><span class="line" data-startTime="3397">a Google thing. </span><span class="line" data-startTime="3399">Like it actually is a nice place </span><span class="line" data-startTime="3399">to just step through an </span><span class="line" data-startTime="3403">approach to that. </span></p>

<p class="speaker"><span class="line" data-starttime="3404"><span class="speakerName">KC Austin</span>: That's what I was </span><span class="line" data-startTime="3404">going through a lot when I </span><span class="line" data-startTime="3406">first started. </span><span class="line" data-startTime="3407">Just go through every one of </span><span class="line" data-startTime="3407">those things and just get </span><span class="line" data-startTime="3410">things moving around on screen, </span><span class="line" data-startTime="3410">very simple things, </span><span class="line" data-startTime="3413">and just build, just kind of </span><span class="line" data-startTime="3413">snowball up your tool box. </span><span class="line" data-startTime="3417">And go through each of the </span><span class="line" data-startTime="3417">functions, check all the </span><span class="line" data-startTime="3419">different timing functions, </span><span class="line" data-startTime="3419">durations, all </span><span class="line" data-startTime="3421">that kind of stuff. </span></p>

<p class="speaker"><span class="line" data-starttime="3423"><span class="speakerName">Aubrey Anderson</span>: Yeah, you do </span><span class="line" data-startTime="3423">need to just jump into it, </span><span class="line" data-startTime="3427">make an animation, </span><span class="line" data-startTime="3427">and watch it go. </span><span class="line" data-startTime="3431">But it's not actually </span><span class="line" data-startTime="3431">that complicated. </span><span class="line" data-startTime="3435">So in some ways, it's something </span><span class="line" data-startTime="3435">that is noble and </span><span class="line" data-startTime="3440">easy to experiment with </span><span class="line" data-startTime="3440">and you can just do it </span><span class="line" data-startTime="3442">in HTML in a browser. </span><span class="line" data-startTime="3444">Just inline your CSS and </span><span class="line" data-startTime="3444">mess around with stuff. </span><span class="line" data-startTime="3448">And I'd start very simple. </span><span class="line" data-startTime="3449">Just make yourself a key frame </span><span class="line" data-startTime="3449">sequence with a 0% and 100%. </span><span class="line" data-startTime="3454">And just apply it and &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="3456"><span class="speakerName">Pete LePage</span>: See what happens. </span></p>

<p class="speaker"><span class="line" data-starttime="3457"><span class="speakerName">Aubrey Anderson</span>: Yeah, </span><span class="line" data-startTime="3457">you'll sort of feel </span><span class="line" data-startTime="3458">your way through it. </span><span class="line" data-startTime="3460">It's like any new technology, </span><span class="line" data-startTime="3460">where there's a confused </span><span class="line" data-startTime="3463">couple of hours. </span><span class="line" data-startTime="3464">But it is actually really </span><span class="line" data-startTime="3464">well-documented, and </span><span class="line" data-startTime="3467">increasingly well-documented. </span><span class="line" data-startTime="3469">The first couple of years, it </span><span class="line" data-startTime="3469">was really, really hard to </span><span class="line" data-startTime="3471">find anything. </span><span class="line" data-startTime="3472">But I found, this year in </span><span class="line" data-startTime="3472">particular, a huge ramp up in </span><span class="line" data-startTime="3476">examples and copy, paste your </span><span class="line" data-startTime="3476">way through to something </span><span class="line" data-startTime="3479">happening, and just start </span><span class="line" data-startTime="3479">tweaking things, changing </span><span class="line" data-startTime="3482">variables, changing </span><span class="line" data-startTime="3482">time, and note. </span><span class="line" data-startTime="3485">And you'll go, oh, this is </span><span class="line" data-startTime="3485">a good way to do things. </span><span class="line" data-startTime="3488">It takes a minute to just change </span><span class="line" data-startTime="3488">your brain around from </span><span class="line" data-startTime="3491">thinking of there's a thing, I'm </span><span class="line" data-startTime="3491">going to select the thing, </span><span class="line" data-startTime="3494">and it's going to happen. </span><span class="line" data-startTime="3496">Largely we key animations to </span><span class="line" data-startTime="3496">class states, so you're still </span><span class="line" data-startTime="3500">selecting things sometimes </span><span class="line" data-startTime="3500">in the run time. </span><span class="line" data-startTime="3502">But a lot of times you're just </span><span class="line" data-startTime="3502">doing document.queryselector </span><span class="line" data-startTime="3506">some thing, and you're adding a </span><span class="line" data-startTime="3506">class to it or subtracting a </span><span class="line" data-startTime="3508">class to it. </span></p>

<p class="speaker"><span class="line" data-starttime="3511"><span class="speakerName">Pete LePage</span>: All right, </span><span class="line" data-startTime="3511">well I want to </span><span class="line" data-startTime="3512">thank you guys so much. </span><span class="line" data-startTime="3513">We do have a case study </span><span class="line" data-startTime="3513">about building the 3D </span><span class="line" data-startTime="3518">world that's up. </span><span class="line" data-startTime="3519">We've got a bunch of other </span><span class="line" data-startTime="3519">case studies that we're </span><span class="line" data-startTime="3521">planning to put up over </span><span class="line" data-startTime="3521">the next couple weeks. </span><span class="line" data-startTime="3525">Because there's just so much </span><span class="line" data-startTime="3525">behind this whole experiment, </span><span class="line" data-startTime="3528">this whole world, that's </span><span class="line" data-startTime="3528">just like wow. </span></p>

<p class="speaker"><span class="line" data-starttime="3533"><span class="speakerName">Aubrey Anderson</span>: It sort of </span><span class="line" data-startTime="3533">leaks out of my ears. </span></p>

<p class="speaker"><span class="line" data-starttime="3537"><span class="speakerName">Pete LePage</span>: Thank you </span><span class="line" data-startTime="3537">guys for joining us. </span></p>

<p class="speaker"><span class="line" data-starttime="3538"><span class="speakerName">Aubrey Anderson</span>: Thanks </span><span class="line" data-startTime="3538">for having us. </span></p>

<p class="speaker"><span class="line" data-starttime="3539"><span class="speakerName">Pete LePage</span>: It's been really </span><span class="line" data-startTime="3539">great to have you and sort of </span><span class="line" data-startTime="3541">div in behind the divs here </span><span class="line" data-startTime="3541">and have a look at this. </span><span class="line" data-startTime="3544">Thank you guys for joining us. </span><span class="line" data-startTime="3546">And go check out Movi </span><span class="line" data-startTime="3546">Kanti Revo. </span><span class="line" data-startTime="3548">It's a M-O-V-I, Movi, Kanti, </span><span class="line" data-startTime="3548">K-A-N-T-I, Revo. </span><span class="line" data-startTime="3552">The URL is on screen. </span><span class="line" data-startTime="3554">Have a wonderful </span><span class="line" data-startTime="3554">day, everyone. </span><span class="line" data-startTime="3555">Thanks for joining us. </span><span class="line" data-startTime="3556">Bye bye. </span><span class="line" data-startTime="3558">[MUSIC PLAYING] </span></p></div>