<p><span class="line" data-startTime="3">Hi, my name is Carl and I am a Software Engineer </span><span class="line" data-startTime="3">on the Google Chrome team. In this video, </span><span class="line" data-startTime="9">I will describe how to integrate with the </span><span class="line" data-startTime="9">Chrome Web Store Licensing API. </span> <span class="line" data-startTime="14">Suppose you are creating a web app. The Chrome </span><span class="line" data-startTime="14">Web Store makes it easy to charge people to </span><span class="line" data-startTime="18">use that app wherever it is running. Users </span><span class="line" data-startTime="18">will purchase access to your app right from </span><span class="line" data-startTime="23">the Chrome Web Store. To check whether a user </span><span class="line" data-startTime="23">has paid for your app, use the Chrome Web </span><span class="line" data-startTime="29">Store’s licensing API. </span> <span class="line" data-startTime="29">The licensing API takes two inputs: the app </span><span class="line" data-startTime="34">ID and the user ID. </span> <span class="line" data-startTime="34">The app ID is the id the Chrome Web Store </span><span class="line" data-startTime="38">assigns to your app when you first create </span><span class="line" data-startTime="38">it in the store. </span> <span class="line" data-startTime="43">The user ID is the Google-provided OpenID </span><span class="line" data-startTime="43">URL. Typically, with OpenID the user ID is </span><span class="line" data-startTime="49">not shared unless the user explicitly grants </span><span class="line" data-startTime="49">permission to the application; however, Google </span><span class="line" data-startTime="54">Chrome grants this permission automatically </span><span class="line" data-startTime="54">when the user installs the application. Users </span><span class="line" data-startTime="59">in other browsers will still see an approval </span><span class="line" data-startTime="59">step. </span></p>

<p><span class="line" data-startTime="62">A number of OpenID libraries may be used to </span><span class="line" data-startTime="62">determine the OpenID URL. </span> <span class="line" data-startTime="67">To see a comprehensive list of libraries just </span><span class="line" data-startTime="67">visit http://wiki.openid.net/Libraries. </span> <span class="line" data-startTime="74">Some specific OpenID libraries you can explore </span><span class="line" data-startTime="74">are the following: </span><span class="line" data-startTime="78">For Java you can try OpenID4Java. </span> <span class="line" data-startTime="78">For Python try using Google App Engine’s </span><span class="line" data-startTime="85">Django OpenID. </span> <span class="line" data-startTime="85">You can find more information on how to use </span><span class="line" data-startTime="89">OpenID in our documentation. </span> <span class="line" data-startTime="89">The Chrome Web Store doesn’t allow just </span><span class="line" data-startTime="94">anyone to call the licensing API. The store </span><span class="line" data-startTime="94">will check that the caller is authorized to </span><span class="line" data-startTime="98">make a licensing API check for a given app. </span> <span class="line" data-startTime="98">In this way we provide separation among the </span><span class="line" data-startTime="104">licensing data for various apps. </span> <span class="line" data-startTime="104">The developer that creates a web app in the </span><span class="line" data-startTime="109">Chrome Web Store is the only user with permission </span><span class="line" data-startTime="109">to call the licencing API for that app. </span> <span class="line" data-startTime="115">In order to securely authenticate the owner </span><span class="line" data-startTime="115">of an application, we use OAuth access tokens. </span> <span class="line" data-startTime="121">These tokens prove that you have the right </span><span class="line" data-startTime="121">to call the API. </span></p>

<p><span class="line" data-startTime="124">We automatically provide you with an OAuth </span><span class="line" data-startTime="124">access token in the developer dashboard for </span><span class="line" data-startTime="130">each app you own. An OAuth access token is </span><span class="line" data-startTime="130">really a token and a token secret, but I just </span><span class="line" data-startTime="135">refer to them as an access token. </span> <span class="line" data-startTime="135">To create a token, go to the developer dashboard </span><span class="line" data-startTime="141">and follow the link labeled “AuthToken”. </span> <span class="line" data-startTime="141">The next page explains what you need the token </span><span class="line" data-startTime="146">for and at the bottom of the page, you will </span><span class="line" data-startTime="146">see a button to generate the OAuth access </span><span class="line" data-startTime="151">token. </span> <span class="line" data-startTime="151">When you click that button you will see the </span><span class="line" data-startTime="154">values for oauth_token and oauth_token_secret </span><span class="line" data-startTime="154">fill in. </span></p>

<p><span class="line" data-startTime="158">Those tokens are scoped so they will only </span><span class="line" data-startTime="158">work to access the Chrome Web Store licensing </span><span class="line" data-startTime="163">API and cannot be used to access other information </span><span class="line" data-startTime="163">from Google. </span> <span class="line" data-startTime="166">Please note that the Chrome Web Store will </span><span class="line" data-startTime="166">not display these values more than one time </span><span class="line" data-startTime="171">for security reasons, so, don’t forget to </span><span class="line" data-startTime="171">copy them to a secure location before you </span><span class="line" data-startTime="175">leave the page. If necessary, you can return </span><span class="line" data-startTime="175">later to generate a new access token. </span> <span class="line" data-startTime="181">Now you should have all the data you need </span><span class="line" data-startTime="181">to call the licensing API: </span><span class="line" data-startTime="186">An OAuth access token </span><span class="line" data-startTime="186">A User ID </span><span class="line" data-startTime="189">and an App ID. </span> <span class="line" data-startTime="189">Let’s look at the details of calling the </span><span class="line" data-startTime="192">API using HTTP. </span></p>

<p><span class="line" data-startTime="192">The licensing API endpoint is simply a URL </span><span class="line" data-startTime="198">containing the app ID and the user ID. The </span><span class="line" data-startTime="198">app and user IDs must be URL-encoded. </span> <span class="line" data-startTime="205">To call the licensing API, you need to add </span><span class="line" data-startTime="205">OAuth signature parameters. You can use an </span><span class="line" data-startTime="210">OAuth library to sign the HTTP requests. </span> <span class="line" data-startTime="210">Visit http://code.google.com/apis/gdata/docs/client-libraries.html </span><span class="line" data-startTime="223">for a list of libraries that may be used to </span><span class="line" data-startTime="223">perform these API calls in various web development </span><span class="line" data-startTime="228">languages. </span> <span class="line" data-startTime="228">The signing step needs the following pieces </span><span class="line" data-startTime="231">of data: </span><span class="line" data-startTime="231">The consumer key: This is always “anonymous”. </span> <span class="line" data-startTime="235">The consumer secret: This is also always “anonymous”. </span> <span class="line" data-startTime="235">The token and the token secret. </span> <span class="line" data-startTime="241">The consumer key and consumer secret are anonymous </span><span class="line" data-startTime="241">because you, the developer, are granting access </span><span class="line" data-startTime="246">to the application you own. </span> <span class="line" data-startTime="246">JSON is the default response format for API </span><span class="line" data-startTime="251">requests. This response will indicate whether </span><span class="line" data-startTime="251">the user should be granted permission to use </span><span class="line" data-startTime="257">your app. </span></p>

<p><span class="line" data-startTime="257">If you prefer the ATOM format, you can specify </span><span class="line" data-startTime="259">alt=atom in the URL. </span> <span class="line" data-startTime="259">To learn more about the Chrome Web Store and </span><span class="line" data-startTime="264">how to integrate with our licensing API, just </span><span class="line" data-startTime="264">visit code.google.com/chrome/webstore. </span></p>