<p class="speaker"><span class="line" data-starttime="1"><span class="speakerName">Paul Irish</span>: All right. </span><span class="line" data-startTime="1">Good morning, good evening, </span><span class="line" data-startTime="1">good afternoon. </span></p>

<p class="speaker"><span class="line" data-starttime="4"><span class="speakerName">Boris Smus</span>: What's up? </span></p>

<p class="speaker"><span class="line" data-starttime="6"><span class="speakerName">Paul Irish</span>: We're bringing to </span><span class="line" data-startTime="6">you the first installment of </span><span class="line" data-startTime="9">what we're going to be calling </span><span class="line" data-startTime="9">HTML5 Rocks Live, a video </span><span class="line" data-startTime="13">series talking about &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="14"><span class="speakerName">Eric Bidelman</span>: What are we </span><span class="line" data-startTime="14">going to talk about? </span></p>

<p class="speaker"><span class="line" data-starttime="16"><span class="speakerName">Paul Irish</span>: I don't know. </span></p>

<p class="speaker"><span class="line" data-starttime="17"><span class="speakerName">Boris Smus</span>: Everything. </span></p>

<p class="speaker"><span class="line" data-starttime="18"><span class="speakerName">Paul Irish</span>: Building web apps. </span></p>

<p class="speaker"><span class="line" data-starttime="18"><span class="speakerName">Boris Smus</span>: Building web apps. </span></p>

<p class="speaker"><span class="line" data-starttime="19"><span class="speakerName">Paul Irish</span>: What's new in the </span><span class="line" data-startTime="19">browser, and how to do amazing </span><span class="line" data-startTime="24">things inside the browser, </span><span class="line" data-startTime="24">I guess. </span></p>

<p class="speaker"><span class="line" data-starttime="26"><span class="speakerName">Boris Smus</span>: How to do that. </span></p>

<p class="speaker"><span class="line" data-starttime="28"><span class="speakerName">Paul Irish</span>: Today, we </span><span class="line" data-startTime="28">have a few things </span><span class="line" data-startTime="29">we're going to show. </span><span class="line" data-startTime="30">We're going to talk about the </span><span class="line" data-startTime="30">new Vertical Timeline in </span><span class="line" data-startTime="34">Chrome Developer tools, we're </span><span class="line" data-startTime="34">going to talk about Device </span><span class="line" data-startTime="37">Detection, and then we're also </span><span class="line" data-startTime="37">going to talk about the File </span><span class="line" data-startTime="41">System API, and some </span><span class="line" data-startTime="41">new stuff for that. </span></p>

<p class="speaker"><span class="line" data-starttime="44"><span class="speakerName">Eric Bidelman</span>: Before </span><span class="line" data-startTime="44">we do that, we </span><span class="line" data-startTime="44">should introduce ourselves. </span></p>

<p class="speaker"><span class="line" data-starttime="46"><span class="speakerName">Paul Irish</span>: Sounds good. </span></p>

<p class="speaker"><span class="line" data-starttime="46"><span class="speakerName">Boris Smus</span>: Good point. </span></p>

<p class="speaker"><span class="line" data-starttime="47"><span class="speakerName">Eric Bidelman</span>: So who </span><span class="line" data-startTime="47">are you, fine sir? </span></p>

<p class="speaker"><span class="line" data-starttime="49"><span class="speakerName">Paul Irish</span>: My name </span><span class="line" data-startTime="49">is Paul Irish. </span><span class="line" data-startTime="50">We're all on the Chrome </span><span class="line" data-startTime="50">Developer Relations team. </span><span class="line" data-startTime="53">I like to focus on the Chrome </span><span class="line" data-startTime="53">Developer Tools and </span><span class="line" data-startTime="57">Cross-browser, and all </span><span class="line" data-startTime="57">sorts of good stuff. </span></p>

<p class="speaker"><span class="line" data-starttime="62"><span class="speakerName">Boris Smus</span>: My name is. </span><span class="line" data-startTime="62">Boris. </span><span class="line" data-startTime="63">I mostly the focus on mobile </span><span class="line" data-startTime="63">stuff and used to be on </span><span class="line" data-startTime="67">Extensions. </span></p>

<p class="speaker"><span class="line" data-starttime="68"><span class="speakerName">Eric Bidelman</span>: What's </span><span class="line" data-startTime="68">up, everybody? </span><span class="line" data-startTime="69">My name's Eric Bidelman, also </span><span class="line" data-startTime="69">[? on Chrome Developer ?] </span><span class="line" data-startTime="71">Relations, focusing mainly </span><span class="line" data-startTime="71">on HTML5 awesomeness for </span><span class="line" data-startTime="76">building web apps. </span></p>

<p class="speaker"><span class="line" data-starttime="77"><span class="speakerName">Paul Irish</span>: Right. </span> <span class="line" data-startTime="79">So first, I think we'll </span><span class="line" data-startTime="79">just go right into it. </span> <span class="line" data-startTime="83">I want to show off some new </span><span class="line" data-startTime="83">features inside the Chrome Dev </span><span class="line" data-startTime="86">Tools, and so what I'm going </span><span class="line" data-startTime="86">to do is I'm just going to </span><span class="line" data-startTime="88">share my screen. </span> <span class="line" data-startTime="93">It should be good. </span> <span class="line" data-startTime="93">Cool. </span> <span class="line" data-startTime="94">So I wanted to show some new </span><span class="line" data-startTime="94">stuff, and so what I'm going </span><span class="line" data-startTime="98">to do is actually going to use a </span><span class="line" data-startTime="98">demo that was written by the </span><span class="line" data-startTime="102">government called Hakim, </span><span class="line" data-startTime="102">who goes by hakimel </span><span class="line" data-startTime="106">on Twitter and GetHub. </span> <span class="line" data-startTime="108">Really good stuff, and so this </span><span class="line" data-startTime="108">is a little tricky because </span><span class="line" data-startTime="110">you're going to be watching it </span><span class="line" data-startTime="110">and the frame rate won't be so </span><span class="line" data-startTime="113">hot, and it's all about smooth </span><span class="line" data-startTime="113">graphics, but you're just </span><span class="line" data-startTime="117">going to have to bear </span><span class="line" data-startTime="117">with me here. </span> <span class="line" data-startTime="120">So what this is, is a little </span><span class="line" data-startTime="120">demo where we can scroll </span><span class="line" data-startTime="123">through a list of items and </span><span class="line" data-startTime="123">there is a visual effect as </span><span class="line" data-startTime="128">the items kind of scroll </span><span class="line" data-startTime="128">into view. </span></p>

<p><span class="line" data-startTime="133">Pretty cool. </span> <span class="line" data-startTime="133">And so Hakim released this </span><span class="line" data-startTime="133">sometime last week, and </span><span class="line" data-startTime="138">everyone was really into it. </span> <span class="line" data-startTime="140">As so I was looking at the code </span><span class="line" data-startTime="140">behind it and I was like, </span><span class="line" data-startTime="142">hm, this is cool. </span> <span class="line" data-startTime="143">And I was wondering if we could </span><span class="line" data-startTime="143">actually make it any </span><span class="line" data-startTime="145">smoother at all. </span> <span class="line" data-startTime="146">I learned a few things about how </span><span class="line" data-startTime="146">Chrome deals with hardware </span><span class="line" data-startTime="151">accelerated graphics </span><span class="line" data-startTime="151">and was like &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="153"><span class="speakerName">Eric Bidelman</span>: Did you see like </span><span class="line" data-startTime="153">visual jank, and were you </span><span class="line" data-startTime="155">actively investigating? </span></p>

<p class="speaker"><span class="line" data-starttime="156"><span class="speakerName">Paul Irish</span>: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="156"><span class="speakerName">Eric Bidelman</span>: It's a </span><span class="line" data-startTime="156">great demo, but &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="158"><span class="speakerName">Paul Irish</span>: Yeah, </span><span class="line" data-startTime="158">I mean, I did. </span><span class="line" data-startTime="160">So we call it jank oftentimes </span><span class="line" data-startTime="160">inside the team. </span><span class="line" data-startTime="163">Jank is just like stuttering </span><span class="line" data-startTime="163">and the absence of buttery </span><span class="line" data-startTime="168">smoothness. </span></p>

<p class="speaker"><span class="line" data-starttime="172"><span class="speakerName">Boris Smus</span>: Devoid of. </span></p>

<p class="speaker"><span class="line" data-starttime="173"><span class="speakerName">Paul Irish</span>: Yeah, exactly. </span> <span class="line" data-startTime="175">So it was good, but I was like, </span><span class="line" data-startTime="175">I think we can get it a </span><span class="line" data-startTime="178">little bit better. </span> <span class="line" data-startTime="179">So I'm going to show you a new </span><span class="line" data-startTime="179">tool inside the Chrome Dev </span><span class="line" data-startTime="181">Tools that we're going to use </span><span class="line" data-startTime="181">to kind of explore this. </span> <span class="line" data-startTime="188">So you'll see it here. </span> <span class="line" data-startTime="190">Right inside the Timelines </span><span class="line" data-startTime="190">Panel on the Timelines, </span><span class="line" data-startTime="192">there's these two buttons right </span><span class="line" data-startTime="192">underneath Resources. </span> <span class="line" data-startTime="196">And it doesn't look like it's </span><span class="line" data-startTime="196">very much now, but we'll see </span><span class="line" data-startTime="199">it in a little bit. </span> <span class="line" data-startTime="200">Now right now to enable this, </span><span class="line" data-startTime="200">you're going to have to do a </span><span class="line" data-startTime="204">little bit funky stuff. </span></p>

<p><span class="line" data-startTime="205">You're going to go to About </span><span class="line" data-startTime="205">Flags, where you can turn on </span><span class="line" data-startTime="208">all sorts of good stuff, and </span><span class="line" data-startTime="208">you're going to search for </span><span class="line" data-startTime="211">Developer Tool Experiments. </span> <span class="line" data-startTime="214">You enable that. </span> <span class="line" data-startTime="216">And then back inside your Dev </span><span class="line" data-startTime="216">Tools, you click on Settings </span><span class="line" data-startTime="220">and down at the bottom is all </span><span class="line" data-startTime="220">this cool experiments. </span> <span class="line" data-startTime="223">Now of course, all this stuff is </span><span class="line" data-startTime="223">kind of super experimental. </span> <span class="line" data-startTime="226">If it breaks, too bad. </span> <span class="line" data-startTime="229">But this is the new Vertical </span><span class="line" data-startTime="229">Overview Mode in </span><span class="line" data-startTime="231">the Timeline Panel. </span> <span class="line" data-startTime="232">And you'll be seeing it </span><span class="line" data-startTime="232">soon anyways, but </span><span class="line" data-startTime="235">here's what it does. </span> <span class="line" data-startTime="238">First, I'm going to keep it </span><span class="line" data-startTime="238">off, and I'm just going to </span><span class="line" data-startTime="241">record, and I'll go down and </span><span class="line" data-startTime="241">scroll a little bit. </span> <span class="line" data-startTime="247">OK, cool. </span></p>

<p><span class="line" data-startTime="249">Stop recording, and now I can </span><span class="line" data-startTime="249">click and I can drag, and I </span><span class="line" data-startTime="253">can see some things. </span> <span class="line" data-startTime="254">Mostly, it just paints all along </span><span class="line" data-startTime="254">the side, and we can see </span><span class="line" data-startTime="257">how big the paints are, </span><span class="line" data-startTime="257">here's a scroll event. </span> <span class="line" data-startTime="261">It looks like this scroll event </span><span class="line" data-startTime="261">is actually taking up </span><span class="line" data-startTime="264">quite a bit of time. </span> <span class="line" data-startTime="266">How long is this? </span><span class="line" data-startTime="269">211 milliseconds for the </span><span class="line" data-startTime="269">entire duration. </span></p>

<p class="speaker"><span class="line" data-starttime="272"><span class="speakerName">Eric Bidelman</span>: So Paul, is that </span><span class="line" data-startTime="272">the call-back for the </span><span class="line" data-startTime="275">scroll, or what is that? </span></p>

<p class="speaker"><span class="line" data-starttime="277"><span class="speakerName">Paul Irish</span>: Yeah. </span><span class="line" data-startTime="277">The self time of the actual </span><span class="line" data-startTime="277">event itself is very, very </span><span class="line" data-startTime="281">small, but what it does </span><span class="line" data-startTime="281">is considerable. </span><span class="line" data-startTime="284">So that one scroll event </span><span class="line" data-startTime="284">kicks off a lot of </span><span class="line" data-startTime="287">Recalculate Style Layout. </span><span class="line" data-startTime="289">So Recalculate Style Layout is </span><span class="line" data-startTime="289">basically, we're matching all </span><span class="line" data-startTime="292">the CSS against the DOM, and </span><span class="line" data-startTime="292">then recalculating all the </span><span class="line" data-startTime="297">geometry of the page. </span><span class="line" data-startTime="299">And when you see Recalc Style </span><span class="line" data-startTime="299">followed by Layout, and that </span><span class="line" data-startTime="303">pair going back and forth, </span><span class="line" data-startTime="303">there's usually an ability to </span><span class="line" data-startTime="306">optimize that. </span><span class="line" data-startTime="307">So we're going to look into </span><span class="line" data-startTime="307">what we can do there. </span></p>

<p class="speaker"><span class="line" data-starttime="310"><span class="speakerName">Eric Bidelman</span>: So that's </span><span class="line" data-startTime="310">sort of an instant red </span><span class="line" data-startTime="311">flag on your web app? </span></p>

<p class="speaker"><span class="line" data-starttime="312"><span class="speakerName">Paul Irish</span>: Yeah, exactly. </span></p>

<p class="speaker"><span class="line" data-starttime="314"><span class="speakerName">Boris Smus</span>: So could you talk a </span><span class="line" data-startTime="314">little bit about the yellow </span><span class="line" data-startTime="316">bar has the bright yellow and </span><span class="line" data-startTime="316">then the less bright yellow? </span></p>

<p class="speaker"><span class="line" data-starttime="320"><span class="speakerName">Paul Irish</span>: Oh yeah. </span><span class="line" data-startTime="321">The beginning is the </span><span class="line" data-startTime="321">self time, right? </span><span class="line" data-startTime="323">So if I'm highlighting over </span><span class="line" data-startTime="323">here and we have the self </span><span class="line" data-startTime="325">time, it's basically that </span><span class="line" data-startTime="325">sometimes you'll see this. </span><span class="line" data-startTime="330">You'll see this with </span><span class="line" data-startTime="330">event handlers. </span><span class="line" data-startTime="331">You'll also see this </span><span class="line" data-startTime="331">with Ajax. </span><span class="line" data-startTime="335">What the actual event was is the </span><span class="line" data-startTime="335">very beginning, and then </span><span class="line" data-startTime="338">it's effect is captured by the </span><span class="line" data-startTime="338">whole thing, so the scroll </span><span class="line" data-startTime="344">handler and all its effects. </span></p>

<p class="speaker"><span class="line" data-starttime="346"><span class="speakerName">Paul Irish</span>: So what I'm actually </span><span class="line" data-startTime="346">going to do is I'm </span><span class="line" data-startTime="348">going to clear this out, </span><span class="line" data-startTime="348">we'll switch over to </span><span class="line" data-startTime="349">Vertical, and record. </span><span class="line" data-startTime="353">Now, it's a little </span><span class="line" data-startTime="353">bit different. </span></p>

<p class="speaker"><span class="line" data-starttime="357"><span class="speakerName">Eric Bidelman</span>: Oh that's nice. </span></p>

<p class="speaker"><span class="line" data-starttime="358"><span class="speakerName">Paul Irish</span>: So I'm going to do </span><span class="line" data-startTime="358">that once more, because I'm &mdash; </span><span class="line" data-startTime="362">here we go. </span><span class="line" data-startTime="368">So this is a much different </span><span class="line" data-startTime="368">view, right? </span><span class="line" data-startTime="371">These are all frames. </span><span class="line" data-startTime="372">So one thing you'll notice is </span><span class="line" data-startTime="372">along the top is a time from </span><span class="line" data-startTime="377">zero to four seconds, but if </span><span class="line" data-startTime="377">we zoom in to the frames, </span><span class="line" data-startTime="383">you'll see that the time </span><span class="line" data-startTime="383">scale is actually the </span><span class="line" data-startTime="386">length of each frame. </span><span class="line" data-startTime="388">And what's the optimized, best </span><span class="line" data-startTime="388">frame rate that we could have? </span></p>

<p class="speaker"><span class="line" data-starttime="393"><span class="speakerName">Eric Bidelman</span>: 60. </span></p>

<p class="speaker"><span class="line" data-starttime="394"><span class="speakerName">Boris Smus</span>: 60. </span></p>

<p class="speaker"><span class="line" data-starttime="394"><span class="speakerName">Paul Irish</span>: 60 frames </span><span class="line" data-startTime="394">per second. </span><span class="line" data-startTime="395">And how many milliseconds </span><span class="line" data-startTime="395">per frame is that? </span></p>

<p class="speaker"><span class="line" data-starttime="397"><span class="speakerName">Boris Smus</span>: 16.66 repeated. </span></p>

<p class="speaker"><span class="line" data-starttime="399"><span class="speakerName">Paul Irish</span>: Correct. </span></p>

<p class="speaker"><span class="line" data-starttime="400"><span class="speakerName">Eric Bidelman</span>: Were you </span><span class="line" data-startTime="400">a math major, Paul? </span><span class="line" data-startTime="402">This is good, man. </span></p>

<p class="speaker"><span class="line" data-starttime="403"><span class="speakerName">Paul Irish</span>: Blue ribbon. </span> <span class="line" data-startTime="404">So in an ideal world, you have </span><span class="line" data-startTime="404">16.6 milliseconds per frame, </span><span class="line" data-startTime="411">nothing more. </span> <span class="line" data-startTime="412">And your entire everything </span><span class="line" data-startTime="412">just happens inside 16 </span><span class="line" data-startTime="415">milliseconds. </span> <span class="line" data-startTime="418">Now, it happens that you </span><span class="line" data-startTime="418">take more than this. </span> <span class="line" data-startTime="421">And so we've just dived in, </span><span class="line" data-startTime="421">and we can see that these </span><span class="line" data-startTime="424">frames are actually taking </span><span class="line" data-startTime="424">40, 60, 100, 80 &mdash; </span><span class="line" data-startTime="429">they're are a lot more </span><span class="line" data-startTime="429">than just that 16. </span> <span class="line" data-startTime="432">But we're able to see </span><span class="line" data-startTime="432">exactly what is </span><span class="line" data-startTime="433">happening inside that time. </span> <span class="line" data-startTime="436">So we have a scroll event and </span><span class="line" data-startTime="436">it's doing a bunch of stuff, </span><span class="line" data-startTime="439">and so I can click in and see </span><span class="line" data-startTime="439">what's going on inside that </span><span class="line" data-startTime="442">scroll event. </span></p>

<p><span class="line" data-startTime="443">So there's a lot of things </span><span class="line" data-startTime="443">happening, but it looks like &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="449"><span class="speakerName">Eric Bidelman</span>: Sorry, were </span><span class="line" data-startTime="449">you projecting that? </span><span class="line" data-startTime="451">Are we projecting the </span><span class="line" data-startTime="451">screen right now? </span></p>

<p class="speaker"><span class="line" data-starttime="453"><span class="speakerName">Paul Irish</span>: No, but we'll </span><span class="line" data-startTime="453">switch over to that. </span><span class="line" data-startTime="458">So this is Scripts Panel, but </span><span class="line" data-startTime="458">I'm just going to bring this </span><span class="line" data-startTime="463">up inside my Code Editor </span><span class="line" data-startTime="463">so everyone can see it. </span><span class="line" data-startTime="468">We have a Scroll Handler that </span><span class="line" data-startTime="468">is bound to Update, and in </span><span class="line" data-startTime="473">Update, we do all this magic. </span><span class="line" data-startTime="477">And that's good, but one thing </span><span class="line" data-startTime="477">that I learned a few months </span><span class="line" data-startTime="480">ago is it's actually quite </span><span class="line" data-startTime="480">bad to bind to </span><span class="line" data-startTime="483">either Scroll or Resize. </span><span class="line" data-startTime="485">Those events fire quite a bit, </span><span class="line" data-startTime="485">and typically, you'll be </span><span class="line" data-startTime="489">binding those so that you can </span><span class="line" data-startTime="489">update the UI of the page. </span><span class="line" data-startTime="493">But we have a first class API </span><span class="line" data-startTime="493">designed for redrawing the UI </span><span class="line" data-startTime="499">of the page when the browser's </span><span class="line" data-startTime="499">ready, which is called &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="502"><span class="speakerName">Eric Bidelman</span>: RAF, </span><span class="line" data-startTime="502">RequestAnimationFrame, </span><span class="line" data-startTime="504">everybody's best friend. </span></p>

<p class="speaker"><span class="line" data-starttime="504"><span class="speakerName">Paul Irish</span>: Yeah, </span><span class="line" data-startTime="504">RequestAnimationFrame or RAF, </span><span class="line" data-startTime="506">as we abbreviate it. </span></p>

<p class="speaker"><span class="line" data-starttime="507"><span class="speakerName">Eric Bidelman</span>: So let me </span><span class="line" data-startTime="507">ask you a question. </span><span class="line" data-startTime="508">The Scroll and Resize, those </span><span class="line" data-startTime="508">always fire quite more often </span><span class="line" data-startTime="513">than 16 FPS, right? </span><span class="line" data-startTime="516">No, or? </span></p>

<p class="speaker"><span class="line" data-starttime="517"><span class="speakerName">Paul Irish</span>: They fire a lot. </span></p>

<p class="speaker"><span class="line" data-starttime="518"><span class="speakerName">Eric Bidelman</span>: They fire away </span><span class="line" data-startTime="518">more than you should be </span><span class="line" data-startTime="520">updating UI, right? </span></p>

<p class="speaker"><span class="line" data-starttime="522"><span class="speakerName">Paul Irish</span>: Browser engineers </span><span class="line" data-startTime="522">really just don't like it when </span><span class="line" data-startTime="523">you bind them. </span></p>

<p class="speaker"><span class="line" data-starttime="525"><span class="speakerName">Eric Bidelman</span>: Users just don't </span><span class="line" data-startTime="525">either, because that </span><span class="line" data-startTime="527">means there's jank, word of the </span><span class="line" data-startTime="527">day, inside of your app. </span></p>

<p class="speaker"><span class="line" data-starttime="531"><span class="speakerName">Paul Irish</span>: So what we're going </span><span class="line" data-startTime="531">to do is we're going to </span><span class="line" data-startTime="533">change the implementation. </span><span class="line" data-startTime="535">Instead of binding to </span><span class="line" data-startTime="535">Scroll, we're just </span><span class="line" data-startTime="536">going to bind to RAF. </span><span class="line" data-startTime="538">So the browser's going to </span><span class="line" data-startTime="538">optimize that to 60 </span><span class="line" data-startTime="541">frames if it can. </span><span class="line" data-startTime="542">So I'm going to take this scroll </span><span class="line" data-startTime="542">event, and I'm going to </span><span class="line" data-startTime="546">copy in a little </span><span class="line" data-startTime="546">RequestAnimationFrame shim, </span><span class="line" data-startTime="550">and then I'm going to replace </span><span class="line" data-startTime="550">the scroll with some RAF loop. </span><span class="line" data-startTime="560">So this is just a recursive </span><span class="line" data-startTime="560">loop to call </span><span class="line" data-startTime="563">RequestAnimationFrame. </span></p>

<p class="speaker"><span class="line" data-starttime="567"><span class="speakerName">Eric Bidelman</span>: So for those </span><span class="line" data-startTime="567">not familiar with </span><span class="line" data-startTime="569">RequestAnimationFrame, </span><span class="line" data-startTime="569">I'm not seeing a &mdash; </span><span class="line" data-startTime="571">so set time out, right? </span><span class="line" data-startTime="572">People use set time out, there's </span><span class="line" data-startTime="572">a time that you recall </span><span class="line" data-startTime="575">your callback. </span><span class="line" data-startTime="577">That's not the case with </span><span class="line" data-startTime="577">RequestAnimationFrame? </span><span class="line" data-startTime="578">Can you explain that </span><span class="line" data-startTime="578">a little bit? </span></p>

<p class="speaker"><span class="line" data-starttime="581"><span class="speakerName">Paul Irish</span>: Well, it </span><span class="line" data-startTime="581">is a callback. </span></p>

<p class="speaker"><span class="line" data-starttime="583"><span class="speakerName">Eric Bidelman</span>: Yeah, but you're </span><span class="line" data-startTime="583">not [? parsing ?] an </span><span class="line" data-startTime="585">explicit time that you're </span><span class="line" data-startTime="585">calling the callback? </span></p>

<p class="speaker"><span class="line" data-starttime="587"><span class="speakerName">Paul Irish</span>: Yeah. </span><span class="line" data-startTime="587">You're just saying, </span><span class="line" data-startTime="587">hey, browser, you </span><span class="line" data-startTime="590">take care of this. </span><span class="line" data-startTime="591">This is the function that I </span><span class="line" data-startTime="591">want to be called, and you </span><span class="line" data-startTime="593">call it as much as you can. </span><span class="line" data-startTime="596">And one of the things that's </span><span class="line" data-startTime="596">happening is the browser's </span><span class="line" data-startTime="599">starting to get smart. </span><span class="line" data-startTime="600">So if your callback starts to </span><span class="line" data-startTime="600">take so much time, it's </span><span class="line" data-startTime="602">actually going to optimize </span><span class="line" data-startTime="602">your animation </span><span class="line" data-startTime="604">for 30 frames a second. </span><span class="line" data-startTime="606">So you're always blowing past </span><span class="line" data-startTime="606">the 16.6 milliseconds, but </span><span class="line" data-startTime="608">it's going to say, hey, </span><span class="line" data-startTime="608">we're just going to be </span><span class="line" data-startTime="611">30 frames per second. </span><span class="line" data-startTime="612">Now, the big thing about these </span><span class="line" data-startTime="612">30 and 60 numbers is that your </span><span class="line" data-startTime="616">monitor refreshes at 60 hertz. </span><span class="line" data-startTime="618">So Chrome is actually able to </span><span class="line" data-startTime="618">make sure that your canvas, or </span><span class="line" data-startTime="626">your CSS, changes are being </span><span class="line" data-startTime="626">painted to the screen and </span><span class="line" data-startTime="630">synchronized to the refresh </span><span class="line" data-startTime="630">rate of the monitor, which </span><span class="line" data-startTime="635">means it's as smooth as it can </span><span class="line" data-startTime="635">be, which is really powerful. </span><span class="line" data-startTime="639">So this is the best way to </span><span class="line" data-startTime="639">get the best graphics. </span></p>

<p class="speaker"><span class="line" data-starttime="643"><span class="speakerName">Eric Bidelman</span>: The other benefit </span><span class="line" data-startTime="643">too is that if your </span><span class="line" data-startTime="645">app isn't visible to the user, </span><span class="line" data-startTime="645">RequestAnimationFrame will </span><span class="line" data-startTime="649">stop calling that callback </span><span class="line" data-startTime="649">altogether. </span><span class="line" data-startTime="651">So if the users can't see </span><span class="line" data-startTime="651">something visually being </span><span class="line" data-startTime="654">updated on the page, then </span><span class="line" data-startTime="654">there's no reason to waste </span><span class="line" data-startTime="657">that CPU [INAUDIBLE] </span><span class="line" data-startTime="658">extra calculation. </span><span class="line" data-startTime="660">That's another benefit. </span></p>

<p class="speaker"><span class="line" data-starttime="660"><span class="speakerName">Paul Irish</span>: So this is one of </span><span class="line" data-startTime="660">the cool things on Chrome for </span><span class="line" data-startTime="663">Android is that Chrome for </span><span class="line" data-startTime="663">Android is the first mobile </span><span class="line" data-startTime="665">browser that has </span><span class="line" data-startTime="665">RequestAnimationFrame, so you </span><span class="line" data-startTime="668">have some [? cool ?] </span><span class="line" data-startTime="668">canvas loop using </span><span class="line" data-startTime="670">RequestAnimationFrame and you </span><span class="line" data-startTime="670">switch to another tab, that is </span><span class="line" data-startTime="673">not still running. </span><span class="line" data-startTime="674">[INAUDIBLE]. </span></p>

<p class="speaker"><span class="line" data-starttime="677"><span class="speakerName">Boris Smus</span>: So here, you're </span><span class="line" data-startTime="677">not bound to any event </span><span class="line" data-startTime="681">handler, so this will rerender </span><span class="line" data-startTime="681">all the time, regardless of if </span><span class="line" data-startTime="684">you're [INAUDIBLE] </span><span class="line" data-startTime="684">or not, right? </span></p>

<p class="speaker"><span class="line" data-starttime="685"><span class="speakerName">Paul Irish</span>: Correct. </span></p>

<p class="speaker"><span class="line" data-starttime="687"><span class="speakerName">Eric Bidelman</span>: Do </span><span class="line" data-startTime="687">we like that? </span></p>

<p class="speaker"><span class="line" data-starttime="688"><span class="speakerName">Paul Irish</span>: No. </span><span class="line" data-startTime="691">Good question. </span><span class="line" data-startTime="691">This is a very naive </span><span class="line" data-startTime="691">implementation. </span><span class="line" data-startTime="693">In an ideal world, we would have </span><span class="line" data-startTime="693">scroll kicks off this RAF </span><span class="line" data-startTime="699">loop, and then at some point, </span><span class="line" data-startTime="699">we like to bounce the scroll </span><span class="line" data-startTime="703">event, kick off RAF, and then </span><span class="line" data-startTime="703">cancel out RAF when the </span><span class="line" data-startTime="706">scrolling is done. </span></p>

<p class="speaker"><span class="line" data-starttime="707"><span class="speakerName">Boris Smus</span>: Yeah, so we want </span><span class="line" data-startTime="707">a time out or something. </span></p>

<p class="speaker"><span class="line" data-starttime="708"><span class="speakerName">Paul Irish</span>: Yeah. </span><span class="line" data-startTime="708">So there's a way to kind of like </span><span class="line" data-startTime="708">have Scroll and Resize </span><span class="line" data-startTime="711">kick off RAF but </span><span class="line" data-startTime="711">work together. </span></p>

<p class="speaker"><span class="line" data-starttime="714"><span class="speakerName">Eric Bidelman</span>: So the </span><span class="line" data-startTime="714">call [INAUDIBLE] </span><span class="line" data-startTime="715">is similar to Set Timeout, you </span><span class="line" data-startTime="715">can cancel, you can request, </span><span class="line" data-startTime="718">it's just that time difference </span><span class="line" data-startTime="718">that you're not [? parsing ?] </span><span class="line" data-startTime="720">in. </span></p>

<p class="speaker"><span class="line" data-starttime="721"><span class="speakerName">Paul Irish</span>: Yeah. </span><span class="line" data-startTime="722">So we'll go back to </span><span class="line" data-startTime="722">the timeline. </span><span class="line" data-startTime="724">And now that I have RAF in, </span><span class="line" data-startTime="724">before, you kind of see all </span><span class="line" data-startTime="730">these uneven bars, but there's </span><span class="line" data-startTime="730">not a lot of context. </span><span class="line" data-startTime="733">Now with RAF in, I've saved, </span><span class="line" data-startTime="733">I'm going to refresh. </span><span class="line" data-startTime="744">And once it's in, I'm going to </span><span class="line" data-startTime="744">record our new thing, and </span><span class="line" data-startTime="748">you'll see quite a bit of </span><span class="line" data-startTime="749">difference down in the timeline. </span><span class="line" data-startTime="753">So &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="754"><span class="speakerName">Eric Bidelman</span>: Nice. </span></p>

<p class="speaker"><span class="line" data-starttime="755"><span class="speakerName">Paul Irish</span>: It's already </span><span class="line" data-startTime="755">moving, and </span><span class="line" data-startTime="756">there's a lot of bars. </span> <span class="line" data-startTime="758">So I'm not touching anything and </span><span class="line" data-startTime="758">the bars are just going. </span> <span class="line" data-startTime="762">And so you can see down here, </span><span class="line" data-startTime="762">there's a lot of animation </span><span class="line" data-startTime="765">frames firing. </span> <span class="line" data-startTime="766">So this is pretty cool, but what </span><span class="line" data-startTime="766">we're able to see is that </span><span class="line" data-startTime="773">the browser is giving us an </span><span class="line" data-startTime="773">indication of how long all </span><span class="line" data-startTime="777">these animation frames </span><span class="line" data-startTime="777">are taking. </span> <span class="line" data-startTime="780">And so we're able to see when </span><span class="line" data-startTime="780">there's big spikes, that means </span><span class="line" data-startTime="782">that it's taking much longer </span><span class="line" data-startTime="782">than it should and we're not </span><span class="line" data-startTime="785">able to hit our 60 frames </span><span class="line" data-startTime="785">per second. </span> <span class="line" data-startTime="787">So in an ideal world, 60 frames </span><span class="line" data-startTime="787">per second means that </span><span class="line" data-startTime="790">all these bars are just </span><span class="line" data-startTime="790">completely flat. </span> <span class="line" data-startTime="794">But here, we have spikes. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="795"><span class="speakerName">Eric Bidelman</span>: This is cool. </span><span class="line" data-startTime="796">So this is like a visual </span><span class="line" data-startTime="796">representation of </span><span class="line" data-startTime="797">your code right now. </span></p>

<p class="speaker"><span class="line" data-starttime="798"><span class="speakerName">Paul Irish</span>: Yeah. </span><span class="line" data-startTime="798">And so these spikes </span><span class="line" data-startTime="798">are jank, right? </span></p>

<p class="speaker"><span class="line" data-starttime="801"><span class="speakerName">Eric Bidelman</span>: Yeah Let's </span><span class="line" data-startTime="801">get rid of that. </span></p>

<p class="speaker"><span class="line" data-starttime="802"><span class="speakerName">Paul Irish</span>: So we're going </span><span class="line" data-startTime="802">to kill that jank. </span><span class="line" data-startTime="803">So I'm just going to zoom in, </span><span class="line" data-startTime="803">and you've really got to zoom </span><span class="line" data-startTime="808">in pretty close. </span><span class="line" data-startTime="810">So that looks pretty good. </span><span class="line" data-startTime="813">And I'm going to switch &mdash; </span><span class="line" data-startTime="826">OK, this looks pretty good. </span><span class="line" data-startTime="829">We have this animation </span><span class="line" data-startTime="829">frame, it fires, it </span><span class="line" data-startTime="832">takes quite a while. </span><span class="line" data-startTime="836">And we're going to look </span><span class="line" data-startTime="836">into what's going on. </span><span class="line" data-startTime="837">We got Recalculate Style </span><span class="line" data-startTime="837">going on inside </span><span class="line" data-startTime="840">of that, a few layouts. </span><span class="line" data-startTime="842">We click into the Recalculate </span><span class="line" data-startTime="842">Style, and it points to this </span><span class="line" data-startTime="845">line in particular, which is </span><span class="line" data-startTime="845">Offset Top, Offset Height. </span></p>

<p class="speaker"><span class="line" data-starttime="849"><span class="speakerName">Eric Bidelman</span>: Uh-oh. </span></p>

<p class="speaker"><span class="line" data-starttime="851"><span class="speakerName">Paul Irish</span>: Yeah. </span><span class="line" data-startTime="852">There's a few DOM properties </span><span class="line" data-startTime="852">that cause a reflow, and </span><span class="line" data-startTime="855">that's essentially what's </span><span class="line" data-startTime="855">happening, is that the browser </span><span class="line" data-startTime="859">has to say, hey, I don't know </span><span class="line" data-startTime="859">what the Offset Top and Offset </span><span class="line" data-startTime="862">Height is, but I need to </span><span class="line" data-startTime="862">recalculate the entire </span><span class="line" data-startTime="864">geometry of the page in order </span><span class="line" data-startTime="864">to give you, the JavaScript, </span><span class="line" data-startTime="868">an accurate number for </span><span class="line" data-startTime="868">these two things. </span><span class="line" data-startTime="871">And it has to do this &mdash; </span><span class="line" data-startTime="873">actually the loop that it's in </span><span class="line" data-startTime="873">is for every single item in </span><span class="line" data-startTime="876">this list on every </span><span class="line" data-startTime="876">single frame. </span></p>

<p class="speaker"><span class="line" data-starttime="881"><span class="speakerName">Boris Smus</span>: Wow. </span></p>

<p class="speaker"><span class="line" data-starttime="882"><span class="speakerName">Eric Bidelman</span>: It seems </span><span class="line" data-startTime="882">really wasteful. </span></p>

<p class="speaker"><span class="line" data-starttime="883"><span class="speakerName">Paul Irish</span>: Totally wasteful. </span><span class="line" data-startTime="884">It turns out that Offset Top and </span><span class="line" data-startTime="884">Offset Height do not even </span><span class="line" data-startTime="887">change for any of these </span><span class="line" data-startTime="887">for the entire thing. </span></p>

<p class="speaker"><span class="line" data-starttime="889"><span class="speakerName">Eric Bidelman</span>: This is why </span><span class="line" data-startTime="889">it's hard to be a web </span><span class="line" data-startTime="891">developer right here, </span><span class="line" data-startTime="891">this sort of thing. </span></p>

<p class="speaker"><span class="line" data-starttime="893"><span class="speakerName">Paul Irish</span>: That's true. </span> <span class="line" data-startTime="896">So let's see. </span> <span class="line" data-startTime="897">I'll go to the next iteration. </span> <span class="line" data-startTime="901">This is where this ended up. </span> <span class="line" data-startTime="902">So I spent some time with this, </span><span class="line" data-startTime="902">and we ended up here </span><span class="line" data-startTime="906">where we actually cache </span><span class="line" data-startTime="906">some of these numbers. </span> <span class="line" data-startTime="909">So the Scroll Top we cache, </span><span class="line" data-startTime="909">and make sure that if the </span><span class="line" data-startTime="918">Scroll Top is not changed since </span><span class="line" data-startTime="918">last time we went into </span><span class="line" data-startTime="921">this RAF loop, we just </span><span class="line" data-startTime="921">quit immediately. </span> <span class="line" data-startTime="925">And then we actually </span><span class="line" data-startTime="925">do two loops. </span> <span class="line" data-startTime="928">One loop we do to go and get the </span><span class="line" data-startTime="928">Offset Tops, and then we </span><span class="line" data-startTime="933">do a second loop to go </span><span class="line" data-startTime="933">make the changes. </span></p>

<p><span class="line" data-startTime="936">Now, the reason that we actually </span><span class="line" data-startTime="936">do two loops is back </span><span class="line" data-startTime="939">on HTML5 Rocks a while ago, we </span><span class="line" data-startTime="939">talked about reflows and </span><span class="line" data-startTime="942">optimizing for those, and we </span><span class="line" data-startTime="942">talked about that pattern of </span><span class="line" data-startTime="945">Recalculate Style Layout, </span><span class="line" data-startTime="945">Recalculate Style Layout. </span> <span class="line" data-startTime="948">And here, we were asking for </span><span class="line" data-startTime="948">what is the Offset Top, and </span><span class="line" data-startTime="952">immediately using Class List </span><span class="line" data-startTime="952">to change the class of some </span><span class="line" data-startTime="956">DOM elements. </span> <span class="line" data-startTime="958">And then we would just do that, </span><span class="line" data-startTime="958">and then we'd do about </span><span class="line" data-startTime="960">100 per loop. </span> <span class="line" data-startTime="962">And so that is totally </span><span class="line" data-startTime="962">wasteful. </span> <span class="line" data-startTime="964">So here, we're able to get all </span><span class="line" data-startTime="964">of our information out of the </span><span class="line" data-startTime="967">DOM in one move, one pass, and </span><span class="line" data-startTime="967">then make all of our changes </span><span class="line" data-startTime="970">in another pass, and that's </span><span class="line" data-startTime="970">really the most optimized way </span><span class="line" data-startTime="974">to handle this. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="975"><span class="speakerName">Eric Bidelman</span>: It's interesting </span><span class="line" data-startTime="975">that something </span><span class="line" data-startTime="976">like two loops, you wouldn't &mdash; </span><span class="line" data-startTime="978">[INAUDIBLE] two loops would be </span><span class="line" data-startTime="978">more efficient, oftentimes, </span><span class="line" data-startTime="981">than touching the DOM like you </span><span class="line" data-startTime="981">would in single loop, but </span><span class="line" data-startTime="984">maybe that's something you </span><span class="line" data-startTime="984">have to do, you have to </span><span class="line" data-startTime="985">consider that, right? </span><span class="line" data-startTime="986">DOM is the bottleneck here. </span></p>

<p class="speaker"><span class="line" data-starttime="988"><span class="speakerName">Paul Irish</span>: DOM is the </span><span class="line" data-startTime="988">bottleneck, not two loops. </span><span class="line" data-startTime="990">I mean, I could make it do 10 </span><span class="line" data-startTime="990">loops, and that'd probably </span><span class="line" data-startTime="993">still be more effective than </span><span class="line" data-startTime="993">the back and forth </span><span class="line" data-startTime="997">inside of the loop. </span><span class="line" data-startTime="997">ERIC BIDELMAN: [INAUDIBLE] </span><span class="line" data-startTime="997">calculate a Fibonacci sequence </span><span class="line" data-startTime="999">in there someplace </span><span class="line" data-startTime="999">or something? </span></p>

<p class="speaker"><span class="line" data-starttime="1000"><span class="speakerName">Boris Smus</span>: Basically what </span><span class="line" data-startTime="1000">you're doing is you're getting </span><span class="line" data-startTime="1002">the updates and then doing </span><span class="line" data-startTime="1002">the renders separately. </span></p>

<p class="speaker"><span class="line" data-starttime="1004"><span class="speakerName">Paul Irish</span>: Yeah, exactly. </span></p>

<p class="speaker"><span class="line" data-starttime="1006"><span class="speakerName">Boris Smus</span>: But how does a web </span><span class="line" data-startTime="1006">developer know which of these </span><span class="line" data-startTime="1009">things cause a reflow? </span></p>

<p class="speaker"><span class="line" data-starttime="1010"><span class="speakerName">Eric Bidelman</span>: I was just </span><span class="line" data-startTime="1010">thinking of that. </span><span class="line" data-startTime="1011">Like is there a best </span><span class="line" data-startTime="1011">practices? </span><span class="line" data-startTime="1013">BORIS SMUS: [INAUDIBLE]. </span></p>

<p class="speaker"><span class="line" data-starttime="1014"><span class="speakerName">Paul Irish</span>: OK, so </span><span class="line" data-startTime="1014">that's fair. </span><span class="line" data-startTime="1016">So one, you could be like, DOM </span><span class="line" data-startTime="1016">Properties That Cause Reflow. </span><span class="line" data-startTime="1022">Just use your favorite search </span><span class="line" data-startTime="1022">engine and ask. </span><span class="line" data-startTime="1027">The best resource on this </span><span class="line" data-startTime="1027">is on this site. </span><span class="line" data-startTime="1032">This is actually a Chrome </span><span class="line" data-startTime="1032">engineer, Tony. </span><span class="line" data-startTime="1035">And he just looked into the Web </span><span class="line" data-startTime="1035">Kit source and found out </span><span class="line" data-startTime="1038">that these are all the </span><span class="line" data-startTime="1038">properties, these are all the </span><span class="line" data-startTime="1041">methods, and all these things </span><span class="line" data-startTime="1041">force the browser to go ask </span><span class="line" data-startTime="1045">and they all force a </span><span class="line" data-startTime="1045">reflow, if you ask </span><span class="line" data-startTime="1048">for all these things. </span><span class="line" data-startTime="1050">So if you know that, </span><span class="line" data-startTime="1050">because you do. </span></p>

<p class="speaker"><span class="line" data-starttime="1055"><span class="speakerName">Eric Bidelman</span>: Step one. </span></p>

<p class="speaker"><span class="line" data-starttime="1056"><span class="speakerName">Paul Irish</span>: And then you're over </span><span class="line" data-startTime="1056">here, you see Recalculate </span><span class="line" data-startTime="1058">Style Layout, Recalculate </span><span class="line" data-startTime="1058">Style, and this actually </span><span class="line" data-startTime="1060">pointing to a line number, </span><span class="line" data-startTime="1060">a file and line number. </span><span class="line" data-startTime="1062">And I click 44, and </span><span class="line" data-startTime="1062">it highlights this </span><span class="line" data-startTime="1065">line 44 right here. </span><span class="line" data-startTime="1067">It's a pretty good indication. </span><span class="line" data-startTime="1070">And so if I move over, this is </span><span class="line" data-startTime="1070">the new and updated one. </span><span class="line" data-startTime="1077">And I'll do a timeline </span><span class="line" data-startTime="1077">recording of this. </span><span class="line" data-startTime="1088">Good. </span><span class="line" data-startTime="1089">Now, it's hard just to show on </span><span class="line" data-startTime="1089">the screen cast, but we're a </span><span class="line" data-startTime="1094">little bit smoother, </span><span class="line" data-startTime="1094">and inside &mdash; </span><span class="line" data-startTime="1097">yes, that's what I wanted. </span><span class="line" data-startTime="1099">So we only have a single </span><span class="line" data-startTime="1099">Recalc Style and then a </span><span class="line" data-startTime="1101">layout, as opposed to back and </span><span class="line" data-startTime="1101">forth and back and forth. </span><span class="line" data-startTime="1104">So that's exactly what we want </span><span class="line" data-startTime="1104">to be able to see, is that </span><span class="line" data-startTime="1107">we're only getting a single </span><span class="line" data-startTime="1107">one of each per frame. </span><span class="line" data-startTime="1111">That is optimal. </span><span class="line" data-startTime="1113">It's hard to get. </span></p>

<p class="speaker"><span class="line" data-starttime="1113"><span class="speakerName">Eric Bidelman</span>: So remind us what </span><span class="line" data-startTime="1113">we were seeing before. </span><span class="line" data-startTime="1115">We were seeing orange mixed in </span><span class="line" data-startTime="1115">with purple, or were we seeing </span><span class="line" data-startTime="1120">higher bars? </span></p>

<p class="speaker"><span class="line" data-starttime="1121"><span class="speakerName">Paul Irish</span>: Yeah so yellow and </span><span class="line" data-startTime="1121">orange is script, and then </span><span class="line" data-startTime="1128">purple is rendering. </span></p>

<p class="speaker"><span class="line" data-starttime="1129"><span class="speakerName">Eric Bidelman</span>: That's the </span><span class="line" data-startTime="1129">browser doing its thing, </span><span class="line" data-startTime="1131">whatever [INAUDIBLE]? </span></p>

<p class="speaker"><span class="line" data-starttime="1132"><span class="speakerName">Paul Irish</span>: Yeah. </span><span class="line" data-startTime="1133">And so it's hard to sometimes </span><span class="line" data-startTime="1133">say what the rendering is, </span><span class="line" data-startTime="1135">whereas the script is basically </span><span class="line" data-startTime="1135">always your code. </span><span class="line" data-startTime="1138">But when we see this purple back </span><span class="line" data-startTime="1138">and forth back and forth </span><span class="line" data-startTime="1141">Recalc Style Layout, that's </span><span class="line" data-startTime="1141">just a bad idea. </span><span class="line" data-startTime="1145">So you're able to kind of do </span><span class="line" data-startTime="1145">these hovers here and see that </span><span class="line" data-startTime="1148">we have a call stack, we're in </span><span class="line" data-startTime="1148">Update Anim Loop, and get an </span><span class="line" data-startTime="1152">idea of where this </span><span class="line" data-startTime="1152">is happening. </span><span class="line" data-startTime="1154">So the cool thing here is that </span><span class="line" data-startTime="1154">we're able to get some </span><span class="line" data-startTime="1157">information from the Dev Tools </span><span class="line" data-startTime="1157">on what exactly and where </span><span class="line" data-startTime="1161">exactly we can optimize </span><span class="line" data-startTime="1161">better. </span></p>

<p class="speaker"><span class="line" data-starttime="1164"><span class="speakerName">Eric Bidelman</span>: That's great that </span><span class="line" data-startTime="1164">I don't have to memorize </span><span class="line" data-startTime="1165">all those properties, the Dev </span><span class="line" data-startTime="1165">Tools can help me there. </span><span class="line" data-startTime="1168">Can you go back to the </span><span class="line" data-startTime="1168">timeline again? </span><span class="line" data-startTime="1171">I just want to show people </span><span class="line" data-startTime="1171">that &mdash; we talked a little </span><span class="line" data-startTime="1174">about this before, but </span><span class="line" data-startTime="1174">RequestAnimationFrame is </span><span class="line" data-startTime="1176">continuing to fire, regardless </span><span class="line" data-startTime="1176">if you're scrolling these </span><span class="line" data-startTime="1179">lists or not. </span><span class="line" data-startTime="1180">So it probably is one </span><span class="line" data-startTime="1180">of these best </span><span class="line" data-startTime="1183">practices that you consider. </span><span class="line" data-startTime="1184">If the user's not engaging </span><span class="line" data-startTime="1184">with your page, then you </span><span class="line" data-startTime="1186">should probably cancel that and </span><span class="line" data-startTime="1186">not waste those callbacks. </span></p>

<p class="speaker"><span class="line" data-starttime="1190"><span class="speakerName">Paul Irish</span>: Yeah. </span><span class="line" data-startTime="1195">The quicker that you're able </span><span class="line" data-startTime="1195">to say, I don't need what's </span><span class="line" data-startTime="1197">going to happen inside this RAF </span><span class="line" data-startTime="1197">callback to happen, and </span><span class="line" data-startTime="1201">just cancel out of that </span><span class="line" data-startTime="1201">loop, the better. </span><span class="line" data-startTime="1204">And so that's [INAUDIBLE] we </span><span class="line" data-startTime="1204">ended up in this loop. </span></p>

<p class="speaker"><span class="line" data-starttime="1206"><span class="speakerName">Boris Smus</span>: Right. </span><span class="line" data-startTime="1206">But of course, if you </span><span class="line" data-startTime="1206">background it, it's </span><span class="line" data-startTime="1208">not going to fire. </span></p>

<p class="speaker"><span class="line" data-starttime="1209"><span class="speakerName">Paul Irish</span>: Yeah. </span><span class="line" data-startTime="1209">And if you're in another tab, </span><span class="line" data-startTime="1209">you're totally good. </span><span class="line" data-startTime="1215">So you should Google for this </span><span class="line" data-startTime="1215">demo and check it out, because </span><span class="line" data-startTime="1220">it's got a lot of other </span><span class="line" data-startTime="1220">community additions since the </span><span class="line" data-startTime="1227">last week or so. </span></p>

<p class="speaker"><span class="line" data-starttime="1228"><span class="speakerName">Eric Bidelman</span>: It's called Silly </span><span class="line" data-startTime="1228">List Scroll Effects? </span></p>

<p class="speaker"><span class="line" data-starttime="1230"><span class="speakerName">Paul Irish</span>: Yeah. </span><span class="line" data-startTime="1231">I think it's actually since </span><span class="line" data-startTime="1231">been named to stroll.js. </span></p>

<p class="speaker"><span class="line" data-starttime="1235"><span class="speakerName">Eric Bidelman</span>: Of course </span><span class="line" data-startTime="1235">there's a .js for it. </span></p>

<p class="speaker"><span class="line" data-starttime="1237"><span class="speakerName">Paul Irish</span>: Of course. </span></p>

<p class="speaker"><span class="line" data-starttime="1239"><span class="speakerName">Eric Bidelman</span>: That </span><span class="line" data-startTime="1239">was pretty rad. </span><span class="line" data-startTime="1240">Unfortunately, the screen, the </span><span class="line" data-startTime="1240">hangout doesn't do it justice. </span></p>

<p class="speaker"><span class="line" data-starttime="1244"><span class="speakerName">Paul Irish</span>: So go </span><span class="line" data-startTime="1244">check it out. </span><span class="line" data-startTime="1245">And if you want, go find </span><span class="line" data-startTime="1245">his GetHub [? repo ?] </span><span class="line" data-startTime="1249">and revert back to the very </span><span class="line" data-startTime="1249">original first commit, and </span><span class="line" data-startTime="1252">then you'll be able to see the </span><span class="line" data-startTime="1252">difference between the </span><span class="line" data-startTime="1253">original one with a considerable </span><span class="line" data-startTime="1253">amount of jank, </span><span class="line" data-startTime="1256">and the new ones, which </span><span class="line" data-startTime="1256">are smooth. </span></p>

<p class="speaker"><span class="line" data-starttime="1259"><span class="speakerName">Eric Bidelman</span>: We </span><span class="line" data-startTime="1259">don't like jank. </span><span class="line" data-startTime="1260">That's cool, man. </span><span class="line" data-startTime="1262">Vertical Timeline, awesome. </span><span class="line" data-startTime="1265">Again, in the Dev Tools </span><span class="line" data-startTime="1265">Experiments, right? </span><span class="line" data-startTime="1267">So in by default yet, but &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1269"><span class="speakerName">Paul Irish</span>: Yep. </span></p>

<p class="speaker"><span class="line" data-starttime="1271"><span class="speakerName">Boris Smus</span>: And this </span><span class="line" data-startTime="1271">is Canary, right? </span></p>

<p class="speaker"><span class="line" data-starttime="1271"><span class="speakerName">Paul Irish</span>: Yeah. </span><span class="line" data-startTime="1272">I'm trying this in Canary. </span><span class="line" data-startTime="1273">And you have to turn on two </span><span class="line" data-startTime="1273">separate experimental </span><span class="line" data-startTime="1276">flags to get it. </span><span class="line" data-startTime="1277">But it'll probably be coming </span><span class="line" data-startTime="1277">out into the main release </span><span class="line" data-startTime="1280">pretty soon. </span><span class="line" data-startTime="1285">Boris, do you want to show off </span><span class="line" data-startTime="1285">your cool device, device.js? </span></p>

<p class="speaker"><span class="line" data-starttime="1290"><span class="speakerName">Boris Smus</span>: Sure, sure. </span></p>

<p class="speaker"><span class="line" data-starttime="1290"><span class="speakerName">Eric Bidelman</span>: What did </span><span class="line" data-startTime="1290">you make, Boris? </span></p>

<p class="speaker"><span class="line" data-starttime="1291"><span class="speakerName">Boris Smus</span>: I made a library. </span></p>

<p class="speaker"><span class="line" data-starttime="1293"><span class="speakerName">Paul Irish</span>: Yeah? </span></p>

<p class="speaker"><span class="line" data-starttime="1295"><span class="speakerName">Boris Smus</span>: It's called &mdash; </span><span class="line" data-startTime="1296">well, let me talk about maybe </span><span class="line" data-startTime="1296">briefly what sort of </span><span class="line" data-startTime="1299">spurred this on. </span><span class="line" data-startTime="1303">So basically, you've probably </span><span class="line" data-startTime="1303">heard of Responsive Design. </span><span class="line" data-startTime="1307">Yeah? </span><span class="line" data-startTime="1308">You guys heard of Responsive </span><span class="line" data-startTime="1308">Design? </span></p>

<p class="speaker"><span class="line" data-starttime="1310"><span class="speakerName">Eric Bidelman</span>: I have. But </span><span class="line" data-startTime="1310">you could remind me. </span></p>

<p class="speaker"><span class="line" data-starttime="1312"><span class="speakerName">Boris Smus</span>: So it's actually </span><span class="line" data-startTime="1312">pretty broad, but the basic </span><span class="line" data-startTime="1320">idea of it is you use JSS Media </span><span class="line" data-startTime="1320">Queries to check the </span><span class="line" data-startTime="1324">width of your device, and style </span><span class="line" data-startTime="1324">the page appropriately. </span><span class="line" data-startTime="1328">So if you have a really </span><span class="line" data-startTime="1328">large screen, you </span><span class="line" data-startTime="1330">make it all fit well. </span><span class="line" data-startTime="1331">If you have a small screen, you </span><span class="line" data-startTime="1331">make it compress down and </span><span class="line" data-startTime="1334">do the right thing. </span><span class="line" data-startTime="1335">So there's a nice gallery </span><span class="line" data-startTime="1335">of pages that do this. </span><span class="line" data-startTime="1340">If you go to Mediaquery. &mdash; </span><span class="line" data-startTime="1346">could you do that, Eric? </span><span class="line" data-startTime="1349">Please type. </span><span class="line" data-startTime="1352">I'll just turn the screen </span><span class="line" data-startTime="1352">share back on. </span><span class="line" data-startTime="1355">Yes, so mediaquery.es is a nice </span><span class="line" data-startTime="1355">gallery of responsive &mdash; </span><span class="line" data-startTime="1360">oh, it's actually one of those </span><span class="line" data-startTime="1360">funky Delicious URLs. </span><span class="line" data-startTime="1366">Probably not this one. </span><span class="line" data-startTime="1368">Here. </span></p>

<p class="speaker"><span class="line" data-starttime="1370"><span class="speakerName">Eric Bidelman</span>: Boris, you have </span><span class="line" data-startTime="1370">to show and tell your </span><span class="line" data-startTime="1372">own show and tell. </span></p>

<p class="speaker"><span class="line" data-starttime="1375"><span class="speakerName">Boris Smus</span>: So this page is </span><span class="line" data-startTime="1375">a gallery of a bunch of </span><span class="line" data-startTime="1377">Responsively Designed sites. </span> <span class="line" data-startTime="1379">And you can see if I resize </span><span class="line" data-startTime="1379">that this site itself is </span><span class="line" data-startTime="1382">responsively designed. </span> <span class="line" data-startTime="1384">But if I go to a particular </span><span class="line" data-startTime="1384">example, it also has this </span><span class="line" data-startTime="1390">feature where once it loads, </span><span class="line" data-startTime="1390">you'll see that as I resize </span><span class="line" data-startTime="1396">the browser, the page starts </span><span class="line" data-startTime="1396">flowing in different ways. </span> <span class="line" data-startTime="1400">And what's happening basically </span><span class="line" data-startTime="1400">is there's a way to turn on </span><span class="line" data-startTime="1406">device width-specific CSS. </span> <span class="line" data-startTime="1411">So that's great, right, if you </span><span class="line" data-startTime="1411">want to customize the way </span><span class="line" data-startTime="1413">things look. </span> <span class="line" data-startTime="1414">But if you have like an m. </span></p>

<p><span class="line" data-startTime="1414">site or a specific tablet </span><span class="line" data-startTime="1417">site, this doesn't really </span><span class="line" data-startTime="1417">address anything. </span> <span class="line" data-startTime="1419">And there's good reasons for </span><span class="line" data-startTime="1419">doing that, like you might </span><span class="line" data-startTime="1422">want to have better </span><span class="line" data-startTime="1422">performance, like </span><span class="line" data-startTime="1424">mobile-specific performance </span><span class="line" data-startTime="1424">optimizations, for example, or </span><span class="line" data-startTime="1428">you might want to load </span><span class="line" data-startTime="1428">custom JavaScript. </span></p>

<p class="speaker"><span class="line" data-starttime="1429"><span class="speakerName">Paul Irish</span>: You're going to </span><span class="line" data-startTime="1429">have different features, </span><span class="line" data-startTime="1431">depending on &mdash; </span><span class="line" data-startTime="1432">you're not going to have a drag </span><span class="line" data-startTime="1432">and drop file upload on </span><span class="line" data-startTime="1435">your phone site. </span></p>

<p class="speaker"><span class="line" data-starttime="1437"><span class="speakerName">Boris Smus</span>: Right. </span> <span class="line" data-startTime="1438">So there's good reasons to use </span><span class="line" data-startTime="1438">responsive design, but there's </span><span class="line" data-startTime="1441">also good reasons </span><span class="line" data-startTime="1441">not to use it, </span><span class="line" data-startTime="1442">depending on your situation. </span> <span class="line" data-startTime="1444">So there's a bunch of approaches </span><span class="line" data-startTime="1444">you can take. </span> <span class="line" data-startTime="1448">The common one is server side </span><span class="line" data-startTime="1448">user agent detection. </span> <span class="line" data-startTime="1452">So things like [? Wirfel ?] </span><span class="line" data-startTime="1454">you can just load it up here. </span> <span class="line" data-startTime="1457">[? Wirfel. ?] </span><span class="line" data-startTime="1460">It's a really old school </span><span class="line" data-startTime="1460">project, but still being </span><span class="line" data-startTime="1462">maintained quite actively. </span> <span class="line" data-startTime="1463">It goes back to the </span><span class="line" data-startTime="1463">days of WAP. </span> <span class="line" data-startTime="1466">So if you guys remember, WAP was </span><span class="line" data-startTime="1466">the precursor to HTML on </span><span class="line" data-startTime="1473">mobile devices. </span> <span class="line" data-startTime="1474">Anyway, these guys have a huge </span><span class="line" data-startTime="1474">database of devices and what </span><span class="line" data-startTime="1478">their capabilities </span><span class="line" data-startTime="1478">are, essentially. </span></p>

<p><span class="line" data-startTime="1480">There's similar other projects, </span><span class="line" data-startTime="1480">like Device Atlas, </span><span class="line" data-startTime="1485">and this is all kind of dark </span><span class="line" data-startTime="1485">secrets, like black magic-type </span><span class="line" data-startTime="1490">stuff, because there's just so </span><span class="line" data-startTime="1490">much complexity with User </span><span class="line" data-startTime="1494">Agent Parsing to do it right. </span></p>

<p class="speaker"><span class="line" data-starttime="1497"><span class="speakerName">Eric Bidelman</span>: Can I ask you a </span><span class="line" data-startTime="1497">really important question? </span></p>

<p class="speaker"><span class="line" data-starttime="1500"><span class="speakerName">Boris Smus</span>: Sure. </span></p>

<p class="speaker"><span class="line" data-starttime="1500"><span class="speakerName">Eric Bidelman</span>: So User </span><span class="line" data-startTime="1500">Agent Detection. </span><span class="line" data-startTime="1500">There's a lot of people that </span><span class="line" data-startTime="1500">say it's the devil, </span><span class="line" data-startTime="1503">people say it's good. </span><span class="line" data-startTime="1505">What's your opinion on it, and </span><span class="line" data-startTime="1505">should we be doing it in 2012? </span></p>

<p class="speaker"><span class="line" data-starttime="1509"><span class="speakerName">Boris Smus</span>: So that's </span><span class="line" data-startTime="1509">a good question. </span><span class="line" data-startTime="1509">I think the debate is still </span><span class="line" data-startTime="1509">pretty much open for now. </span><span class="line" data-startTime="1513">The main reason is it's still </span><span class="line" data-startTime="1513">so common is on the server </span><span class="line" data-startTime="1519">side, there's basically nothing </span><span class="line" data-startTime="1519">except for the user </span><span class="line" data-startTime="1521">agent that you can know about </span><span class="line" data-startTime="1521">the browser that's hitting </span><span class="line" data-startTime="1524">you, right? </span><span class="line" data-startTime="1525">So that's all you got </span><span class="line" data-startTime="1525">on the server. </span><span class="line" data-startTime="1527">And for performance reasons, you </span><span class="line" data-startTime="1527">want to do things on the </span><span class="line" data-startTime="1530">server in the initial loading </span><span class="line" data-startTime="1530">stage, right? </span><span class="line" data-startTime="1534">Like on a client, if you're </span><span class="line" data-startTime="1534">doing things like </span><span class="line" data-startTime="1537">feature-based detection to load </span><span class="line" data-startTime="1537">a specific layout, you're </span><span class="line" data-startTime="1541">inevitably doing a redirect, </span><span class="line" data-startTime="1541">right, or some sort of dynamic </span><span class="line" data-startTime="1544">script loading. </span><span class="line" data-startTime="1545">So that's going to have some </span><span class="line" data-startTime="1545">sort of performance hit. </span></p>

<p class="speaker"><span class="line" data-starttime="1548"><span class="speakerName">Paul Irish</span>: Some latency </span><span class="line" data-startTime="1548">cost, yes. </span></p>

<p class="speaker"><span class="line" data-starttime="1549"><span class="speakerName">Boris Smus</span>: Some latency cost. </span><span class="line" data-startTime="1549">So Device JS actually takes </span><span class="line" data-startTime="1553">that exact approach. </span><span class="line" data-startTime="1555">So it does client side detection </span><span class="line" data-startTime="1555">based on media </span><span class="line" data-startTime="1557">queries, which is, for browsers </span><span class="line" data-startTime="1557">that support media </span><span class="line" data-startTime="1561">queries, much nicer than just </span><span class="line" data-startTime="1561">relying on the server. </span><span class="line" data-startTime="1565">So you could say things like, </span><span class="line" data-startTime="1565">if I have this particular </span><span class="line" data-startTime="1569">width, load this version </span><span class="line" data-startTime="1569">of my web app. </span><span class="line" data-startTime="1574">So of course, the trade-off is </span><span class="line" data-startTime="1574">performance, but you end up </span><span class="line" data-startTime="1581">having much more future-proof </span><span class="line" data-startTime="1581">solution that's based on </span><span class="line" data-startTime="1585">feature detection, similar </span><span class="line" data-startTime="1585">to Modernizer. </span><span class="line" data-startTime="1588">So this is Device </span><span class="line" data-startTime="1588">JS on GetHub. </span><span class="line" data-startTime="1590">ERIC BIDELMAN: [INAUDIBLE]? </span></p>

<p class="speaker"><span class="line" data-starttime="1591"><span class="speakerName">Boris Smus</span>: It's right here. </span><span class="line" data-startTime="1595">And basically, the idea is </span><span class="line" data-startTime="1595">upfront, you can use Follow </span><span class="line" data-startTime="1603">Semantic approach. </span><span class="line" data-startTime="1604">Here, you could say use the Link </span><span class="line" data-startTime="1604">Rel Alternate tag, which </span><span class="line" data-startTime="1609">sort of specifies the list of </span><span class="line" data-startTime="1609">all the versions that your web </span><span class="line" data-startTime="1611">app should specify. </span><span class="line" data-startTime="1614">And this is great </span><span class="line" data-startTime="1614">for crawlers. </span><span class="line" data-startTime="1616">It's also just a generally </span><span class="line" data-startTime="1616">a best practice that </span><span class="line" data-startTime="1619">semantically says, this page </span><span class="line" data-startTime="1619">has multiple versions. </span></p>

<p class="speaker"><span class="line" data-starttime="1622"><span class="speakerName">Paul Irish</span>: That's really &mdash; </span><span class="line" data-startTime="1625">if you have multiple versions </span><span class="line" data-startTime="1625">of your site or app, this is </span><span class="line" data-startTime="1629">the best way to semantically </span><span class="line" data-startTime="1629">represent that. </span></p>

<p class="speaker"><span class="line" data-starttime="1632"><span class="speakerName">Eric Bidelman</span>: So I haven't </span><span class="line" data-startTime="1632">really seen this before. </span><span class="line" data-startTime="1633">Is this a new thing? </span><span class="line" data-startTime="1634">Are people doing this? </span></p>

<p class="speaker"><span class="line" data-starttime="1635"><span class="speakerName">Boris Smus</span>: It's really </span><span class="line" data-startTime="1635">old, actually. </span></p>

<p class="speaker"><span class="line" data-starttime="1637"><span class="speakerName">Paul Irish</span>: So yeah. </span><span class="line" data-startTime="1637">If you look in the spec, </span><span class="line" data-startTime="1637">for like HTML4 spec &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1641"><span class="speakerName">Eric Bidelman</span>: Oh, it's </span><span class="line" data-startTime="1641">back to four. </span></p>

<p class="speaker"><span class="line" data-starttime="1642"><span class="speakerName">Paul Irish</span>: Yeah, we'll </span><span class="line" data-startTime="1642">go back to four. </span><span class="line" data-startTime="1643">It's in Five, too. </span><span class="line" data-startTime="1645">I don't want to be too retro. </span><span class="line" data-startTime="1647">But Link Rel Alternate means, </span><span class="line" data-startTime="1647">this document is available for </span><span class="line" data-startTime="1655">a different media type. </span><span class="line" data-startTime="1656">And the media type is defined in </span><span class="line" data-startTime="1656">that attribute, and it's a </span><span class="line" data-startTime="1660">media query. </span></p>

<p class="speaker"><span class="line" data-starttime="1660"><span class="speakerName">Eric Bidelman</span>: Right. </span></p>

<p class="speaker"><span class="line" data-starttime="1660"><span class="speakerName">Paul Irish</span>: So that's </span><span class="line" data-startTime="1660">what we're doing. </span></p>

<p class="speaker"><span class="line" data-starttime="1662"><span class="speakerName">Eric Bidelman</span>: It's great that </span><span class="line" data-startTime="1662">we're using these old </span><span class="line" data-startTime="1664">paradigms and semantics that </span><span class="line" data-startTime="1664">have been out for a while but </span><span class="line" data-startTime="1668">are basically new. </span></p>

<p class="speaker"><span class="line" data-starttime="1669"><span class="speakerName">Boris Smus</span>: There's some </span><span class="line" data-startTime="1669">new stuff here too. </span><span class="line" data-startTime="1671">So in the old school </span><span class="line" data-startTime="1671">days, you would say </span><span class="line" data-startTime="1674">something like handheld. </span><span class="line" data-startTime="1676">There used to be this </span><span class="line" data-startTime="1676">media query </span><span class="line" data-startTime="1677">type and it was handheld. </span><span class="line" data-startTime="1680">That kind of is not really well </span><span class="line" data-startTime="1680">supported, didn't really </span><span class="line" data-startTime="1683">work so well. </span><span class="line" data-startTime="1685">So one thing you'll notice here </span><span class="line" data-startTime="1685">that you probably haven't </span><span class="line" data-startTime="1688">seen is this. </span><span class="line" data-startTime="1690">And what I'm doing here is </span><span class="line" data-startTime="1690">creating a media query that </span><span class="line" data-startTime="1695">should exist. It doesn't </span><span class="line" data-startTime="1695">currently exist, except for in </span><span class="line" data-startTime="1698">Mozilla with a Moz Touch-Enabled </span><span class="line" data-startTime="1698">flag. </span><span class="line" data-startTime="1701">And basically, the Device.js </span><span class="line" data-startTime="1701">library just makes </span><span class="line" data-startTime="1704">that happen for you. </span></p>

<p class="speaker"><span class="line" data-starttime="1706"><span class="speakerName">Paul Irish</span>: So as far as what </span><span class="line" data-startTime="1706">Device.js does, it reads these </span><span class="line" data-startTime="1711">Link tags, and does something? </span></p>

<p class="speaker"><span class="line" data-starttime="1713"><span class="speakerName">Boris Smus</span>: Yeah. </span> <span class="line" data-startTime="1713">So the idea is, you include </span><span class="line" data-startTime="1713">Device.js here, and it'll </span><span class="line" data-startTime="1717">parse the Link tags </span><span class="line" data-startTime="1717">in your page. </span> <span class="line" data-startTime="1719">And given these media </span><span class="line" data-startTime="1719">attributes, do sort of the </span><span class="line" data-startTime="1724">right thing, the right thing </span><span class="line" data-startTime="1724">being it redirects to &mdash; </span><span class="line" data-startTime="1727">so first it checks which version </span><span class="line" data-startTime="1727">you should have. And </span><span class="line" data-startTime="1731">you would have these links in </span><span class="line" data-startTime="1731">all the versions of your page. </span> <span class="line" data-startTime="1734">So it checks which version you </span><span class="line" data-startTime="1734">should have, and it compares </span><span class="line" data-startTime="1738">to your current version based </span><span class="line" data-startTime="1738">on the URL that you're </span><span class="line" data-startTime="1740">currently on. </span></p>

<p><span class="line" data-startTime="1741">And if you need to redirect, </span><span class="line" data-startTime="1741">then Device.js </span><span class="line" data-startTime="1745">will redirect you. </span> <span class="line" data-startTime="1745">And that's it. </span></p>

<p class="speaker"><span class="line" data-starttime="1746"><span class="speakerName">Eric Bidelman</span>: So to clarify, </span><span class="line" data-startTime="1746">if I hit the Desktop landing </span><span class="line" data-startTime="1749">page on my mobile device or </span><span class="line" data-startTime="1749">something, it's going to </span><span class="line" data-startTime="1752">redirect me to the mobile </span><span class="line" data-startTime="1752">version that I'd specified </span><span class="line" data-startTime="1755">with Device.js? </span></p>

<p class="speaker"><span class="line" data-starttime="1756"><span class="speakerName">Boris Smus</span>: Yes. </span> <span class="line" data-startTime="1757">So I can show you </span><span class="line" data-startTime="1757">a quick demo. </span> <span class="line" data-startTime="1759">So here, I've got </span><span class="line" data-startTime="1759">a sample app. </span> <span class="line" data-startTime="1763">It's linked to from the GetHub </span><span class="line" data-startTime="1763">page, but the default landing </span><span class="line" data-startTime="1767">page is just a redirector. </span> <span class="line" data-startTime="1770">So if I go to Sample, </span><span class="line" data-startTime="1770">I get redirected </span><span class="line" data-startTime="1773">to the desktop page. </span> <span class="line" data-startTime="1774">If I try going to the Phone </span><span class="line" data-startTime="1774">page, I'm getting redirected </span><span class="line" data-startTime="1781">to the Desktop page. </span> <span class="line" data-startTime="1782">And the same thing will </span><span class="line" data-startTime="1782">happen on mobile. </span></p>

<p><span class="line" data-startTime="1786">So here's my little </span><span class="line" data-startTime="1786">setup here. </span> <span class="line" data-startTime="1791">And you can see, it's </span><span class="line" data-startTime="1791">the same exact URL. </span> <span class="line" data-startTime="1794">And if I go to the Root </span><span class="line" data-startTime="1794">page, I get redirected </span><span class="line" data-startTime="1801">to the phone version. </span> <span class="line" data-startTime="1803">And this is all based on the </span><span class="line" data-startTime="1803">media queries that are </span><span class="line" data-startTime="1806">specified in the Link </span><span class="line" data-startTime="1806">alternates. </span> <span class="line" data-startTime="1809">So I can also go to </span><span class="line" data-startTime="1809">the Desktop page. </span> <span class="line" data-startTime="1818">Whoa, whoops. </span> <span class="line" data-startTime="1820">This is interesting. </span> <span class="line" data-startTime="1824">So anyway, that should </span><span class="line" data-startTime="1824">definitely work. </span> <span class="line" data-startTime="1827">I'm not sure what </span><span class="line" data-startTime="1827">happened there. </span> <span class="line" data-startTime="1829">So that's the idea. </span> <span class="line" data-startTime="1830">And of course in some cases, you </span><span class="line" data-startTime="1830">might want to override the </span><span class="line" data-startTime="1834">version that you want </span><span class="line" data-startTime="1834">to load, right? </span><span class="line" data-startTime="1836">Like for development, or </span><span class="line" data-startTime="1836">generally, you probably want </span><span class="line" data-startTime="1841">to provide a way to specify </span><span class="line" data-startTime="1841">the version </span><span class="line" data-startTime="1843">that you want to use. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="1845"><span class="speakerName">Paul Irish</span>: So if you want to </span><span class="line" data-startTime="1845">override it and be like, you </span><span class="line" data-startTime="1846">know what, I thank you very much </span><span class="line" data-startTime="1846">for bringing me to the </span><span class="line" data-startTime="1849">phone view, but I want </span><span class="line" data-startTime="1849">the desktop view. </span></p>

<p class="speaker"><span class="line" data-starttime="1851"><span class="speakerName">Boris Smus</span>: Right. </span><span class="line" data-startTime="1852">So that's not to say that you </span><span class="line" data-startTime="1852">shouldn't provide the </span><span class="line" data-startTime="1854">functionality that your users </span><span class="line" data-startTime="1854">need on all of your versions, </span><span class="line" data-startTime="1858">but it's nice to have </span><span class="line" data-startTime="1858">an override. </span><span class="line" data-startTime="1860">So I've basically in this little </span><span class="line" data-startTime="1860">demo I provided, links. </span><span class="line" data-startTime="1867">And if you could show the </span><span class="line" data-startTime="1867">screen share of this. </span><span class="line" data-startTime="1871">So there's a phone version </span><span class="line" data-startTime="1871">and a tablet version. </span><span class="line" data-startTime="1873">And you can see if I go here, </span><span class="line" data-startTime="1873">what's basically happening is </span><span class="line" data-startTime="1879">there's a Device Equals thing </span><span class="line" data-startTime="1879">in the URL you can see. </span></p>

<p class="speaker"><span class="line" data-starttime="1884"><span class="speakerName">Eric Bidelman</span>: Force equals. </span></p>

<p class="speaker"><span class="line" data-starttime="1884"><span class="speakerName">Boris Smus</span>: You can see Device </span><span class="line" data-startTime="1884">Equals Desktop here. </span></p>

<p class="speaker"><span class="line" data-starttime="1886"><span class="speakerName">Eric Bidelman</span>: Oh, I see. </span></p>

<p class="speaker"><span class="line" data-starttime="1887"><span class="speakerName">Boris Smus</span>: And then when you </span><span class="line" data-startTime="1887">click that particular version, </span><span class="line" data-startTime="1891">then it'll redirect you with </span><span class="line" data-startTime="1891">Force Equals One, so that it </span><span class="line" data-startTime="1894">doesn't attempt to redirect </span><span class="line" data-startTime="1894">you again. </span></p>

<p class="speaker"><span class="line" data-starttime="1897"><span class="speakerName">Eric Bidelman</span>: Could you kill </span><span class="line" data-startTime="1897">that with a Push [? state, ?] </span><span class="line" data-startTime="1899">replace that? </span></p>

<p class="speaker"><span class="line" data-starttime="1901"><span class="speakerName">Boris Smus</span>: Um, you could. </span><span class="line" data-startTime="1904">Definitely could. </span></p>

<p class="speaker"><span class="line" data-starttime="1905"><span class="speakerName">Paul Irish</span>: So using </span><span class="line" data-startTime="1905">just your API? </span><span class="line" data-startTime="1907">BORIS SMUS: [INAUDIBLE]. </span><span class="line" data-startTime="1908">Could totally do this. </span><span class="line" data-startTime="1911">That's a good idea. </span></p>

<p class="speaker"><span class="line" data-starttime="1914"><span class="speakerName">Eric Bidelman</span>: So can </span><span class="line" data-startTime="1914">you just quickly </span><span class="line" data-startTime="1915">explain again the touch? </span><span class="line" data-startTime="1917">So the Nonstandard </span><span class="line" data-startTime="1917">Touch-Enabled. </span><span class="line" data-startTime="1921">So basically, that's saying if </span><span class="line" data-startTime="1921">I'm on the screen and I don't </span><span class="line" data-startTime="1924">have touch capability, then </span><span class="line" data-startTime="1924">show me the desktop? </span></p>

<p class="speaker"><span class="line" data-starttime="1927"><span class="speakerName">Boris Smus</span>: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="1927"><span class="speakerName">Eric Bidelman</span>: Is there ever the </span><span class="line" data-startTime="1927">case where you're going to </span><span class="line" data-startTime="1928">be using Touch-Enabled One for </span><span class="line" data-startTime="1928">something like the tablet or </span><span class="line" data-startTime="1931">phone, or would Media </span><span class="line" data-startTime="1931">Query suffice? </span></p>

<p class="speaker"><span class="line" data-starttime="1933"><span class="speakerName">Boris Smus</span>: Right. </span><span class="line" data-startTime="1934">So the beauty of this approach </span><span class="line" data-startTime="1934">is it basically scales to any </span><span class="line" data-startTime="1938">sort of device or form factor </span><span class="line" data-startTime="1938">that you might have. So if you </span><span class="line" data-startTime="1942">imagine some sort of ocular </span><span class="line" data-startTime="1942">implant thing, like something </span><span class="line" data-startTime="1951">completely crazy, all you need </span><span class="line" data-startTime="1951">is you implement the media </span><span class="line" data-startTime="1954">query for it, and then you </span><span class="line" data-startTime="1954">add your Link Alternate. </span></p>

<p class="speaker"><span class="line" data-starttime="1957"><span class="speakerName">Paul Irish</span>: I wonder if Google </span><span class="line" data-startTime="1957">Glass will have a media query </span><span class="line" data-startTime="1960">that's appropriate for it. </span><span class="line" data-startTime="1963">[INTERPOSING VOICES] </span></p>

<p class="speaker"><span class="line" data-starttime="1970"><span class="speakerName">Eric Bidelman</span>: This </span><span class="line" data-startTime="1970">is cool, man. </span></p>

<p class="speaker"><span class="line" data-starttime="1972"><span class="speakerName">Paul Irish</span>: So right now, you've </span><span class="line" data-startTime="1972">created support for </span><span class="line" data-startTime="1974">Touch-Enabled. </span><span class="line" data-startTime="1976">I wonder if there's room for </span><span class="line" data-startTime="1976">more of that in the future. </span></p>

<p class="speaker"><span class="line" data-starttime="1979"><span class="speakerName">Boris Smus</span>: Yeah, that's kind of </span><span class="line" data-startTime="1979">my hope here, that we don't </span><span class="line" data-startTime="1982">need to create these things </span><span class="line" data-startTime="1982">but they just exist. </span></p>

<p class="speaker"><span class="line" data-starttime="1985"><span class="speakerName">Eric Bidelman</span>: Boris, </span><span class="line" data-startTime="1985">are you trying to </span><span class="line" data-startTime="1986">push the web forward? </span></p>

<p class="speaker"><span class="line" data-starttime="1987"><span class="speakerName">Boris Smus</span>: Actually </span><span class="line" data-startTime="1987">yes, Eric, I am. </span></p>

<p class="speaker"><span class="line" data-starttime="1989"><span class="speakerName">Eric Bidelman</span>: That's </span><span class="line" data-startTime="1989">fantastic. </span></p>

<p class="speaker"><span class="line" data-starttime="1990"><span class="speakerName">Boris Smus</span>: It's what </span><span class="line" data-startTime="1990">we do here. </span></p>

<p class="speaker"><span class="line" data-starttime="1991"><span class="speakerName">Eric Bidelman</span>: One library </span><span class="line" data-startTime="1991">at a time. </span></p>

<p class="speaker"><span class="line" data-starttime="1994"><span class="speakerName">Boris Smus</span>: So there's a CR bug </span><span class="line" data-startTime="1994">that's linked to from the </span><span class="line" data-startTime="1997">GetHub page. </span><span class="line" data-startTime="1998">You should probably go </span><span class="line" data-startTime="1998">to this and star it. </span><span class="line" data-startTime="2000">Only nine people have </span><span class="line" data-startTime="2000">starred it. </span><span class="line" data-startTime="2002">That's sad. </span><span class="line" data-startTime="2004">Can we have like 10 or 12 people </span><span class="line" data-startTime="2004">star it right now? </span></p>

<p class="speaker"><span class="line" data-starttime="2009"><span class="speakerName">Boris Smus</span>: Awesome. </span><span class="line" data-startTime="2009">Thanks, guys. </span></p>

<p class="speaker"><span class="line" data-starttime="2010"><span class="speakerName">Eric Bidelman</span>: This is </span><span class="line" data-startTime="2010">a great feature. </span><span class="line" data-startTime="2010">This should be enabled by </span><span class="line" data-startTime="2010">default in browsers for sure. </span><span class="line" data-startTime="2014">You said Firefox has this </span><span class="line" data-startTime="2014">if you enable it </span><span class="line" data-startTime="2016">on a flag or something? </span></p>

<p class="speaker"><span class="line" data-starttime="2017"><span class="speakerName">Boris Smus</span>: Yeah. </span><span class="line" data-startTime="2017">So Firefox, I think it </span><span class="line" data-startTime="2017">should be in the </span><span class="line" data-startTime="2021">stable version, I believe. </span><span class="line" data-startTime="2023">I haven't tested. </span><span class="line" data-startTime="2027">So even in Firefox, I'm not </span><span class="line" data-startTime="2027">falling back to the Moz </span><span class="line" data-startTime="2029">[INAUDIBLE], I'm just using </span><span class="line" data-startTime="2029">modernizer, actually, to check </span><span class="line" data-startTime="2033">for touch support. </span><span class="line" data-startTime="2035">So that's basically </span><span class="line" data-startTime="2035">how it works. </span><span class="line" data-startTime="2038">I know there's some caveats, </span><span class="line" data-startTime="2038">some strange configurations </span><span class="line" data-startTime="2040">under which it won't. </span></p>

<p class="speaker"><span class="line" data-starttime="2044"><span class="speakerName">Eric Bidelman</span>: By the </span><span class="line" data-startTime="2044">way, speaking of </span><span class="line" data-startTime="2045">Modernizer and touch. </span><span class="line" data-startTime="2045">I know I asked you this question </span><span class="line" data-startTime="2045">the other day, but </span><span class="line" data-startTime="2048">this will be valuable </span><span class="line" data-startTime="2048">for viewers. </span><span class="line" data-startTime="2052">Dev Tools has the ability </span><span class="line" data-startTime="2052">to simulate </span><span class="line" data-startTime="2054">touch events, correct? </span></p>

<p class="speaker"><span class="line" data-starttime="2055"><span class="speakerName">Boris Smus</span>: True. </span></p>

<p class="speaker"><span class="line" data-starttime="2055"><span class="speakerName">Eric Bidelman</span>: Does Modernizer </span><span class="line" data-startTime="2055">detect those as well? </span></p>

<p class="speaker"><span class="line" data-starttime="2058"><span class="speakerName">Paul Irish</span>: Why you </span><span class="line" data-startTime="2058">gotta do that? </span></p>

<p class="speaker"><span class="line" data-starttime="2060"><span class="speakerName">Eric Bidelman</span>: I was </span><span class="line" data-startTime="2060">pointing that out. </span><span class="line" data-startTime="2062">I ran into the issue, and maybe </span><span class="line" data-startTime="2062">somebody else is having </span><span class="line" data-startTime="2064">the same problem. </span></p>

<p class="speaker"><span class="line" data-starttime="2066"><span class="speakerName">Boris Smus</span>: Actually, </span><span class="line" data-startTime="2066">can we show that? </span></p>

<p class="speaker"><span class="line" data-starttime="2068"><span class="speakerName">Paul Irish</span>: This is really handy </span><span class="line" data-startTime="2068">if you're doing mobile </span><span class="line" data-startTime="2071">development. </span></p>

<p class="speaker"><span class="line" data-starttime="2073"><span class="speakerName">Boris Smus</span>: This isn't </span><span class="line" data-startTime="2073">on Canary, though. </span></p>

<p class="speaker"><span class="line" data-starttime="2075"><span class="speakerName">Paul Irish</span>: You mean </span><span class="line" data-startTime="2075">you don't have it? </span></p>

<p class="speaker"><span class="line" data-starttime="2076"><span class="speakerName">Boris Smus</span>: I have it, but </span><span class="line" data-startTime="2076">I'm not running it. </span></p>

<p class="speaker"><span class="line" data-starttime="2081"><span class="speakerName">Paul Irish</span>: Well. </span><span class="line" data-startTime="2082">One second. </span><span class="line" data-startTime="2083">We'll try &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2086"><span class="speakerName">Boris Smus</span>: I don't think Touch </span><span class="line" data-startTime="2086">Simulation [INAUDIBLE]. </span></p>

<p class="speaker"><span class="line" data-starttime="2089"><span class="speakerName">Paul Irish</span>: That's possible. </span></p>

<p class="speaker"><span class="line" data-starttime="2091"><span class="speakerName">Eric Bidelman</span>: Well, you could </span><span class="line" data-startTime="2091">show your laptop again. </span></p>

<p class="speaker"><span class="line" data-starttime="2094"><span class="speakerName">Paul Irish</span>: Yeah, </span><span class="line" data-startTime="2094">probably could. </span></p>

<p class="speaker"><span class="line" data-starttime="2095"><span class="speakerName">Boris Smus</span>: I could </span><span class="line" data-startTime="2095">just open Canary. </span><span class="line" data-startTime="2097">I mean, this happens </span><span class="line" data-startTime="2097">to be stable. </span><span class="line" data-startTime="2101">Yeah, let's do that. </span><span class="line" data-startTime="2104">So there's been a few things </span><span class="line" data-startTime="2104">landing inside Chrome Dev </span><span class="line" data-startTime="2108">Tools that makes it awesome for </span><span class="line" data-startTime="2108">mobile, and one of them is </span><span class="line" data-startTime="2113">you're now able to emulate </span><span class="line" data-startTime="2113">touch events. </span><span class="line" data-startTime="2117">Well, there's really been </span><span class="line" data-startTime="2117">no good way to do it. </span><span class="line" data-startTime="2119">There's been some JavaScript </span><span class="line" data-startTime="2119">libraries, which have tried to </span><span class="line" data-startTime="2121">map it over, but now we just </span><span class="line" data-startTime="2121">have first class support for </span><span class="line" data-startTime="2124">it in the browser, so it's </span><span class="line" data-startTime="2124">pretty powerful. </span><span class="line" data-startTime="2128">And so I'll show you now how </span><span class="line" data-startTime="2128">that works, and some of the </span><span class="line" data-startTime="2132">other mobile features that </span><span class="line" data-startTime="2132">we have available. </span><span class="line" data-startTime="2135">Could you dock that baby? </span></p>

<p class="speaker"><span class="line" data-starttime="2138"><span class="speakerName">Boris Smus</span>: Docked. </span></p>

<p class="speaker"><span class="line" data-starttime="2139"><span class="speakerName">Paul Irish</span>: Sweet. </span></p>

<p class="speaker"><span class="line" data-starttime="2140"><span class="speakerName">Boris Smus</span>: It's like some </span><span class="line" data-startTime="2140">features are already on. </span></p>

<p class="speaker"><span class="line" data-starttime="2142"><span class="speakerName">Paul Irish</span>: Oh, check </span><span class="line" data-startTime="2142">this out. </span><span class="line" data-startTime="2143">So we also have another </span><span class="line" data-startTime="2143">feature to show you. </span></p>

<p class="speaker"><span class="line" data-starttime="2145"><span class="speakerName">Eric Bidelman</span>: Oh wow, </span><span class="line" data-startTime="2145">look at this. </span><span class="line" data-startTime="2146">So many features. </span><span class="line" data-startTime="2150">So you open up Settings, and </span><span class="line" data-startTime="2150">then now you have this. </span><span class="line" data-startTime="2153">You can override the user agent </span><span class="line" data-startTime="2153">and say that you want </span><span class="line" data-startTime="2156">the Network User Agent to be </span><span class="line" data-startTime="2156">sent out as IOS5, or any of </span><span class="line" data-startTime="2160">the other possibilities. </span></p>

<p class="speaker"><span class="line" data-starttime="2161"><span class="speakerName">Eric Bidelman</span>: Wait, I know </span><span class="line" data-startTime="2161">the best feature. </span><span class="line" data-startTime="2163">Can't you Control Zoom in </span><span class="line" data-startTime="2163">on the Dev Tools now? </span></p>

<p class="speaker"><span class="line" data-starttime="2166"><span class="speakerName">Paul Irish</span>: It's true. </span></p>

<p class="speaker"><span class="line" data-starttime="2166"><span class="speakerName">Boris Smus</span>: Whoa, </span><span class="line" data-startTime="2166">look at that. </span></p>

<p class="speaker"><span class="line" data-starttime="2167"><span class="speakerName">Eric Bidelman</span>: This is the best </span><span class="line" data-startTime="2167">feature, especially if </span><span class="line" data-startTime="2168">you're presenting </span><span class="line" data-startTime="2168">the Dev Tools. </span></p>

<p class="speaker"><span class="line" data-starttime="2170"><span class="speakerName">Paul Irish</span>: That's right. </span></p>

<p class="speaker"><span class="line" data-starttime="2172"><span class="speakerName">Eric Bidelman</span>: And we can do </span><span class="line" data-startTime="2172">that because it's a web app, </span><span class="line" data-startTime="2174">it's a web app. </span></p>

<p class="speaker"><span class="line" data-starttime="2175"><span class="speakerName">Paul Irish</span>: So Chrome </span><span class="line" data-startTime="2175">Dev Tools is just </span><span class="line" data-startTime="2177">JavaScript and CSS. </span><span class="line" data-startTime="2178">So Control plus Nav zooms. </span><span class="line" data-startTime="2178">It's pretty newish. </span></p>

<p class="speaker"><span class="line" data-starttime="2183"><span class="speakerName">Boris Smus</span>: Did you know that </span><span class="line" data-startTime="2183">changing the User Agent also </span><span class="line" data-startTime="2185">sets the dimensions? </span></p>

<p class="speaker"><span class="line" data-starttime="2187"><span class="speakerName">Paul Irish</span>: What? </span></p>

<p class="speaker"><span class="line" data-starttime="2187"><span class="speakerName">Eric Bidelman</span>: That actually </span><span class="line" data-startTime="2187">is really hot. </span></p>

<p class="speaker"><span class="line" data-starttime="2189"><span class="speakerName">Boris Smus</span>: Wow. </span><span class="line" data-startTime="2190">That's really nice. </span><span class="line" data-startTime="2191">I didn't know that. </span></p>

<p class="speaker"><span class="line" data-starttime="2193"><span class="speakerName">Paul Irish</span>: Wow. </span></p>

<p class="speaker"><span class="line" data-starttime="2194"><span class="speakerName">Eric Bidelman</span>: So I know when </span><span class="line" data-startTime="2194">I've done mobile development, </span><span class="line" data-startTime="2197">I have a little JavaScript </span><span class="line" data-startTime="2197">[? bookmarklet ?] </span><span class="line" data-startTime="2199">that opens my screen to a </span><span class="line" data-startTime="2199">certain width and height and </span><span class="line" data-startTime="2202">everything, maybe I'm </span><span class="line" data-startTime="2202">doing some UA </span><span class="line" data-startTime="2204">detection on the server. </span><span class="line" data-startTime="2205">This kind of replaces that? </span><span class="line" data-startTime="2207">I mean, this is really nice. </span></p>

<p class="speaker"><span class="line" data-starttime="2209"><span class="speakerName">Paul Irish</span>: Yeah. </span><span class="line" data-startTime="2211">So we have the device </span><span class="line" data-startTime="2211">metrics so you can </span><span class="line" data-startTime="2214">customize your own view. </span><span class="line" data-startTime="2216">If I turn it off, it kind of </span><span class="line" data-startTime="2216">just expands it back to the </span><span class="line" data-startTime="2219">full view, but I'm compressing </span><span class="line" data-startTime="2219">down the page to match my </span><span class="line" data-startTime="2225">device metrics which </span><span class="line" data-startTime="2225">I can customize. </span><span class="line" data-startTime="2226">Also, the Font Scale factor and </span><span class="line" data-startTime="2226">Fit Window, which I'm not </span><span class="line" data-startTime="2230">yet sure exactly what it does. </span></p>

<p class="speaker"><span class="line" data-starttime="2232"><span class="speakerName">Boris Smus</span>: Can you try it? </span></p>

<p class="speaker"><span class="line" data-starttime="2233"><span class="speakerName">Eric Bidelman</span>: Try it. </span></p>

<p class="speaker"><span class="line" data-starttime="2234"><span class="speakerName">Paul Irish</span>: Yeah, </span><span class="line" data-startTime="2234">it does that. </span><span class="line" data-startTime="2237">So does that help, guys? </span></p>

<p class="speaker"><span class="line" data-starttime="2241"><span class="speakerName">Eric Bidelman</span>: Actually, </span><span class="line" data-startTime="2241">we should bring up </span><span class="line" data-startTime="2242">a responsive page. </span><span class="line" data-startTime="2243">Is this a responsive page? </span></p>

<p class="speaker"><span class="line" data-starttime="2246"><span class="speakerName">Paul Irish</span>: This is not. </span></p>

<p class="speaker"><span class="line" data-starttime="2247"><span class="speakerName">Boris Smus</span>: Just pull </span><span class="line" data-startTime="2247">up mediaquery.es. </span></p>

<p class="speaker"><span class="line" data-starttime="2250"><span class="speakerName">Eric Bidelman</span>: And just </span><span class="line" data-startTime="2250">show what happens? </span><span class="line" data-startTime="2253">That's another way to do </span><span class="line" data-startTime="2253">really quick responsive </span><span class="line" data-startTime="2256">testing is to now use </span><span class="line" data-startTime="2256">the Dev Tools to &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2259"><span class="speakerName">Paul Irish</span>: Right. </span><span class="line" data-startTime="2260">So this is pretty cool. </span><span class="line" data-startTime="2261">Because in the Dev Tools I can </span><span class="line" data-startTime="2261">now set up, just change the &mdash; </span><span class="line" data-startTime="2269">let's try to go down to Five. </span><span class="line" data-startTime="2278">What's a [INAUDIBLE]? </span></p>

<p class="speaker"><span class="line" data-starttime="2281"><span class="speakerName">Boris Smus</span>: I guess you </span><span class="line" data-startTime="2281">can't [? zip the &mdash; ?] </span></p>

<p class="speaker"><span class="line" data-starttime="2285"><span class="speakerName">Paul Irish</span>: Wow. </span><span class="line" data-startTime="2287">That works. </span><span class="line" data-startTime="2287">So we can do that. </span><span class="line" data-startTime="2288">And also another way to handle </span><span class="line" data-startTime="2288">your responsive design </span><span class="line" data-startTime="2293">development is I can just Dock </span><span class="line" data-startTime="2293">to Right this entire thing. </span><span class="line" data-startTime="2297">And if I Dock to Right my Dev </span><span class="line" data-startTime="2297">Tools, I can just bring this </span><span class="line" data-startTime="2301">over and squeeze down that </span><span class="line" data-startTime="2301">content as much as I want. </span></p>

<p class="speaker"><span class="line" data-starttime="2305"><span class="speakerName">Eric Bidelman</span>: That's cool. </span></p>

<p class="speaker"><span class="line" data-starttime="2307"><span class="speakerName">Boris Smus</span>: How did </span><span class="line" data-startTime="2307">it do that? </span></p>

<p class="speaker"><span class="line" data-starttime="2308"><span class="speakerName">Paul Irish</span>: Magic. </span></p>

<p class="speaker"><span class="line" data-starttime="2309"><span class="speakerName">Eric Bidelman</span>: If you refresh </span><span class="line" data-startTime="2309">this page, right? </span><span class="line" data-startTime="2312">Does it refresh the </span><span class="line" data-startTime="2312">Dev Tools as well? </span><span class="line" data-startTime="2315">[INAUDIBLE]? </span></p>

<p class="speaker"><span class="line" data-starttime="2316"><span class="speakerName">Paul Irish</span>: Yeah. </span><span class="line" data-startTime="2318">It brings it all back. </span><span class="line" data-startTime="2320">So I think what we're trying </span><span class="line" data-startTime="2320">to show, before we got a </span><span class="line" data-startTime="2322">little sidetracked, guys &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2324"><span class="speakerName">Eric Bidelman</span>: There's just so </span><span class="line" data-startTime="2324">much really cool features. </span></p>

<p class="speaker"><span class="line" data-starttime="2327"><span class="speakerName">Paul Irish</span>: There's a </span><span class="line" data-startTime="2327">lot of good stuff. </span><span class="line" data-startTime="2328">Emulate touch events. </span></p>

<p class="speaker"><span class="line" data-starttime="2329"><span class="speakerName">Eric Bidelman</span>: Emulate </span><span class="line" data-startTime="2329">touch events. </span></p>

<p class="speaker"><span class="line" data-starttime="2330"><span class="speakerName">Paul Irish</span>: So I'll turn it off, </span><span class="line" data-startTime="2330">because that's how it is </span><span class="line" data-startTime="2332">by default. </span><span class="line" data-startTime="2333">I have this little demo page. </span><span class="line" data-startTime="2335">It's a multi-touch demo, so you </span><span class="line" data-startTime="2335">can load it on Android or </span><span class="line" data-startTime="2339">IOS, and just use multi-touch. </span><span class="line" data-startTime="2340">It draws it on a canvas </span><span class="line" data-startTime="2340">element, and it works. </span><span class="line" data-startTime="2343">So the fact that you can do </span><span class="line" data-startTime="2343">multi-touch in JavaScript and </span><span class="line" data-startTime="2347">Canvas is kind of, not many </span><span class="line" data-startTime="2347">people know that. </span><span class="line" data-startTime="2349">But you can tell it </span><span class="line" data-startTime="2349">doesn't work. </span><span class="line" data-startTime="2350">I'm clicking on it </span><span class="line" data-startTime="2350">now and dragging, </span><span class="line" data-startTime="2351">and there's no touch. </span><span class="line" data-startTime="2354">But I turn this on, and it's </span><span class="line" data-startTime="2354">totally working, right, guys? </span></p>

<p class="speaker"><span class="line" data-starttime="2361"><span class="speakerName">Boris Smus</span>: That's </span><span class="line" data-startTime="2361">amazing, Paul. </span></p>

<p class="speaker"><span class="line" data-starttime="2362"><span class="speakerName">Eric Bidelman</span>: It's </span><span class="line" data-startTime="2362">because you're </span><span class="line" data-startTime="2363">painting in white, right? </span><span class="line" data-startTime="2364">You're painting white </span><span class="line" data-startTime="2364">lines instead of &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2366"><span class="speakerName">Paul Irish</span>: Wow. </span></p>

<p class="speaker"><span class="line" data-starttime="2367"><span class="speakerName">Eric Bidelman</span>: Demo fail. </span></p>

<p class="speaker"><span class="line" data-starttime="2370"><span class="speakerName">Boris Smus</span>: Hold on, maybe it's </span><span class="line" data-startTime="2370">some sort of &mdash; maybe the </span><span class="line" data-startTime="2371">internet is down. </span></p>

<p class="speaker"><span class="line" data-starttime="2372"><span class="speakerName">Eric Bidelman</span>: This is a </span><span class="line" data-startTime="2372">feature, that Dev Tools is </span><span class="line" data-startTime="2374">killing the internet, </span><span class="line" data-startTime="2374">Brand new feature. </span><span class="line" data-startTime="2377">This is simulating offline, </span><span class="line" data-startTime="2377">which is a great segue. </span></p>

<p class="speaker"><span class="line" data-starttime="2380"><span class="speakerName">Paul Irish</span>: Perfect. </span><span class="line" data-startTime="2382">So I encourage you to check it </span><span class="line" data-startTime="2382">out, emulate such events. </span><span class="line" data-startTime="2384">It works, and it works well </span><span class="line" data-startTime="2384">when you're [INAUDIBLE]. </span></p>

<p class="speaker"><span class="line" data-starttime="2391"><span class="speakerName">Boris Smus</span>: It's Canary </span><span class="line" data-startTime="2391">[INAUDIBLE]. </span><span class="line" data-startTime="2392">It happens. </span><span class="line" data-startTime="2393">Maybe your site's down. </span></p>

<p class="speaker"><span class="line" data-starttime="2394"><span class="speakerName">Paul Irish</span>: My site </span><span class="line" data-startTime="2394">must be down. </span></p>

<p class="speaker"><span class="line" data-starttime="2396"><span class="speakerName">Eric Bidelman</span>: Uh-oh. </span></p>

<p class="speaker"><span class="line" data-starttime="2396"><span class="speakerName">Paul Irish</span>: That's </span><span class="line" data-startTime="2396">embarrassing. </span></p>

<p class="speaker"><span class="line" data-starttime="2397"><span class="speakerName">Eric Bidelman</span>: That's </span><span class="line" data-startTime="2397">really embarrassing. </span></p>

<p class="speaker"><span class="line" data-starttime="2401"><span class="speakerName">Paul Irish</span>: So speaking of </span><span class="line" data-startTime="2401">offline, one of the big tricks </span><span class="line" data-startTime="2407">dealing with offline </span><span class="line" data-startTime="2407">is that you need a </span><span class="line" data-startTime="2408">mechanism to store data. </span><span class="line" data-startTime="2412">And we started off with local </span><span class="line" data-startTime="2412">storage, session storage, and </span><span class="line" data-startTime="2416">then there's Web SQL database, </span><span class="line" data-startTime="2416">but now that's </span><span class="line" data-startTime="2417">[? deprecated, ?] </span><span class="line" data-startTime="2418">although there's varying </span><span class="line" data-startTime="2418">support. </span><span class="line" data-startTime="2420">IndexedDB is the new hotness, </span><span class="line" data-startTime="2420">and there's increasingly </span><span class="line" data-startTime="2423">better support, but </span><span class="line" data-startTime="2423">it is a mess. </span><span class="line" data-startTime="2427">But there's a new APIs &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2428"><span class="speakerName">Eric Bidelman</span>: Well, there's </span><span class="line" data-startTime="2428">one API that I'm </span><span class="line" data-startTime="2430">particularly fond of. </span></p>

<p class="speaker"><span class="line" data-starttime="2431"><span class="speakerName">Boris Smus</span>: Which one's </span><span class="line" data-startTime="2431">that, Eric? </span></p>

<p class="speaker"><span class="line" data-starttime="2432"><span class="speakerName">Eric Bidelman</span>: So that's </span><span class="line" data-startTime="2432">the File System API. </span> <span class="line" data-startTime="2434">So there's an API that's been </span><span class="line" data-startTime="2434">specced out in W3C, </span><span class="line" data-startTime="2437">[INAUDIBLE] in Chrome, been </span><span class="line" data-startTime="2437">available for a while now, </span><span class="line" data-startTime="2440">called the File System API. </span> <span class="line" data-startTime="2442">It's my baby, I wrote </span><span class="line" data-startTime="2442">a book about it &mdash; </span><span class="line" data-startTime="2444">I'll push that &mdash; </span><span class="line" data-startTime="2446">and I wrote a library called </span><span class="line" data-startTime="2446">Filer JS to sort of wrap the </span><span class="line" data-startTime="2449">library, and you can pretty </span><span class="line" data-startTime="2449">much call Unix commands. </span> <span class="line" data-startTime="2453">So there's a Copy function, </span><span class="line" data-startTime="2453">there's a Move function. </span></p>

<p class="speaker"><span class="line" data-starttime="2455"><span class="speakerName">Paul Irish</span>: So [INAUDIBLE] </span><span class="line" data-startTime="2455">API, just to be clear, is like </span><span class="line" data-startTime="2455">you can create files, you can </span><span class="line" data-startTime="2458">create folders, you </span><span class="line" data-startTime="2458">can move files. </span><span class="line" data-startTime="2460">Think about moving files </span><span class="line" data-startTime="2460">and folders on a </span><span class="line" data-startTime="2463">regular file system. </span></p>

<p class="speaker"><span class="line" data-starttime="2464"><span class="speakerName">Eric Bidelman</span>: It's exactly </span><span class="line" data-startTime="2464">what you'd expect in </span><span class="line" data-startTime="2465">JavaScript, yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="2466"><span class="speakerName">Paul Irish</span>: It's the same </span><span class="line" data-startTime="2466">thing, except you have a </span><span class="line" data-startTime="2467">JavaScript API for it. </span></p>

<p class="speaker"><span class="line" data-starttime="2468"><span class="speakerName">Eric Bidelman</span>: This is great. </span></p>

<p class="speaker"><span class="line" data-starttime="2470"><span class="speakerName">Boris Smus</span>: But you can't go </span><span class="line" data-startTime="2470">to your file system, right? </span></p>

<p class="speaker"><span class="line" data-starttime="2473"><span class="speakerName">Paul Irish</span>: It's sandboxed. </span></p>

<p class="speaker"><span class="line" data-starttime="2474"><span class="speakerName">Eric Bidelman</span>: It's an important </span><span class="line" data-startTime="2474">distinction, and </span><span class="line" data-startTime="2475">this is something that always </span><span class="line" data-startTime="2475">comes up, is you can't just </span><span class="line" data-startTime="2477">open a file system and read from </span><span class="line" data-startTime="2477">My Pictures folder, My </span><span class="line" data-startTime="2481">Music folder. </span><span class="line" data-startTime="2482">It's very much a sandbox view </span><span class="line" data-startTime="2482">of just your applications. </span><span class="line" data-startTime="2486">Your applications can read and </span><span class="line" data-startTime="2486">write folders and files to </span><span class="line" data-startTime="2490">this view, but another web app </span><span class="line" data-startTime="2490">can't access that because of </span><span class="line" data-startTime="2493">the origin policy, and you </span><span class="line" data-startTime="2493">can't break out of that. </span><span class="line" data-startTime="2496">So that's a great distinction </span><span class="line" data-startTime="2496">to make. </span><span class="line" data-startTime="2497">But it's exactly what </span><span class="line" data-startTime="2497">you'd expect, right? </span><span class="line" data-startTime="2499">In JavaScript, you can write </span><span class="line" data-startTime="2499">files and store them, you can </span><span class="line" data-startTime="2502">cache them. </span></p>

<p class="speaker"><span class="line" data-starttime="2504"><span class="speakerName">Paul Irish</span>: Big files too. </span></p>

<p class="speaker"><span class="line" data-starttime="2504"><span class="speakerName">Eric Bidelman</span>: Big files. </span><span class="line" data-startTime="2505">So using the Quota API, you can </span><span class="line" data-startTime="2505">store whatever you want, </span><span class="line" data-startTime="2509">unlimited storage as far </span><span class="line" data-startTime="2509">as quota is concerned. </span><span class="line" data-startTime="2512">So this has a real advantage of </span><span class="line" data-startTime="2512">being able to cache things </span><span class="line" data-startTime="2515">offline as one big use case. </span><span class="line" data-startTime="2517">Say you have a music app and </span><span class="line" data-startTime="2517">you want to cache MP3s or </span><span class="line" data-startTime="2520">something, or files. </span><span class="line" data-startTime="2522">You can do that and make a </span><span class="line" data-startTime="2522">folder for all your rock, or </span><span class="line" data-startTime="2526">all your pop music or something, </span><span class="line" data-startTime="2526">and then delete </span><span class="line" data-startTime="2528">that at will. </span><span class="line" data-startTime="2529">So it has some advantages </span><span class="line" data-startTime="2529">over other offline APIs. </span><span class="line" data-startTime="2533">App Cache is a good example </span><span class="line" data-startTime="2533">people really hate. </span><span class="line" data-startTime="2536">It's hard to work with, it's not </span><span class="line" data-startTime="2536">very dynamic, you have to </span><span class="line" data-startTime="2539">[? create ?] manifests </span><span class="line" data-startTime="2539">and keep all those </span><span class="line" data-startTime="2541">assets up to date. </span><span class="line" data-startTime="2542">If one thing in the manifest </span><span class="line" data-startTime="2542">changes, everything's </span><span class="line" data-startTime="2544">downloaded, it's not great </span><span class="line" data-startTime="2544">for mobile, that's </span><span class="line" data-startTime="2547">not great in general. </span></p>

<p class="speaker"><span class="line" data-starttime="2548"><span class="speakerName">Boris Smus</span>: You can't </span><span class="line" data-startTime="2548">add anything to your </span><span class="line" data-startTime="2549">[INAUDIBLE], right? </span></p>

<p class="speaker"><span class="line" data-starttime="2550"><span class="speakerName">Eric Bidelman</span>: You can, but </span><span class="line" data-startTime="2550">you have to change the </span><span class="line" data-startTime="2551">manifest, but then everything, </span><span class="line" data-startTime="2551">right? </span><span class="line" data-startTime="2553">If you're saving a &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2554"><span class="speakerName">Boris Smus</span>: But for JavaScript, </span><span class="line" data-startTime="2554">you can't? </span></p>

<p class="speaker"><span class="line" data-starttime="2556"><span class="speakerName">Boris Smus</span>: You can't, right. </span> <span class="line" data-startTime="2556">Programmatically you can sort </span><span class="line" data-startTime="2556">of say, I want to add this </span><span class="line" data-startTime="2558">file, I want to subtract this </span><span class="line" data-startTime="2558">file, you have to work with </span><span class="line" data-startTime="2560">the manifest. And in </span><span class="line" data-startTime="2560">my opinion, it's </span><span class="line" data-startTime="2563">a pain in the butt. </span> <span class="line" data-startTime="2564">So my love for the API is </span><span class="line" data-startTime="2564">apparent maybe, but I want to </span><span class="line" data-startTime="2568">help bring this File System </span><span class="line" data-startTime="2568">API to more browsers. </span> <span class="line" data-startTime="2571">So like we said, it's only </span><span class="line" data-startTime="2571">in Chrome right now. </span> <span class="line" data-startTime="2574">But today actually, </span><span class="line" data-startTime="2574">I will be seeing &mdash; </span><span class="line" data-startTime="2576">I had a blog post </span><span class="line" data-startTime="2576">about it today, </span><span class="line" data-startTime="2579">hours before this hangout. </span></p>

<p><span class="line" data-startTime="2585">I'm releasing a library </span><span class="line" data-startTime="2585">[INAUDIBLE] </span><span class="line" data-startTime="2586">to blog post. It's called </span><span class="line" data-startTime="2586">IDB File System.js. </span> <span class="line" data-startTime="2591">And essentially what it is, it's </span><span class="line" data-startTime="2591">a polyfill library for </span><span class="line" data-startTime="2594">the File System API. </span> <span class="line" data-startTime="2596">So the way it works is </span><span class="line" data-startTime="2596">pretty interesting. </span> <span class="line" data-startTime="2598">I had to wrestle with not only </span><span class="line" data-startTime="2598">the File System API, so I had </span><span class="line" data-startTime="2602">to implement that entire thing </span><span class="line" data-startTime="2602">in JavaScript, but the </span><span class="line" data-startTime="2605">underlying storage, the reason </span><span class="line" data-startTime="2605">this works in other browsers, </span><span class="line" data-startTime="2607">is that it can take advantage </span><span class="line" data-startTime="2607">of IndexedDB. </span> <span class="line" data-startTime="2610">So IndexedDB is sort of </span><span class="line" data-startTime="2610">this up and comer. </span> <span class="line" data-startTime="2613">Firefox has it, IE10 will have </span><span class="line" data-startTime="2613">it, Chrome certainly has it, </span><span class="line" data-startTime="2617">who knows if &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2617"><span class="speakerName">Paul Irish</span>: It'll be coming </span><span class="line" data-startTime="2617">in [INAUDIBLE]. </span></p>

<p class="speaker"><span class="line" data-starttime="2619"><span class="speakerName">Eric Bidelman</span>: So everyone will </span><span class="line" data-startTime="2619">likely have the IndexedDB </span><span class="line" data-startTime="2622">API pretty soon. </span><span class="line" data-startTime="2624">This is sort of my attempt to </span><span class="line" data-startTime="2624">help that in the immediate </span><span class="line" data-startTime="2627">future, and File System.js </span><span class="line" data-startTime="2627">essentially a polyfill. </span><span class="line" data-startTime="2633">How would you explain </span><span class="line" data-startTime="2633">a polyfill, Paul? </span><span class="line" data-startTime="2635">Library. </span></p>

<p class="speaker"><span class="line" data-starttime="2636"><span class="speakerName">Paul Irish</span>: Yeah, it has the </span><span class="line" data-startTime="2636">exact same APIs as the </span><span class="line" data-startTime="2639">standard implementation, just </span><span class="line" data-startTime="2639">delivered via JavaScript </span><span class="line" data-startTime="2642">instead of the browser </span><span class="line" data-startTime="2642">delivering it. </span><span class="line" data-startTime="2644">So it works the same way. </span></p>

<p class="speaker"><span class="line" data-starttime="2646"><span class="speakerName">Eric Bidelman</span>: So I have a good </span><span class="line" data-startTime="2646">demo of this working, if </span><span class="line" data-startTime="2649">you can switch back to </span><span class="line" data-startTime="2649">the demo machine. </span><span class="line" data-startTime="2651">Do you have Firefox, </span><span class="line" data-startTime="2651">by the way? </span></p>

<p class="speaker"><span class="line" data-starttime="2655"><span class="speakerName">Boris Smus</span>: Probably </span><span class="line" data-startTime="2655">an old version. </span></p>

<p class="speaker"><span class="line" data-starttime="2659"><span class="speakerName">Eric Bidelman</span>: So this is a demo </span><span class="line" data-startTime="2659">that I put together, and </span><span class="line" data-startTime="2663">this demo runs both in </span><span class="line" data-startTime="2663">Chrome and Firefox. </span> <span class="line" data-startTime="2665">Unfortunately, I don't think </span><span class="line" data-startTime="2665">Boris has Firefox that we can </span><span class="line" data-startTime="2668">bring up right now, but this </span><span class="line" data-startTime="2668">demo would work perfectly in </span><span class="line" data-startTime="2671">that using IndexedDB </span><span class="line" data-startTime="2671">as a storage layer. </span> <span class="line" data-startTime="2676">But this is great. </span> <span class="line" data-startTime="2677">So I can write a web app now </span><span class="line" data-startTime="2677">that uses the File System API, </span><span class="line" data-startTime="2681">and it's going to work </span><span class="line" data-startTime="2681">cross-browser. </span> <span class="line" data-startTime="2682">So what this is doing is </span><span class="line" data-startTime="2682">essentially I can just have my </span><span class="line" data-startTime="2685">root folder here, we open the </span><span class="line" data-startTime="2685">file system using our File </span><span class="line" data-startTime="2688">System API calls. </span> <span class="line" data-startTime="2691">We'll create a couple, </span><span class="line" data-startTime="2691">folders test. </span></p>

<p><span class="line" data-startTime="2697">So this is just using the </span><span class="line" data-startTime="2697">methods that the File System </span><span class="line" data-startTime="2700">API implements. </span> <span class="line" data-startTime="2702">So we can create a blank </span><span class="line" data-startTime="2702">folder, a blank file. </span> <span class="line" data-startTime="2704">I can drill down into </span><span class="line" data-startTime="2704">these folders. </span> <span class="line" data-startTime="2707">I can zoom. </span> <span class="line" data-startTime="2709">Zooming's good. </span> <span class="line" data-startTime="2712">So you can see, I created a </span><span class="line" data-startTime="2712">folder, Test, I'm in that </span><span class="line" data-startTime="2714">folder, Test, right now. </span> <span class="line" data-startTime="2715">So I refresh, my data </span><span class="line" data-startTime="2715">is preserved. </span> <span class="line" data-startTime="2718">So I still have my folder that </span><span class="line" data-startTime="2718">I created, my empty file. </span> <span class="line" data-startTime="2721">Do you have any files we can </span><span class="line" data-startTime="2721">drag into this web app that </span><span class="line" data-startTime="2725">aren't risque? </span></p>

<p class="speaker"><span class="line" data-starttime="2726"><span class="speakerName">Paul Irish</span>: That </span><span class="line" data-startTime="2726">aren't risque. </span><span class="line" data-startTime="2728">Well. </span></p>

<p class="speaker"><span class="line" data-starttime="2730"><span class="speakerName">Boris Smus</span>: I don't usually </span><span class="line" data-startTime="2730">have such files. </span></p>

<p class="speaker"><span class="line" data-starttime="2733"><span class="speakerName">Eric Bidelman</span>: Do you </span><span class="line" data-startTime="2733">have like a basic </span><span class="line" data-startTime="2734">text file or something? </span><span class="line" data-startTime="2735">An image would work great, </span><span class="line" data-startTime="2735">some kind of image. </span></p>

<p class="speaker"><span class="line" data-starttime="2738"><span class="speakerName">Boris Smus</span>: Let's do </span><span class="line" data-startTime="2738">a big spooky fire. </span></p>

<p class="speaker"><span class="line" data-starttime="2739"><span class="speakerName">Eric Bidelman</span>: Big </span><span class="line" data-startTime="2739">spooky fire. </span><span class="line" data-startTime="2741">Fires are spooky. </span></p>

<p class="speaker"><span class="line" data-starttime="2749"><span class="speakerName">Boris Smus</span>: Big spooky fire. </span><span class="line" data-startTime="2751">My computer is busy upgrading </span><span class="line" data-startTime="2751">Firefox, I think. </span></p>

<p class="speaker"><span class="line" data-starttime="2754"><span class="speakerName">Eric Bidelman</span>: No problem. </span></p>

<p class="speaker"><span class="line" data-starttime="2757"><span class="speakerName">Boris Smus</span>: Should we </span><span class="line" data-startTime="2757">just drag it in? </span></p>

<p class="speaker"><span class="line" data-starttime="2759"><span class="speakerName">Eric Bidelman</span>: Drag it in. </span></p>

<p class="speaker"><span class="line" data-starttime="2760"><span class="speakerName">Paul Irish</span>: Whoa. </span></p>

<p class="speaker"><span class="line" data-starttime="2760"><span class="speakerName">Eric Bidelman</span>: So using the </span><span class="line" data-startTime="2760">power of drag and drop, we can </span><span class="line" data-startTime="2762">add that file right to </span><span class="line" data-startTime="2762">the File System API. </span><span class="line" data-startTime="2767">Imagine this was in Firefox, </span><span class="line" data-startTime="2767">it would be </span><span class="line" data-startTime="2768">the exact same process. </span><span class="line" data-startTime="2770">Just to show you [INAUDIBLE] </span><span class="line" data-startTime="2770">that was added, we hopefully </span><span class="line" data-startTime="2772">clicked that, and displayed </span><span class="line" data-startTime="2772">big spooky fires. </span><span class="line" data-startTime="2775">We're just completely </span><span class="line" data-startTime="2775">crashing right now. </span><span class="line" data-startTime="2779">But this is cool. </span><span class="line" data-startTime="2780">So now, I can use File System </span><span class="line" data-startTime="2780">API and all of its benefits in </span><span class="line" data-startTime="2783">other browsers. </span></p>

<p class="speaker"><span class="line" data-starttime="2785"><span class="speakerName">Paul Irish</span>: So it's File System </span><span class="line" data-startTime="2785">API built on top of </span><span class="line" data-startTime="2788">IndexedDB, so that means we </span><span class="line" data-startTime="2788">now have the same API </span><span class="line" data-startTime="2792">available, first of all in </span><span class="line" data-startTime="2792">Chrome, but with the polyfill, </span><span class="line" data-startTime="2794">in Firefox and IE10, and any </span><span class="line" data-startTime="2794">future browser that supports </span><span class="line" data-startTime="2798">the IndexedDB, so mobile </span><span class="line" data-startTime="2798">browsers in particular. </span></p>

<p class="speaker"><span class="line" data-starttime="2800"><span class="speakerName">Eric Bidelman</span>: Mobile browsers </span><span class="line" data-startTime="2800">in particular. </span><span class="line" data-startTime="2803">Caveat, I haven't tested </span><span class="line" data-startTime="2803">it in IE10. </span></p>

<p class="speaker"><span class="line" data-starttime="2807"><span class="speakerName">Paul Irish</span>: I took a look. </span></p>

<p class="speaker"><span class="line" data-starttime="2807"><span class="speakerName">Eric Bidelman</span>: You </span><span class="line" data-startTime="2807">took a look. </span><span class="line" data-startTime="2808">What happened? </span></p>

<p class="speaker"><span class="line" data-starttime="2809"><span class="speakerName">Paul Irish</span>: I took a look, I </span><span class="line" data-startTime="2809">[INAUDIBLE] in Browser Stack, </span><span class="line" data-startTime="2811">and I think I saw </span><span class="line" data-startTime="2811">an exception. </span><span class="line" data-startTime="2813">Probably not your fault. </span><span class="line" data-startTime="2815">It's not your fault. </span></p>

<p class="speaker"><span class="line" data-starttime="2818"><span class="speakerName">Eric Bidelman</span>: Don't </span><span class="line" data-startTime="2818">worry about it. </span></p>

<p class="speaker"><span class="line" data-starttime="2819"><span class="speakerName">Paul Irish</span>: It might </span><span class="line" data-startTime="2819">be your fault. </span></p>

<p class="speaker"><span class="line" data-starttime="2820"><span class="speakerName">Eric Bidelman</span>: I </span><span class="line" data-startTime="2820">want to show &mdash; </span><span class="line" data-startTime="2821">so there's also another </span><span class="line" data-startTime="2821">demo that I wrote. </span> <span class="line" data-startTime="2828">Oops. </span> <span class="line" data-startTime="2831">So if you want to play around </span><span class="line" data-startTime="2831">with library, go ahead. </span> <span class="line" data-startTime="2834">I'd love your feedback. </span> <span class="line" data-startTime="2835">And absolutely, like if you </span><span class="line" data-startTime="2835">have Pull Requests or </span><span class="line" data-startTime="2837">something for IE10 bugs or </span><span class="line" data-startTime="2837">something, I just haven't had </span><span class="line" data-startTime="2840">the time to test. But Firefox </span><span class="line" data-startTime="2840">works flawlessly. </span> <span class="line" data-startTime="2842">They have probably the </span><span class="line" data-startTime="2842">most up to date </span><span class="line" data-startTime="2844">implementation of IndexedDB. </span> <span class="line" data-startTime="2848">So this is another demo I wrote </span><span class="line" data-startTime="2848">when I wrote Filer JS, </span><span class="line" data-startTime="2850">the wrapper library that </span><span class="line" data-startTime="2850">implements Unix commands. </span> <span class="line" data-startTime="2853">And you could see, sorry for the </span><span class="line" data-startTime="2853">small screen, but it's the </span><span class="line" data-startTime="2857">same demo, and it's also now </span><span class="line" data-startTime="2857">working just out of the box </span><span class="line" data-startTime="2860">with this library dropped in. </span></p>

<p><span class="line" data-startTime="2862">It works out of the box with </span><span class="line" data-startTime="2862">Firefox, with other browsers </span><span class="line" data-startTime="2866">that implement IndexedDB. </span> <span class="line" data-startTime="2868">So I can traverse in these </span><span class="line" data-startTime="2868">folders, as you'd expect, I </span><span class="line" data-startTime="2870">can add files, I can </span><span class="line" data-startTime="2870">import files, I can </span><span class="line" data-startTime="2874">preview those files. </span> <span class="line" data-startTime="2875">So this is cool. </span> <span class="line" data-startTime="2877">I'm really excited about this. </span> <span class="line" data-startTime="2879">Obviously, my passion for the </span><span class="line" data-startTime="2879">API comes into play, and I </span><span class="line" data-startTime="2882">think it's got a lot of </span><span class="line" data-startTime="2882">advantages over some of the </span><span class="line" data-startTime="2884">other offline APIs. </span></p>

<p class="speaker"><span class="line" data-starttime="2885"><span class="speakerName">Paul Irish</span>: Did you say </span><span class="line" data-startTime="2885">that that demo is </span><span class="line" data-startTime="2887">using Filer JS as well? </span></p>

<p class="speaker"><span class="line" data-starttime="2889"><span class="speakerName">Eric Bidelman</span>: Yeah. </span><span class="line" data-startTime="2889">So great point, Paul. </span><span class="line" data-startTime="2890">I Didn't say that. </span><span class="line" data-startTime="2891">Maybe I did, I don't know. </span><span class="line" data-startTime="2893">But this demo is using </span><span class="line" data-startTime="2893">the library that I </span><span class="line" data-startTime="2895">wrote, Filer JS. </span></p>

<p class="speaker"><span class="line" data-starttime="2896"><span class="speakerName">Paul Irish</span>: So this is like </span><span class="line" data-startTime="2896">a sweet sugar API. </span></p>

<p class="speaker"><span class="line" data-starttime="2898"><span class="speakerName">Eric Bidelman</span>: It's a Sugar API </span><span class="line" data-startTime="2898">on top of the [INAUDIBLE] </span><span class="line" data-startTime="2901">File System API. </span></p>

<p class="speaker"><span class="line" data-starttime="2902"><span class="speakerName">Paul Irish</span>: Because that </span><span class="line" data-startTime="2902">API [INAUDIBLE]. </span></p>

<p class="speaker"><span class="line" data-starttime="2904"><span class="speakerName">Eric Bidelman</span>: It's good, </span><span class="line" data-startTime="2904">it's powerful. </span><span class="line" data-startTime="2905">We all know it's powerful. </span></p>

<p class="speaker"><span class="line" data-starttime="2906"><span class="speakerName">Paul Irish</span>: But I would love </span><span class="line" data-startTime="2906">to just [INAUDIBLE] and </span><span class="line" data-startTime="2910">[INAUDIBLE] and all that. </span><span class="line" data-startTime="2911">ERIC BIDELMAN: [INAUDIBLE], </span><span class="line" data-startTime="2911">copy, LS, current working </span><span class="line" data-startTime="2915">directory, all this cool stuff </span><span class="line" data-startTime="2915">that you're familiar with. </span><span class="line" data-startTime="2918">Basically, this library now, </span><span class="line" data-startTime="2918">the IDB File System, is </span><span class="line" data-startTime="2922">sitting on top of Filer. </span><span class="line" data-startTime="2923">So they're working together, and </span><span class="line" data-startTime="2923">this demo just works out </span><span class="line" data-startTime="2925">of the box thanks to that. </span></p>

<p class="speaker"><span class="line" data-starttime="2927"><span class="speakerName">Boris Smus</span>: So I think Mozilla </span><span class="line" data-startTime="2927">had some sort of large file </span><span class="line" data-startTime="2930">supporting IndexedDB? </span></p>

<p class="speaker"><span class="line" data-starttime="2932"><span class="speakerName">Eric Bidelman</span>: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="2933"><span class="speakerName">Boris Smus</span>: Do you know </span><span class="line" data-startTime="2933">anything about that? </span></p>

<p class="speaker"><span class="line" data-starttime="2937"><span class="speakerName">Eric Bidelman</span>: I think you're </span><span class="line" data-startTime="2937">asking about supporting binary </span><span class="line" data-startTime="2939">data inside of &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2941"><span class="speakerName">Boris Smus</span>: So they had some </span><span class="line" data-startTime="2941">specific extension for large &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2944"><span class="speakerName">Eric Bidelman</span>: Interesting. </span></p>

<p class="speaker"><span class="line" data-starttime="2950"><span class="speakerName">Boris Smus</span>: So Mozilla had an </span><span class="line" data-startTime="2950">extension for large file </span><span class="line" data-startTime="2953">support, I think in IndexedDB, </span><span class="line" data-startTime="2953">but I don't </span><span class="line" data-startTime="2956">really know the details. </span></p>

<p class="speaker"><span class="line" data-starttime="2957"><span class="speakerName">Eric Bidelman</span>: So actually, this </span><span class="line" data-startTime="2957">project started off for </span><span class="line" data-startTime="2959">me as a sort of investigation </span><span class="line" data-startTime="2959">if you could store files &mdash; </span><span class="line" data-startTime="2964">it's been said before that you </span><span class="line" data-startTime="2964">can store files and really </span><span class="line" data-startTime="2967">replicate the File System </span><span class="line" data-startTime="2967">API inside of IndexedDB. </span><span class="line" data-startTime="2970">So I went down that path </span><span class="line" data-startTime="2970">expecting to fail, but it </span><span class="line" data-startTime="2974">actually turned out </span><span class="line" data-startTime="2974">to be possible. </span><span class="line" data-startTime="2976">Firefox's implementation, in </span><span class="line" data-startTime="2976">particular, has the ability to </span><span class="line" data-startTime="2979">store binary data </span><span class="line" data-startTime="2979">in IndexedDB. </span><span class="line" data-startTime="2982">So as soon as I saw that, my </span><span class="line" data-startTime="2982">eyes opened up and said, hey, </span><span class="line" data-startTime="2985">you can polyfill an entire API, </span><span class="line" data-startTime="2985">which it's not a small </span><span class="line" data-startTime="2989">API, if you look at </span><span class="line" data-startTime="2989">the code base. </span><span class="line" data-startTime="2991">We can pretty much polyfill the </span><span class="line" data-startTime="2991">entire API and replicate </span><span class="line" data-startTime="2996">it using IndexedDB as sort of </span><span class="line" data-startTime="2996">the underlying storage layer. </span></p>

<p class="speaker"><span class="line" data-starttime="2999"><span class="speakerName">Boris Smus</span>: Awesome. </span><span class="line" data-startTime="3001">Very cool stuff. </span></p>

<p class="speaker"><span class="line" data-starttime="3002"><span class="speakerName">Eric Bidelman</span>: So great for </span><span class="line" data-startTime="3002">mobile, great for other </span><span class="line" data-startTime="3004">browsers, great for building </span><span class="line" data-startTime="3004">an app that works offline. </span><span class="line" data-startTime="3009">That's all I had for me. </span><span class="line" data-startTime="3011">Do we have time for questions? </span></p>

<p class="speaker"><span class="line" data-starttime="3013"><span class="speakerName">Paul Irish</span>: We have time </span><span class="line" data-startTime="3013">for one question. </span></p>

<p class="speaker"><span class="line" data-starttime="3014"><span class="speakerName">Eric Bidelman</span>: One question? </span></p>

<p class="speaker"><span class="line" data-starttime="3015"><span class="speakerName">Paul Irish</span>: So this came in over </span><span class="line" data-startTime="3015">the moderator during our </span><span class="line" data-startTime="3019">conversation. </span> <span class="line" data-startTime="3021">And the question is coming in </span><span class="line" data-startTime="3021">from Stephan in Berlin. </span> <span class="line" data-startTime="3026">And he asks, I wanted to start </span><span class="line" data-startTime="3026">a Chrome app based on </span><span class="line" data-startTime="3032">Backbone, Underscore, </span><span class="line" data-startTime="3032">and Require. </span> <span class="line" data-startTime="3035">However, the Chrome App Manifest </span><span class="line" data-startTime="3035">Version Two won't </span><span class="line" data-startTime="3039">allow CSP libraries using </span><span class="line" data-startTime="3039">a [? Val New, ?] </span><span class="line" data-startTime="3042">which excludes all known </span><span class="line" data-startTime="3042">JS type of frameworks. </span></p>

<p><span class="line" data-startTime="3044">Is there a solution for that? </span><span class="line" data-startTime="3048">This is an interesting question, </span><span class="line" data-startTime="3048">and I think we're </span><span class="line" data-startTime="3051">looking into it. </span> <span class="line" data-startTime="3051">Basically, one of the things </span><span class="line" data-startTime="3051">that we're excited about is </span><span class="line" data-startTime="3057">getting better CSV </span><span class="line" data-startTime="3057">support inside </span><span class="line" data-startTime="3061">external JavaScript libraries. </span> <span class="line" data-startTime="3062">So basically, if you rely on the </span><span class="line" data-startTime="3062">function [? constructor ?] </span><span class="line" data-startTime="3066">or eval, that means that that </span><span class="line" data-startTime="3066">JavaScript library won't work </span><span class="line" data-startTime="3070">in a CSP environment. </span> <span class="line" data-startTime="3072">CSP is Content Security </span><span class="line" data-startTime="3072">Policy. </span> <span class="line" data-startTime="3075">It's a new security model. </span> <span class="line" data-startTime="3078">It's pretty exciting, </span><span class="line" data-startTime="3078">and it's coming. </span> <span class="line" data-startTime="3079">There's good support for it in </span><span class="line" data-startTime="3079">Firefox and Chrome right now, </span><span class="line" data-startTime="3082">and Chrome apps will </span><span class="line" data-startTime="3082">be using it. </span></p>

<p><span class="line" data-startTime="3084">So basically I would ask, if </span><span class="line" data-startTime="3084">you have incompatibilities, </span><span class="line" data-startTime="3089">they have to be looked </span><span class="line" data-startTime="3089">at the library level. </span> <span class="line" data-startTime="3092">So try and see if there's a </span><span class="line" data-startTime="3092">way to work around that. </span> <span class="line" data-startTime="3097">One of the ways in particular, </span><span class="line" data-startTime="3097">with templating libraries, is </span><span class="line" data-startTime="3100">any precompiled templates </span><span class="line" data-startTime="3100">are not using eval. </span> <span class="line" data-startTime="3103">So precompiled templates are </span><span class="line" data-startTime="3103">the way to get CSP support. </span></p>

<p class="speaker"><span class="line" data-starttime="3108"><span class="speakerName">Eric Bidelman</span>: That's generally </span><span class="line" data-startTime="3108">a good thing. </span><span class="line" data-startTime="3109">You should be compiling </span><span class="line" data-startTime="3109">your templates anyway. </span></p>

<p class="speaker"><span class="line" data-starttime="3111"><span class="speakerName">Paul Irish</span>: Way faster. </span></p>

<p class="speaker"><span class="line" data-starttime="3112"><span class="speakerName">Eric Bidelman</span>: So it's </span><span class="line" data-startTime="3112">good for performance. </span><span class="line" data-startTime="3113">You should be doing </span><span class="line" data-startTime="3113">that already. </span><span class="line" data-startTime="3114">This is just nudging, hopefully, </span><span class="line" data-startTime="3114">developers in the </span><span class="line" data-startTime="3117">right direction. </span></p>

<p class="speaker"><span class="line" data-starttime="3118"><span class="speakerName">Paul Irish</span>: So that's </span><span class="line" data-startTime="3118">your solution there. </span><span class="line" data-startTime="3121">But is that it? </span></p>

<p class="speaker"><span class="line" data-starttime="3122"><span class="speakerName">Boris Smus</span>: I think basically </span><span class="line" data-startTime="3122">that's a good thing. </span><span class="line" data-startTime="3125">One thing is I think Mustache </span><span class="line" data-startTime="3125">doesn't precompile, but </span><span class="line" data-startTime="3129">Handlebars does, and probably </span><span class="line" data-startTime="3129">other templating </span><span class="line" data-startTime="3133">agents do as well. </span></p>

<p class="speaker"><span class="line" data-starttime="3135"><span class="speakerName">Paul Irish</span>: Precompile them. </span></p>

<p class="speaker"><span class="line" data-starttime="3135"><span class="speakerName">Eric Bidelman</span>: Good thing. </span></p>

<p class="speaker"><span class="line" data-starttime="3136"><span class="speakerName">Paul Irish</span>: All right. </span><span class="line" data-startTime="3136">Well, I appreciate you </span><span class="line" data-startTime="3136">guys watching, and &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="3140"><span class="speakerName">Eric Bidelman</span>: Thanks, </span><span class="line" data-startTime="3140">everybody. </span></p>

<p class="speaker"><span class="line" data-starttime="3141"><span class="speakerName">Paul Irish</span>: We'll be back </span><span class="line" data-startTime="3141">soon again [INAUDIBLE]. </span></p>

<p class="speaker"><span class="line" data-starttime="3144"><span class="speakerName">Eric Bidelman</span>: See you again. </span></p>

<p class="speaker"><span class="line" data-starttime="3144"><span class="speakerName">Paul Irish</span>: Cool. </span></p>