<p class="speaker"><span class="line" data-starttime="0"><span class="speakerName">Pallavi Naresh</span>: Good afternoon, </span><span class="line" data-startTime="0">everyone. </span> <span class="line" data-startTime="2">My name is Pallavi Naresh. </span> <span class="line" data-startTime="3">And I'm a product manager </span><span class="line" data-startTime="3">at Google. </span> <span class="line" data-startTime="6">I'm joined here by my </span><span class="line" data-startTime="6">colleagues, David Butcher and </span><span class="line" data-startTime="9">Johnie Lee, software engineers </span><span class="line" data-startTime="9">at Google. </span> <span class="line" data-startTime="12">Now, how many of you guys were </span><span class="line" data-startTime="12">able to attend the last </span><span class="line" data-startTime="14">session where we introduced </span><span class="line" data-startTime="14">the Wallet Objects API? </span><span class="line" data-startTime="17">Great, a good number of you. </span> <span class="line" data-startTime="20">Today, we're going to be talking </span><span class="line" data-startTime="20">about redefining </span><span class="line" data-startTime="22">loyalty for the mobile age using </span><span class="line" data-startTime="22">the Wallet Objects API. </span></p>

<p><span class="line" data-startTime="29">The Wallet Objects API is an </span><span class="line" data-startTime="29">extensible platform that lets </span><span class="line" data-startTime="33">you take anything from your </span><span class="line" data-startTime="33">real world wallet &mdash; </span><span class="line" data-startTime="37">loyalty, offers, and more &mdash; </span><span class="line" data-startTime="40">and put it in your Google </span><span class="line" data-startTime="40">Wallet in the cloud. </span> <span class="line" data-startTime="45">Now today, we're going to </span><span class="line" data-startTime="45">be focused on loyalty. </span> <span class="line" data-startTime="49">Why? </span><span class="line" data-startTime="50">Because when we talk to our </span><span class="line" data-startTime="50">users and we talk to them </span><span class="line" data-startTime="54">about digitizing the real world </span><span class="line" data-startTime="54">wallet, the thing they </span><span class="line" data-startTime="57">are most excited about are the </span><span class="line" data-startTime="57">implications for all the </span><span class="line" data-startTime="61">loyalty cards they </span><span class="line" data-startTime="61">carry around or </span><span class="line" data-startTime="64">forget to carry around. </span> <span class="line" data-startTime="68">We're going to start with an </span><span class="line" data-startTime="68">overview of the problems that </span><span class="line" data-startTime="71">exist with loyalty and how </span><span class="line" data-startTime="71">we at Google can help. </span> <span class="line" data-startTime="75">Now, if you're not developing </span><span class="line" data-startTime="75">for a loyalty program, stick </span><span class="line" data-startTime="79">around, because we're going to </span><span class="line" data-startTime="79">give you an overview of the </span><span class="line" data-startTime="81">Wallet Objects platform and </span><span class="line" data-startTime="81">walk you through a live </span><span class="line" data-startTime="84">integration with our featured </span><span class="line" data-startTime="84">partner, Marriott Rewards. </span> <span class="line" data-startTime="89">This will give you a good </span><span class="line" data-startTime="89">overview of what it takes to </span><span class="line" data-startTime="92">use the Wallet Objects API, both </span><span class="line" data-startTime="92">for loyalty as well as </span><span class="line" data-startTime="96">other use cases. </span> <span class="line" data-startTime="101">So what are the problems that </span><span class="line" data-startTime="101">exist with loyalty? </span><span class="line" data-startTime="105">Well, first, we have </span><span class="line" data-startTime="105">too many cards. </span></p>

<p><span class="line" data-startTime="108">We can't carry them all </span><span class="line" data-startTime="108">around with us. </span> <span class="line" data-startTime="112">And often, we forget them when </span><span class="line" data-startTime="112">we need them the most. </span> <span class="line" data-startTime="118">On the flip side, when we want </span><span class="line" data-startTime="118">to sign up for a new </span><span class="line" data-startTime="121">program, it's hard. </span> <span class="line" data-startTime="124">There are long forms to fill </span><span class="line" data-startTime="124">out by hand at the worst </span><span class="line" data-startTime="128">possible time. </span> <span class="line" data-startTime="130">Picture this. </span> <span class="line" data-startTime="131">You've just taken </span><span class="line" data-startTime="131">a long flight. </span> <span class="line" data-startTime="134">You show up at your hotel. </span> <span class="line" data-startTime="136">You're not a member of the </span><span class="line" data-startTime="136">loyalty program, but you want </span><span class="line" data-startTime="140">to get points for your stay. </span> <span class="line" data-startTime="143">You also want to get to bed. </span> <span class="line" data-startTime="145">This is the worst time to </span><span class="line" data-startTime="145">fill out more paperwork. </span> <span class="line" data-startTime="151">And finally, it's hard to keep </span><span class="line" data-startTime="151">track of all the benefits </span><span class="line" data-startTime="155">we're accruing across all the </span><span class="line" data-startTime="155">programs we're members of. </span></p>

<p><span class="line" data-startTime="160">Over 16 billion points go unused </span><span class="line" data-startTime="160">in the US every year. </span> <span class="line" data-startTime="168">That's a lot of money. </span> <span class="line" data-startTime="172">So how can we at Google help? </span><span class="line" data-startTime="174">And how can you help if </span><span class="line" data-startTime="174">you're developing </span><span class="line" data-startTime="176">for a loyalty program? </span><span class="line" data-startTime="179">Your program in Google Wallet, </span><span class="line" data-startTime="179">a single place for consumers </span><span class="line" data-startTime="185">to track all of their loyalty </span><span class="line" data-startTime="185">cards, geo-triggered around </span><span class="line" data-startTime="189">your business so that your </span><span class="line" data-startTime="189">customers never have to forget </span><span class="line" data-startTime="193">their card at home again. </span> <span class="line" data-startTime="198">Instant enrollment &mdash; </span><span class="line" data-startTime="199">acquire new customers instantly </span><span class="line" data-startTime="199">from the phone, also </span><span class="line" data-startTime="204">geo-triggered so the sign up </span><span class="line" data-startTime="204">screen is waiting for them as </span><span class="line" data-startTime="208">they walk through your doors. </span></p>

<p><span class="line" data-startTime="212">And deeper engagement with your </span><span class="line" data-startTime="212">existing customers and </span><span class="line" data-startTime="216">your new customers. </span> <span class="line" data-startTime="218">Point updates, account </span><span class="line" data-startTime="218">updates in real time. </span> <span class="line" data-startTime="223">Details on when your loyalty </span><span class="line" data-startTime="223">rewards are going to expire. </span> <span class="line" data-startTime="229">So your customers never have to </span><span class="line" data-startTime="229">worry about letting those </span><span class="line" data-startTime="233">points go unused. </span> <span class="line" data-startTime="236">And personalized messages </span><span class="line" data-startTime="236">delivered right on the phone. </span> <span class="line" data-startTime="242">The best part about all this </span><span class="line" data-startTime="242">is that it's an easy </span><span class="line" data-startTime="245">integration into your existing </span><span class="line" data-startTime="245">loyalty systems. </span> <span class="line" data-startTime="250">I hope you're as excited about </span><span class="line" data-startTime="250">the platform as we are. </span></p>

<p><span class="line" data-startTime="253">I'm going to give it over to </span><span class="line" data-startTime="253">David to walk you through a </span><span class="line" data-startTime="256">technical overview. </span></p>

<p class="speaker"><span class="line" data-starttime="259"><span class="speakerName">David Butcher</span>: Thanks, </span><span class="line" data-startTime="259">Pallavi. </span> <span class="line" data-startTime="264">So this platform API is in the </span><span class="line" data-startTime="264">form of a REST service. </span> <span class="line" data-startTime="268">So it's resource oriented. </span> <span class="line" data-startTime="269">So I'm going to spend a little </span><span class="line" data-startTime="269">time on the two main </span><span class="line" data-startTime="271">resources, the first of which </span><span class="line" data-startTime="271">is the Wallet Object class. </span> <span class="line" data-startTime="275">The second is the instance or </span><span class="line" data-startTime="275">the object, and we'll get that </span><span class="line" data-startTime="278">in the subsequent slide. </span> <span class="line" data-startTime="280">The idea here is that it's </span><span class="line" data-startTime="280">REST via JSON over HTTP. </span> <span class="line" data-startTime="285">We see in front of us some JSON </span><span class="line" data-startTime="285">for a particular class. </span> <span class="line" data-startTime="288">The Wallet Object class is </span><span class="line" data-startTime="288">defining the shared data for a </span><span class="line" data-startTime="291">single program which is going </span><span class="line" data-startTime="291">to have many cards in it. </span> <span class="line" data-startTime="294">The Wallet Object class is </span><span class="line" data-startTime="294">defining some of the shared </span><span class="line" data-startTime="297">data like, for example, here </span><span class="line" data-startTime="297">we see the issuer name, the </span><span class="line" data-startTime="300">program name, Marriott Rewards, </span><span class="line" data-startTime="300">the rewards tier. </span></p>

<p><span class="line" data-startTime="303">There presumably would be a </span><span class="line" data-startTime="303">class per rewards tier so that </span><span class="line" data-startTime="307">there could be a little bit </span><span class="line" data-startTime="307">different look and feel for </span><span class="line" data-startTime="308">the different tiers. </span> <span class="line" data-startTime="311">And it also maps to the specific </span><span class="line" data-startTime="311">look and feel that's </span><span class="line" data-startTime="314">going to show up </span><span class="line" data-startTime="314">on the device. </span> <span class="line" data-startTime="317">It's important to note that this </span><span class="line" data-startTime="317">is a polymorphic object. </span> <span class="line" data-startTime="322">The class of the proper is in </span><span class="line" data-startTime="322">the type, Wallet Object class, </span><span class="line" data-startTime="325">loyalty class. </span> <span class="line" data-startTime="326">This is a loyalty class. </span> <span class="line" data-startTime="327">That specifies that there's a </span><span class="line" data-startTime="327">particular schema behind this, </span><span class="line" data-startTime="330">and there would be fields that </span><span class="line" data-startTime="330">are specific to that schema. </span> <span class="line" data-startTime="333">Other schemas exist. </span></p>

<p><span class="line" data-startTime="334">They're schemas for loyalty </span><span class="line" data-startTime="334">here, for offers, mentioned in </span><span class="line" data-startTime="340">the previous session. </span> <span class="line" data-startTime="342">We're going to be doing things </span><span class="line" data-startTime="342">like boarding passes and some </span><span class="line" data-startTime="344">other stuff. </span> <span class="line" data-startTime="345">And there will also be a generic </span><span class="line" data-startTime="345">class that has no </span><span class="line" data-startTime="348">pre-defined schema that allows </span><span class="line" data-startTime="348">you to define your own. </span> <span class="line" data-startTime="356">The Wallet Object is an instance </span><span class="line" data-startTime="356">of this class. </span> <span class="line" data-startTime="359">So for each program, there will </span><span class="line" data-startTime="359">be actual cards showing </span><span class="line" data-startTime="363">up on devices or </span><span class="line" data-startTime="363">within Wallets. </span> <span class="line" data-startTime="365">And that corresponds to </span><span class="line" data-startTime="365">the Wallet Object. </span> <span class="line" data-startTime="367">This is also polymorphic. </span> <span class="line" data-startTime="368">You'll see here that </span><span class="line" data-startTime="368">it's using the </span><span class="line" data-startTime="371">same type as the class. </span></p>

<p><span class="line" data-startTime="373">It also has specific information </span><span class="line" data-startTime="373">for this end user, </span><span class="line" data-startTime="376">for example, the number of </span><span class="line" data-startTime="376">loyalty points that have been </span><span class="line" data-startTime="380">awarded to this user. </span> <span class="line" data-startTime="386">OK, the relationship &mdash; </span><span class="line" data-startTime="387">if this wasn't completely </span><span class="line" data-startTime="387">clear &mdash; between the object and </span><span class="line" data-startTime="389">the class is that for each </span><span class="line" data-startTime="389">class there's a bunch of </span><span class="line" data-startTime="392">objects and for each object </span><span class="line" data-startTime="392">there's a single class. </span> <span class="line" data-startTime="395">This will become important later </span><span class="line" data-startTime="395">when we think about how </span><span class="line" data-startTime="397">we do updates. </span> <span class="line" data-startTime="398">This is your data. </span> <span class="line" data-startTime="399">You can update this data </span><span class="line" data-startTime="399">anytime you like. </span></p>

<p><span class="line" data-startTime="402">If you do an update to the class </span><span class="line" data-startTime="402">information, it gets </span><span class="line" data-startTime="404">broadcast to all of the devices </span><span class="line" data-startTime="404">that are holding an </span><span class="line" data-startTime="409">instance in that class. </span> <span class="line" data-startTime="410">You could also, as </span><span class="line" data-startTime="410">we'll see later, </span><span class="line" data-startTime="412">directly update the object. </span> <span class="line" data-startTime="417">So you as the issuer </span><span class="line" data-startTime="417">own this data. </span> <span class="line" data-startTime="419">You can create it and update </span><span class="line" data-startTime="419">it as you please. </span> <span class="line" data-startTime="422">There are very few rules </span><span class="line" data-startTime="422">on when you do this. </span> <span class="line" data-startTime="425">You can push these updates </span><span class="line" data-startTime="425">as you like. </span> <span class="line" data-startTime="431">Did I screw up? </span><span class="line" data-startTime="433">Right. </span> <span class="line" data-startTime="435">Where am I? </span><span class="line" data-startTime="440">OK. </span> <span class="line" data-startTime="441">There are a few different </span><span class="line" data-startTime="441">ways of getting </span><span class="line" data-startTime="442">instances into the Wallet. </span> <span class="line" data-startTime="445">The Save to Wallet from the </span><span class="line" data-startTime="445">browser allows any website to </span><span class="line" data-startTime="450">include some JavaScript to </span><span class="line" data-startTime="450">enable Save to Wallet. </span> <span class="line" data-startTime="455">What happens here is the end </span><span class="line" data-startTime="455">user visits the site and </span><span class="line" data-startTime="458">clicks on the Save to Wallet </span><span class="line" data-startTime="458">button, and we arrange for </span><span class="line" data-startTime="463">that to be put onto the </span><span class="line" data-startTime="463">device or devices. </span></p>

<p><span class="line" data-startTime="466">This is a pretty important point </span><span class="line" data-startTime="466">is that things get into </span><span class="line" data-startTime="468">the user's Wallet, the </span><span class="line" data-startTime="468">customer's wallet, because </span><span class="line" data-startTime="470">they put them there. </span> <span class="line" data-startTime="471">This is a very strong signal </span><span class="line" data-startTime="471">of interest here. </span> <span class="line" data-startTime="478">In addition &mdash; and this is a </span><span class="line" data-startTime="478">loyalty specific thing. </span> <span class="line" data-startTime="480">Most of the things that I'm </span><span class="line" data-startTime="480">talking about are pretty much </span><span class="line" data-startTime="482">general to Wallet Objects </span><span class="line" data-startTime="482">across the board. </span> <span class="line" data-startTime="484">But there are some specific ways </span><span class="line" data-startTime="484">to get new instances of </span><span class="line" data-startTime="487">loyalty into the Wallet &mdash; </span><span class="line" data-startTime="489">specifically, sign </span><span class="line" data-startTime="489">up and link. </span> <span class="line" data-startTime="492">Sign up is for people who are </span><span class="line" data-startTime="492">new to your program, and they </span><span class="line" data-startTime="495">want to participate. </span> <span class="line" data-startTime="496">And link is when they have an </span><span class="line" data-startTime="496">existing physical artifact and </span><span class="line" data-startTime="499">they want to get it into </span><span class="line" data-startTime="499">their virtual Wallet. </span> <span class="line" data-startTime="502">And we'll see these in detail </span><span class="line" data-startTime="502">in the demo when </span><span class="line" data-startTime="504">Johnie covers that. </span></p>

<p><span class="line" data-startTime="510">So of course, this is Google. </span> <span class="line" data-startTime="512">When you push an update, either </span><span class="line" data-startTime="512">to an instance or a </span><span class="line" data-startTime="514">class, we will reliably deliver </span><span class="line" data-startTime="514">that update at scale, </span><span class="line" data-startTime="519">even if that class may have </span><span class="line" data-startTime="519">thousands of instances </span><span class="line" data-startTime="521">associated with it distributed </span><span class="line" data-startTime="521">geographically. </span> <span class="line" data-startTime="524">We'll make sure that </span><span class="line" data-startTime="524">gets delivered. </span> <span class="line" data-startTime="533">This is an important point to </span><span class="line" data-startTime="533">note, is that when we get </span><span class="line" data-startTime="535">stuff onto the phone, it's </span><span class="line" data-startTime="535">cached there, and it can be </span><span class="line" data-startTime="537">used online and offline. </span> <span class="line" data-startTime="540">In addition, we can leverage </span><span class="line" data-startTime="540">Google's geo-indexing to get </span><span class="line" data-startTime="546">really intelligent, here </span><span class="line" data-startTime="546">and now surfacing. </span> <span class="line" data-startTime="548">So the idea here is that you </span><span class="line" data-startTime="548">walk into, let's say, a </span><span class="line" data-startTime="551">Marriott, and we can determine </span><span class="line" data-startTime="551">that you have, in fact, a </span><span class="line" data-startTime="555">loyalty card relevant here. </span></p>

<p><span class="line" data-startTime="556">We can bring it up and show you </span><span class="line" data-startTime="556">that there is and go ahead </span><span class="line" data-startTime="560">and use it. </span> <span class="line" data-startTime="560">Or we could surface that you </span><span class="line" data-startTime="560">can sign up for such a card </span><span class="line" data-startTime="565">right here and now. </span> <span class="line" data-startTime="566">Hence the name. </span> <span class="line" data-startTime="574">And now that I've given that </span><span class="line" data-startTime="574">over to you, I'd like to turn </span><span class="line" data-startTime="576">it over to Jonie to demonstrate </span><span class="line" data-startTime="578">some of that stuff. </span></p>

<p class="speaker"><span class="line" data-starttime="578"><span class="speakerName">Johnie Lee</span>: Thank you. </span> <span class="line" data-startTime="581">Thanks, David. </span> <span class="line" data-startTime="582">Hi, I'm Johnie Lee, and I'm </span><span class="line" data-startTime="582">here to talk to you today </span><span class="line" data-startTime="586">about merchant integration with </span><span class="line" data-startTime="586">the Wallet Objects API. </span> <span class="line" data-startTime="590">If you were at the earlier </span><span class="line" data-startTime="590">session, you would have gotten </span><span class="line" data-startTime="592">a quick peek of the sign up </span><span class="line" data-startTime="592">functionality for a Marriott </span><span class="line" data-startTime="596">Rewards program within </span><span class="line" data-startTime="596">a Google Wallet. </span> <span class="line" data-startTime="600">Marriott Rewards is one of our </span><span class="line" data-startTime="600">featured partners with over 42 </span><span class="line" data-startTime="603">million loyalty members. </span> <span class="line" data-startTime="605">We have been working with </span><span class="line" data-startTime="605">Marriott Rewards in building a </span><span class="line" data-startTime="608">solution that complements their </span><span class="line" data-startTime="609">existing mobile strategy. </span> <span class="line" data-startTime="611">During this part of the session, </span><span class="line" data-startTime="611">I will decompose the </span><span class="line" data-startTime="615">sign up and linking </span><span class="line" data-startTime="615">functionality of the earlier </span><span class="line" data-startTime="617">demo, and just to give you an </span><span class="line" data-startTime="617">idea of what it takes to </span><span class="line" data-startTime="621">integrate with our Wallet </span><span class="line" data-startTime="621">Objects API. </span></p>

<p><span class="line" data-startTime="624">Keep in mind, though, that this </span><span class="line" data-startTime="624">is a demo, and that when </span><span class="line" data-startTime="627">we launch the consumer </span><span class="line" data-startTime="627">experience, the Marriott </span><span class="line" data-startTime="629">screens may differ. </span> <span class="line" data-startTime="633">The three parts of integration </span><span class="line" data-startTime="633">that I will focus on today is </span><span class="line" data-startTime="637">the creating of a loyalty </span><span class="line" data-startTime="637">Wallet Object. </span> <span class="line" data-startTime="640">This is, as David mentioned </span><span class="line" data-startTime="640">earlier, the base object that </span><span class="line" data-startTime="643">represents a loyalty program. </span> <span class="line" data-startTime="646">The second step is the setting </span><span class="line" data-startTime="646">up of the signed up and </span><span class="line" data-startTime="649">linking call back service. </span> <span class="line" data-startTime="651">This allows the instant sign up </span><span class="line" data-startTime="651">and linking directly from </span><span class="line" data-startTime="655">the mobile phone. </span> <span class="line" data-startTime="656">And the third and final step is </span><span class="line" data-startTime="656">the updating of the user's </span><span class="line" data-startTime="660">loyalty information </span><span class="line" data-startTime="660">from the cloud. </span> <span class="line" data-startTime="664">As David mentioned earlier, the </span><span class="line" data-startTime="664">Wallet Object class is the </span><span class="line" data-startTime="669">base representation for a </span><span class="line" data-startTime="669">loyalty card, or a number of </span><span class="line" data-startTime="673">loyalty cards. </span> <span class="line" data-startTime="675">What we have here is the Wallet </span><span class="line" data-startTime="675">Object class that was </span><span class="line" data-startTime="678">used for the Marriott demo. </span> <span class="line" data-startTime="680">In this we indicate the issuer </span><span class="line" data-startTime="680">name and program name as </span><span class="line" data-startTime="684">Marriott and Marriott Rewards. </span> <span class="line" data-startTime="686">And we specified the labels </span><span class="line" data-startTime="686">that are used </span><span class="line" data-startTime="690">for each of the fields. </span></p>

<p><span class="line" data-startTime="691">In this case, the rewards tiers </span><span class="line" data-startTime="691">are levels, and the </span><span class="line" data-startTime="696">account IDs are member IDs. </span> <span class="line" data-startTime="700">So let's go ahead and try </span><span class="line" data-startTime="700">inserting a loyalty Wallet </span><span class="line" data-startTime="703">Object class. </span> <span class="line" data-startTime="713">So what we have here is the same </span><span class="line" data-startTime="713">exact Wallet Object class </span><span class="line" data-startTime="716">that I showed earlier. </span> <span class="line" data-startTime="717">This is the JSON representation </span><span class="line" data-startTime="717">of the Marriott </span><span class="line" data-startTime="721">Rewards loyalty card. </span> <span class="line" data-startTime="724">And in here, as I pointed out </span><span class="line" data-startTime="724">earlier, we have the issuer </span><span class="line" data-startTime="728">name, the program name, as well </span><span class="line" data-startTime="728">as additional information </span><span class="line" data-startTime="732">such as the logo that will be </span><span class="line" data-startTime="732">used to render the loyalty </span><span class="line" data-startTime="735">card and also the template </span><span class="line" data-startTime="735">that will be </span><span class="line" data-startTime="738">used for the rendering. </span> <span class="line" data-startTime="741">So as David mentioned earlier, </span><span class="line" data-startTime="741">this is a REST based service. </span> <span class="line" data-startTime="744">And to insert a class, it's as </span><span class="line" data-startTime="744">easy as calling the Wallet </span><span class="line" data-startTime="750">Object class endpoint with </span><span class="line" data-startTime="750">this as the payload. </span></p>

<p><span class="line" data-startTime="755">Sorry. </span> <span class="line" data-startTime="756">Right there. </span> <span class="line" data-startTime="757">And let's give that a try. </span> <span class="line" data-startTime="761">So voila. </span> <span class="line" data-startTime="763">We've inserted a brand new </span><span class="line" data-startTime="763">Wallet Object class in the </span><span class="line" data-startTime="767">Google Wallet cloud. </span> <span class="line" data-startTime="768">At this point, you should be </span><span class="line" data-startTime="768">able to use this Wallet Object </span><span class="line" data-startTime="771">class for save to Wallet as well </span><span class="line" data-startTime="771">as sign up and linking. </span> <span class="line" data-startTime="789">Instant sign up and linking </span><span class="line" data-startTime="789">allows your users to sign up </span><span class="line" data-startTime="792">for a brand new loyalty card for </span><span class="line" data-startTime="792">your program directly from </span><span class="line" data-startTime="797">the mobile phone or link their </span><span class="line" data-startTime="797">existing loyalty card with </span><span class="line" data-startTime="800">your loyalty program </span><span class="line" data-startTime="800">to Google Wallet. </span> <span class="line" data-startTime="803">This is all done through the </span><span class="line" data-startTime="803">phone using Google Wallet. </span></p>

<p><span class="line" data-startTime="808">How this works is that a request </span><span class="line" data-startTime="808">is sent from the </span><span class="line" data-startTime="811">client phone to the Google </span><span class="line" data-startTime="811">Wallet cloud to the merchant </span><span class="line" data-startTime="815">callback service. </span> <span class="line" data-startTime="816">And the merchant callback </span><span class="line" data-startTime="816">service responds with an </span><span class="line" data-startTime="819">approved or rejected state. </span> <span class="line" data-startTime="821">So what we're looking at </span><span class="line" data-startTime="821">here is an example </span><span class="line" data-startTime="824">of a sign up request. </span> <span class="line" data-startTime="826">The primary thing to focus on </span><span class="line" data-startTime="826">in here is the Wallet user </span><span class="line" data-startTime="829">profile in the middle of </span><span class="line" data-startTime="829">the sign up request. </span> <span class="line" data-startTime="832">One of the benefits of instant </span><span class="line" data-startTime="832">sign up is that we use the </span><span class="line" data-startTime="835">information that is in the </span><span class="line" data-startTime="835">user's Wallet profile to </span><span class="line" data-startTime="840">pre-populate the forms that are </span><span class="line" data-startTime="840">used to sign up for your </span><span class="line" data-startTime="845">loyalty program. </span> <span class="line" data-startTime="847">The merchant will need to </span><span class="line" data-startTime="847">pre-select a number of fields </span><span class="line" data-startTime="851">that they would like, which </span><span class="line" data-startTime="851">includes first name, last </span><span class="line" data-startTime="853">name, email, phone </span><span class="line" data-startTime="853">number, maybe zip </span><span class="line" data-startTime="856">code, a number of options. </span></p>

<p><span class="line" data-startTime="863">The information is sent to the </span><span class="line" data-startTime="863">merchant with the user's </span><span class="line" data-startTime="866">explicit permission. </span> <span class="line" data-startTime="872">So once the merchant has </span><span class="line" data-startTime="872">received their request and </span><span class="line" data-startTime="875">processed the request, the </span><span class="line" data-startTime="875">merchant is expected to send </span><span class="line" data-startTime="878">back an either improved </span><span class="line" data-startTime="878">response </span><span class="line" data-startTime="881">or a failure response. </span> <span class="line" data-startTime="882">This is an example of a </span><span class="line" data-startTime="882">successful response. </span> <span class="line" data-startTime="885">In this, the three main fields </span><span class="line" data-startTime="885">to focus on are the sign up </span><span class="line" data-startTime="889">result &mdash; in this case, </span><span class="line" data-startTime="889">it's approved &mdash; </span><span class="line" data-startTime="890">the welcome message, and </span><span class="line" data-startTime="890">the Wallet Object. </span> <span class="line" data-startTime="893">The welcome message is what is </span><span class="line" data-startTime="893">shown to the user when they've </span><span class="line" data-startTime="898">successfully signed up for the </span><span class="line" data-startTime="898">program welcoming them to be </span><span class="line" data-startTime="901">your loyalty program. </span> <span class="line" data-startTime="903">The Wallet Object is the </span><span class="line" data-startTime="903">representation of the loyalty </span><span class="line" data-startTime="906">account within Google Wallet. </span> <span class="line" data-startTime="909">In the Wallet Object, it </span><span class="line" data-startTime="909">contains information such as </span><span class="line" data-startTime="913">the number of loyalty points, </span><span class="line" data-startTime="913">the status, and account name. </span></p>

<p><span class="line" data-startTime="919">For a failure response, this is </span><span class="line" data-startTime="919">a typical failure response. </span> <span class="line" data-startTime="928">We have a sign up result, which </span><span class="line" data-startTime="928">is in this case was </span><span class="line" data-startTime="931">rejected, and the message </span><span class="line" data-startTime="933">indicating why it was rejected. </span> <span class="line" data-startTime="937">So let's go through and </span><span class="line" data-startTime="937">take a look at an </span><span class="line" data-startTime="940">example callback service. </span> <span class="line" data-startTime="948">So what we have here is a </span><span class="line" data-startTime="948">Python based App Engine </span><span class="line" data-startTime="952">service that was used to run the </span><span class="line" data-startTime="952">Marriott Rewards demo from </span><span class="line" data-startTime="956">earlier today. </span> <span class="line" data-startTime="958">Since we cannot actually hook </span><span class="line" data-startTime="958">up to the Marriott loyalty </span><span class="line" data-startTime="961">back end, I've subbed out the </span><span class="line" data-startTime="961">system by creating this data </span><span class="line" data-startTime="964">access layer which supported </span><span class="line" data-startTime="964">creating a new loyalty account </span><span class="line" data-startTime="969">from the user profile and </span><span class="line" data-startTime="969">looking up an existing loyalty </span><span class="line" data-startTime="973">account using the account ID. </span> <span class="line" data-startTime="977">And I pre-populate the values </span><span class="line" data-startTime="977">for the account with a random </span><span class="line" data-startTime="983">number of points. </span> <span class="line" data-startTime="986">The request handler </span><span class="line" data-startTime="986">here handles two </span><span class="line" data-startTime="988">types of post requests &mdash; </span><span class="line" data-startTime="990">sign up and linking. </span> <span class="line" data-startTime="993">For sign up, the three steps </span><span class="line" data-startTime="993">that I go through is first, I </span><span class="line" data-startTime="996">create a new loyalty account </span><span class="line" data-startTime="996">in my back end. </span> <span class="line" data-startTime="999">Then I take that loyalty account </span><span class="line" data-startTime="999">and convert it from my </span><span class="line" data-startTime="1004">domain specific loyalty account </span><span class="line" data-startTime="1004">to a Wallet Object. </span></p>

<p><span class="line" data-startTime="1008">As you can see in here, I do </span><span class="line" data-startTime="1008">a direct mapping from the </span><span class="line" data-startTime="1011">account name to the account </span><span class="line" data-startTime="1011">name field in the Wallet </span><span class="line" data-startTime="1013">Object, account ID </span><span class="line" data-startTime="1013">respectively. </span> <span class="line" data-startTime="1016">In addition to that, I do </span><span class="line" data-startTime="1016">additional customization to </span><span class="line" data-startTime="1020">further brand this loyalty </span><span class="line" data-startTime="1020">card for the </span><span class="line" data-startTime="1023">Marriott Rewards program. </span> <span class="line" data-startTime="1028">Once I've done that, I add the </span><span class="line" data-startTime="1028">additional welcome message and </span><span class="line" data-startTime="1032">the sign up result, as you can </span><span class="line" data-startTime="1032">see here, and wrap that in the </span><span class="line" data-startTime="1035">JSON RPC 2.0 envelope. </span> <span class="line" data-startTime="1037">So we can actually go ahead </span><span class="line" data-startTime="1037">and give this a try. </span></p>

<p><span class="line" data-startTime="1041">What I'm going to do is I'm </span><span class="line" data-startTime="1041">going to send this fake </span><span class="line" data-startTime="1044">request here with the Wallet </span><span class="line" data-startTime="1044">user, John Smith and the phone </span><span class="line" data-startTime="1049">number there, to an App Engine </span><span class="line" data-startTime="1049">server that is run locally. </span> <span class="line" data-startTime="1057">So here's the request that we're </span><span class="line" data-startTime="1057">sending, and the App </span><span class="line" data-startTime="1063">Engine server responded </span><span class="line" data-startTime="1063">correctly with the Wallet </span><span class="line" data-startTime="1067">Object instance and response. </span> <span class="line" data-startTime="1070">So this is fine and all. </span> <span class="line" data-startTime="1071">But why don't we look at the </span><span class="line" data-startTime="1071">in the real production </span><span class="line" data-startTime="1073">environment on the phone? </span><span class="line" data-startTime="1081">So here &mdash; </span><span class="line" data-startTime="1083">focus. </span> <span class="line" data-startTime="1084">Good. </span> <span class="line" data-startTime="1088">So here, I have the Google </span><span class="line" data-startTime="1088">Wallet application that we are </span><span class="line" data-startTime="1092">using for testing. </span> <span class="line" data-startTime="1094">And again, this is for demo </span><span class="line" data-startTime="1094">purposes, and the actual </span><span class="line" data-startTime="1097">consumer experience </span><span class="line" data-startTime="1097">may differ. </span> <span class="line" data-startTime="1099">And what we do is we go in </span><span class="line" data-startTime="1099">here, find the Marriott </span><span class="line" data-startTime="1103">Rewards program, and it should </span><span class="line" data-startTime="1103">load up the additional </span><span class="line" data-startTime="1110">information about the </span><span class="line" data-startTime="1110">Marriott Rewards. </span> <span class="line" data-startTime="1112">This was similar to the demo </span><span class="line" data-startTime="1112">that you saw earlier. </span></p>

<p><span class="line" data-startTime="1116">Then we click on Join Now. </span> <span class="line" data-startTime="1117">And as you can see, it </span><span class="line" data-startTime="1117">pre-populates the form with </span><span class="line" data-startTime="1120">the name of the user on this </span><span class="line" data-startTime="1120">phone, on this account. </span> <span class="line" data-startTime="1125">I agree to the terms, </span><span class="line" data-startTime="1125">and I would like to </span><span class="line" data-startTime="1128">get additional emails. </span> <span class="line" data-startTime="1131">And then I create an account. </span> <span class="line" data-startTime="1136">And there you go. </span> <span class="line" data-startTime="1137">We have a brand new loyalty card </span><span class="line" data-startTime="1137">instantly inserted into </span><span class="line" data-startTime="1141">our Google Wallet application. </span> <span class="line" data-startTime="1148">So let's take a look at </span><span class="line" data-startTime="1148">the back end server </span><span class="line" data-startTime="1151">that ran this instance. </span> <span class="line" data-startTime="1153">Right here, we have the logs </span><span class="line" data-startTime="1153">for the App Engine server. </span></p>

<p><span class="line" data-startTime="1161">And as you can see </span><span class="line" data-startTime="1161">here, this is the </span><span class="line" data-startTime="1165">request that was received. </span> <span class="line" data-startTime="1167">And this was the response </span><span class="line" data-startTime="1167">that was returned back. </span> <span class="line" data-startTime="1175">And really, that's </span><span class="line" data-startTime="1175">all there is to </span><span class="line" data-startTime="1177">creating a callback service. </span> <span class="line" data-startTime="1178">Obviously, when you integrate </span><span class="line" data-startTime="1178">this with your loyalty back </span><span class="line" data-startTime="1181">end, there's additional business </span><span class="line" data-startTime="1181">logics that you may </span><span class="line" data-startTime="1184">use to create provision </span><span class="line" data-startTime="1184">a new account or </span><span class="line" data-startTime="1188">link an existing account. </span> <span class="line" data-startTime="1196">So your once your consumers </span><span class="line" data-startTime="1196">have linked their loyalty </span><span class="line" data-startTime="1201">account with your loyalty </span><span class="line" data-startTime="1201">program to Google Wallet, this </span><span class="line" data-startTime="1205">is where the fun part </span><span class="line" data-startTime="1205">really comes in. </span> <span class="line" data-startTime="1207">This is the part that you can </span><span class="line" data-startTime="1207">really engage your consumers </span><span class="line" data-startTime="1210">by updating their information </span><span class="line" data-startTime="1210">regularly or sending them </span><span class="line" data-startTime="1215">messages directly to </span><span class="line" data-startTime="1215">their mobile phone. </span> <span class="line" data-startTime="1221">To updatable a loyalty account, </span><span class="line" data-startTime="1221">as David mentioned </span><span class="line" data-startTime="1225">earlier, we send this </span><span class="line" data-startTime="1225">REST resource to </span><span class="line" data-startTime="1229">the resource endpoint. </span> <span class="line" data-startTime="1232">This is a Wallet </span><span class="line" data-startTime="1232">Object payload. </span></p>

<p><span class="line" data-startTime="1235">And in here, we update </span><span class="line" data-startTime="1235">the number of </span><span class="line" data-startTime="1237">points to 2000 points. </span> <span class="line" data-startTime="1240">And you can also update any of </span><span class="line" data-startTime="1240">the other fields as necessary. </span> <span class="line" data-startTime="1246">We then send this as </span><span class="line" data-startTime="1246">a part request to </span><span class="line" data-startTime="1250">the resource endpoint. </span> <span class="line" data-startTime="1254">Likewise, for messages, we </span><span class="line" data-startTime="1254">send the message payload </span><span class="line" data-startTime="1257">either to a Wallet Object </span><span class="line" data-startTime="1257">endpoint or to a Wallet Object </span><span class="line" data-startTime="1261">class endpoint. </span> <span class="line" data-startTime="1262">The difference being that a </span><span class="line" data-startTime="1262">message sent to Wallet Object </span><span class="line" data-startTime="1266">goes to one specific user, and </span><span class="line" data-startTime="1266">a message sent to a Wallet </span><span class="line" data-startTime="1269">Object class goes to </span><span class="line" data-startTime="1269">a group of users. </span> <span class="line" data-startTime="1274">So why don't we give </span><span class="line" data-startTime="1274">this a try here? </span><span class="line" data-startTime="1281">All right. </span></p>

<p><span class="line" data-startTime="1288">So last night, I stayed at the </span><span class="line" data-startTime="1288">Marriott Marquis, like many </span><span class="line" data-startTime="1291">people here. </span> <span class="line" data-startTime="1292">And I've earned an additional </span><span class="line" data-startTime="1292">2,500 points for staying at </span><span class="line" data-startTime="1295">the Marriott Marquis. </span> <span class="line" data-startTime="1297">So what I would like to do is </span><span class="line" data-startTime="1297">then update the number of </span><span class="line" data-startTime="1300">points for this loyalty account </span><span class="line" data-startTime="1300">to reflect my new </span><span class="line" data-startTime="1306">points status. </span> <span class="line" data-startTime="1307">What I've done is I've taken </span><span class="line" data-startTime="1307">the Wallet Object </span><span class="line" data-startTime="1311">that we just created. </span> <span class="line" data-startTime="1313">We update the version </span><span class="line" data-startTime="1313">number to indicate </span><span class="line" data-startTime="1316">that it's an update. </span> <span class="line" data-startTime="1317">And then we update the number </span><span class="line" data-startTime="1317">of points to 2,500. </span> <span class="line" data-startTime="1323">At this point, we find the ID </span><span class="line" data-startTime="1323">that was created, that we </span><span class="line" data-startTime="1332">created and send that payload </span><span class="line" data-startTime="1332">to that resources endpoint. </span> <span class="line" data-startTime="1343">And then there you go. </span> <span class="line" data-startTime="1344">The number of points </span><span class="line" data-startTime="1344">has updated. </span> <span class="line" data-startTime="1347">And then if we go back to the </span><span class="line" data-startTime="1347">phone itself and hit refresh, </span><span class="line" data-startTime="1354">we can see that the number </span><span class="line" data-startTime="1354">of points is now 2,500. </span> <span class="line" data-startTime="1358">[APPLAUSE] </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="1362"><span class="speakerName">Johnie Lee</span>: There you go &mdash; </span><span class="line" data-startTime="1363">2,500. </span> <span class="line" data-startTime="1367">So what I've shown you here </span><span class="line" data-startTime="1367">is the ability to easily </span><span class="line" data-startTime="1371">integrate with the Wallet </span><span class="line" data-startTime="1371">Object back end. </span> <span class="line" data-startTime="1374">And to go back to a story that </span><span class="line" data-startTime="1374">Pallavi told earlier. </span> <span class="line" data-startTime="1378">Imagine now you walk into </span><span class="line" data-startTime="1378">the lobby of a hotel. </span> <span class="line" data-startTime="1381">You have your Google </span><span class="line" data-startTime="1381">Wallet on you. </span> <span class="line" data-startTime="1383">You realize that you </span><span class="line" data-startTime="1383">don't have a </span><span class="line" data-startTime="1386">membership with that hotel. </span> <span class="line" data-startTime="1388">You find that program in your </span><span class="line" data-startTime="1388">Google Wallet, sign up </span><span class="line" data-startTime="1391">instantly, and by the time you </span><span class="line" data-startTime="1391">check in, your loyalty account </span><span class="line" data-startTime="1395">is updated to the most recent </span><span class="line" data-startTime="1395">point transaction. </span></p>

<p><span class="line" data-startTime="1398">Now, that is a great </span><span class="line" data-startTime="1398">user experience. </span> <span class="line" data-startTime="1400">I will turn it back to </span><span class="line" data-startTime="1400">Pallavi for wrap up. </span></p>

<p class="speaker"><span class="line" data-starttime="1404"><span class="speakerName">Pallavi Naresh</span>: Great. </span><span class="line" data-startTime="1404">Thanks, Johnie. </span><span class="line" data-startTime="1407">Let's see. </span><span class="line" data-startTime="1408">How do I switch this back? </span><span class="line" data-startTime="1413">We hope that you'll walk away </span><span class="line" data-startTime="1413">from this session with a good </span><span class="line" data-startTime="1416">understanding on how to use </span><span class="line" data-startTime="1416">the Wallet Objects API to </span><span class="line" data-startTime="1420">acquire new customers </span><span class="line" data-startTime="1420">and engage </span><span class="line" data-startTime="1422">your existing customers. </span><span class="line" data-startTime="1425">The best part about this is that </span><span class="line" data-startTime="1425">it's a single simple API </span><span class="line" data-startTime="1429">for loyalty offers and more. </span><span class="line" data-startTime="1434">We're already working with some </span><span class="line" data-startTime="1434">great partners, including </span><span class="line" data-startTime="1437">several folks who are powering </span><span class="line" data-startTime="1437">some of the world's largest </span><span class="line" data-startTime="1441">loyalty programs. </span><span class="line" data-startTime="1443">If you're interested in signing </span><span class="line" data-startTime="1443">up, visit the website </span><span class="line" data-startTime="1446">listed here on this slide. </span><span class="line" data-startTime="1448">And we're providing access </span><span class="line" data-startTime="1448">in the coming days. </span><span class="line" data-startTime="1452">We're also available </span><span class="line" data-startTime="1452">outside for office </span><span class="line" data-startTime="1454">hours in our sandbox. </span><span class="line" data-startTime="1457">You can also check out some live </span><span class="line" data-startTime="1457">integrations there to see </span><span class="line" data-startTime="1459">this all in action. </span><span class="line" data-startTime="1462">With that, I want to open the </span><span class="line" data-startTime="1462">floor up for questions. </span><span class="line" data-startTime="1465">Any questions? </span><span class="line" data-startTime="1466">Feel free to come up to </span><span class="line" data-startTime="1466">the mic in the middle. </span></p>

<p class="speaker"><span class="line" data-starttime="1471"><span class="speakerName">David Butcher</span>: Shy crowd. </span><span class="line" data-startTime="1472">Here's one. </span></p>

<p class="speaker"><span class="line" data-starttime="1474"><span class="speakerName">Audience</span>: Hi. </span><span class="line" data-startTime="1474">Are there any plans to make </span><span class="line" data-startTime="1474">the developer version of </span><span class="line" data-startTime="1477">Google Wallet that you guys </span><span class="line" data-startTime="1477">are using available to </span><span class="line" data-startTime="1480">developers along </span><span class="line" data-startTime="1480">with the APIs? </span></p>

<p class="speaker"><span class="line" data-starttime="1484"><span class="speakerName">Pallavi Naresh</span>: For now, we are </span><span class="line" data-startTime="1484">working with partners to </span><span class="line" data-startTime="1490">provide tools that allow you to </span><span class="line" data-startTime="1493">preview your Wallet Objects. </span><span class="line" data-startTime="1496">And then we are working to </span><span class="line" data-startTime="1496">quickly launch the consumer </span><span class="line" data-startTime="1499">experience so that you </span><span class="line" data-startTime="1499">can use that in </span><span class="line" data-startTime="1500">your development process. </span></p>

<p class="speaker"><span class="line" data-starttime="1502"><span class="speakerName">Audience</span>: OK, thank you. </span></p>

<p class="speaker"><span class="line" data-starttime="1509"><span class="speakerName">Audience</span>: In the app, how much </span><span class="line" data-startTime="1509">room do you have to customize </span><span class="line" data-startTime="1515">how your Wallet Object looks? </span><span class="line" data-startTime="1517">And are there plans to </span><span class="line" data-startTime="1517">change things if </span><span class="line" data-startTime="1520">they're not that flexible? </span></p>

<p class="speaker"><span class="line" data-starttime="1525"><span class="speakerName">Pallavi Naresh</span>: So we actually </span><span class="line" data-startTime="1525">allow several degrees of </span><span class="line" data-startTime="1527">freedom in customization so that </span><span class="line" data-startTime="1527">you can really showcase </span><span class="line" data-startTime="1532">your brand. </span><span class="line" data-startTime="1533">For specific details, you </span><span class="line" data-startTime="1533">can check out the </span><span class="line" data-startTime="1536">documentation on the API. </span><span class="line" data-startTime="1538">But in general, it's quite </span><span class="line" data-startTime="1538">flexible in terms of the </span><span class="line" data-startTime="1542">layout you can choose, the </span><span class="line" data-startTime="1542">colors, the logos, as well as </span><span class="line" data-startTime="1546">the information that you </span><span class="line" data-startTime="1546">show in your card. </span><span class="line" data-startTime="1551">Great. </span></p>

<p class="speaker"><span class="line" data-starttime="1551"><span class="speakerName">Audience</span>: So the consumer of </span><span class="line" data-startTime="1551">your services really seems to </span><span class="line" data-startTime="1554">be aimed at businesses &mdash; </span><span class="line" data-startTime="1556">creating loyalty cards that </span><span class="line" data-startTime="1556">reflect what they offer in the </span><span class="line" data-startTime="1558">physical world. </span> <span class="line" data-startTime="1560">But like we saw with Apple's </span><span class="line" data-startTime="1560">Passbook, there was an </span><span class="line" data-startTime="1563">opportunity for companies that </span><span class="line" data-startTime="1563">wanted to support small </span><span class="line" data-startTime="1567">businesses that don't have </span><span class="line" data-startTime="1567">formal loyalty programs to </span><span class="line" data-startTime="1569">sort of consolidate and </span><span class="line" data-startTime="1569">act as a broker. </span> <span class="line" data-startTime="1573">Is there a similar </span><span class="line" data-startTime="1573">opportunity here? </span><span class="line" data-startTime="1575">Or do you think that the main </span><span class="line" data-startTime="1575">consumer is going to be </span><span class="line" data-startTime="1578">partners who create </span><span class="line" data-startTime="1578">loyalty programs </span><span class="line" data-startTime="1580">for their own business? </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="1582"><span class="speakerName">Pallavi Naresh</span>: We're actually </span><span class="line" data-startTime="1582">already partnering with </span><span class="line" data-startTime="1584">BellyCard that is doing exactly </span><span class="line" data-startTime="1584">what you describe. </span><span class="line" data-startTime="1587">So you can also use the Wallet </span><span class="line" data-startTime="1587">Objects API to &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1592"><span class="speakerName">Audience</span>: Represent other &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1593"><span class="speakerName">Pallavi Naresh</span>: To </span><span class="line" data-startTime="1593">represent others. </span><span class="line" data-startTime="1594">That's right. </span></p>

<p class="speaker"><span class="line" data-starttime="1594"><span class="speakerName">Audience</span>: OK. </span><span class="line" data-startTime="1595">That was the question. </span><span class="line" data-startTime="1595">Thanks. </span></p>

<p class="speaker"><span class="line" data-starttime="1599"><span class="speakerName">Pallavi Naresh</span>: More </span><span class="line" data-startTime="1599">questions? </span><span class="line" data-startTime="1608">Great. </span><span class="line" data-startTime="1609">Well then, with that, we'll wrap </span><span class="line" data-startTime="1609">up and hope to see you </span><span class="line" data-startTime="1612">guys all in our sandbox </span><span class="line" data-startTime="1612">outside. </span></p>

<p class="speaker"><span class="line" data-starttime="1615"><span class="speakerName">David Butcher</span>: Thank you. </span></p>

<p class="speaker"><span class="line" data-starttime="1615"><span class="speakerName">Johnie Lee</span>: Thank you. </span></p>