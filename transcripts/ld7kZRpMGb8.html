<style>* {font-family: "Open Sans", sans-serif}
a {color: #77aaff}
a.video {border-bottom: 1px solid #ddd; display: block; margin: 0 0 2em 0; padding: 0 0 2em 0}
h2 {color: #444; font-size: 18px;}
span.speakerName {color: black; font-weight: 900;}
body {padding: 2em}
p {color: #444; margin: 0; text-indent: 1.5em;}
p.speaker {margin: 1em 0 0 0; text-indent: 0;}
div#transcript > p:first-child {text-indent: 0;}
</style>

<h1>Google I/O 2013 &mdash; Enabling Blind and Low-Vision Accessibility On Android</h1>

<h2>TV Raman, Casey Burkhardt, Android, Alan Viverette</h2>

<a class="video" href="http://youtu.be/ld7kZRpMGb8">youtu.be/ld7kZRpMGb8</a><div id="transcript"><p class="speaker"><span class="line" data-starttime="2"><span class="speakerName">TV Raman</span>: Welcome, everyone. </span> <span class="line" data-startTime="4">Thank you for coming to this </span><span class="line" data-startTime="4">talk on Android accessibility </span><span class="line" data-startTime="7">and the second day of I/O. Hope </span><span class="line" data-startTime="7">you had a great party </span><span class="line" data-startTime="10">last night and are ready </span><span class="line" data-startTime="10">for a whole sequence </span><span class="line" data-startTime="12">of talks this morning. </span> <span class="line" data-startTime="14">My name is TV Raman. </span> <span class="line" data-startTime="15">I've been working on Android and </span><span class="line" data-startTime="15">Chrome accessibility for </span><span class="line" data-startTime="18">the last few years. </span> <span class="line" data-startTime="19">And with me I have Casey </span><span class="line" data-startTime="19">Burkhardt and Alan Viverette </span><span class="line" data-startTime="23">who also work on Android </span><span class="line" data-startTime="23">accessibility. </span> <span class="line" data-startTime="26">A quick intro to what we're </span><span class="line" data-startTime="26">going to be talking about. </span> <span class="line" data-startTime="32">So this is about Android </span><span class="line" data-startTime="32">accessibility, and we've </span><span class="line" data-startTime="34">billed this as an advanced </span><span class="line" data-startTime="34">developer talk. </span> <span class="line" data-startTime="39">Android accessibility </span><span class="line" data-startTime="39">is a core part </span><span class="line" data-startTime="42">of the Android framework. </span> <span class="line" data-startTime="44">And the way you should think of </span><span class="line" data-startTime="44">what that core capability, </span><span class="line" data-startTime="48">the framework, does is think of </span><span class="line" data-startTime="48">it as mechanisms that are </span><span class="line" data-startTime="52">built into the platform, so that </span><span class="line" data-startTime="52">you as a developer can </span><span class="line" data-startTime="57">reach the largest </span><span class="line" data-startTime="57">number of users. </span></p>

<p><span class="line" data-startTime="60">You heard some fairly </span><span class="line" data-startTime="60">amazing numbers </span><span class="line" data-startTime="62">in the keynote yesterday. </span> <span class="line" data-startTime="64">I can never remember </span><span class="line" data-startTime="64">the numbers. </span> <span class="line" data-startTime="65">I think it was about </span><span class="line" data-startTime="65">900 million Android </span><span class="line" data-startTime="68">devices out there now. </span> <span class="line" data-startTime="69">By the time we are done during </span><span class="line" data-startTime="69">this talk, it's probably 902 </span><span class="line" data-startTime="72">million at the rate at </span><span class="line" data-startTime="72">which things grow </span><span class="line" data-startTime="75">What is Android as a platform </span><span class="line" data-startTime="75">giving you the developer? </span><span class="line" data-startTime="80">It's giving you the developer </span><span class="line" data-startTime="80">the ability to write these </span><span class="line" data-startTime="83">wonderfully innovative apps that </span><span class="line" data-startTime="83">can run on a very large </span><span class="line" data-startTime="87">variety of devices. </span> <span class="line" data-startTime="90">So you don't have to worry about </span><span class="line" data-startTime="90">different screen sizes, </span><span class="line" data-startTime="92">5 inches versus 4 1/2 inches </span><span class="line" data-startTime="92">versus 5 1/2 inches. </span> <span class="line" data-startTime="95">You don't have to worry about </span><span class="line" data-startTime="95">does this phone have a </span><span class="line" data-startTime="97">keyboard or not, all </span><span class="line" data-startTime="97">of those things. </span> <span class="line" data-startTime="100">Think of the other half of the </span><span class="line" data-startTime="100">equation, the people who use </span><span class="line" data-startTime="103">your applications. </span></p>

<p><span class="line" data-startTime="106">Today, most of you are probably </span><span class="line" data-startTime="106">targeting your </span><span class="line" data-startTime="109">applications at users who have </span><span class="line" data-startTime="109">perfect vision, who have </span><span class="line" data-startTime="113">perfect hand-eye coordination, </span><span class="line" data-startTime="113">who can use the </span><span class="line" data-startTime="115">touch screen well. </span> <span class="line" data-startTime="117">In a sense, you are not having </span><span class="line" data-startTime="117">to focus as much </span><span class="line" data-startTime="121">on the user's abilities. </span> <span class="line" data-startTime="123">What we, from the accessibility </span><span class="line" data-startTime="123">side of Android, </span><span class="line" data-startTime="126">do is to make sure that you can </span><span class="line" data-startTime="126">continue to focus on your </span><span class="line" data-startTime="130">app, on the core part </span><span class="line" data-startTime="130">of your part. </span> <span class="line" data-startTime="132">And the Android platform just </span><span class="line" data-startTime="132">does the heavy lifting for you </span><span class="line" data-startTime="138">in terms of making sure that </span><span class="line" data-startTime="138">your app just works for all </span><span class="line" data-startTime="141">your users. </span> <span class="line" data-startTime="142">But life's never that </span><span class="line" data-startTime="142">simple, right? </span><span class="line" data-startTime="144">If you had to code your app all </span><span class="line" data-startTime="144">the way from the beginning </span><span class="line" data-startTime="148">to worry about the blind user, </span><span class="line" data-startTime="148">the low-vision user, the deaf </span><span class="line" data-startTime="150">user, the motion-impaired </span><span class="line" data-startTime="150">user, you would </span><span class="line" data-startTime="152">have a very hard time. </span></p>

<p><span class="line" data-startTime="154">Our goal is to make that </span><span class="line" data-startTime="154">really, really easy. </span> <span class="line" data-startTime="157">And for core platform APIs, </span><span class="line" data-startTime="157">everything we talk about today </span><span class="line" data-startTime="162">will be in the context of low </span><span class="line" data-startTime="162">vision and blindness. </span> <span class="line" data-startTime="165">But the way it does architected, </span><span class="line" data-startTime="165">when you address </span><span class="line" data-startTime="167">these use cases, you actually </span><span class="line" data-startTime="167">will be covering a lot more </span><span class="line" data-startTime="170">use cases, all the way from </span><span class="line" data-startTime="170">one button controls for </span><span class="line" data-startTime="174">somebody who's severely </span><span class="line" data-startTime="174">motion-impaired to the blind </span><span class="line" data-startTime="177">user who cannot see at all. </span> <span class="line" data-startTime="179">We've done previous talks about </span><span class="line" data-startTime="179">the core accessibility </span><span class="line" data-startTime="182">layer in Android. </span> <span class="line" data-startTime="183">And I highly recommend our talk </span><span class="line" data-startTime="183">from last year which gave </span><span class="line" data-startTime="187">a very detailed overview of </span><span class="line" data-startTime="187">the features in Jellybean. </span></p>

<p><span class="line" data-startTime="190">This year, what we will do is </span><span class="line" data-startTime="190">Casey will first take you </span><span class="line" data-startTime="193">quickly through some of the </span><span class="line" data-startTime="193">accessibility basics as a </span><span class="line" data-startTime="198">quick revision. </span> <span class="line" data-startTime="199">And then Alan will go through </span><span class="line" data-startTime="199">in detail about the next </span><span class="line" data-startTime="202">level, which is what if </span><span class="line" data-startTime="202">you're designing an </span><span class="line" data-startTime="205">entirely a custom UI. </span> <span class="line" data-startTime="206">As I said the Android platform </span><span class="line" data-startTime="206">with its built-in </span><span class="line" data-startTime="209">accessibility, with its built-in </span><span class="line" data-startTime="209">view layer, has </span><span class="line" data-startTime="212">accessibility support </span><span class="line" data-startTime="212">for all the widgets. </span> <span class="line" data-startTime="214">But what if you've decided to </span><span class="line" data-startTime="214">create a completely new </span><span class="line" data-startTime="217">experience? </span><span class="line" data-startTime="219">How do you easily make </span><span class="line" data-startTime="219">that then accessible. </span> <span class="line" data-startTime="222">So that will be the second </span><span class="line" data-startTime="222">half of this talk. </span> <span class="line" data-startTime="225">We will have office hours. </span></p>

<p><span class="line" data-startTime="226">We will give you details on the </span><span class="line" data-startTime="226">office hours again towards </span><span class="line" data-startTime="229">the end of the talk. </span> <span class="line" data-startTime="230">We also have a sandbox </span><span class="line" data-startTime="230">downstairs where you can see </span><span class="line" data-startTime="233">accessibility technologies both </span><span class="line" data-startTime="233">from us at Google as well </span><span class="line" data-startTime="235">as from our partners. </span> <span class="line" data-startTime="237">So enjoy the talk. </span> <span class="line" data-startTime="239">I look forward to your </span><span class="line" data-startTime="239">questions at the end. </span> <span class="line" data-startTime="241">And take it away, Casey. </span></p>

<p class="speaker"><span class="line" data-starttime="245"><span class="speakerName">Casey Burkhardt</span>: Thanks Raman. </span> <span class="line" data-startTime="247">Hi, everyone. </span> <span class="line" data-startTime="248">I'm Casey Burkhardt. </span> <span class="line" data-startTime="248">I'm a software engineer </span><span class="line" data-startTime="248">on the Accessibility </span><span class="line" data-startTime="250">Engineering Team at Google. </span> <span class="line" data-startTime="252">And as Raman mentioned, I'm </span><span class="line" data-startTime="252">going to go through some of </span><span class="line" data-startTime="254">the accessibility basics </span><span class="line" data-startTime="254">on Android. </span> <span class="line" data-startTime="258">So accessibility is </span><span class="line" data-startTime="258">exposed through </span><span class="line" data-startTime="260">accessibility services. </span> <span class="line" data-startTime="262">The framework provides </span><span class="line" data-startTime="262">information about user </span><span class="line" data-startTime="265">interaction to these services </span><span class="line" data-startTime="265">through objects called </span><span class="line" data-startTime="269">accessibility events. </span> <span class="line" data-startTime="271">These are presented as </span><span class="line" data-startTime="271">accessibility services which </span><span class="line" data-startTime="274">had a privilege level that's a </span><span class="line" data-startTime="274">bit higher than other services </span><span class="line" data-startTime="276">to receive information about </span><span class="line" data-startTime="276">this user interaction. </span> <span class="line" data-startTime="279">So we get information about </span><span class="line" data-startTime="279">notification, movement of </span><span class="line" data-startTime="282">focus, how the user interacts </span><span class="line" data-startTime="282">with apps. </span></p>

<p><span class="line" data-startTime="285">And the accessibility service </span><span class="line" data-startTime="285">is responsible for providing </span><span class="line" data-startTime="288">feedback for that. </span> <span class="line" data-startTime="291">We ship two accessibility </span><span class="line" data-startTime="291">services right now. </span> <span class="line" data-startTime="293">The first is TalkBack, which </span><span class="line" data-startTime="293">is a screen reader that's </span><span class="line" data-startTime="296">optimized for the </span><span class="line" data-startTime="296">touch screen. </span> <span class="line" data-startTime="299">What we do is we allow for </span><span class="line" data-startTime="299">different types of navigation </span><span class="line" data-startTime="302">throughout your application </span><span class="line" data-startTime="302">and throughout Android. </span> <span class="line" data-startTime="305">We allow random access through </span><span class="line" data-startTime="305">a feature called </span><span class="line" data-startTime="307">ExploreByTouch, which allows a </span><span class="line" data-startTime="307">users to use a single finger </span><span class="line" data-startTime="311">to interrogate the screen </span><span class="line" data-startTime="311">and explore what </span><span class="line" data-startTime="313">they're currently touching. </span> <span class="line" data-startTime="314">The accessibility service gets </span><span class="line" data-startTime="314">information about that </span><span class="line" data-startTime="316">interaction and provides </span><span class="line" data-startTime="316">feedback to the user. </span> <span class="line" data-startTime="319">We also provide access to this </span><span class="line" data-startTime="319">onscreen content linearly. </span></p>

<p><span class="line" data-startTime="323">So if a user is unfamiliar with </span><span class="line" data-startTime="323">an interface, they can </span><span class="line" data-startTime="328">navigate it item by item </span><span class="line" data-startTime="328">to see everything </span><span class="line" data-startTime="330">that's on the screen. </span> <span class="line" data-startTime="333">TalkBack provides all this </span><span class="line" data-startTime="333">feedback through </span><span class="line" data-startTime="335">text-to-speech as well as </span><span class="line" data-startTime="335">vibration feedback and </span><span class="line" data-startTime="337">auditory icons. </span> <span class="line" data-startTime="339">But we also ship another </span><span class="line" data-startTime="339">service, BrailleBack, which </span><span class="line" data-startTime="342">works in a similar way but </span><span class="line" data-startTime="342">provides feedback on a </span><span class="line" data-startTime="344">refreshable Braille display. </span> <span class="line" data-startTime="346">So this is a device that </span><span class="line" data-startTime="346">connects to the Android phone </span><span class="line" data-startTime="349">or tablet through Bluetooth and </span><span class="line" data-startTime="349">actually changes its state </span><span class="line" data-startTime="353">of little actuator pins, </span><span class="line" data-startTime="353">so the user can read </span><span class="line" data-startTime="355">Braille on the fly. </span></p>

<p><span class="line" data-startTime="357">The user can also click on </span><span class="line" data-startTime="357">individual cells which result </span><span class="line" data-startTime="360">in click actions being sent to </span><span class="line" data-startTime="360">the view that represents the </span><span class="line" data-startTime="363">text from that cell and can also </span><span class="line" data-startTime="363">pan through the entire </span><span class="line" data-startTime="366">onscreen content to </span><span class="line" data-startTime="366">see everything </span><span class="line" data-startTime="368">that's on the screen. </span> <span class="line" data-startTime="369">Most of these Braille devices </span><span class="line" data-startTime="369">also include a built-in </span><span class="line" data-startTime="371">keyboard, so the user </span><span class="line" data-startTime="371">can even enter text. </span> <span class="line" data-startTime="374">All of these things combine to </span><span class="line" data-startTime="374">allow the user to drive the </span><span class="line" data-startTime="376">phone or tablet from inside </span><span class="line" data-startTime="376">their pocket just with this </span><span class="line" data-startTime="379">Braille display. </span></p>

<p><span class="line" data-startTime="383">A key tenet of accessibility in </span><span class="line" data-startTime="383">Jellybean and above is the </span><span class="line" data-startTime="386">idea of accessibility focus. </span> <span class="line" data-startTime="388">It works just like system input </span><span class="line" data-startTime="388">focus, but it's assigned </span><span class="line" data-startTime="391">by an accessibility focused to </span><span class="line" data-startTime="391">any view in the interface. </span> <span class="line" data-startTime="395">So as a user interacts with the </span><span class="line" data-startTime="395">device, the service gets </span><span class="line" data-startTime="398">events about the interaction and </span><span class="line" data-startTime="398">can decide to assign focus </span><span class="line" data-startTime="403">to anywhere in the </span><span class="line" data-startTime="403">user interface. </span> <span class="line" data-startTime="405">Focus is indicated by this </span><span class="line" data-startTime="405">yellow highlight you see </span><span class="line" data-startTime="408">around the clock widget here. </span> <span class="line" data-startTime="409">And when something receives </span><span class="line" data-startTime="409">focus, the service is intended </span><span class="line" data-startTime="412">to speak or provide some sort </span><span class="line" data-startTime="412">of feedback to the user. </span></p>

<p><span class="line" data-startTime="416">Focus is also the point of </span><span class="line" data-startTime="416">interaction for any events or </span><span class="line" data-startTime="421">actions that occur from </span><span class="line" data-startTime="421">that point forward. </span> <span class="line" data-startTime="423">So for example, if I double tap </span><span class="line" data-startTime="423">while this widget receives </span><span class="line" data-startTime="426">focus, the clock widget will </span><span class="line" data-startTime="426">receive a click event. </span> <span class="line" data-startTime="428">If I double tap and hold my </span><span class="line" data-startTime="428">finger down, the [INAUDIBLE] </span><span class="line" data-startTime="431">will receive a long click </span><span class="line" data-startTime="431">event, and so forth. </span> <span class="line" data-startTime="435">So it's up to the accessibility </span><span class="line" data-startTime="435">service about </span><span class="line" data-startTime="437">how to assign this focus. </span> <span class="line" data-startTime="440">In TalkBack, we use a heuristic </span><span class="line" data-startTime="440">based on whether a </span><span class="line" data-startTime="444">view is actionable or not to </span><span class="line" data-startTime="444">determine focusability. </span> <span class="line" data-startTime="447">So what we do is we take a look </span><span class="line" data-startTime="447">at the view hierarchy. </span></p>

<p><span class="line" data-startTime="450">We see that a view is either </span><span class="line" data-startTime="450">clickable or focusable, and we </span><span class="line" data-startTime="454">mark that view as a candidate </span><span class="line" data-startTime="454">to receive </span><span class="line" data-startTime="456">accessibility focus. </span> <span class="line" data-startTime="458">When we traverse the hierarchy, </span><span class="line" data-startTime="458">we take these </span><span class="line" data-startTime="460">candidates and we assign focus </span><span class="line" data-startTime="460">to them in the order that the </span><span class="line" data-startTime="463">user intends through </span><span class="line" data-startTime="463">their interaction. </span> <span class="line" data-startTime="466">And failing to find actionable </span><span class="line" data-startTime="466">content, we fall back to </span><span class="line" data-startTime="470">actual text content. </span> <span class="line" data-startTime="471">So if you don't have focusable </span><span class="line" data-startTime="471">or clickable content in your </span><span class="line" data-startTime="473">application, but you still have </span><span class="line" data-startTime="473">text or labeled images, </span><span class="line" data-startTime="476">we'll focus those as well. </span> <span class="line" data-startTime="480">So here's an example of that. </span> <span class="line" data-startTime="481">What we have here is the folder </span><span class="line" data-startTime="481">widget from the home </span><span class="line" data-startTime="486">screen that comes default in </span><span class="line" data-startTime="486">most stock Android devices. </span> <span class="line" data-startTime="489">And what we're interested here </span><span class="line" data-startTime="489">in is a folder icon. </span> <span class="line" data-startTime="492">You see the folder icon object, </span><span class="line" data-startTime="492">outlined in yellow in </span><span class="line" data-startTime="495">this hierarchy viewer tree, </span><span class="line" data-startTime="495">is the current node with </span><span class="line" data-startTime="497">accessibility focus. </span> <span class="line" data-startTime="499">When TalkBack traverses the </span><span class="line" data-startTime="499">hierarchy, we see that this </span><span class="line" data-startTime="501">view is clickable. </span></p>

<p><span class="line" data-startTime="504">So we say oh, this is an actual </span><span class="line" data-startTime="504">piece of content. </span> <span class="line" data-startTime="506">We should give it accessibility </span><span class="line" data-startTime="506">focus. </span> <span class="line" data-startTime="508">When the user navigates to this </span><span class="line" data-startTime="508">point in the hierarchy, </span><span class="line" data-startTime="511">we select this view, search </span><span class="line" data-startTime="511">down and traverse its </span><span class="line" data-startTime="514">children, and populate speech </span><span class="line" data-startTime="514">with the content of its </span><span class="line" data-startTime="518">children nodes. </span> <span class="line" data-startTime="519">So for this example, the image </span><span class="line" data-startTime="519">view is labeled with the </span><span class="line" data-startTime="522">content description &mdash; </span><span class="line" data-startTime="523">folder &mdash; </span><span class="line" data-startTime="523">and the bubble text view </span><span class="line" data-startTime="523">has the text &mdash; </span><span class="line" data-startTime="525">Google. </span> <span class="line" data-startTime="526">So TalkBack will speak </span><span class="line" data-startTime="526">Folder, Google. </span> <span class="line" data-startTime="530">So now let's switch over to a </span><span class="line" data-startTime="530">demo, and we'll quickly show </span><span class="line" data-startTime="534">how TalkBack will work with your </span><span class="line" data-startTime="534">application, how users </span><span class="line" data-startTime="536">will use ExploreByTouch and </span><span class="line" data-startTime="536">linear navigation to move </span><span class="line" data-startTime="539">through your user interface. </span> <span class="line" data-startTime="541">And then we'll do a quick demo </span><span class="line" data-startTime="541">of Braille and introduce our </span><span class="line" data-startTime="544">new virtual Braille display. </span></p>

<p><span class="line" data-startTime="550">So here we have an Android </span><span class="line" data-startTime="550">device running the latest </span><span class="line" data-startTime="553">version of Jellybean. </span> <span class="line" data-startTime="554">All accessibility on the </span><span class="line" data-startTime="554">platform can be enabled </span><span class="line" data-startTime="557">through a common location. </span> <span class="line" data-startTime="559">It lives in Settings, </span><span class="line" data-startTime="559">Accessibility. </span> <span class="line" data-startTime="562">And you can see it lists all </span><span class="line" data-startTime="562">the services that are </span><span class="line" data-startTime="564">currently installed. </span> <span class="line" data-startTime="565">Here we have TalkBack </span><span class="line" data-startTime="565">and BrailleBack. </span> <span class="line" data-startTime="567">To enable a service, just tap it </span><span class="line" data-startTime="567">and flip its switch to on. </span> <span class="line" data-startTime="572">You'll receive a warning that </span><span class="line" data-startTime="572">it's a privileged service. </span> <span class="line" data-startTime="574">It can do things like retrieve </span><span class="line" data-startTime="574">interaction events and get </span><span class="line" data-startTime="577">onscreen content. </span></p>

<p><span class="line" data-startTime="578">You accept the warning, and the </span><span class="line" data-startTime="578">service is now running. </span> <span class="line" data-startTime="582">As I navigate through the user </span><span class="line" data-startTime="582">interface with a single </span><span class="line" data-startTime="584">finger, I can actually get </span><span class="line" data-startTime="584">feedback for the content that </span><span class="line" data-startTime="587">I'm currently touching. </span></p>

<p class="speaker"><span class="line" data-starttime="589"><span class="speakerName">Android</span>: When TalkBack is on, </span><span class="line" data-startTime="589">your device provides spoken </span><span class="line" data-startTime="592">feedback to help blind </span><span class="line" data-startTime="592">and low-vision users. </span><span class="line" data-startTime="594">For example, it describes </span><span class="line" data-startTime="594">what you touch &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="598"><span class="speakerName">Casey Burkhardt</span>: So I covered </span><span class="line" data-startTime="598">the proximity sensor to </span><span class="line" data-startTime="600">Silence Speech. </span><span class="line" data-startTime="601">I can continue to navigate </span><span class="line" data-startTime="601">around the interface &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="602"><span class="speakerName">Android</span>: When TalkBack </span><span class="line" data-startTime="602">is on, on switch &mdash; </span><span class="line" data-startTime="608">3.5 [? g-note ?]. </span></p>

<p class="speaker"><span class="line" data-starttime="610"><span class="speakerName">Casey Burkhardt</span>: Let's </span><span class="line" data-startTime="610">now stop TalkBack. </span></p>

<p class="speaker"><span class="line" data-starttime="610"><span class="speakerName">Android</span>: OK. </span><span class="line" data-startTime="611">Cancel but &mdash; </span><span class="line" data-startTime="612">Settings. </span></p>

<p class="speaker"><span class="line" data-starttime="613"><span class="speakerName">Casey Burkhardt</span>: To activate </span><span class="line" data-startTime="613">something in the interface &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="615"><span class="speakerName">Android</span>: When TalkBack is on &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="615"><span class="speakerName">Casey Burkhardt</span>: I </span><span class="line" data-startTime="615">give it focus &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="616"><span class="speakerName">Android</span>: Settings. </span></p>

<p class="speaker"><span class="line" data-starttime="616"><span class="speakerName">Casey Burkhardt</span>: And </span><span class="line" data-startTime="616">I double tap. </span></p>

<p class="speaker"><span class="line" data-starttime="618"><span class="speakerName">Android</span>: TalkBack Settings. </span></p>

<p class="speaker"><span class="line" data-starttime="620"><span class="speakerName">Casey Burkhardt</span>: That sends a </span><span class="line" data-startTime="620">click event to that button, </span><span class="line" data-startTime="622">and fires the Click Listener, </span><span class="line" data-startTime="622">and opens TalkBack Settings. </span><span class="line" data-startTime="625">If I'm unfamiliar with this </span><span class="line" data-startTime="625">interface, I can actually </span><span class="line" data-startTime="628">navigate it item by item. </span><span class="line" data-startTime="629">And here's how I do that. </span><span class="line" data-startTime="630">I just do that with a series </span><span class="line" data-startTime="630">of Swype gestures. </span></p>

<p class="speaker"><span class="line" data-starttime="633"><span class="speakerName">Android</span>: TalkBack Settings. </span><span class="line" data-startTime="635">Speech. </span><span class="line" data-startTime="636">Speech Volume. </span><span class="line" data-startTime="637">Match media volume. </span></p>

<p class="speaker"><span class="line" data-starttime="638"><span class="speakerName">Casey Burkhardt</span>: And so forth. </span><span class="line" data-startTime="639">I can move back by Swyping </span><span class="line" data-startTime="639">the opposite direction. </span></p>

<p class="speaker"><span class="line" data-starttime="642"><span class="speakerName">Android</span>: Speech. </span></p>

<p class="speaker"><span class="line" data-starttime="644"><span class="speakerName">Casey Burkhardt</span>: We also provide </span><span class="line" data-startTime="644">quick access to common </span><span class="line" data-startTime="646">system functions, like pulling </span><span class="line" data-startTime="646">down the notification shade. </span></p>

<p class="speaker"><span class="line" data-starttime="650"><span class="speakerName">Android</span>: Notification shade. </span><span class="line" data-startTime="651">CASEY BURKHARDT: </span><span class="line" data-startTime="651">Or going back. </span></p>

<p class="speaker"><span class="line" data-starttime="653"><span class="speakerName">Android</span>: TalkBack settings. </span></p>

<p class="speaker"><span class="line" data-starttime="656"><span class="speakerName">Casey Burkhardt</span>: We also have a </span><span class="line" data-startTime="656">great tool called the Global </span><span class="line" data-startTime="659">Context Menu, which allows a </span><span class="line" data-startTime="659">user to quickly access common </span><span class="line" data-startTime="662">tasks within TalkBack. </span><span class="line" data-startTime="664">For example, it's very important </span><span class="line" data-startTime="664">sometimes to be able </span><span class="line" data-startTime="666">to read all the content </span><span class="line" data-startTime="666">on the screen at once. </span></p>

<p class="speaker"><span class="line" data-starttime="672"><span class="speakerName">Android</span>: Touch the screen and </span><span class="line" data-startTime="672">explore in a circle to find an </span><span class="line" data-startTime="674">item, then lift to select. </span><span class="line" data-startTime="677">Read from top. </span><span class="line" data-startTime="678">TalkBack settings. </span><span class="line" data-startTime="680">Speech. </span><span class="line" data-startTime="681">Speech volume. </span><span class="line" data-startTime="682">Match media volume. </span><span class="line" data-startTime="683">Use pitch changes. </span><span class="line" data-startTime="684">Speak keyboard feedback and &mdash; </span><span class="line" data-startTime="686">speech. </span></p>

<p class="speaker"><span class="line" data-starttime="687"><span class="speakerName">Casey Burkhardt</span>: And </span><span class="line" data-startTime="687">I'll touch the </span><span class="line" data-startTime="687">screen to silence it. </span></p>

<p class="speaker"><span class="line" data-starttime="688"><span class="speakerName">Android</span>: Speech volume. </span><span class="line" data-startTime="689">Match media &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="691"><span class="speakerName">Casey Burkhardt</span>: So you can see </span><span class="line" data-startTime="691">that accessibility moved </span><span class="line" data-startTime="693">on its own. </span><span class="line" data-startTime="694">It would read through the entire </span><span class="line" data-startTime="694">user interface and </span><span class="line" data-startTime="696">describe to the user </span><span class="line" data-startTime="696">what's there. </span><span class="line" data-startTime="698">This is a great tool for </span><span class="line" data-startTime="698">developers too, because it </span><span class="line" data-startTime="701">allows them to open up an </span><span class="line" data-startTime="701">activity, enable reading from </span><span class="line" data-startTime="704">top, look at each item as it </span><span class="line" data-startTime="704">receives accessibility focus, </span><span class="line" data-startTime="708">and ensure that the spoken </span><span class="line" data-startTime="708">description is </span><span class="line" data-startTime="710">accurate for that item. </span><span class="line" data-startTime="712">If something's unlabeled, </span><span class="line" data-startTime="712">mislabeled, or doesn't receive </span><span class="line" data-startTime="714">accessibility focus, it's really </span><span class="line" data-startTime="714">easy to tell which </span><span class="line" data-startTime="717">widget you need to look into </span><span class="line" data-startTime="717">to improve the experience. </span><span class="line" data-startTime="721">So in addition to TalkBack, </span><span class="line" data-startTime="721">we have BrailleBack. </span><span class="line" data-startTime="724">Let's enable that. </span></p>

<p class="speaker"><span class="line" data-starttime="725"><span class="speakerName">Android</span>: Back, Settings, Back, </span><span class="line" data-startTime="725">Accessibility, Show &mdash; </span><span class="line" data-startTime="730">BrailleBack off. </span><span class="line" data-startTime="733">Settings. </span><span class="line" data-startTime="734">Off switch. </span><span class="line" data-startTime="736">Alert use BrailleBack. </span><span class="line" data-startTime="738">OK button. </span><span class="line" data-startTime="739">Settings. </span></p>

<p class="speaker"><span class="line" data-starttime="740"><span class="speakerName">Casey Burkhardt</span>: So now </span><span class="line" data-startTime="740">BrailleBack is running. </span><span class="line" data-startTime="741">And I've actually enabled in </span><span class="line" data-startTime="741">BrailleBack Settings, which </span><span class="line" data-startTime="745">you can get by clicking the </span><span class="line" data-startTime="745">Settings button there, a </span><span class="line" data-startTime="747">virtual Braille display. </span><span class="line" data-startTime="749">So because we don't have a </span><span class="line" data-startTime="749">refreshable Braille display </span><span class="line" data-startTime="751">connected through Bluetooth </span><span class="line" data-startTime="751">right now, it's incredibly </span><span class="line" data-startTime="753">useful to be able to see what's </span><span class="line" data-startTime="753">on a virtual display </span><span class="line" data-startTime="756">especially for developers. </span><span class="line" data-startTime="758">So what we see here is an </span><span class="line" data-startTime="758">overlay on the bottom of the </span><span class="line" data-startTime="760">screen that actually shows what </span><span class="line" data-startTime="760">would appear on a Braille </span><span class="line" data-startTime="763">display with its human readable </span><span class="line" data-startTime="763">translation below in </span><span class="line" data-startTime="766">actual ASCII text. </span><span class="line" data-startTime="768">So this gives you an idea of, </span><span class="line" data-startTime="768">if you navigate through your </span><span class="line" data-startTime="771">interface, what your users </span><span class="line" data-startTime="771">will see on the Braille </span><span class="line" data-startTime="773">display when they're using </span><span class="line" data-startTime="773">your application. </span></p>

<p class="speaker"><span class="line" data-starttime="777"><span class="speakerName">Android</span>: Navigate up. </span><span class="line" data-startTime="778">On switch. </span></p>

<p class="speaker"><span class="line" data-starttime="780"><span class="speakerName">Casey Burkhardt</span>: So you can see </span><span class="line" data-startTime="780">that the display updates. </span></p>

<p class="speaker"><span class="line" data-starttime="782"><span class="speakerName">Android</span>: When BrailleBack </span><span class="line" data-startTime="782">is on &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="785"><span class="speakerName">Casey Burkhardt</span>: OK. </span></p>

<p class="speaker"><span class="line" data-starttime="786"><span class="speakerName">Android</span>: Alert. </span></p>

<p class="speaker"><span class="line" data-starttime="789"><span class="speakerName">Casey Burkhardt</span>: Great. </span><span class="line" data-startTime="789">Another great feature of </span><span class="line" data-startTime="789">TalkBack is you can turn it </span><span class="line" data-startTime="791">off really quickly. </span><span class="line" data-startTime="793">You go back to the Global </span><span class="line" data-startTime="793">Context Menu and just go to a </span><span class="line" data-startTime="795">Pause Feedback. </span></p>

<p class="speaker"><span class="line" data-starttime="796"><span class="speakerName">Android</span>: Pause Feedback. </span></p>

<p class="speaker"><span class="line" data-starttime="797"><span class="speakerName">Casey Burkhardt</span>: And it's off. </span> <span class="line" data-startTime="800">OK. </span> <span class="line" data-startTime="808">So let's talk briefly about what </span><span class="line" data-startTime="808">you as developers need to </span><span class="line" data-startTime="810">do to make your applications </span><span class="line" data-startTime="810">successful. </span> <span class="line" data-startTime="813">All of this content is </span><span class="line" data-startTime="813">in our previous years </span><span class="line" data-startTime="815">talk in greater detail. </span> <span class="line" data-startTime="816">So I encourage you, if you're </span><span class="line" data-startTime="816">interested, go back and look </span><span class="line" data-startTime="819">at those talks from 2011 and </span><span class="line" data-startTime="819">2012 regarding Android </span><span class="line" data-startTime="822">accessibility. </span> <span class="line" data-startTime="823">You'll get this content </span><span class="line" data-startTime="823">in more depth. </span> <span class="line" data-startTime="826">The first thing to know about </span><span class="line" data-startTime="826">accessibility within native </span><span class="line" data-startTime="829">applications is that the widgets </span><span class="line" data-startTime="829">that ship with the </span><span class="line" data-startTime="832">platform, as part of </span><span class="line" data-startTime="832">the SDK, are all </span><span class="line" data-startTime="834">accessible to begin with. </span> <span class="line" data-startTime="836">A lot of time is gone into </span><span class="line" data-startTime="836">instrumenting these for </span><span class="line" data-startTime="838">accessibility, and we provide a </span><span class="line" data-startTime="838">really great experience for </span><span class="line" data-startTime="840">all the built-in widgets. </span> <span class="line" data-startTime="842">So whenever possible, use </span><span class="line" data-startTime="842">built-in widgets within your </span><span class="line" data-startTime="844">application. </span> <span class="line" data-startTime="845">If you do need to create a </span><span class="line" data-startTime="845">custom widget, some class of </span><span class="line" data-startTime="848">view that is as deep in the </span><span class="line" data-startTime="848">class hierarchy as possible, </span><span class="line" data-startTime="851">so you get the benefit of having </span><span class="line" data-startTime="851">the accessibility bits </span><span class="line" data-startTime="854">in that widget. </span></p>

<p><span class="line" data-startTime="856">So there are some widgets that </span><span class="line" data-startTime="856">need a little extra care. </span> <span class="line" data-startTime="861">And these are widgets that are </span><span class="line" data-startTime="861">essentially nontext-based, in </span><span class="line" data-startTime="864">particular, Image View </span><span class="line" data-startTime="864">and Image button. </span> <span class="line" data-startTime="866">Because there's no textual </span><span class="line" data-startTime="866">content to speaker put on a </span><span class="line" data-startTime="869">Braille display for a user, it's </span><span class="line" data-startTime="869">important that you as the </span><span class="line" data-startTime="871">developer provide one. </span> <span class="line" data-startTime="873">This is done through the </span><span class="line" data-startTime="873">android:setContentDescription </span><span class="line" data-startTime="875">attribute in your layout. </span> <span class="line" data-startTime="877">And you'll want to make sure </span><span class="line" data-startTime="877">you provide a translatable </span><span class="line" data-startTime="880">stream for that. </span> <span class="line" data-startTime="882">If you have a view that's </span><span class="line" data-startTime="882">entirely decorative and </span><span class="line" data-startTime="884">probably isn't important for </span><span class="line" data-startTime="884">accessibility, you can set a </span><span class="line" data-startTime="887">content description null. </span></p>

<p><span class="line" data-startTime="888">This will do two things. </span> <span class="line" data-startTime="889">It will fix all your </span><span class="line" data-startTime="889">lint errors. </span> <span class="line" data-startTime="891">You'll see your link warnings </span><span class="line" data-startTime="891">because of lack of content </span><span class="line" data-startTime="894">descriptions. </span> <span class="line" data-startTime="895">And it will also indicate to </span><span class="line" data-startTime="895">accessibility services that </span><span class="line" data-startTime="897">their concept probably </span><span class="line" data-startTime="897">isn't worth receiving </span><span class="line" data-startTime="899">accessibility focus. </span> <span class="line" data-startTime="901">If you have content that </span><span class="line" data-startTime="901">updates throughout the </span><span class="line" data-startTime="904">lifecycle of your </span><span class="line" data-startTime="904">application &mdash; </span><span class="line" data-startTime="905">for example, a play/pause button </span><span class="line" data-startTime="905">that changes state &mdash; </span><span class="line" data-startTime="909">you can use the </span><span class="line" data-startTime="909">View.SetContentDescription </span><span class="line" data-startTime="911">method to dynamically </span><span class="line" data-startTime="911">update the view </span><span class="line" data-startTime="914">when its meaning changes. </span> <span class="line" data-startTime="916">And finally, if you've got one </span><span class="line" data-startTime="916">view that is intended to label </span><span class="line" data-startTime="921">another and has an appropriate </span><span class="line" data-startTime="921">description, you can use the </span><span class="line" data-startTime="924">Android label for attribute to </span><span class="line" data-startTime="924">indicate to TalkBack or other </span><span class="line" data-startTime="927">accessibility services that </span><span class="line" data-startTime="927">you're providing a label </span><span class="line" data-startTime="930">through another view. </span> <span class="line" data-startTime="932">If you have a hybrid application </span><span class="line" data-startTime="932">or use web content </span><span class="line" data-startTime="935">within your application, </span><span class="line" data-startTime="935">be sure to use W3C web </span><span class="line" data-startTime="938">accessibility initiatives, </span><span class="line" data-startTime="938">standards and guidelines to </span><span class="line" data-startTime="941">ensure that the web content </span><span class="line" data-startTime="941">is accessible. </span></p>

<p><span class="line" data-startTime="943">We do provide access to web </span><span class="line" data-startTime="943">content for accessibility </span><span class="line" data-startTime="948">services through an injected </span><span class="line" data-startTime="948">version of ChromeVox. </span> <span class="line" data-startTime="952">There was a talk on </span><span class="line" data-startTime="952">that yesterday. </span> <span class="line" data-startTime="954">And stop by our sandbox </span><span class="line" data-startTime="954">to see a demo. </span> <span class="line" data-startTime="957">And if you find yourself in a </span><span class="line" data-startTime="957">situation where you do have to </span><span class="line" data-startTime="960">write an entirely custom widget </span><span class="line" data-startTime="960">yourself, there are </span><span class="line" data-startTime="964">framework APIs that allow you </span><span class="line" data-startTime="964">to do this, but it does </span><span class="line" data-startTime="966">require a good bit </span><span class="line" data-startTime="966">of extra work. </span> <span class="line" data-startTime="968">The good news, though, </span><span class="line" data-startTime="968">is it can be done. </span> <span class="line" data-startTime="971">And the better news is we've </span><span class="line" data-startTime="971">created a helper class that </span><span class="line" data-startTime="974">helps you do that. </span> <span class="line" data-startTime="976">For purposes of example, </span><span class="line" data-startTime="976">we'll use a custom </span><span class="line" data-startTime="979">view that we've created. </span></p>

<p><span class="line" data-startTime="980">It's bar graph view. </span> <span class="line" data-startTime="982">This view is constructed and </span><span class="line" data-startTime="982">populated with a title that </span><span class="line" data-startTime="986">you see on top there and a set </span><span class="line" data-startTime="986">of data and an interray where </span><span class="line" data-startTime="990">each value in that array </span><span class="line" data-startTime="990">represents the value of a bar </span><span class="line" data-startTime="993">in the bar graph. </span> <span class="line" data-startTime="994">So the user can click on </span><span class="line" data-startTime="994">bars to highlight them. </span> <span class="line" data-startTime="999">And we actually draw all of </span><span class="line" data-startTime="999">the content from this view </span><span class="line" data-startTime="1003">with on draw. </span> <span class="line" data-startTime="1004">There's no internal views </span><span class="line" data-startTime="1004">that are used. </span> <span class="line" data-startTime="1006">We actually render the text </span><span class="line" data-startTime="1006">to a canvas, so we're not </span><span class="line" data-startTime="1009">actually using a Text View at </span><span class="line" data-startTime="1009">all within this application. </span> <span class="line" data-startTime="1012">We also really set it focusable, </span><span class="line" data-startTime="1012">or provide any sort </span><span class="line" data-startTime="1015">of description initially. </span> <span class="line" data-startTime="1018">And for click events, we </span><span class="line" data-startTime="1018">actually don't use a standard </span><span class="line" data-startTime="1022">click listener, we listen for </span><span class="line" data-startTime="1022">touch events and implement our </span><span class="line" data-startTime="1024">own click listener. </span></p>

<p><span class="line" data-startTime="1026">So this is basically a perfect </span><span class="line" data-startTime="1026">storm for accessibility. </span> <span class="line" data-startTime="1030">When you interrogate this view </span><span class="line" data-startTime="1030">with TalkBack and you move </span><span class="line" data-startTime="1032">focus to it, it speaks </span><span class="line" data-startTime="1032">nothing. </span> <span class="line" data-startTime="1036">In fact, it doesn't even receive </span><span class="line" data-startTime="1036">focus, because there's </span><span class="line" data-startTime="1038">no actual content to speak. </span> <span class="line" data-startTime="1041">This is an example of really </span><span class="line" data-startTime="1041">the worst case scenario for </span><span class="line" data-startTime="1046">the accessible user, when they </span><span class="line" data-startTime="1046">try to use your application </span><span class="line" data-startTime="1048">and there's a view that's </span><span class="line" data-startTime="1048">just entirely empty. </span> <span class="line" data-startTime="1051">Luckily, we have an answer &mdash; </span><span class="line" data-startTime="1053">an easy way for you as </span><span class="line" data-startTime="1053">developers to make this widget </span><span class="line" data-startTime="1056">accessible. </span></p>

<p><span class="line" data-startTime="1057">So I'll hand it off to Alan </span><span class="line" data-startTime="1057">who's going to demonstrate our </span><span class="line" data-startTime="1060">new helper class. </span></p>

<p class="speaker"><span class="line" data-starttime="1061"><span class="speakerName">Alan Viverette</span>: Thanks, Casey. </span> <span class="line" data-startTime="1062">Hi, I'm Alan Viverette. </span> <span class="line" data-startTime="1064">I'm a software engineer on </span><span class="line" data-startTime="1064">the accessibility team. </span> <span class="line" data-startTime="1066">And I'll be showing you how you </span><span class="line" data-startTime="1066">can make your custom views </span><span class="line" data-startTime="1069">totally accessible, </span><span class="line" data-startTime="1069">support all of the </span><span class="line" data-startTime="1071">features in Jelly Bean. </span> <span class="line" data-startTime="1072">But first, who here has </span><span class="line" data-startTime="1072">written an Android </span><span class="line" data-startTime="1074">application? </span><span class="line" data-startTime="1076">Quite a few. </span> <span class="line" data-startTime="1077">Awesome. </span> <span class="line" data-startTime="1077">So who here's written custom </span><span class="line" data-startTime="1077">views for an Android </span><span class="line" data-startTime="1080">application? </span><span class="line" data-startTime="1081">Still quite a lot of people. </span> <span class="line" data-startTime="1083">So if you're just using standard </span><span class="line" data-startTime="1083">widgets, you're off </span><span class="line" data-startTime="1085">to a really good start. </span> <span class="line" data-startTime="1086">If you're using custom views, </span><span class="line" data-startTime="1086">you have a little bit more </span><span class="line" data-startTime="1088">work to do. </span></p>

<p><span class="line" data-startTime="1089">But first, let's take a </span><span class="line" data-startTime="1089">step back and think </span><span class="line" data-startTime="1092">about what's in a view? </span><span class="line" data-startTime="1093">So we've got our sample </span><span class="line" data-startTime="1093">bar graph on screen. </span> <span class="line" data-startTime="1096">And visually, it's somewhere </span><span class="line" data-startTime="1096">on the screen. </span> <span class="line" data-startTime="1098">It's got some dimensions. </span> <span class="line" data-startTime="1100">It has some information that </span><span class="line" data-startTime="1100">it's conveying to the user, </span><span class="line" data-startTime="1102">here through both graphics </span><span class="line" data-startTime="1102">and text. </span> <span class="line" data-startTime="1104">And it has an interaction </span><span class="line" data-startTime="1104">model. </span> <span class="line" data-startTime="1106">So I can click on these bars </span><span class="line" data-startTime="1106">to change what's displayed. </span> <span class="line" data-startTime="1109">But each of these bars has </span><span class="line" data-startTime="1109">its own dimensions and </span><span class="line" data-startTime="1113">positioning. </span> <span class="line" data-startTime="1113">It has its own information </span><span class="line" data-startTime="1113">that it's </span><span class="line" data-startTime="1115">conveying to the user. </span></p>

<p><span class="line" data-startTime="1116">It has its own interaction. </span> <span class="line" data-startTime="1117">Each bar is individually </span><span class="line" data-startTime="1117">clickable. </span> <span class="line" data-startTime="1120">And because we're not extending </span><span class="line" data-startTime="1120">view group and using </span><span class="line" data-startTime="1122">subviews, we actually have to </span><span class="line" data-startTime="1122">expose this to accessibility </span><span class="line" data-startTime="1125">services some other way. </span> <span class="line" data-startTime="1128">So now let's move to </span><span class="line" data-startTime="1128">accessibility node info, which </span><span class="line" data-startTime="1131">is how an accessibility service </span><span class="line" data-startTime="1131">sees the views in your </span><span class="line" data-startTime="1133">application. </span> <span class="line" data-startTime="1135">Again, you have dimensions </span><span class="line" data-startTime="1135">and positioning. </span></p>

<p><span class="line" data-startTime="1137">You have some sort of </span><span class="line" data-startTime="1137">information that you're </span><span class="line" data-startTime="1138">conveying to the user. </span> <span class="line" data-startTime="1140">You have some sort of </span><span class="line" data-startTime="1140">interaction model &mdash; clicking, </span><span class="line" data-startTime="1142">long clicking, scrolling, </span><span class="line" data-startTime="1142">et cetera. </span> <span class="line" data-startTime="1144">And most importantly, </span><span class="line" data-startTime="1144">we have child nodes. </span> <span class="line" data-startTime="1147">So even if your view isn't a </span><span class="line" data-startTime="1147">view group and doesn't have </span><span class="line" data-startTime="1150">subviews, You can still expose </span><span class="line" data-startTime="1150">extra accessibility node info </span><span class="line" data-startTime="1154">as children of your </span><span class="line" data-startTime="1154">top level view. </span> <span class="line" data-startTime="1157">So that's what we're </span><span class="line" data-startTime="1157">going to do here. </span> <span class="line" data-startTime="1158">Each bar is going to have an </span><span class="line" data-startTime="1158">accessibility node info that </span><span class="line" data-startTime="1161">exposes its information to </span><span class="line" data-startTime="1161">an accessibility service. </span></p>

<p><span class="line" data-startTime="1165">How do we do that? </span><span class="line" data-startTime="1168">There's an accessibility node </span><span class="line" data-startTime="1168">provider class built into the </span><span class="line" data-startTime="1170">framework that allows you to </span><span class="line" data-startTime="1170">create new nodes and expose </span><span class="line" data-startTime="1173">those to the framework. </span> <span class="line" data-startTime="1174">So here we've got &mdash; </span><span class="line" data-startTime="1176">oh, it looks like the </span><span class="line" data-startTime="1176">sample code doesn't </span><span class="line" data-startTime="1178">all fit on the screen. </span> <span class="line" data-startTime="1178">Let's shrink that down a bit. </span> <span class="line" data-startTime="1182">Oh, we're still able to fit </span><span class="line" data-startTime="1182">everything on the screen. </span> <span class="line" data-startTime="1185">It looks like there's a lot of </span><span class="line" data-startTime="1185">code that's required to use an </span><span class="line" data-startTime="1187">accessibility node provider. </span> <span class="line" data-startTime="1189">And in fact, there are about </span><span class="line" data-startTime="1189">12 more slides of this that </span><span class="line" data-startTime="1191">I'm not going to go through. </span> <span class="line" data-startTime="1193">Instead, we've made an </span><span class="line" data-startTime="1193">accessibility helper class </span><span class="line" data-startTime="1197">called ExploreByTouch helper. </span> <span class="line" data-startTime="1198">This is going to simplify </span><span class="line" data-startTime="1198">creating and exposing a </span><span class="line" data-startTime="1201">virtual view hierarchy, </span><span class="line" data-startTime="1201">with just five </span><span class="line" data-startTime="1204">simple abstract methods. </span> <span class="line" data-startTime="1206">This still wraps </span><span class="line" data-startTime="1206">AccessibilityNod </span><span class="line" data-startTime="1206">eProviderCompat, which means </span><span class="line" data-startTime="1206">there's a lot of code on the </span><span class="line" data-startTime="1210">back end that you won't have </span><span class="line" data-startTime="1210">to look at, fortunately. </span></p>

<p><span class="line" data-startTime="1213">This also means it's going to </span><span class="line" data-startTime="1213">work out of the box with </span><span class="line" data-startTime="1216">screen readers, with Braille </span><span class="line" data-startTime="1216">displays, and with some </span><span class="line" data-startTime="1219">interfaces that you may have </span><span class="line" data-startTime="1219">never even seen before, like </span><span class="line" data-startTime="1222">some Sip-and-Puff </span><span class="line" data-startTime="1222">or SingleSwitch. </span> <span class="line" data-startTime="1224">Most importantly, this </span><span class="line" data-startTime="1224">is backwards </span><span class="line" data-startTime="1226">compatible with API 4. </span> <span class="line" data-startTime="1227">So even if you're targeting </span><span class="line" data-startTime="1227">Doughnut, you can still have </span><span class="line" data-startTime="1230">full Jellybean quality </span><span class="line" data-startTime="1230">accessibility in your </span><span class="line" data-startTime="1232">application. </span> <span class="line" data-startTime="1234">So how do we start using the </span><span class="line" data-startTime="1234">ExploreByTouchHelper class? </span><span class="line" data-startTime="1238">Well, first, we're going to need </span><span class="line" data-startTime="1238">to delegate handling of </span><span class="line" data-startTime="1241">certain events, both </span><span class="line" data-startTime="1241">accessibility events and touch </span><span class="line" data-startTime="1244">events for when touch </span><span class="line" data-startTime="1244">exploration is turned on. </span></p>

<p><span class="line" data-startTime="1246">We're going to actually map the </span><span class="line" data-startTime="1246">touch events from touch </span><span class="line" data-startTime="1249">exploration to logical items </span><span class="line" data-startTime="1249">within our view. </span> <span class="line" data-startTime="1252">In this case, they'll be bars. </span> <span class="line" data-startTime="1254">And we're going to need to </span><span class="line" data-startTime="1254">expose information about these </span><span class="line" data-startTime="1256">bars to accessibility </span><span class="line" data-startTime="1256">services. </span> <span class="line" data-startTime="1258">So these are things like </span><span class="line" data-startTime="1258">positioning and size on </span><span class="line" data-startTime="1261">screen, actions that are </span><span class="line" data-startTime="1261">supported and informational </span><span class="line" data-startTime="1264">content, in the form of </span><span class="line" data-startTime="1264">a content description. </span> <span class="line" data-startTime="1267">We're also going to need to </span><span class="line" data-startTime="1267">provide support for user </span><span class="line" data-startTime="1269">interaction. </span> <span class="line" data-startTime="1270">So a user can click on a bar, </span><span class="line" data-startTime="1270">and we need to have some way </span><span class="line" data-startTime="1273">to interact with that, change </span><span class="line" data-startTime="1273">what's displayed on screen, </span><span class="line" data-startTime="1276">and let the framework know </span><span class="line" data-startTime="1276">what's going on. </span> <span class="line" data-startTime="1279">And finally, we're going to </span><span class="line" data-startTime="1279">test our application. </span> <span class="line" data-startTime="1280">We're going to make sure that </span><span class="line" data-startTime="1280">the same information that's </span><span class="line" data-startTime="1283">displayed visually is exposed to </span><span class="line" data-startTime="1283">accessibility services and </span><span class="line" data-startTime="1286">can be spoken out loud </span><span class="line" data-startTime="1286">or displayed it </span><span class="line" data-startTime="1288">on a Braille display. </span></p>

<p><span class="line" data-startTime="1291">So first, let's move over to the </span><span class="line" data-startTime="1291">device and take a look at </span><span class="line" data-startTime="1296">the application with </span><span class="line" data-startTime="1296">accessibility turned off. </span> <span class="line" data-startTime="1301">We've got our pretty blue </span><span class="line" data-startTime="1301">graph on the screen. </span> <span class="line" data-startTime="1304">We can touch them and </span><span class="line" data-startTime="1304">they turn yellow. </span> <span class="line" data-startTime="1306">We can see that it says bar </span><span class="line" data-startTime="1306">graph inaccessible. </span> <span class="line" data-startTime="1308">And for each bar, we can see how </span><span class="line" data-startTime="1308">high it is compared to the </span><span class="line" data-startTime="1311">other bars. </span> <span class="line" data-startTime="1313">Let's turn on accessibility. </span></p>

<p class="speaker"><span class="line" data-starttime="1315"><span class="speakerName">Android</span>: Bar Graph I/O 2013. </span></p>

<p class="speaker"><span class="line" data-starttime="1318"><span class="speakerName">Alan Viverette</span>: And as Casey </span><span class="line" data-startTime="1318">mentioned, we're just going to </span><span class="line" data-startTime="1320">Read From Top to read everything </span><span class="line" data-startTime="1320">on the screen. </span></p>

<p class="speaker"><span class="line" data-starttime="1323"><span class="speakerName">Android</span>: Bar graph I/ &mdash; </span><span class="line" data-startTime="1327">Touch the Read From Top. </span><span class="line" data-startTime="1329">Bar graph I/O 2013. </span></p>

<p class="speaker"><span class="line" data-starttime="1333"><span class="speakerName">Alan Viverette</span>: And it's done. </span> <span class="line" data-startTime="1334">So obviously, we're missing </span><span class="line" data-startTime="1334">some content here. </span> <span class="line" data-startTime="1337">We'd probably like to read </span><span class="line" data-startTime="1337">Bar Graph Inaccessible. </span> <span class="line" data-startTime="1339">And we'd like to get some </span><span class="line" data-startTime="1339">information out of these bars </span><span class="line" data-startTime="1341">that are shown on screen. </span> <span class="line" data-startTime="1343">So let's start implementing </span><span class="line" data-startTime="1343">some support for </span><span class="line" data-startTime="1346">accessibility, using our </span><span class="line" data-startTime="1346">TouchHelper class. </span> <span class="line" data-startTime="1351">The first thing we need to do, </span><span class="line" data-startTime="1351">as I mentioned, is delegate </span><span class="line" data-startTime="1353">accessibility support. </span> <span class="line" data-startTime="1355">So we're first going to create a </span><span class="line" data-startTime="1355">new BarGraphTouchhelper that </span><span class="line" data-startTime="1358">extends our ExploreByTouchHelper </span><span class="line" data-startTime="1358">class. </span></p>

<p><span class="line" data-startTime="1360">We'll go into the implementation </span><span class="line" data-startTime="1360">details on that </span><span class="line" data-startTime="1362">in just a moment. </span> <span class="line" data-startTime="1363">But the first thing we're </span><span class="line" data-startTime="1363">going to do is delegate </span><span class="line" data-startTime="1365">responsibility for accessibility </span><span class="line" data-startTime="1365">to this class </span><span class="line" data-startTime="1368">using ViewCompat.setAc </span><span class="line" data-startTime="1368">cessibilityDelegate. </span> <span class="line" data-startTime="1371">We're also going to dispatch </span><span class="line" data-startTime="1371">hover events first to our </span><span class="line" data-startTime="1374">TouchHelper class, because when </span><span class="line" data-startTime="1374">ExploreByTouch is turned </span><span class="line" data-startTime="1376">on, touching the screen is </span><span class="line" data-startTime="1376">translated into hover events. </span> <span class="line" data-startTime="1379">We need to handle these hover </span><span class="line" data-startTime="1379">events specially to let the </span><span class="line" data-startTime="1381">framework know if we're touching </span><span class="line" data-startTime="1381">a logical item. </span> <span class="line" data-startTime="1385">So we're delegating in </span><span class="line" data-startTime="1385">two places here. </span></p>

<p><span class="line" data-startTime="1388">And once we've done that, we can </span><span class="line" data-startTime="1388">start thinking about the </span><span class="line" data-startTime="1391">implementation for our class. </span> <span class="line" data-startTime="1395">One thing that we're going to </span><span class="line" data-startTime="1395">need to worry about is mapping </span><span class="line" data-startTime="1397">our logical items to something </span><span class="line" data-startTime="1397">that the framework </span><span class="line" data-startTime="1399">understands. </span> <span class="line" data-startTime="1400">In this case, the framework is </span><span class="line" data-startTime="1400">going to use a virtual view id </span><span class="line" data-startTime="1403">to reference our </span><span class="line" data-startTime="1403">logical items. </span> <span class="line" data-startTime="1405">So every view in the framework, </span><span class="line" data-startTime="1405">every actual view, </span><span class="line" data-startTime="1409">has a virtual view ID </span><span class="line" data-startTime="1409">that gets computed. </span> <span class="line" data-startTime="1411">We're going to provide our own </span><span class="line" data-startTime="1411">virtual view IDs so that when </span><span class="line" data-startTime="1414">the framework says, could you </span><span class="line" data-startTime="1414">give me the first child and </span><span class="line" data-startTime="1416">the second child, the third </span><span class="line" data-startTime="1416">child, we know what they're </span><span class="line" data-startTime="1418">talking about. </span></p>

<p><span class="line" data-startTime="1419">We have to make some guarantees </span><span class="line" data-startTime="1419">about these virtual </span><span class="line" data-startTime="1421">view ids, namely, that they're </span><span class="line" data-startTime="1421">one-to-one, which means for </span><span class="line" data-startTime="1425">every virtual view ID, there is </span><span class="line" data-startTime="1425">only one logical item that </span><span class="line" data-startTime="1428">it refers to. </span> <span class="line" data-startTime="1429">And for every logical item, it </span><span class="line" data-startTime="1429">has only one virtual view ID. </span> <span class="line" data-startTime="1433">We're also going to make sure </span><span class="line" data-startTime="1433">that they're stable, which </span><span class="line" data-startTime="1435">means that when we refer to </span><span class="line" data-startTime="1435">virtual view id 0, it's always </span><span class="line" data-startTime="1438">going to refer to the </span><span class="line" data-startTime="1438">same logical item. </span> <span class="line" data-startTime="1441">We also have to make sure that </span><span class="line" data-startTime="1441">they're non-negative. </span> <span class="line" data-startTime="1443">there's certain negative virtual </span><span class="line" data-startTime="1443">view ids that are used </span><span class="line" data-startTime="1446">internally by the framework. </span></p>

<p><span class="line" data-startTime="1447">So we have half range, which </span><span class="line" data-startTime="1447">is a good amount of </span><span class="line" data-startTime="1451">virtual view ids. </span> <span class="line" data-startTime="1453">For a bar graph view, we can </span><span class="line" data-startTime="1453">actually just reuse the data </span><span class="line" data-startTime="1456">rate indices. </span> <span class="line" data-startTime="1457">So we passed in an interray when </span><span class="line" data-startTime="1457">we were creating it, and </span><span class="line" data-startTime="1460">we're displaying these bars on </span><span class="line" data-startTime="1460">screen in the order that they </span><span class="line" data-startTime="1463">are in in the interray. </span> <span class="line" data-startTime="1464">So our first bar, index 0, </span><span class="line" data-startTime="1464">is at the very far left. </span> <span class="line" data-startTime="1467">We can go ahead and assign </span><span class="line" data-startTime="1467">that virtual view id 0. </span> <span class="line" data-startTime="1471">We can maintain this mapping for </span><span class="line" data-startTime="1471">all of the array indices </span><span class="line" data-startTime="1473">in their array, because it's </span><span class="line" data-startTime="1473">one-to-one, it's stable, and </span><span class="line" data-startTime="1476">because it's an array index, </span><span class="line" data-startTime="1476">it has to be non-negative. </span></p>

<p><span class="line" data-startTime="1479">So we'll just map directly, </span><span class="line" data-startTime="1479">virtual view id, </span><span class="line" data-startTime="1482">index within the array. </span> <span class="line" data-startTime="1484">Now that we have a mapping, we </span><span class="line" data-startTime="1484">can start to expose some of </span><span class="line" data-startTime="1487">the on screen content to </span><span class="line" data-startTime="1487">accessibility services. </span> <span class="line" data-startTime="1490">So the first thing we're </span><span class="line" data-startTime="1490">going to do is override </span><span class="line" data-startTime="1492">getVirtualViewIdAt. </span> <span class="line" data-startTime="1493">This is the first of five </span><span class="line" data-startTime="1493">methods that we've be </span><span class="line" data-startTime="1495">overriding in this class. </span> <span class="line" data-startTime="1497">We're going to take an xy </span><span class="line" data-startTime="1497">coordinate on the screen in </span><span class="line" data-startTime="1499">view relative coordinates, so 0, </span><span class="line" data-startTime="1499">0 is the top left of my bar </span><span class="line" data-startTime="1503">graph view. </span> <span class="line" data-startTime="1504">And we're going to reuse the </span><span class="line" data-startTime="1504">same method we used for hit </span><span class="line" data-startTime="1507">detection in onTouchEvent. </span> <span class="line" data-startTime="1509">So you noticed during the demo </span><span class="line" data-startTime="1509">with accessibility turned off, </span><span class="line" data-startTime="1512">I could touch a bar and </span><span class="line" data-startTime="1512">it would change color. </span></p>

<p><span class="line" data-startTime="1515">That's because I'm overriding </span><span class="line" data-startTime="1515">onTouchEvent in my view. </span> <span class="line" data-startTime="1517">I'm taking the xy coordinate, </span><span class="line" data-startTime="1517">figuring out which bar the </span><span class="line" data-startTime="1520">user is touching and changing </span><span class="line" data-startTime="1520">some of its properties. </span> <span class="line" data-startTime="1523">So we can just reuse this </span><span class="line" data-startTime="1523">method, return to the </span><span class="line" data-startTime="1526">index in the array. </span> <span class="line" data-startTime="1527">Because I'm mapping directly </span><span class="line" data-startTime="1527">for indexed to virtual view </span><span class="line" data-startTime="1529">id, I just check to see whether </span><span class="line" data-startTime="1529">I got a valid index. </span> <span class="line" data-startTime="1533">If I did, I return it. </span> <span class="line" data-startTime="1535">If I didn't, I return </span><span class="line" data-startTime="1535">the special constant </span><span class="line" data-startTime="1537">ExploreByTouchHe </span><span class="line" data-startTime="1537">lper.INVALID_ID. </span> <span class="line" data-startTime="1540">And what this tells the </span><span class="line" data-startTime="1540">ExploreByTouchHelper class is </span><span class="line" data-startTime="1542">that the user touched the </span><span class="line" data-startTime="1542">screen, but they didn't touch </span><span class="line" data-startTime="1545">any of the logical items within </span><span class="line" data-startTime="1545">my view, which means </span><span class="line" data-startTime="1548">most likely the touch will </span><span class="line" data-startTime="1548">fall to the view itself. </span></p>

<p><span class="line" data-startTime="1551">If it's not handled by the view </span><span class="line" data-startTime="1551">itself, it might fall </span><span class="line" data-startTime="1553">under that. </span> <span class="line" data-startTime="1555">We're also going to override </span><span class="line" data-startTime="1555">getVisibleVirtualViewIds, </span><span class="line" data-startTime="1558">method two of five that we'll </span><span class="line" data-startTime="1558">be overriding, and this lets </span><span class="line" data-startTime="1560">the framework know both the </span><span class="line" data-startTime="1560">items that are visible on </span><span class="line" data-startTime="1563">screen through virtual </span><span class="line" data-startTime="1563">view IDs. </span> <span class="line" data-startTime="1566">And the order in which we'd like </span><span class="line" data-startTime="1566">them to be navigated by </span><span class="line" data-startTime="1568">Swype navigation. </span> <span class="line" data-startTime="1570">So as long as I populate this 0 </span><span class="line" data-startTime="1570">1 2 3 4, as the user swipes </span><span class="line" data-startTime="1575">right, they'll hit bar 0, bar </span><span class="line" data-startTime="1575">1, bar 2, bar 3, in order. </span> <span class="line" data-startTime="1580">If I have something more </span><span class="line" data-startTime="1580">complicated, say I have two </span><span class="line" data-startTime="1583">rows of bars and maybe I want </span><span class="line" data-startTime="1583">to do the first bar, the </span><span class="line" data-startTime="1585">second bar, the third </span><span class="line" data-startTime="1585">bar, the fourth bar. </span></p>

<p><span class="line" data-startTime="1587">As long as I pass those into </span><span class="line" data-startTime="1587">the array in the same order </span><span class="line" data-startTime="1590">that I want them to be </span><span class="line" data-startTime="1590">navigated, that's what the </span><span class="line" data-startTime="1592">user will see. </span> <span class="line" data-startTime="1594">So now we have those two down, </span><span class="line" data-startTime="1594">what else do we need to do? </span><span class="line" data-startTime="1598">Well, once a user touches </span><span class="line" data-startTime="1598">something, TalkBack is going </span><span class="line" data-startTime="1601">to speak, BrailleBack </span><span class="line" data-startTime="1601">is going to display </span><span class="line" data-startTime="1602">something on the screen. </span> <span class="line" data-startTime="1603">We need to expose information </span><span class="line" data-startTime="1603">that we convey to the user. </span> <span class="line" data-startTime="1608">So the first thing we need to </span><span class="line" data-startTime="1608">think about is what type of </span><span class="line" data-startTime="1611">information. </span> <span class="line" data-startTime="1612">When something is spoken out </span><span class="line" data-startTime="1612">loud, you have to think about </span><span class="line" data-startTime="1614">the efficiency and the </span><span class="line" data-startTime="1614">importance of the items that </span><span class="line" data-startTime="1617">you're trying to convey. </span> <span class="line" data-startTime="1618">So here each bar has </span><span class="line" data-startTime="1618">two properties &mdash; </span><span class="line" data-startTime="1620">its indexes within the array &mdash; </span><span class="line" data-startTime="1622">where it's displayed </span><span class="line" data-startTime="1622">on screen &mdash; </span><span class="line" data-startTime="1624">and its value. </span></p>

<p><span class="line" data-startTime="1625">And we want when a user touches </span><span class="line" data-startTime="1625">the screen at random </span><span class="line" data-startTime="1628">them to know where they </span><span class="line" data-startTime="1628">are, what type of </span><span class="line" data-startTime="1630">items they're touching. </span> <span class="line" data-startTime="1631">So we're going to </span><span class="line" data-startTime="1631">say bar first. </span> <span class="line" data-startTime="1633">Bar is really short, and so a </span><span class="line" data-startTime="1633">user, if they're moving around </span><span class="line" data-startTime="1636">the screen very quickly, isn't </span><span class="line" data-startTime="1636">going to have to wait very </span><span class="line" data-startTime="1639">long to know what they're </span><span class="line" data-startTime="1639">touching. </span> <span class="line" data-startTime="1641">And if they're trying to </span><span class="line" data-startTime="1641">distinguish between different </span><span class="line" data-startTime="1642">bars on screen, they'll very </span><span class="line" data-startTime="1642">quickly hear the index. </span> <span class="line" data-startTime="1646">So we'll speak something </span><span class="line" data-startTime="1646">like bar 0, value 5. </span> <span class="line" data-startTime="1649">And because we have a </span><span class="line" data-startTime="1649">highlighted state, we're going </span><span class="line" data-startTime="1651">to provide a separate content </span><span class="line" data-startTime="1651">description that says </span><span class="line" data-startTime="1653">something like bar 0, </span><span class="line" data-startTime="1653">value 5 highlighted. </span></p>

<p><span class="line" data-startTime="1657">We've just written a quick </span><span class="line" data-startTime="1657">helper method here that takes </span><span class="line" data-startTime="1659">an index within the array, </span><span class="line" data-startTime="1659">gets the value, check the </span><span class="line" data-startTime="1662">highlighted property, and </span><span class="line" data-startTime="1662">populates the right template, </span><span class="line" data-startTime="1665">returns a string. </span> <span class="line" data-startTime="1666">We're going to use that string </span><span class="line" data-startTime="1666">to populate a content </span><span class="line" data-startTime="1668">description for a accessibility </span><span class="line" data-startTime="1668">event. </span> <span class="line" data-startTime="1671">So this is the third method </span><span class="line" data-startTime="1671">that we're overriding, </span><span class="line" data-startTime="1673">populateEventForVirtualViewId. </span></p>

<p><span class="line" data-startTime="1677">Accessibility events are used </span><span class="line" data-startTime="1677">by the framework to let the </span><span class="line" data-startTime="1679">accessibility service know </span><span class="line" data-startTime="1679">what's going on your </span><span class="line" data-startTime="1681">application. </span> <span class="line" data-startTime="1682">So for example, when you click </span><span class="line" data-startTime="1682">on a view, there's a view </span><span class="line" data-startTime="1685">click to that. </span> <span class="line" data-startTime="1686">When you scroll, there's </span><span class="line" data-startTime="1686">a view scrolled event. </span> <span class="line" data-startTime="1688">We're going to populate these </span><span class="line" data-startTime="1688">with the right content </span><span class="line" data-startTime="1690">description for the logical item </span><span class="line" data-startTime="1690">that's sending the event. </span> <span class="line" data-startTime="1694">We also need to expose a little </span><span class="line" data-startTime="1694">bit more information </span><span class="line" data-startTime="1696">about nodes. </span> <span class="line" data-startTime="1698">We can expose the content </span><span class="line" data-startTime="1698">description as we did in the </span><span class="line" data-startTime="1700">accessibility event. </span> <span class="line" data-startTime="1702">We're also going to </span><span class="line" data-startTime="1702">expose the user </span><span class="line" data-startTime="1703">interactions that are supported. </span></p>

<p><span class="line" data-startTime="1705">And here, you may remember, I </span><span class="line" data-startTime="1705">was able to tap on a bar to </span><span class="line" data-startTime="1708">change its properties. </span> <span class="line" data-startTime="1709">So we're going to add </span><span class="line" data-startTime="1709">a click event. </span> <span class="line" data-startTime="1711">So that if the user double taps </span><span class="line" data-startTime="1711">on the screen, or if a </span><span class="line" data-startTime="1714">user clicks on their Braille </span><span class="line" data-startTime="1714">display, it will have the same </span><span class="line" data-startTime="1717">behavior as if I had tapped it </span><span class="line" data-startTime="1717">with accessibility turned off. </span> <span class="line" data-startTime="1720">We're also going to set the </span><span class="line" data-startTime="1720">bounds within the parent view </span><span class="line" data-startTime="1724">using getBoundsForIndex. </span> <span class="line" data-startTime="1726">Now this is the same method that </span><span class="line" data-startTime="1726">we're using in onDraw to </span><span class="line" data-startTime="1729">figure out where to draw the bar </span><span class="line" data-startTime="1729">onscreen when we fill it </span><span class="line" data-startTime="1732">with that blue color and </span><span class="line" data-startTime="1732">occasionally we fill it with </span><span class="line" data-startTime="1735">that yellow highlight. </span> <span class="line" data-startTime="1737">And this is going to ensure </span><span class="line" data-startTime="1737">consistency with our onDraw, </span><span class="line" data-startTime="1740">so that exactly where you touch </span><span class="line" data-startTime="1740">on screen is exactly </span><span class="line" data-startTime="1743">where our yellow focus highlight </span><span class="line" data-startTime="1743">will be placed and </span><span class="line" data-startTime="1746">exactly where you'll get </span><span class="line" data-startTime="1746">feedback for a logical item. </span></p>

<p><span class="line" data-startTime="1750">So you may notice, </span><span class="line" data-startTime="1750">we're reusing </span><span class="line" data-startTime="1752">methods pretty heavily. </span> <span class="line" data-startTime="1753">And this is why it's so easy to </span><span class="line" data-startTime="1753">use ExploreByTouchHelper to </span><span class="line" data-startTime="1757">implement accessibility </span><span class="line" data-startTime="1757">in your custom view. </span> <span class="line" data-startTime="1760">All right, so now that we've </span><span class="line" data-startTime="1760">exposed properties about our </span><span class="line" data-startTime="1763">items, let's take another look </span><span class="line" data-startTime="1763">at our application and see how </span><span class="line" data-startTime="1768">it looks with accessibility </span><span class="line" data-startTime="1768">turned on now. </span> <span class="line" data-startTime="1771">All right, so we'll switch </span><span class="line" data-startTime="1771">over to our bar graph </span><span class="line" data-startTime="1773">interactive and, when I </span><span class="line" data-startTime="1773">do Read All From Top &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1779"><span class="speakerName">Android</span>: Read from top. </span><span class="line" data-startTime="1779">Bar graph 1/0 2013. </span><span class="line" data-startTime="1782">Bar 0, value minus 5. </span><span class="line" data-startTime="1784">Bar 1, value minus 4. </span><span class="line" data-startTime="1786">Bar 2, value minus 2. </span><span class="line" data-startTime="1789">Bar 3, value 0. </span><span class="line" data-startTime="1790">Bar 4, value 2. </span><span class="line" data-startTime="1792">Bar 5, value 4. </span><span class="line" data-startTime="1794">Bar 6, value 5. </span></p>

<p class="speaker"><span class="line" data-starttime="1796"><span class="speakerName">Alan Viverette</span>: All right. </span><span class="line" data-startTime="1797">So we're reading out the </span><span class="line" data-startTime="1797">bar descriptions. </span><span class="line" data-startTime="1799">That's great. </span><span class="line" data-startTime="1799">We've got the yellow focus </span><span class="line" data-startTime="1799">highlight onscreen. </span><span class="line" data-startTime="1801">That's awesome. </span><span class="line" data-startTime="1802">Let's touch it and make sure </span><span class="line" data-startTime="1802">that it works correctly. </span></p>

<p class="speaker"><span class="line" data-starttime="1805"><span class="speakerName">Android</span>: Bar 5, bar </span><span class="line" data-startTime="1805">4, bar 3, bar 1. </span><span class="line" data-startTime="1808">Value minus 4. </span></p>

<p class="speaker"><span class="line" data-starttime="1810"><span class="speakerName">Alan Viverette</span>: Right? </span><span class="line" data-startTime="1810">Everything seems pretty close. </span> <span class="line" data-startTime="1812">But we're missing one important </span><span class="line" data-startTime="1812">thing here. </span> <span class="line" data-startTime="1816">That's the title of </span><span class="line" data-startTime="1816">the bar graph. </span> <span class="line" data-startTime="1818">So we need some way to expose </span><span class="line" data-startTime="1818">this to the user. </span> <span class="line" data-startTime="1822">We're going to do this &mdash; </span><span class="line" data-startTime="1824">oh, sorry, the next thing we're </span><span class="line" data-startTime="1824">going to do is Respond </span><span class="line" data-startTime="1828">To Actions. </span> <span class="line" data-startTime="1829">So we're going to be </span><span class="line" data-startTime="1829">able to click on a </span><span class="line" data-startTime="1833">view by double tapping. </span> <span class="line" data-startTime="1834">So when we added our </span><span class="line" data-startTime="1834">ACTION_CLICK in populate node, </span><span class="line" data-startTime="1839">we need to also handle that </span><span class="line" data-startTime="1839">later by overriding the </span><span class="line" data-startTime="1841">performActionForVirtualViewID </span><span class="line" data-startTime="1841">method. </span> <span class="line" data-startTime="1845">We're going to use the same </span><span class="line" data-startTime="1845">method we used in onTouchEvent </span><span class="line" data-startTime="1849">to actually perform </span><span class="line" data-startTime="1849">the bar click. </span> <span class="line" data-startTime="1851">So we've got onBar clicked. </span></p>

<p><span class="line" data-startTime="1852">This is going to invalidate the </span><span class="line" data-startTime="1852">view so that it's redrawn </span><span class="line" data-startTime="1855">with the highlight. </span> <span class="line" data-startTime="1856">This is going to change the </span><span class="line" data-startTime="1856">internal highlight state, so </span><span class="line" data-startTime="1859">that we can draw that bar </span><span class="line" data-startTime="1859">with a different color. </span> <span class="line" data-startTime="1862">And that's the only action </span><span class="line" data-startTime="1862">that we need to handle, </span><span class="line" data-startTime="1865">because that's the only </span><span class="line" data-startTime="1865">action then we </span><span class="line" data-startTime="1866">added in populate node. </span> <span class="line" data-startTime="1868">We also need to let the </span><span class="line" data-startTime="1868">framework know that the action </span><span class="line" data-startTime="1871">happened successfully. </span> <span class="line" data-startTime="1873">So we're going to invalidate </span><span class="line" data-startTime="1873">the virtual view id because </span><span class="line" data-startTime="1876">we're changing the </span><span class="line" data-startTime="1876">highlight state. </span> <span class="line" data-startTime="1877">We're changing a property </span><span class="line" data-startTime="1877">of the virtual view. </span> <span class="line" data-startTime="1881">And we're going to send an event </span><span class="line" data-startTime="1881">for that virtual view </span><span class="line" data-startTime="1883">that lets the framework know it </span><span class="line" data-startTime="1883">performed a click action. </span></p>

<p><span class="line" data-startTime="1887">So we send event for virtual </span><span class="line" data-startTime="1887">view ID, which is a method on </span><span class="line" data-startTime="1890">our TouchHelper class, with </span><span class="line" data-startTime="1890">TYPE_VIEW_CLICKED. </span> <span class="line" data-startTime="1892">This will provide feedback in </span><span class="line" data-startTime="1892">the framework, a little haptic </span><span class="line" data-startTime="1895">feedback and a little auditory </span><span class="line" data-startTime="1895">feedback, that lets it know </span><span class="line" data-startTime="1898">and lets the user know that </span><span class="line" data-startTime="1898">something happened. </span> <span class="line" data-startTime="1903">So now we have support for user </span><span class="line" data-startTime="1903">interaction, do one last </span><span class="line" data-startTime="1907">thing and go back </span><span class="line" data-startTime="1907">to the device. </span> <span class="line" data-startTime="1912">So we already read through. </span> <span class="line" data-startTime="1914">We noticed that we're </span><span class="line" data-startTime="1914">missing one thing. </span> <span class="line" data-startTime="1916">Let's make sure that </span><span class="line" data-startTime="1916">touching &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1917"><span class="speakerName">Android</span>: Bar 5, value 4. </span></p>

<p class="speaker"><span class="line" data-starttime="1919"><span class="speakerName">Alan Viverette</span>:  &mdash; and clicking </span><span class="line" data-startTime="1919">work correctly. </span><span class="line" data-startTime="1922">So we're good there, and now </span><span class="line" data-startTime="1922">if we touch the bar again, </span></p>

<p class="speaker"><span class="line" data-starttime="1924"><span class="speakerName">Android</span>: Bar 5, value </span><span class="line" data-startTime="1924">4 highlighted. </span></p>

<p class="speaker"><span class="line" data-starttime="1926"><span class="speakerName">Alan Viverette</span>: All right. </span> <span class="line" data-startTime="1927">And we hear highlighted. </span> <span class="line" data-startTime="1928">So we're good to go there. </span> <span class="line" data-startTime="1930">We have one thing missing </span><span class="line" data-startTime="1930">that I mentioned. </span> <span class="line" data-startTime="1932">When we touch the bar graph </span><span class="line" data-startTime="1932">itself, we should really be </span><span class="line" data-startTime="1936">reading bar graph interactive. </span> <span class="line" data-startTime="1937">And we might want to provide </span><span class="line" data-startTime="1937">some additional information to </span><span class="line" data-startTime="1939">the user just to give them an </span><span class="line" data-startTime="1939">idea of what's onscreen there. </span> <span class="line" data-startTime="1944">So we're going to polish </span><span class="line" data-startTime="1944">the user experience. </span> <span class="line" data-startTime="1946">We're going to add another </span><span class="line" data-startTime="1946">string that describes the bar </span><span class="line" data-startTime="1948">graph view itself. </span> <span class="line" data-startTime="1953">So we're going to populate the </span><span class="line" data-startTime="1953">string with the title of the </span><span class="line" data-startTime="1956">bar graph, the type of widget </span><span class="line" data-startTime="1956">that it is, and the number of </span><span class="line" data-startTime="1959">bars that are on the screen. </span> <span class="line" data-startTime="1960">The ordering here is </span><span class="line" data-startTime="1960">very important. </span></p>

<p><span class="line" data-startTime="1962">So when I touch the bar graph, </span><span class="line" data-startTime="1962">what I really want to know is </span><span class="line" data-startTime="1965">what is it that I'm touching? </span><span class="line" data-startTime="1967">It's a bar graph with a title. </span> <span class="line" data-startTime="1969">If I have multiple bar graphs </span><span class="line" data-startTime="1969">onscreen, the most important </span><span class="line" data-startTime="1972">thing to me is going to be </span><span class="line" data-startTime="1972">what's shown in that bar </span><span class="line" data-startTime="1973">graph, what's the title. </span> <span class="line" data-startTime="1975">The second most important thing </span><span class="line" data-startTime="1975">is the type of widget. </span> <span class="line" data-startTime="1977">It's a bar graph, which lets </span><span class="line" data-startTime="1977">me know that it's going to </span><span class="line" data-startTime="1979">contain a couple of subviews </span><span class="line" data-startTime="1979">and the type of information </span><span class="line" data-startTime="1982">that will be seen. </span> <span class="line" data-startTime="1983">I'm also going to say how </span><span class="line" data-startTime="1983">many bars are shown. </span> <span class="line" data-startTime="1986">This is a little extra. </span> <span class="line" data-startTime="1987">And this just tells the user </span><span class="line" data-startTime="1987">how many things they can </span><span class="line" data-startTime="1989">expect to touch when they're </span><span class="line" data-startTime="1989">moving their finger across the </span><span class="line" data-startTime="1992">screen or Swyping </span><span class="line" data-startTime="1992">left and right. </span> <span class="line" data-startTime="1994">So we have a setTitle method </span><span class="line" data-startTime="1994">that we've implemented on our </span><span class="line" data-startTime="1998">bar graph view. </span></p>

<p><span class="line" data-startTime="1999">This sets the internal title </span><span class="line" data-startTime="1999">which is drawn onscreen. </span> <span class="line" data-startTime="2002">This invalidates the view, </span><span class="line" data-startTime="2002">which redraws the title. </span> <span class="line" data-startTime="2004">And we're going to set the </span><span class="line" data-startTime="2004">content description based on </span><span class="line" data-startTime="2008">the bar count by populating </span><span class="line" data-startTime="2008">this template that we've </span><span class="line" data-startTime="2011">created with the title </span><span class="line" data-startTime="2011">and bar count. </span> <span class="line" data-startTime="2014">So now we've tested and we've </span><span class="line" data-startTime="2014">ensured the same information </span><span class="line" data-startTime="2018">that we can see visually </span><span class="line" data-startTime="2018">onscreen is communicated to an </span><span class="line" data-startTime="2021">accessibility service, let's go </span><span class="line" data-startTime="2021">back to the application and </span><span class="line" data-startTime="2026">do Read All From Top </span><span class="line" data-startTime="2026">to make sure that </span><span class="line" data-startTime="2027">everything makes sense. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="2031"><span class="speakerName">Android</span>: Bar graph I/ &mdash; </span><span class="line" data-startTime="2034">Read From Top. </span><span class="line" data-startTime="2035">Bar graph I/O 2013. </span><span class="line" data-startTime="2038">Bar graph Accessible. </span><span class="line" data-startTime="2039">Showing seven bars. </span><span class="line" data-startTime="2041">Bar 0, value minus 5. </span></p>

<p class="speaker"><span class="line" data-starttime="2044"><span class="speakerName">Alan Viverette</span>: And we </span><span class="line" data-startTime="2044">just saw this so I'm </span><span class="line" data-startTime="2045">going to skip it. </span> <span class="line" data-startTime="2045">But as you can see, my bar graph </span><span class="line" data-startTime="2045">view, despite not being </span><span class="line" data-startTime="2049">a view group, not having any </span><span class="line" data-startTime="2049">views inside of it, is now </span><span class="line" data-startTime="2052">totally transparently </span><span class="line" data-startTime="2052">accessible </span><span class="line" data-startTime="2055">using Jellybean APIs. </span> <span class="line" data-startTime="2056">And this runs on Doughnut. </span> <span class="line" data-startTime="2058">It won't have the same Jellybean </span><span class="line" data-startTime="2058">accessibility. </span> <span class="line" data-startTime="2061">But your application will </span><span class="line" data-startTime="2061">still compile and run </span><span class="line" data-startTime="2063">perfectly fine. </span> <span class="line" data-startTime="2065">So just to summarize the </span><span class="line" data-startTime="2065">ExploreByTouchHelper class, it </span><span class="line" data-startTime="2070">looked like it was going to be </span><span class="line" data-startTime="2070">really difficult to implement </span><span class="line" data-startTime="2073">custom view accessibility. </span> <span class="line" data-startTime="2074">But it's actually really easy. </span></p>

<p><span class="line" data-startTime="2076">It's five methods that </span><span class="line" data-startTime="2076">you override. </span> <span class="line" data-startTime="2079">And you're just reusing things </span><span class="line" data-startTime="2079">that you've already written </span><span class="line" data-startTime="2081">for the visual aspect </span><span class="line" data-startTime="2081">of your application. </span> <span class="line" data-startTime="2084">So to conclude the talk, writing </span><span class="line" data-startTime="2084">accessible Android </span><span class="line" data-startTime="2088">applications is actually very </span><span class="line" data-startTime="2088">easy, especially if you're </span><span class="line" data-startTime="2092">using built-in Android widgets, </span><span class="line" data-startTime="2092">adding content </span><span class="line" data-startTime="2094">descriptions where appropriate, </span><span class="line" data-startTime="2094">maybe you're </span><span class="line" data-startTime="2096">associating labels </span><span class="line" data-startTime="2096">with controls. </span> <span class="line" data-startTime="2099">If you're using custom views, </span><span class="line" data-startTime="2099">you may want to use the </span><span class="line" data-startTime="2101">ExploreByTouchHelper class </span><span class="line" data-startTime="2101">to simplify things &mdash; </span><span class="line" data-startTime="2104">a very easy way to make your </span><span class="line" data-startTime="2104">application accessible. </span> <span class="line" data-startTime="2107">And if you're using web content, </span><span class="line" data-startTime="2107">just follow best </span><span class="line" data-startTime="2109">practices for web </span><span class="line" data-startTime="2109">accessibility. </span> <span class="line" data-startTime="2112">Now if you do all of these </span><span class="line" data-startTime="2112">things, your application is </span><span class="line" data-startTime="2115">going to be accessible </span><span class="line" data-startTime="2115">to more users. </span></p>

<p><span class="line" data-startTime="2117">Every Android phone has </span><span class="line" data-startTime="2117">accessibility baked in. </span> <span class="line" data-startTime="2120">If you pull out your phone, </span><span class="line" data-startTime="2120">you go to Settings </span><span class="line" data-startTime="2122">Accessibility, you can turn </span><span class="line" data-startTime="2122">on TalkBack yourself </span><span class="line" data-startTime="2125">and you can try this. </span> <span class="line" data-startTime="2126">If you have a Braille display, </span><span class="line" data-startTime="2126">or if you don't have a Braille </span><span class="line" data-startTime="2128">display, you can use the overlay </span><span class="line" data-startTime="2128">to check BrailleBack </span><span class="line" data-startTime="2131">with your application. </span> <span class="line" data-startTime="2133">There are also various other </span><span class="line" data-startTime="2133">ways of interacting with the </span><span class="line" data-startTime="2136">device, including Sip-and-Puff </span><span class="line" data-startTime="2136">interfaces and switch access. </span> <span class="line" data-startTime="2139">If it works with TalkBack, if </span><span class="line" data-startTime="2139">it works with BrailleBack, </span><span class="line" data-startTime="2142">there's a very good chance that </span><span class="line" data-startTime="2142">it'll work perfectly with </span><span class="line" data-startTime="2144">these alternate interfaces. </span></p>

<p><span class="line" data-startTime="2146">So Android's built-in </span><span class="line" data-startTime="2146">accessibility support </span><span class="line" data-startTime="2149">guarantees that if you have good </span><span class="line" data-startTime="2149">accessibility, you have a </span><span class="line" data-startTime="2153">good application, and you have </span><span class="line" data-startTime="2153">good usability for everyone, </span><span class="line" data-startTime="2156">you'll have a larger </span><span class="line" data-startTime="2156">user base. </span> <span class="line" data-startTime="2158">You'll have happier users. </span> <span class="line" data-startTime="2161">So I hope everybody learned </span><span class="line" data-startTime="2161">something here today. </span> <span class="line" data-startTime="2164">You can check out the source </span><span class="line" data-startTime="2164">code from the slides on </span><span class="line" data-startTime="2166">eyes-free.googlecode.com. </span> <span class="line" data-startTime="2168">We've got demos in the sandbox </span><span class="line" data-startTime="2168">here on a second floor. </span> <span class="line" data-startTime="2171">And we've got office </span><span class="line" data-startTime="2171">hours immediately </span><span class="line" data-startTime="2173">following the talk. </span></p>

<p><span class="line" data-startTime="2174">We also have plenty of </span><span class="line" data-startTime="2174">time for questions. </span> <span class="line" data-startTime="2176">So please stand at the </span><span class="line" data-startTime="2176">microphones in the aisles if </span><span class="line" data-startTime="2179">you have any questions, and </span><span class="line" data-startTime="2179">we will answer them. </span> <span class="line" data-startTime="2181">Thanks again. </span></p>

<p class="speaker"><span class="line" data-starttime="2184"><span class="speakerName">Audience</span>: [APPLAUSE] </span></p>

<p class="speaker"><span class="line" data-starttime="2192"><span class="speakerName">Alan Viverette</span>: Any questions? </span></p>

<p class="speaker"><span class="line" data-starttime="2205"><span class="speakerName">Audience</span>: My name </span><span class="line" data-startTime="2205">is Steve Jacobs. </span> <span class="line" data-startTime="2207">And I really don't </span><span class="line" data-startTime="2207">have a question. </span> <span class="line" data-startTime="2209">I'm not even a developer. </span> <span class="line" data-startTime="2211">But we have an Android </span><span class="line" data-startTime="2211">development company. </span> <span class="line" data-startTime="2215">And one thing that wasn't </span><span class="line" data-startTime="2215">mentioned during the session </span><span class="line" data-startTime="2218">is the business driver behind </span><span class="line" data-startTime="2218">accessible design, above and </span><span class="line" data-startTime="2224">beyond accommodating the access </span><span class="line" data-startTime="2224">needs of people with </span><span class="line" data-startTime="2227">disabilities. </span> <span class="line" data-startTime="2229">And you could tell I'm an </span><span class="line" data-startTime="2229">accessibility advocate. </span> <span class="line" data-startTime="2233">But if you look at our global </span><span class="line" data-startTime="2233">market and you look at the top </span><span class="line" data-startTime="2236">five highest potential markets, </span><span class="line" data-startTime="2236">they spell cyber &mdash; </span><span class="line" data-startTime="2241">C-I-B-I-R &mdash; </span><span class="line" data-startTime="2242">China, India, Brazil Indonesia </span><span class="line" data-startTime="2242">and Russia. </span> <span class="line" data-startTime="2245">If you look at the number of </span><span class="line" data-startTime="2245">people who never learned to </span><span class="line" data-startTime="2248">read, this can help them. </span></p>

<p><span class="line" data-startTime="2251">If you look at the number of </span><span class="line" data-startTime="2251">people who are aging, like me, </span><span class="line" data-startTime="2255">you're talking half </span><span class="line" data-startTime="2255">a billion people. </span> <span class="line" data-startTime="2257">A billion and a half or more </span><span class="line" data-startTime="2257">people never learned to read. </span> <span class="line" data-startTime="2261">There are English language </span><span class="line" data-startTime="2261">learners. </span> <span class="line" data-startTime="2264">Being able to highlight text </span><span class="line" data-startTime="2264">as it's being read, using </span><span class="line" data-startTime="2268">text-to-speech can help them. </span> <span class="line" data-startTime="2271">In addition to people with </span><span class="line" data-startTime="2271">print disabilities &mdash; </span><span class="line" data-startTime="2274">and we're not just talking </span><span class="line" data-startTime="2274">about blindness and other </span><span class="line" data-startTime="2277">vision impairments &mdash; </span><span class="line" data-startTime="2279">but learning disabilities, </span><span class="line" data-startTime="2279">cognitive disabilities, </span><span class="line" data-startTime="2282">mobility disabilities, and </span><span class="line" data-startTime="2282">learning disabilities, which </span><span class="line" data-startTime="2287">represents about 25% of </span><span class="line" data-startTime="2287">students in class. </span> <span class="line" data-startTime="2291">50% of students taking math </span><span class="line" data-startTime="2291">have difficulty with math. </span> <span class="line" data-startTime="2297">Accompanying learning math with </span><span class="line" data-startTime="2297">text-to-speech, having </span><span class="line" data-startTime="2302">images read out, having text </span><span class="line" data-startTime="2302">highlighted, having math </span><span class="line" data-startTime="2305">formulas read to you actually </span><span class="line" data-startTime="2305">strengthens the learning </span><span class="line" data-startTime="2309">experience. </span></p>

<p><span class="line" data-startTime="2310">So accessibility is about far </span><span class="line" data-startTime="2310">more than just accommodating </span><span class="line" data-startTime="2315">people with disabilities. </span> <span class="line" data-startTime="2316">And I wanted to make sure that </span><span class="line" data-startTime="2316">the message got out loud and </span><span class="line" data-startTime="2320">clear during this session. </span> <span class="line" data-startTime="2322">So I hope you don't mind my </span><span class="line" data-startTime="2322">taking the mic to say that. </span> <span class="line" data-startTime="2326">Thanks. </span></p>

<p class="speaker"><span class="line" data-starttime="2328"><span class="speakerName">Audience</span>: [APPLAUSE] </span></p>

<p class="speaker"><span class="line" data-starttime="2332"><span class="speakerName">TV Raman</span>: Thank you for </span><span class="line" data-startTime="2332">saying that, Steve. </span> <span class="line" data-startTime="2334">And to echo what Steve said, </span><span class="line" data-startTime="2334">you heard the numbers </span><span class="line" data-startTime="2338">yesterday, the number of </span><span class="line" data-startTime="2338">devices, you heard the number </span><span class="line" data-startTime="2340">of app downloads. </span> <span class="line" data-startTime="2341">But more importantly, you heard </span><span class="line" data-startTime="2341">the number of people in </span><span class="line" data-startTime="2345">the world who don't yet have </span><span class="line" data-startTime="2345">access to technology. </span> <span class="line" data-startTime="2348">And as Steve pointed out, as we </span><span class="line" data-startTime="2348">start touching that segment </span><span class="line" data-startTime="2353">of the world's population that </span><span class="line" data-startTime="2353">isn't yet touched by </span><span class="line" data-startTime="2355">technology, all of these things </span><span class="line" data-startTime="2355">that we're showing you </span><span class="line" data-startTime="2359">and that we are showing </span><span class="line" data-startTime="2359">you in our sandbox are </span><span class="line" data-startTime="2362">really, really relevant. </span> <span class="line" data-startTime="2363">And in terms of advancing </span><span class="line" data-startTime="2363">education, in terms of </span><span class="line" data-startTime="2367">advancing access to technology, </span><span class="line" data-startTime="2367">in terms of </span><span class="line" data-startTime="2369">bettering people's lives, the </span><span class="line" data-startTime="2369">impact you have is huge. </span> <span class="line" data-startTime="2372">And as Alan pointed out, it's </span><span class="line" data-startTime="2372">very, very easy to do. </span> <span class="line" data-startTime="2376">And that's what it is so </span><span class="line" data-startTime="2376">wonderful about the </span><span class="line" data-startTime="2378">opportunity we all </span><span class="line" data-startTime="2378">have together. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="2383"><span class="speakerName">Alan Viverette</span>: Yes? </span></p>

<p class="speaker"><span class="line" data-starttime="2384"><span class="speakerName">Audience</span>: So is this working? </span><span class="line" data-startTime="2387">My name is Guarang. </span><span class="line" data-startTime="2389">And I've got a question. </span><span class="line" data-startTime="2391">Is it possible to switch on </span><span class="line" data-startTime="2391">the accessibility features </span><span class="line" data-startTime="2393">without necessarily switching </span><span class="line" data-startTime="2393">on TalkBack? </span><span class="line" data-startTime="2396">Or rather, is it possible to </span><span class="line" data-startTime="2396">programmatically switch on </span><span class="line" data-startTime="2400">TalkBack within the app? </span></p>

<p class="speaker"><span class="line" data-starttime="2404"><span class="speakerName">Alan Viverette</span>: So let's see. </span><span class="line" data-startTime="2406">It is possible to use the </span><span class="line" data-startTime="2406">accessibility features without </span><span class="line" data-startTime="2409">TalkBack if you have an </span><span class="line" data-startTime="2409">accessibility service that is </span><span class="line" data-startTime="2414">not TalkBack. </span><span class="line" data-startTime="2415">For example, BrailleBack. </span><span class="line" data-startTime="2417">It is not currently possible </span><span class="line" data-startTime="2417">turn off speech output, but </span><span class="line" data-startTime="2421">you can always mute your phone </span><span class="line" data-startTime="2421">if you don't want it talking </span><span class="line" data-startTime="2423">while you have TalkBack </span><span class="line" data-startTime="2423">turned on. </span><span class="line" data-startTime="2426">As we showed during the talk, </span><span class="line" data-startTime="2426">you can pause TalkBack &mdash; </span><span class="line" data-startTime="2431">actually let's switch back </span><span class="line" data-startTime="2431">to the device real quick. </span><span class="line" data-startTime="2433">So you can pause TalkBack by </span><span class="line" data-startTime="2433">doing the down right and &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2439"><span class="speakerName">Android</span>: Pause feedback. </span></p>

<p class="speaker"><span class="line" data-starttime="2441"><span class="speakerName">Alan Viverette</span>:  &mdash; pausing </span><span class="line" data-startTime="2441">feedback, at which point </span><span class="line" data-startTime="2442">TalkBack is basically </span><span class="line" data-startTime="2442">turned off. </span><span class="line" data-startTime="2444">And you can turn in back </span><span class="line" data-startTime="2444">on really quick. </span><span class="line" data-startTime="2446">This is great if you're a </span><span class="line" data-startTime="2446">developer and you just need to </span><span class="line" data-startTime="2447">do quick testing, switch back to </span><span class="line" data-startTime="2447">having accessibility off to </span><span class="line" data-startTime="2450">figure out what's </span><span class="line" data-startTime="2450">wrong, go back. </span><span class="line" data-startTime="2453">Does that answer </span><span class="line" data-startTime="2453">your question? </span></p>

<p class="speaker"><span class="line" data-starttime="2454"><span class="speakerName">Audience</span>: Well, actually, what </span><span class="line" data-startTime="2454">I was asking is if I want </span><span class="line" data-startTime="2458">TalkBack-like features, but I </span><span class="line" data-startTime="2458">don't want my users to switch </span><span class="line" data-startTime="2461">on TalkBack all the time. </span></p>

<p class="speaker"><span class="line" data-starttime="2462"><span class="speakerName">Alan Viverette</span>: I see. </span><span class="line" data-startTime="2463">Yeah, that's a great candidate </span><span class="line" data-startTime="2463">for writing an accessibility </span><span class="line" data-startTime="2466">service, if you want some of </span><span class="line" data-startTime="2466">the features, maybe the </span><span class="line" data-startTime="2469">ability to read notifications </span><span class="line" data-startTime="2469">out loud as they're received. </span><span class="line" data-startTime="2472">And we've seen a lot of great </span><span class="line" data-startTime="2472">applications that rely on the </span><span class="line" data-startTime="2475">accessibility framework. </span><span class="line" data-startTime="2476">I should mention TalkBack </span><span class="line" data-startTime="2476">is totally open source. </span><span class="line" data-startTime="2479">So if you have any questions </span><span class="line" data-startTime="2479">about how something is </span><span class="line" data-startTime="2481">implemented in an accessibility </span><span class="line" data-startTime="2481">service, you can </span><span class="line" data-startTime="2483">check that out again at </span><span class="line" data-startTime="2483">eyes-free.googlecode.com. </span></p>

<p class="speaker"><span class="line" data-starttime="2486"><span class="speakerName">Casey Burkhardt</span>: BrailleBack </span><span class="line" data-startTime="2486">as well. </span></p>

<p class="speaker"><span class="line" data-starttime="2487"><span class="speakerName">Alan Viverette</span>: And BrailleBack </span><span class="line" data-startTime="2487">back as well is </span><span class="line" data-startTime="2489">open source. </span></p>

<p class="speaker"><span class="line" data-starttime="2490"><span class="speakerName">TV Raman</span>: So to quick round off </span><span class="line" data-startTime="2490">that question, those of </span><span class="line" data-startTime="2493">you who are familiar with the </span><span class="line" data-startTime="2493">accessibility stack probably </span><span class="line" data-startTime="2497">already realize this. </span> <span class="line" data-startTime="2498">So Android accessibility </span><span class="line" data-startTime="2498">is layered. </span> <span class="line" data-startTime="2500">The framework has accessibility </span><span class="line" data-startTime="2500">APIs. </span> <span class="line" data-startTime="2504">It provides things like </span><span class="line" data-startTime="2504">accessibility actions, all of </span><span class="line" data-startTime="2507">which are covered in </span><span class="line" data-startTime="2507">previous talks. </span> <span class="line" data-startTime="2509">And then you write an </span><span class="line" data-startTime="2509">accessibility service that </span><span class="line" data-startTime="2512">never adjusts these. </span> <span class="line" data-startTime="2513">TalkBack is the one that </span><span class="line" data-startTime="2513">exercises pretty much every </span><span class="line" data-startTime="2516">corner of that API and </span><span class="line" data-startTime="2516">those services. </span> <span class="line" data-startTime="2519">But there's nothing sacrosanct </span><span class="line" data-startTime="2519">about TalkBack as the only </span><span class="line" data-startTime="2524">accessibility service. </span> <span class="line" data-startTime="2525">In fact, you actually have to </span><span class="line" data-startTime="2525">turn TalkBack on for it to be </span><span class="line" data-startTime="2529">active through the accessibility </span><span class="line" data-startTime="2529">setting. </span></p>

<p><span class="line" data-startTime="2531">So as Alan said, you can </span><span class="line" data-startTime="2531">write TalkBack Lite. </span> <span class="line" data-startTime="2534">You can write TalkBack Deluxe. </span> <span class="line" data-startTime="2535">You can write TalkBack Lite </span><span class="line" data-startTime="2535">Lite, whatever, and get the </span><span class="line" data-startTime="2540">experience you want. </span> <span class="line" data-startTime="2541">And that's how the framework </span><span class="line" data-startTime="2541">is created. </span> <span class="line" data-startTime="2543">So an accessibility service </span><span class="line" data-startTime="2543">has three aspects to it. </span> <span class="line" data-startTime="2547">One is querying what's on the </span><span class="line" data-startTime="2547">display, what's in the view </span><span class="line" data-startTime="2550">hierarchy, and getting a full </span><span class="line" data-startTime="2550">handle on the user interface. </span> <span class="line" data-startTime="2555">The other is providing feedback </span><span class="line" data-startTime="2555">to the user, using </span><span class="line" data-startTime="2558">whatever modality they </span><span class="line" data-startTime="2558">are using, be that </span><span class="line" data-startTime="2560">speech, be that Braille. </span> <span class="line" data-startTime="2562">And the third is translating </span><span class="line" data-startTime="2562">user's intent, such as button </span><span class="line" data-startTime="2566">process or whatever into </span><span class="line" data-startTime="2566">actions that the system </span><span class="line" data-startTime="2569">executes, which is what say a </span><span class="line" data-startTime="2569">one button interface would </span><span class="line" data-startTime="2572">[? divert ?]. </span> <span class="line" data-startTime="2573">So for instance, if you're </span><span class="line" data-startTime="2573">building a one-button </span><span class="line" data-startTime="2576">interface for someone who can </span><span class="line" data-startTime="2576">see perfectly well, you </span><span class="line" data-startTime="2579">wouldn't actually leverage the </span><span class="line" data-startTime="2579">speech output capabilities or </span><span class="line" data-startTime="2582">the Braille output </span><span class="line" data-startTime="2582">capabilities. </span></p>

<p><span class="line" data-startTime="2583">You basically have </span><span class="line" data-startTime="2583">your one button </span><span class="line" data-startTime="2585">interface control the device. </span></p>

<p class="speaker"><span class="line" data-starttime="2587"><span class="speakerName">Audience</span>: Right, right. </span><span class="line" data-startTime="2588">Thank you, thank you so much. </span></p>

<p class="speaker"><span class="line" data-starttime="2593"><span class="speakerName">TV Raman</span>: And one additional </span><span class="line" data-startTime="2593">point. </span><span class="line" data-startTime="2594">Casey probably demoed </span><span class="line" data-startTime="2594">this during his &mdash; </span><span class="line" data-startTime="2596">but didn't say it </span><span class="line" data-startTime="2596">out explicitly. </span><span class="line" data-startTime="2598">Because of the separation on </span><span class="line" data-startTime="2598">Android, you can actually run </span><span class="line" data-startTime="2602">TalkBack and screen </span><span class="line" data-startTime="2602">magnification simultaneously. </span><span class="line" data-startTime="2604">So a low vision user who both </span><span class="line" data-startTime="2604">wants to see the screen </span><span class="line" data-startTime="2608">because he can see some and </span><span class="line" data-startTime="2608">wants speech output basically </span><span class="line" data-startTime="2611">doesn't have to make a choice </span><span class="line" data-startTime="2611">saying now I get speech or now </span><span class="line" data-startTime="2615">I get magnification. </span><span class="line" data-startTime="2616">And the reason why we are </span><span class="line" data-startTime="2616">able to do this kinds of </span><span class="line" data-startTime="2619">combinations is because of this </span><span class="line" data-startTime="2619">layered architecture. </span></p>

<p class="speaker"><span class="line" data-starttime="2622"><span class="speakerName">Casey Burkhardt</span>: If you'd like </span><span class="line" data-startTime="2622">to see a more in-depth demo </span><span class="line" data-startTime="2624">screen magnification, please </span><span class="line" data-startTime="2624">feel free to drop by the </span><span class="line" data-startTime="2627">accessibility sandbox. </span></p>

<p class="speaker"><span class="line" data-starttime="2630"><span class="speakerName">Alan Viverette</span>: Your </span><span class="line" data-startTime="2630">question please? </span></p>

<p class="speaker"><span class="line" data-starttime="2631"><span class="speakerName">Audience</span>: My name </span><span class="line" data-startTime="2631">is [? Tonson ?]. </span><span class="line" data-startTime="2632">And I have a question can Google </span><span class="line" data-startTime="2632">Play help their brand </span><span class="line" data-startTime="2637">man to find apps that has good </span><span class="line" data-startTime="2637">accessibility easily? </span></p>

<p class="speaker"><span class="line" data-starttime="2645"><span class="speakerName">TV Raman</span>: That's a really </span><span class="line" data-startTime="2645">good request and we </span><span class="line" data-startTime="2647">will take that back. </span><span class="line" data-startTime="2647">We've heard that many </span><span class="line" data-startTime="2647">times in the past. </span><span class="line" data-startTime="2650">Today what we see users doing </span><span class="line" data-startTime="2650">is primarily wisdom of the </span><span class="line" data-startTime="2654">crowds, which has worked well. </span><span class="line" data-startTime="2656">But I agree with you that it </span><span class="line" data-startTime="2656">would be really nice to be </span><span class="line" data-startTime="2660">able to find apps based on the </span><span class="line" data-startTime="2660">user's needs, not just for the </span><span class="line" data-startTime="2665">blind user, for instance, an app </span><span class="line" data-startTime="2665">that works very well for a </span><span class="line" data-startTime="2668">low vision user may not </span><span class="line" data-startTime="2668">necessarily work that well for </span><span class="line" data-startTime="2671">a blind user. </span><span class="line" data-startTime="2672">And it would be nice for users </span><span class="line" data-startTime="2672">over time to be able to say </span><span class="line" data-startTime="2677">these are the types of things </span><span class="line" data-startTime="2677">I'm interested in terms of </span><span class="line" data-startTime="2680">user capabilities and find </span><span class="line" data-startTime="2680">apps that you like. </span><span class="line" data-startTime="2683">So that's definitely a request </span><span class="line" data-startTime="2683">we'll take back the Play team. </span></p>

<p class="speaker"><span class="line" data-starttime="2686"><span class="speakerName">Audience</span>: OK. </span><span class="line" data-startTime="2687">Thank you. </span></p>

<p class="speaker"><span class="line" data-starttime="2690"><span class="speakerName">Alan Viverette</span>: All right. </span><span class="line" data-startTime="2691">If that's all the questions, </span><span class="line" data-startTime="2691">we'll be at the accessibility </span><span class="line" data-startTime="2693">sandbox outside. </span><span class="line" data-startTime="2696">Again, thank you everyone </span><span class="line" data-startTime="2696">for coming. </span></p>

<p class="speaker"><span class="line" data-starttime="2697"><span class="speakerName">TV Raman</span>: Thank you for </span><span class="line" data-startTime="2697">coming, everyone. </span></p>

<p class="speaker"><span class="line" data-starttime="2698"><span class="speakerName">Casey Burkhardt</span>: Thanks. </span></p>

<p class="speaker"><span class="line" data-starttime="2699"><span class="speakerName">Audience</span>: [APPLAUSE] </span></p></div>