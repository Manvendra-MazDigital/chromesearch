<p class="speaker"><span class="line" data-starttime="13"><span class="speakerName">Paul Kinlan</span>: Hi guys, </span><span class="line" data-startTime="13">I'm Paul Kinlan. </span><span class="line" data-startTime="15">Welcome to our Chrome </span><span class="line" data-startTime="15">apps special event. </span><span class="line" data-startTime="18">I think it's a special event. </span><span class="line" data-startTime="19">I'd like to introduce </span><span class="line" data-startTime="19">you to Renato. </span></p>

<p class="speaker"><span class="line" data-starttime="21"><span class="speakerName">Renato Mangini</span>: Why </span><span class="line" data-startTime="21">is this special? </span><span class="line" data-startTime="23">I mean &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="23"><span class="speakerName">Paul Kinlan</span>: Why </span><span class="line" data-startTime="23">is it special? </span></p>

<p class="speaker"><span class="line" data-starttime="24"><span class="speakerName">Renato Mangini</span>: Just because we </span><span class="line" data-startTime="24">are both in the same place? </span></p>

<p class="speaker"><span class="line" data-starttime="26"><span class="speakerName">Paul Kinlan</span>: It is, right. </span><span class="line" data-startTime="27">So I'm from London &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="28"><span class="speakerName">Renato Mangini</span>: And </span><span class="line" data-startTime="28">I'm from Brazil. </span></p>

<p class="speaker"><span class="line" data-starttime="29"><span class="speakerName">Paul Kinlan</span>: And we're here </span><span class="line" data-startTime="29">in Mountain View. </span><span class="line" data-startTime="30">We just came across all the </span><span class="line" data-startTime="30">way especially today. </span></p>

<p class="speaker"><span class="line" data-starttime="32"><span class="speakerName">Renato Mangini</span>: And we are both </span><span class="line" data-startTime="32">developer advocates for </span><span class="line" data-startTime="34">their Chrome. </span></p>

<p class="speaker"><span class="line" data-starttime="35"><span class="speakerName">Paul Kinlan</span>: Yeah, actually this </span><span class="line" data-startTime="35">is a Chrome apps thing. </span> <span class="line" data-startTime="37">We work on Chrome. </span> <span class="line" data-startTime="38">We do lots of Chrome things. </span> <span class="line" data-startTime="40">Today's actually kind of special </span><span class="line" data-startTime="40">because it's our </span><span class="line" data-startTime="41">first, I think, talk about using </span><span class="line" data-startTime="41">NodeJS libraries inside </span><span class="line" data-startTime="46">Chrome applications. </span> <span class="line" data-startTime="48">For you guys who don't know, </span><span class="line" data-startTime="48">NodeJS is, basically, in the </span><span class="line" data-startTime="50">past, people have used it </span><span class="line" data-startTime="50">as mainly a server-based </span><span class="line" data-startTime="53">infrastructure, like a web </span><span class="line" data-startTime="53">server, SMTP servers, FTP &mdash; </span><span class="line" data-startTime="58">I was going to say FMTP. </span> <span class="line" data-startTime="59">I have no idea what that is. </span> <span class="line" data-startTime="61">It's probably rude. </span> <span class="line" data-startTime="64">But yeah, so a lot of people </span><span class="line" data-startTime="64">have been using NodeJS, </span><span class="line" data-startTime="67">JavaScript on the server to </span><span class="line" data-startTime="67">build their applications. </span> <span class="line" data-startTime="71">Its asynchronous. </span></p>

<p><span class="line" data-startTime="72">It's all JavaScript. </span> <span class="line" data-startTime="73">It's one single process. </span> <span class="line" data-startTime="75">So it's pretty crazy </span><span class="line" data-startTime="75">to work with. </span> <span class="line" data-startTime="77">Basically, the whole thing </span><span class="line" data-startTime="77">about NodeJS is that </span><span class="line" data-startTime="80">everything that you develop and </span><span class="line" data-startTime="80">build is all meant to be </span><span class="line" data-startTime="82">asynchronous. </span> <span class="line" data-startTime="83">So if you have any code that </span><span class="line" data-startTime="83">blocks, like making a database </span><span class="line" data-startTime="87">call, actually, what should </span><span class="line" data-startTime="87">happen is, it should sleep and </span><span class="line" data-startTime="89">then, the next time the next </span><span class="line" data-startTime="89">tick happens, maybe there's </span><span class="line" data-startTime="93">some data ready for you &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="94"><span class="speakerName">Renato Mangini</span>: Which is quite </span><span class="line" data-startTime="94">similar as the JavaScript </span><span class="line" data-startTime="96">runtime runs on the </span><span class="line" data-startTime="96">browser, right? </span></p>

<p class="speaker"><span class="line" data-starttime="98"><span class="speakerName">Paul Kinlan</span>: Yeah, that's the </span><span class="line" data-startTime="98">big thing that we are trying </span><span class="line" data-startTime="99">to do inside the browser is </span><span class="line" data-startTime="99">to make every single API </span><span class="line" data-startTime="101">asynchronous. </span><span class="line" data-startTime="102">So that the whole user interface </span><span class="line" data-startTime="102">doesn't block when </span><span class="line" data-startTime="104">you scroll. </span><span class="line" data-startTime="105">Everyone knows what it's like </span><span class="line" data-startTime="105">if you put a near-infinite </span><span class="line" data-startTime="107">loop inside your code. </span></p>

<p class="speaker"><span class="line" data-starttime="109"><span class="speakerName">Renato Mangini</span>: So NodeJS is </span><span class="line" data-startTime="109">running JavaScript on the </span><span class="line" data-startTime="112">server, basically? </span></p>

<p class="speaker"><span class="line" data-starttime="113"><span class="speakerName">Paul Kinlan</span>: Yeah, JavaScript on </span><span class="line" data-startTime="113">the server, powered by V8. </span> <span class="line" data-startTime="117">And what the we're going to do </span><span class="line" data-startTime="117">today, at least, is show you </span><span class="line" data-startTime="119">how to run your NodeJS </span><span class="line" data-startTime="119">applications. </span> <span class="line" data-startTime="122">Not all of them, because we </span><span class="line" data-startTime="122">don't have all the API </span><span class="line" data-startTime="124">support, through a tool, called </span><span class="line" data-startTime="124">Browserify, which lets </span><span class="line" data-startTime="128">you run NodeJS-based code inside </span><span class="line" data-startTime="128">your applications, or </span><span class="line" data-startTime="133">inside your web apps, </span><span class="line" data-startTime="133">traditionally, but you'll </span><span class="line" data-startTime="135">notice, from the actual project </span><span class="line" data-startTime="135">itself, it doesn't </span><span class="line" data-startTime="137">have access to, say, the network </span><span class="line" data-startTime="137">sockets APIs, which, </span><span class="line" data-startTime="140">if you're doing server-based </span><span class="line" data-startTime="140">work, and this is a kind of </span><span class="line" data-startTime="143">key thing for Chrome OS, at </span><span class="line" data-startTime="143">least &mdash; if you're doing </span><span class="line" data-startTime="145">server-based work, you never </span><span class="line" data-startTime="145">have the ability to, inside </span><span class="line" data-startTime="150">the browser, open up a </span><span class="line" data-startTime="150">socket, for instance. </span></p>

<p><span class="line" data-startTime="152">And we can do that </span><span class="line" data-startTime="152">inside Chrome. </span> <span class="line" data-startTime="154">So we're going to show you two </span><span class="line" data-startTime="154">applications, how to build </span><span class="line" data-startTime="156">them, and we're going </span><span class="line" data-startTime="156">to do that today. </span></p>

<p class="speaker"><span class="line" data-starttime="159"><span class="speakerName">Renato Mangini</span>: Excellent. </span></p>

<p class="speaker"><span class="line" data-starttime="159"><span class="speakerName">Paul Kinlan</span>: Are we good? </span><span class="line" data-startTime="160">Should we go? </span><span class="line" data-startTime="161">Should we jump in? </span></p>

<p class="speaker"><span class="line" data-starttime="162"><span class="speakerName">Renato Mangini</span>: So just one </span><span class="line" data-startTime="162">question before you start </span><span class="line" data-startTime="164">diving into the code. </span><span class="line" data-startTime="166">So the point here is that NodeJS </span><span class="line" data-startTime="166">is good for running on </span><span class="line" data-startTime="170">the server, right? </span></p>

<p class="speaker"><span class="line" data-starttime="171"><span class="speakerName">Paul Kinlan</span>: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="171"><span class="speakerName">Renato Mangini</span>: So why </span><span class="line" data-startTime="171">would we want to </span><span class="line" data-startTime="173">run it on the browser? </span><span class="line" data-startTime="176">And what's the difference </span><span class="line" data-startTime="176">between NodeJS code running on </span><span class="line" data-startTime="180">the server and running and </span><span class="line" data-startTime="180">a Chrome-packaged app. </span></p>

<p class="speaker"><span class="line" data-starttime="183"><span class="speakerName">Paul Kinlan</span>: Yeah. </span> <span class="line" data-startTime="183">So I think there's two </span><span class="line" data-startTime="183">bits to this, right? </span><span class="line" data-startTime="185">There's &mdash; we're getting </span><span class="line" data-startTime="185">developers to build web </span><span class="line" data-startTime="187">applications, right? </span><span class="line" data-startTime="188">And we want developers to build </span><span class="line" data-startTime="188">web applications in </span><span class="line" data-startTime="190">JavaScript for the entirety of </span><span class="line" data-startTime="190">the stack, the client side, </span><span class="line" data-startTime="193">and on the server side. </span> <span class="line" data-startTime="195">And what we're trying to do, at </span><span class="line" data-startTime="195">least with getting NodeJS </span><span class="line" data-startTime="197">modules to run inside the </span><span class="line" data-startTime="197">browser is, we're saying that, </span><span class="line" data-startTime="200">actually, NodeJS via the MPM </span><span class="line" data-startTime="200">package manager has got a huge </span><span class="line" data-startTime="204">ecosystem of libraries </span><span class="line" data-startTime="204">out there &mdash; </span><span class="line" data-startTime="205">work that's already been done </span><span class="line" data-startTime="205">by developers to get </span><span class="line" data-startTime="208">integration with FTP servers, </span><span class="line" data-startTime="208">FTP clients, HTPP web servers, </span><span class="line" data-startTime="212">all these types of things. </span> <span class="line" data-startTime="214">That connect and express &mdash; </span><span class="line" data-startTime="218">these are middleware pieces of </span><span class="line" data-startTime="218">software that run web servers </span><span class="line" data-startTime="221">inside the server. </span></p>

<p><span class="line" data-startTime="222">We should be able to take all </span><span class="line" data-startTime="222">that code and then also run </span><span class="line" data-startTime="225">that inside the client. </span> <span class="line" data-startTime="227">You might ask why you </span><span class="line" data-startTime="227">want to run a </span><span class="line" data-startTime="229">server inside the client. </span> <span class="line" data-startTime="229">If you look at Chrome OS, for </span><span class="line" data-startTime="229">instance, one of the things </span><span class="line" data-startTime="232">about Chrome OS is that there's </span><span class="line" data-startTime="232">always been this </span><span class="line" data-startTime="234">reliance on a remote server </span><span class="line" data-startTime="234">for your web applications. </span> <span class="line" data-startTime="237">And we've always had packaged </span><span class="line" data-startTime="237">applications, which we're </span><span class="line" data-startTime="240">trying to say, offline first </span><span class="line" data-startTime="240">is the way you should go. </span> <span class="line" data-startTime="242">You should build applications </span><span class="line" data-startTime="242">that work offline inside a </span><span class="line" data-startTime="244">packaged app. </span></p>

<p class="speaker"><span class="line" data-starttime="245"><span class="speakerName">Renato Mangini</span>: But you can only </span><span class="line" data-startTime="245">run offline applications </span><span class="line" data-startTime="248">if all the data you need, and </span><span class="line" data-startTime="248">all the processes you need, </span><span class="line" data-startTime="251">it's on the client, right? </span></p>

<p class="speaker"><span class="line" data-starttime="253"><span class="speakerName">Paul Kinlan</span>: Yeah, exactly. </span> <span class="line" data-startTime="254">So what we're trying </span><span class="line" data-startTime="254">to do is say that &mdash; </span><span class="line" data-startTime="256">I go to one of the big </span><span class="line" data-startTime="256">use cases, right? </span><span class="line" data-startTime="259">You look at the IDs that </span><span class="line" data-startTime="259">are inside the browser, </span><span class="line" data-startTime="261">JavaScript, HTML-based IDs for </span><span class="line" data-startTime="261">developing web applications. </span> <span class="line" data-startTime="265">A lot of them coming inside the </span><span class="line" data-startTime="265">browser, but they still </span><span class="line" data-startTime="267">need a server to run and </span><span class="line" data-startTime="267">debug the code, right? </span><span class="line" data-startTime="271">If you look at people like Cloud </span><span class="line" data-startTime="271">9 IDE, they basically </span><span class="line" data-startTime="273">have a NodeJS background </span><span class="line" data-startTime="273">service, essentially, where </span><span class="line" data-startTime="277">you can connect to it, and you </span><span class="line" data-startTime="277">can debug your application </span><span class="line" data-startTime="279">inside the browser. </span> <span class="line" data-startTime="280">We want to make sure that if </span><span class="line" data-startTime="280">you're building applications </span><span class="line" data-startTime="282">on the web today for your </span><span class="line" data-startTime="282">browser, then you should also </span><span class="line" data-startTime="286">be able to, actually, run and </span><span class="line" data-startTime="286">debug them inside your Chrome </span><span class="line" data-startTime="288">OS machine. </span></p>

<p><span class="line" data-startTime="290">OK, Chrome OS is one use case. </span> <span class="line" data-startTime="291">You bring that to Mac, </span><span class="line" data-startTime="291">Windows, and Linux &mdash; </span><span class="line" data-startTime="294">wherever Chrome is, that's a </span><span class="line" data-startTime="294">pretty compelling story. </span> <span class="line" data-startTime="296">You have one piece of code that </span><span class="line" data-startTime="296">can run across all these </span><span class="line" data-startTime="298">different platforms on the </span><span class="line" data-startTime="298">client, in the server, and all </span><span class="line" data-startTime="301">these types of things. </span></p>

<p class="speaker"><span class="line" data-starttime="302"><span class="speakerName">Renato Mangini</span>: And it would be </span><span class="line" data-startTime="302">another compelling use case </span><span class="line" data-startTime="306">for using the NodeJS libraries </span><span class="line" data-startTime="306">on the browser &mdash; </span><span class="line" data-startTime="310">distribution? </span><span class="line" data-startTime="311">Because currently, if I ask my </span><span class="line" data-startTime="311">mother to install NodeJS and </span><span class="line" data-startTime="316">run an applications on her </span><span class="line" data-startTime="316">non-Chrome OS machine, she </span><span class="line" data-startTime="320">would probably have some </span><span class="line" data-startTime="320">troubles with that. </span><span class="line" data-startTime="323">So maybe the distribution model </span><span class="line" data-startTime="323">for the web and for the </span><span class="line" data-startTime="328">Chrome packaged app is very </span><span class="line" data-startTime="328">compelling because it uses a </span><span class="line" data-startTime="333">store, the Chrome web store. </span></p>

<p class="speaker"><span class="line" data-starttime="335"><span class="speakerName">Paul Kinlan</span>: Yeah, so all these </span><span class="line" data-startTime="335">apps, they're obviously </span><span class="line" data-startTime="336">delivered through the Chrome </span><span class="line" data-startTime="336">web store at the moment, or </span><span class="line" data-startTime="338">still will be. </span><span class="line" data-startTime="340">So the interesting thing is that </span><span class="line" data-startTime="340">you can build this IDE &mdash; </span><span class="line" data-startTime="344">I'm not saying you're mother's </span><span class="line" data-startTime="344">going to use an IDE &mdash; is your </span><span class="line" data-startTime="345">mother a web developer? </span></p>

<p class="speaker"><span class="line" data-starttime="346"><span class="speakerName">Renato Mangini</span>: I cannot </span><span class="line" data-startTime="346">tell you that. </span><span class="line" data-startTime="350">Maybe she works for Google, </span><span class="line" data-startTime="350">I don't know. </span></p>

<p class="speaker"><span class="line" data-starttime="351"><span class="speakerName">Paul Kinlan</span>: Yeah, maybe. </span><span class="line" data-startTime="353">If you want to have these </span><span class="line" data-startTime="353">applications and make them </span><span class="line" data-startTime="355">available offline, you </span><span class="line" data-startTime="355">can install them </span><span class="line" data-startTime="357">from the web store. </span><span class="line" data-startTime="358">You don't have to install </span><span class="line" data-startTime="358">NodeJS and all </span><span class="line" data-startTime="360">these types of things. </span><span class="line" data-startTime="360">You don't have to go and </span><span class="line" data-startTime="360">install that whole </span><span class="line" data-startTime="362">infrastructure. </span><span class="line" data-startTime="363">The browser is the runtime. </span><span class="line" data-startTime="364">The browser is this thing that </span><span class="line" data-startTime="364">can go off and run all your </span><span class="line" data-startTime="366">applications, and that's what </span><span class="line" data-startTime="366">we want to try and enable. </span><span class="line" data-startTime="370">And I think that's where Chrome </span><span class="line" data-startTime="370">OS is going, is like, </span><span class="line" data-startTime="372">these applications can live </span><span class="line" data-startTime="372">inside the browser or even </span><span class="line" data-startTime="376">outside the browser, but just </span><span class="line" data-startTime="376">written with the same </span><span class="line" data-startTime="378">technology stack all </span><span class="line" data-startTime="378">the way through. </span></p>

<p class="speaker"><span class="line" data-starttime="379"><span class="speakerName">Renato Mangini</span>: That is great. </span></p>

<p class="speaker"><span class="line" data-starttime="380"><span class="speakerName">Paul Kinlan</span>: So I think </span><span class="line" data-startTime="380">it's pretty exciting. </span><span class="line" data-startTime="383">Should we jump to some code? </span></p>

<p class="speaker"><span class="line" data-starttime="383"><span class="speakerName">Renato Mangini</span>: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="384"><span class="speakerName">Paul Kinlan</span>: Yeah? </span></p>

<p class="speaker"><span class="line" data-starttime="385"><span class="speakerName">Renato Mangini</span>: Fine. </span><span class="line" data-startTime="385">I love code. </span></p>

<p class="speaker"><span class="line" data-starttime="386"><span class="speakerName">Paul Kinlan</span>: You love code? </span><span class="line" data-startTime="386">Really? </span><span class="line" data-startTime="387">Nice. </span> <span class="line" data-startTime="388">Cool. </span> <span class="line" data-startTime="389">So we've got my Chrome screen </span><span class="line" data-startTime="389">in front of us. </span> <span class="line" data-startTime="391">I think what we're going to do </span><span class="line" data-startTime="391">first is actually show two </span><span class="line" data-startTime="393">applications just to kind of </span><span class="line" data-startTime="393">get the feel of what we're </span><span class="line" data-startTime="396">actually trying to </span><span class="line" data-startTime="396">build with these. </span> <span class="line" data-startTime="398">The first is a thing </span><span class="line" data-startTime="398">called Markdown. </span> <span class="line" data-startTime="401">So for any of you guys &mdash; </span><span class="line" data-startTime="402">oopsie daisy. </span> <span class="line" data-startTime="403">Sorry. </span> <span class="line" data-startTime="411">So for any of you guys who know </span><span class="line" data-startTime="411">Markdown, and we've seen </span><span class="line" data-startTime="417">some of these things in the </span><span class="line" data-startTime="417">past, recently, where we're </span><span class="line" data-startTime="420">trying to standardize the </span><span class="line" data-startTime="420">Markdown editor, I basically </span><span class="line" data-startTime="422">built a Markdown application &mdash; </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="426"><span class="speakerName">Renato Mangini</span>: Markdown </span><span class="line" data-startTime="426">editor, right? </span><span class="line" data-startTime="428">A </span></p>

<p class="speaker"><span class="line" data-starttime="428"><span class="speakerName">Paul Kinlan</span>: A Markdown </span><span class="line" data-startTime="428">editor. </span><span class="line" data-startTime="430">Its three or four </span><span class="line" data-startTime="430">lines of code. </span><span class="line" data-startTime="431">So yeah, this is the interesting </span><span class="line" data-startTime="431">thing, right, is </span><span class="line" data-startTime="433">that we have MPM, which is a </span><span class="line" data-startTime="433">big package manager, node </span><span class="line" data-startTime="437">package manager, for your web </span><span class="line" data-startTime="437">services, which basically </span><span class="line" data-startTime="442">allows you to install any piece </span><span class="line" data-startTime="442">of code that's been put </span><span class="line" data-startTime="446">in that repository into your </span><span class="line" data-startTime="446">web server application. </span><span class="line" data-startTime="450">Using Browserify, we can </span><span class="line" data-startTime="450">actually do that inside Chrome </span><span class="line" data-startTime="452">OS, or inside your Chrome </span><span class="line" data-startTime="452">applications. </span></p>

<p class="speaker"><span class="line" data-starttime="455"><span class="speakerName">Renato Mangini</span>: So you still use </span><span class="line" data-startTime="455">the same package that are </span><span class="line" data-startTime="457">MPM, but you use it on </span><span class="line" data-startTime="457">your web application? </span></p>

<p class="speaker"><span class="line" data-starttime="460"><span class="speakerName">Paul Kinlan</span>: Yes. </span><span class="line" data-startTime="462">There's a package called </span><span class="line" data-startTime="462">Markdown, which was MPM </span><span class="line" data-startTime="464">install Markdown, which </span><span class="line" data-startTime="464">installed into my application, </span><span class="line" data-startTime="467">and then it's like two lines of </span><span class="line" data-startTime="467">code to actually interact </span><span class="line" data-startTime="469">with that module. </span><span class="line" data-startTime="470">So I'm going to show you, </span><span class="line" data-startTime="470">roughly kind of what </span><span class="line" data-startTime="472">it looks like now. </span><span class="line" data-startTime="473">This is the code. </span><span class="line" data-startTime="474">So testing, hello world. </span><span class="line" data-startTime="479">It's just a simple &mdash; </span><span class="line" data-startTime="480">and I can't spell. </span><span class="line" data-startTime="481">I can't type either, which </span><span class="line" data-startTime="481">is kind of cool &mdash; </span><span class="line" data-startTime="484">but it's just a simple </span><span class="line" data-startTime="484">application. </span><span class="line" data-startTime="485">It does things where it can </span><span class="line" data-startTime="485">integrate with a file system, </span><span class="line" data-startTime="487">so I can then go and </span><span class="line" data-startTime="487">say I'm going to </span><span class="line" data-startTime="489">save this to my desktop. </span><span class="line" data-startTime="491">So testing GDL &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="492"><span class="speakerName">Renato Mangini</span>: So on the left, </span><span class="line" data-startTime="492">you type the Markdown </span><span class="line" data-startTime="494">syntax, and on the right you'll </span><span class="line" data-startTime="494">get the HTML, the </span><span class="line" data-startTime="497">beautified [? markup ?]. </span></p>

<p class="speaker"><span class="line" data-starttime="499"><span class="speakerName">Paul Kinlan</span>: Yeah, </span><span class="line" data-startTime="499">exactly, yeah. </span><span class="line" data-startTime="500">So you get the rendered output </span><span class="line" data-startTime="500">on the right hand side and the </span><span class="line" data-startTime="502">actual raw text inside here. </span><span class="line" data-startTime="505">This is kind of cool. </span><span class="line" data-startTime="506">I kind of like this. </span></p>

<p class="speaker"><span class="line" data-starttime="507"><span class="speakerName">Renato Mangini</span>: It looks like </span><span class="line" data-startTime="507">it's not two lines of code, </span><span class="line" data-startTime="509">three lines. </span></p>

<p class="speaker"><span class="line" data-starttime="512"><span class="speakerName">Paul Kinlan</span>: I do tell a </span><span class="line" data-startTime="512">little bit of a fib. </span> <span class="line" data-startTime="514">The thing is that we're trying </span><span class="line" data-startTime="514">to say, it's two lines &mdash; </span><span class="line" data-startTime="516">did I say two lines? </span><span class="line" data-startTime="517">About ten lines of code, </span><span class="line" data-startTime="517">of my code, at least. </span> <span class="line" data-startTime="520">So the Markdown editor has </span><span class="line" data-startTime="520">already been made and </span><span class="line" data-startTime="522">distributed by our MPM. </span> <span class="line" data-startTime="524">So the idea behind MPM, at </span><span class="line" data-startTime="524">least, and what we were saying </span><span class="line" data-startTime="528">before is that there are </span><span class="line" data-startTime="528">thousands and thousands of </span><span class="line" data-startTime="530">modules, and thousands and </span><span class="line" data-startTime="530">thousands of developer hours </span><span class="line" data-startTime="532">that have been spent building </span><span class="line" data-startTime="532">the JavaScript libraries up to </span><span class="line" data-startTime="535">help you, as a developer, </span><span class="line" data-startTime="535">build applications </span><span class="line" data-startTime="537">that users will love. </span> <span class="line" data-startTime="538">And one of those things </span><span class="line" data-startTime="538">is a Markdown module. </span> <span class="line" data-startTime="540">So should we jump </span><span class="line" data-startTime="540">into the code? </span><span class="line" data-startTime="542">Let me see if I can just </span><span class="line" data-startTime="542">show you the code </span><span class="line" data-startTime="544">that we have here. </span> <span class="line" data-startTime="547">This is what we're going </span><span class="line" data-startTime="547">to build today. </span> <span class="line" data-startTime="550">So we go to source, index.js. </span></p>

<p><span class="line" data-startTime="553">I do have a lot of extra code. </span> <span class="line" data-startTime="554">We're not going to go </span><span class="line" data-startTime="554">too much into this. </span> <span class="line" data-startTime="555">And I do have a bug in some of </span><span class="line" data-startTime="555">my code as well at the moment. </span> <span class="line" data-startTime="559">But essentially, this can </span><span class="line" data-startTime="559">interact with the Chrome file </span><span class="line" data-startTime="562">system, like with the user's </span><span class="line" data-startTime="562">file system, and all </span><span class="line" data-startTime="565">that type of stuff. </span> <span class="line" data-startTime="565">We're not going to go into that </span><span class="line" data-startTime="565">part today because we </span><span class="line" data-startTime="567">want to just talk about the node </span><span class="line" data-startTime="567">part of this application. </span> <span class="line" data-startTime="573">So let's jump into the code. </span> <span class="line" data-startTime="576">So I'll do index.html, so you </span><span class="line" data-startTime="576">can actually see, this is our </span><span class="line" data-startTime="580">kind of basic structure </span><span class="line" data-startTime="580">of our application. </span></p>

<p><span class="line" data-startTime="582">We have some images </span><span class="line" data-startTime="582">down the side. </span> <span class="line" data-startTime="584">They're not too important for </span><span class="line" data-startTime="584">today, in fact, just to prove </span><span class="line" data-startTime="588">it, I'm going to delete two of </span><span class="line" data-startTime="588">them because we're not going </span><span class="line" data-startTime="590">to use them. </span> <span class="line" data-startTime="590">And we have a text area where </span><span class="line" data-startTime="590">we're going to input our text, </span><span class="line" data-startTime="593">our Markdown code, our Markdown </span><span class="line" data-startTime="593">code, and then an </span><span class="line" data-startTime="597">HTML area on the right </span><span class="line" data-startTime="597">hand side. </span> <span class="line" data-startTime="600">I used normal CSS to style it </span><span class="line" data-startTime="600">up, nothing kind of special. </span> <span class="line" data-startTime="603">I don't even use Flexbox. </span></p>

<p><span class="line" data-startTime="604">I was going to use Flexbox, </span><span class="line" data-startTime="604">[INAUDIBLE] </span><span class="line" data-startTime="606">it didn't matter at all. </span> <span class="line" data-startTime="608">So let's just jump into this. </span> <span class="line" data-startTime="610">v split index.js. </span> <span class="line" data-startTime="614">So index.js is the bit where </span><span class="line" data-startTime="614">we're going to put all of our </span><span class="line" data-startTime="617">logic for our Markdown editor, </span><span class="line" data-startTime="617">which is this &mdash; literally, </span><span class="line" data-startTime="620">it's going to be 10 </span><span class="line" data-startTime="620">lines of code. </span> <span class="line" data-startTime="622">So I'm going to do the thing </span><span class="line" data-startTime="622">that everyone hates, but I'm </span><span class="line" data-startTime="624">going to do it onload. </span> <span class="line" data-startTime="627">So this is basically </span><span class="line" data-startTime="627">just saying the </span><span class="line" data-startTime="628">window onload event. </span> <span class="line" data-startTime="630">I don't want to do add </span><span class="line" data-startTime="630">event listener &mdash; </span><span class="line" data-startTime="631">it just adds too much </span><span class="line" data-startTime="631">extra cruft. </span> <span class="line" data-startTime="635">But let's have a look. </span></p>

<p><span class="line" data-startTime="636">So md element = document &mdash; </span><span class="line" data-startTime="640">oops, sorry. </span> <span class="line" data-startTime="642">[INAUDIBLE] </span><span class="line" data-startTime="644">This is boilerpate code. </span> <span class="line" data-startTime="647">And I can't type, still. </span> <span class="line" data-startTime="651">Markdown, there we are, </span><span class="line" data-startTime="651">HTML = document. </span> <span class="line" data-startTime="664">I really can't type today &mdash; </span><span class="line" data-startTime="666">by ID. </span></p>

<p class="speaker"><span class="line" data-starttime="667"><span class="speakerName">Renato Mangini</span>: It's </span><span class="line" data-startTime="667">the jetlag. </span></p>

<p class="speaker"><span class="line" data-starttime="668"><span class="speakerName">Paul Kinlan</span>: It's the jetlag. </span><span class="line" data-startTime="669">I woke up at 3 o'clock this </span><span class="line" data-startTime="669">morning, wide awake. </span><span class="line" data-startTime="672">I thought, you know what? </span><span class="line" data-startTime="673">I'm going to have </span><span class="line" data-startTime="673">to go the gym. </span><span class="line" data-startTime="674">So I went to the gym. </span><span class="line" data-startTime="675">So this is the really </span><span class="line" data-startTime="675">interesting bit, right? </span><span class="line" data-startTime="676">This is, if you're a NodeJS </span><span class="line" data-startTime="676">developer, you'll know this </span><span class="line" data-startTime="678">bit just straight away. </span><span class="line" data-startTime="681">We're going to use the required </span><span class="line" data-startTime="681">syntax, Markdown. </span><span class="line" data-startTime="685">And so what this will do, this </span><span class="line" data-startTime="685">will actually pull in Markdown </span><span class="line" data-startTime="689">that we've actually </span><span class="line" data-startTime="689">pulled into our &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="690"><span class="speakerName">Renato Mangini</span>: So the </span><span class="line" data-startTime="690">require is like </span><span class="line" data-startTime="691">import for other languages. </span></p>

<p class="speaker"><span class="line" data-starttime="692"><span class="speakerName">Paul Kinlan</span>: Yeah, it's </span><span class="line" data-startTime="692">basically like an import and </span><span class="line" data-startTime="693">include, those types </span><span class="line" data-startTime="693">of things. </span> <span class="line" data-startTime="696">We have to do, this is just a </span><span class="line" data-startTime="696">bit of, for brevity, is put </span><span class="line" data-startTime="700">that on the end because I </span><span class="line" data-startTime="700">just don't want to do </span><span class="line" data-startTime="701">another line of code. </span> <span class="line" data-startTime="703">What you'll see now is, if </span><span class="line" data-startTime="703">we try and run this, this </span><span class="line" data-startTime="705">application won't work because </span><span class="line" data-startTime="705">I actually haven't imported </span><span class="line" data-startTime="709">the node package manager </span><span class="line" data-startTime="709">system into our Chrome </span><span class="line" data-startTime="711">application. </span> <span class="line" data-startTime="712">And I haven't run it </span><span class="line" data-startTime="712">through Browserify. </span> <span class="line" data-startTime="714">So right now this won't </span><span class="line" data-startTime="714">work, but I'm just </span><span class="line" data-startTime="716">showing you the code. </span> <span class="line" data-startTime="717">So we'll go into this. </span> <span class="line" data-startTime="719">MDL, which is the markdown </span><span class="line" data-startTime="719">area, dot </span><span class="line" data-startTime="722">onkeypress = function. </span></p>

<p><span class="line" data-startTime="727">Here we go. </span> <span class="line" data-startTime="730">output = Markdown. </span> <span class="line" data-startTime="733">I just realized I made </span><span class="line" data-startTime="733">a really weird noise. </span> <span class="line" data-startTime="737">md.toHTML, that's the </span><span class="line" data-startTime="737">one, mdl.value. </span> <span class="line" data-startTime="743">So what we're doing here, it's </span><span class="line" data-startTime="743">relatively simple, we're </span><span class="line" data-startTime="745">taking the data from the text </span><span class="line" data-startTime="745">area, passing it through the </span><span class="line" data-startTime="749">markdown system, and &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="750"><span class="speakerName">Renato Mangini</span>: So on every </span><span class="line" data-startTime="750">keypress, you run it through </span><span class="line" data-startTime="754">the renderer? </span></p>

<p class="speaker"><span class="line" data-starttime="755"><span class="speakerName">Paul Kinlan</span>: Yeah, it's </span><span class="line" data-startTime="755">pretty inefficient. </span><span class="line" data-startTime="760">But yeah, it's pretty cool. </span><span class="line" data-startTime="761">And I'm doing something we </span><span class="line" data-startTime="761">probably shouldn't do as </span><span class="line" data-startTime="763">well &mdash; innerHTML = output, </span><span class="line" data-startTime="763">and that's it. </span><span class="line" data-startTime="770">That's all we need. </span></p>

<p class="speaker"><span class="line" data-starttime="771"><span class="speakerName">Renato Mangini</span>: Is this </span><span class="line" data-startTime="771">innerHTML = output a big </span><span class="line" data-startTime="775">problem for a Chrome-patched app </span><span class="line" data-startTime="775">as it is for a web page? </span></p>

<p class="speaker"><span class="line" data-starttime="779"><span class="speakerName">Paul Kinlan</span>: It's not </span><span class="line" data-startTime="779">as big a problem. </span><span class="line" data-startTime="780">We have content security </span><span class="line" data-startTime="780">policy. </span><span class="line" data-startTime="782">And by default, content security </span><span class="line" data-startTime="782">policy inside Chrome </span><span class="line" data-startTime="785">applications. </span></p>

<p class="speaker"><span class="line" data-starttime="785"><span class="speakerName">Renato Mangini</span>: Because this is </span><span class="line" data-startTime="785">one of the biggest source </span><span class="line" data-startTime="787">of exploits, right? </span><span class="line" data-startTime="789">On web pages. </span></p>

<p class="speaker"><span class="line" data-starttime="790"><span class="speakerName">Paul Kinlan</span>: Yeah, it is. </span> <span class="line" data-startTime="792">Yes it is. </span> <span class="line" data-startTime="793">[INAUDIBLE] </span><span class="line" data-startTime="794">But yeah, this is the </span><span class="line" data-startTime="794">point, right? </span><span class="line" data-startTime="795">We have this thing called </span><span class="line" data-startTime="795">content security policy, which </span><span class="line" data-startTime="798">basically says, well, I know </span><span class="line" data-startTime="798">all the resources that my </span><span class="line" data-startTime="801">application can access. </span> <span class="line" data-startTime="803">So I don't allow dynamic script </span><span class="line" data-startTime="803">loading and injection </span><span class="line" data-startTime="806">from third party sources. </span> <span class="line" data-startTime="807">I won't allow images to be </span><span class="line" data-startTime="807">loaded in from other source as </span><span class="line" data-startTime="810">well, and, likewise, with </span><span class="line" data-startTime="810">cookies and all </span><span class="line" data-startTime="812">that type of stuff. </span> <span class="line" data-startTime="812">And if we can disable those </span><span class="line" data-startTime="812">things, and eval, and &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="816"><span class="speakerName">Renato Mangini</span>: So it's </span><span class="line" data-startTime="816">basically impossible to put a </span><span class="line" data-startTime="819">script tag on HTML because </span><span class="line" data-startTime="819">it doesn't evolve. </span></p>

<p class="speaker"><span class="line" data-starttime="823"><span class="speakerName">Paul Kinlan</span>: Yeah, with </span><span class="line" data-startTime="823">Markdown, in some versions or </span><span class="line" data-startTime="827">flavors of Markdown, </span><span class="line" data-startTime="827">at least, you can </span><span class="line" data-startTime="828">inject HTML code yourself. </span> <span class="line" data-startTime="830">Which the normal, plain HTML </span><span class="line" data-startTime="830">code will be fine. </span> <span class="line" data-startTime="833">But if it injects, finds </span><span class="line" data-startTime="833">a script tag, it </span><span class="line" data-startTime="836">won't let you do it. </span> <span class="line" data-startTime="837">You can't run script </span><span class="line" data-startTime="837">tags in line. </span> <span class="line" data-startTime="839">Eval is disabled as well. </span> <span class="line" data-startTime="841">So we can't do those </span><span class="line" data-startTime="841">types of things. </span> <span class="line" data-startTime="842">So it's not great, from the </span><span class="line" data-startTime="842">way that we encourage </span><span class="line" data-startTime="846">developers to build applications </span><span class="line" data-startTime="846">that interact </span><span class="line" data-startTime="848">with the DOM, and make </span><span class="line" data-startTime="848">new DOM elements, but </span><span class="line" data-startTime="850">it's relatively safe. </span> <span class="line" data-startTime="852">So let's break out this. </span> <span class="line" data-startTime="856">The thing I really want to do </span><span class="line" data-startTime="856">is, I will show you how to </span><span class="line" data-startTime="861">build and bring in your </span><span class="line" data-startTime="861">nodes modules. </span> <span class="line" data-startTime="865">So the basic thing we do, NPM </span><span class="line" data-startTime="865">install, which, if you've </span><span class="line" data-startTime="869">installed node inside your </span><span class="line" data-startTime="869">development environment, NPM </span><span class="line" data-startTime="872">basically comes pre-installed. </span></p>

<p><span class="line" data-startTime="873">And we have the ability, it's </span><span class="line" data-startTime="873">like kind of git, where it's </span><span class="line" data-startTime="876">got a special set of </span><span class="line" data-startTime="876">command lines. </span> <span class="line" data-startTime="878">Install is the ability to </span><span class="line" data-startTime="878">install modules into your </span><span class="line" data-startTime="883">local application working </span><span class="line" data-startTime="883">directory. </span> <span class="line" data-startTime="885">So let's install Markdown. </span> <span class="line" data-startTime="889">It goes off, gets it, and if all </span><span class="line" data-startTime="889">this works, this is cool. </span> <span class="line" data-startTime="893">So if I do a brief look at this, </span><span class="line" data-startTime="893">we have this directory </span><span class="line" data-startTime="896">called node modules &mdash; </span><span class="line" data-startTime="899">Oopsie daisy, sorry &mdash; </span><span class="line" data-startTime="904">with a Markdown module </span><span class="line" data-startTime="904">inside there. </span> <span class="line" data-startTime="906">This is packaged up inside my </span><span class="line" data-startTime="906">application when I deploy it, </span><span class="line" data-startTime="908">so I know I've got all the </span><span class="line" data-startTime="908">dependencies that I need. </span></p>

<p><span class="line" data-startTime="911">If Markdown required other </span><span class="line" data-startTime="911">dependencies for other node </span><span class="line" data-startTime="914">modules, it'd bring them </span><span class="line" data-startTime="914">and import them in. </span></p>

<p class="speaker"><span class="line" data-starttime="917"><span class="speakerName">Renato Mangini</span>: And now you </span><span class="line" data-startTime="917">are talking about NodeJS </span><span class="line" data-startTime="919">specifically? </span><span class="line" data-startTime="919">There is nothing related </span><span class="line" data-startTime="919">to the Chrome </span><span class="line" data-startTime="923">packaged app yet, right? </span></p>

<p class="speaker"><span class="line" data-starttime="924"><span class="speakerName">Paul Kinlan</span>: Yeah, this isn't </span><span class="line" data-startTime="924">specific at all to Chrome </span><span class="line" data-startTime="926">packaged apps. </span> <span class="line" data-startTime="927">This is just a very &mdash; </span><span class="line" data-startTime="928">we want to use a basic </span><span class="line" data-startTime="928">node module. </span> <span class="line" data-startTime="930">How do we actually use a node </span><span class="line" data-startTime="930">module inside Chrome? </span><span class="line" data-startTime="933">We're not quite there </span><span class="line" data-startTime="933">just yet. </span> <span class="line" data-startTime="934">We have to do this thing </span><span class="line" data-startTime="934">called Browserify. </span> <span class="line" data-startTime="938">Yeah, it's a really </span><span class="line" data-startTime="938">nice project. </span> <span class="line" data-startTime="941">Basically, the reason why this </span><span class="line" data-startTime="941">all works, and the reason we </span><span class="line" data-startTime="945">can do today, is because an </span><span class="line" data-startTime="945">external developer has </span><span class="line" data-startTime="948">basically made it so that </span><span class="line" data-startTime="948">you can run node </span><span class="line" data-startTime="950">modules in the web. </span></p>

<p><span class="line" data-startTime="951">And we're taking advantage of </span><span class="line" data-startTime="951">all this functionality to say, </span><span class="line" data-startTime="954">well, we can do is for our </span><span class="line" data-startTime="954">Chrome applications now. </span> <span class="line" data-startTime="956">So Browserify is the project. </span> <span class="line" data-startTime="957">It's on github.com. </span> <span class="line" data-startTime="960">But basically, what we do is, we </span><span class="line" data-startTime="960">import the Markdown module, </span><span class="line" data-startTime="965">which is fine, and we </span><span class="line" data-startTime="965">then output it to </span><span class="line" data-startTime="968">a file called bundle.js. </span> <span class="line" data-startTime="971">So this is not going to make too </span><span class="line" data-startTime="971">much sense, but if we look </span><span class="line" data-startTime="974">at bundle.js, it's basically </span><span class="line" data-startTime="974">including all the code that is </span><span class="line" data-startTime="978">needed to run basic NodeJS </span><span class="line" data-startTime="978">applications inside the </span><span class="line" data-startTime="981">browser and also Chrome </span><span class="line" data-startTime="981">applications. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="983"><span class="speakerName">Renato Mangini</span>: So that's </span><span class="line" data-startTime="983">the secret step. </span></p>

<p class="speaker"><span class="line" data-starttime="985"><span class="speakerName">Paul Kinlan</span>: Yeah, it does </span><span class="line" data-startTime="985">all the secret step. </span><span class="line" data-startTime="987">I've done none of this work. </span><span class="line" data-startTime="988">It's all been done by the </span><span class="line" data-startTime="988">community at large, and we're </span><span class="line" data-startTime="990">just taking advantage of that </span><span class="line" data-startTime="990">for your Chrome applications. </span><span class="line" data-startTime="994">But we'll jump out. </span><span class="line" data-startTime="995">It's important, Markdown, </span><span class="line" data-startTime="995">it's in there. </span><span class="line" data-startTime="998">And if we jump into Chrome, </span><span class="line" data-startTime="998">load unpacked extension, </span><span class="line" data-startTime="1008">projects, GPL, Markdown, styles, </span><span class="line" data-startTime="1008">we've added an in, and </span><span class="line" data-startTime="1018">this should, if we view the </span><span class="line" data-startTime="1018">code, this is our code, yep. </span><span class="line" data-startTime="1026">This is our proper project </span><span class="line" data-startTime="1026">testing, hello. </span></p>

<p class="speaker"><span class="line" data-starttime="1032"><span class="speakerName">Renato Mangini</span>: That's </span><span class="line" data-startTime="1032">awesome. </span></p>

<p class="speaker"><span class="line" data-starttime="1032"><span class="speakerName">Paul Kinlan</span>:  &mdash; world. </span><span class="line" data-startTime="1034">Yeah, from, like, my user code, </span><span class="line" data-startTime="1034">I've already done a </span><span class="line" data-startTime="1038">couple of lines of basic code, </span><span class="line" data-startTime="1038">10 lines of code, a lot of is </span><span class="line" data-startTime="1041">bootstrap of bringing in </span><span class="line" data-startTime="1041">elements and all this type of </span><span class="line" data-startTime="1044">stuff, but we've literally </span><span class="line" data-startTime="1044">been able to build this </span><span class="line" data-startTime="1047">application out using other </span><span class="line" data-startTime="1047">third party modules, quickly </span><span class="line" data-startTime="1050">using the Node MPN package </span><span class="line" data-startTime="1050">manager, yeah, </span><span class="line" data-startTime="1053">and it's pretty cool. </span></p>

<p class="speaker"><span class="line" data-starttime="1055"><span class="speakerName">Renato Mangini</span>: Awesome. </span></p>

<p class="speaker"><span class="line" data-starttime="1055"><span class="speakerName">Paul Kinlan</span>: It's pretty nice. </span></p>

<p class="speaker"><span class="line" data-starttime="1056"><span class="speakerName">Renato Mangini</span>: That's </span><span class="line" data-startTime="1056">really cool. </span></p>

<p class="speaker"><span class="line" data-starttime="1058"><span class="speakerName">Paul Kinlan</span>: So do we have </span><span class="line" data-startTime="1058">any questions from &mdash; ? </span></p>

<p class="speaker"><span class="line" data-starttime="1061"><span class="speakerName">Renato Mangini</span>: We </span><span class="line" data-startTime="1061">have some, but &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1063"><span class="speakerName">Paul Kinlan</span>: We can deal with, </span><span class="line" data-startTime="1063">actually, can we debug. </span> <span class="line" data-startTime="1065">I think that's the biggest one, </span><span class="line" data-startTime="1065">right, is like, can we </span><span class="line" data-startTime="1066">debug a node application? </span><span class="line" data-startTime="1069">So the thing to notice about </span><span class="line" data-startTime="1069">this is, node is built on the </span><span class="line" data-startTime="1072">back of V8. </span> <span class="line" data-startTime="1073">Chrome's JavaScript engine is </span><span class="line" data-startTime="1073">built on the back of V8. </span> <span class="line" data-startTime="1076">There's a lot of things inside </span><span class="line" data-startTime="1076">of node which are purely </span><span class="line" data-startTime="1078">written in C, essentially. </span> <span class="line" data-startTime="1080">They're like hard wrappers </span><span class="line" data-startTime="1080">to the V8 engine. </span> <span class="line" data-startTime="1084">So what's actually happening now </span><span class="line" data-startTime="1084">is, this is really just an </span><span class="line" data-startTime="1086">emulation of node and its </span><span class="line" data-startTime="1086">libraries inside Chrome it's </span><span class="line" data-startTime="1092">not a full NodeJS system </span><span class="line" data-startTime="1092">inside Chrome. </span></p>

<p><span class="line" data-startTime="1095">So that might have some kind </span><span class="line" data-startTime="1095">of negative benefits, like </span><span class="line" data-startTime="1100">negative aspects to this, in </span><span class="line" data-startTime="1100">the sense that, if some </span><span class="line" data-startTime="1104">modules had been written in </span><span class="line" data-startTime="1104">C, and they're specially </span><span class="line" data-startTime="1107">optimized for node on the server </span><span class="line" data-startTime="1107">environment, we're not </span><span class="line" data-startTime="1111">necessarily going to get that </span><span class="line" data-startTime="1111">kind of performance out of it </span><span class="line" data-startTime="1113">because the buffer object, for </span><span class="line" data-startTime="1113">instance, in NodeJS, we have </span><span class="line" data-startTime="1116">to manage that ourselves. </span> <span class="line" data-startTime="1118">We to manage that inside </span><span class="line" data-startTime="1118">JavaScript. </span> <span class="line" data-startTime="1120">Inside node, that's actually </span><span class="line" data-startTime="1120">managed by a </span><span class="line" data-startTime="1122">basically native code. </span> <span class="line" data-startTime="1124">So the interesting thing is, it </span><span class="line" data-startTime="1124">has a negative, which is, </span><span class="line" data-startTime="1128">potentially, performance. </span></p>

<p><span class="line" data-startTime="1129">I don't think it's going </span><span class="line" data-startTime="1129">to be that much </span><span class="line" data-startTime="1130">of a problem, though. </span> <span class="line" data-startTime="1131">The benefit, though, and to </span><span class="line" data-startTime="1131">answer this question, is that </span><span class="line" data-startTime="1134">we can actually debug these </span><span class="line" data-startTime="1134">things a lot better inside the </span><span class="line" data-startTime="1136">Chrome dev tools. </span> <span class="line" data-startTime="1137">The reason why we can debug </span><span class="line" data-startTime="1137">these things inside Chrome dev </span><span class="line" data-startTime="1139">tools, is, well, you'll </span><span class="line" data-startTime="1139">see it now. </span> <span class="line" data-startTime="1144">Is it's just an HTML and </span><span class="line" data-startTime="1144">JavaScript web-based </span><span class="line" data-startTime="1146">application. </span> <span class="line" data-startTime="1147">So if we go here, reload page, </span><span class="line" data-startTime="1147">so if we reload the page, we </span><span class="line" data-startTime="1154">should still have our break </span><span class="line" data-startTime="1154">points still set. </span> <span class="line" data-startTime="1156">If we break into this, you'll </span><span class="line" data-startTime="1156">see it breaks into this </span><span class="line" data-startTime="1158">bundle.js, which is </span><span class="line" data-startTime="1158">the compiled code </span><span class="line" data-startTime="1161">from Browserify project. </span> <span class="line" data-startTime="1163">So it's pretty cool, right? </span><span class="line" data-startTime="1164">I mean, we can do a whole </span><span class="line" data-startTime="1164">lot of stuff. </span></p>

<p><span class="line" data-startTime="1166">It doesn't make much sense for </span><span class="line" data-startTime="1166">me to show them too much else </span><span class="line" data-startTime="1168">about this. </span> <span class="line" data-startTime="1168">But everything's JavaScript, </span><span class="line" data-startTime="1168">everything's imported inside </span><span class="line" data-startTime="1171">the browser, which means </span><span class="line" data-startTime="1171">that you can debug your </span><span class="line" data-startTime="1173">applications. </span> <span class="line" data-startTime="1174">It doesn't mean that you can go </span><span class="line" data-startTime="1174">and debug your node-based </span><span class="line" data-startTime="1176">application on the server. </span> <span class="line" data-startTime="1178">You still have to go through the </span><span class="line" data-startTime="1178">existing methods that you </span><span class="line" data-startTime="1181">used that way. </span></p>

<p class="speaker"><span class="line" data-starttime="1181"><span class="speakerName">Renato Mangini</span>: So basically, </span><span class="line" data-startTime="1181">what you're doing there, on </span><span class="line" data-startTime="1184">the debug part, you are </span><span class="line" data-startTime="1184">debugging the bundle js, and </span><span class="line" data-startTime="1190">the bundle js, it will be like </span><span class="line" data-startTime="1190">the "node runtime," quoted. </span><span class="line" data-startTime="1200">So does the bundle js &mdash; </span><span class="line" data-startTime="1205">what type of limitations, aside </span><span class="line" data-startTime="1205">from performance, that </span><span class="line" data-startTime="1209">you already mentioned? </span></p>

<p class="speaker"><span class="line" data-starttime="1211"><span class="speakerName">Paul Kinlan</span>: So some </span><span class="line" data-startTime="1211">of the limitations </span><span class="line" data-startTime="1212">it has at the moment &mdash; </span><span class="line" data-startTime="1214">it's only got the basic APIs </span><span class="line" data-startTime="1214">of NodeJS stubbed out. </span> <span class="line" data-startTime="1217">Which, for the majority </span><span class="line" data-startTime="1217">of modules, is fine. </span> <span class="line" data-startTime="1220">It's absolutely fine. </span> <span class="line" data-startTime="1221">But if you want to do network </span><span class="line" data-startTime="1221">sockets, for instance, or </span><span class="line" data-startTime="1225">serial port access, those types </span><span class="line" data-startTime="1225">of things, they don't </span><span class="line" data-startTime="1228">exist on the web. </span> <span class="line" data-startTime="1229">So the engineers behind that </span><span class="line" data-startTime="1229">Browserify project have not </span><span class="line" data-startTime="1232">implemented them. </span> <span class="line" data-startTime="1234">But that doesn't stop us from </span><span class="line" data-startTime="1234">doing it because the really </span><span class="line" data-startTime="1238">cool thing is that Chrome has </span><span class="line" data-startTime="1238">got, inside this packaged app, </span><span class="line" data-startTime="1241">this new apps platform module </span><span class="line" data-startTime="1241">at least, anyway, it's got </span><span class="line" data-startTime="1244">access to a whole load of </span><span class="line" data-startTime="1244">hardware based APIs. </span> <span class="line" data-startTime="1247">So we can talk to serial ports, </span><span class="line" data-startTime="1247">network sockets, so we </span><span class="line" data-startTime="1250">can do TCP and UDP. </span></p>

<p><span class="line" data-startTime="1252">What else can we do, </span><span class="line" data-startTime="1252">USB, Bluetooth &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1254"><span class="speakerName">Renato Mangini</span>: Bluetooth </span><span class="line" data-startTime="1254">on some platforms. </span><span class="line" data-startTime="1258">We have Windows access, we have </span><span class="line" data-startTime="1258">a different file system &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1263"><span class="speakerName">Paul Kinlan</span>: Yeah, so we've got </span><span class="line" data-startTime="1263">file system API as well. </span><span class="line" data-startTime="1265">The FS module as well, inside </span><span class="line" data-startTime="1265">node, is pretty cool. </span><span class="line" data-startTime="1269">But what this allows us to do, </span><span class="line" data-startTime="1269">in quite a few cases, as long </span><span class="line" data-startTime="1272">as it's an asynchronous API </span><span class="line" data-startTime="1272">inside the NodeJS, is that we </span><span class="line" data-startTime="1276">can have a really good kind of </span><span class="line" data-startTime="1276">go at fleshing out the actual </span><span class="line" data-startTime="1281">implementation. </span><span class="line" data-startTime="1281">So we can provide the Chrome </span><span class="line" data-startTime="1281">implementation over, say, the </span><span class="line" data-startTime="1284">network socket API that maps </span><span class="line" data-startTime="1284">directly to the Chrome's </span><span class="line" data-startTime="1287">socket API. </span></p>

<p class="speaker"><span class="line" data-starttime="1288"><span class="speakerName">Renato Mangini</span>: Like </span><span class="line" data-startTime="1288">a wrapper? </span><span class="line" data-startTime="1289">Yeah, it's just basically </span><span class="line" data-startTime="1289">a wrapper. </span> <span class="line" data-startTime="1291">And it's on github today. </span> <span class="line" data-startTime="1292">I've already got one for net </span><span class="line" data-startTime="1292">module, which is what I'm </span><span class="line" data-startTime="1295">going to show you now. </span> <span class="line" data-startTime="1296">So it's a nice lead in </span><span class="line" data-startTime="1296">there, thank you. </span> <span class="line" data-startTime="1299">So this is our next </span><span class="line" data-startTime="1299">application. </span> <span class="line" data-startTime="1303">It's not going to </span><span class="line" data-startTime="1303">look like much. </span> <span class="line" data-startTime="1304">If you've ever done anything </span><span class="line" data-startTime="1304">with XML HTTP request, you'll </span><span class="line" data-startTime="1307">say, well, I can just use </span><span class="line" data-startTime="1307">XML HTTP request. </span> <span class="line" data-startTime="1310">But this is all about </span><span class="line" data-startTime="1310">just doing a demo. </span> <span class="line" data-startTime="1312">So news.ycombinator.org &mdash; </span><span class="line" data-startTime="1315">I really should do </span><span class="line" data-startTime="1315">my blog instead. </span> <span class="line" data-startTime="1319">Port 80, because this </span><span class="line" data-startTime="1319">is a bug in my code. </span> <span class="line" data-startTime="1324">And all it does is, it makes a </span><span class="line" data-startTime="1324">request out from my Chrome </span><span class="line" data-startTime="1327">packaged application. </span> <span class="line" data-startTime="1329">And actually, rather than does </span><span class="line" data-startTime="1329">XML HTTP request, it uses the </span><span class="line" data-startTime="1333">net module inside Chrome OS, </span><span class="line" data-startTime="1333">well not inside Chrome OS, </span><span class="line" data-startTime="1337">NodeJS, so that we can actually </span><span class="line" data-startTime="1337">make our requests out </span><span class="line" data-startTime="1340">using the module. </span></p>

<p><span class="line" data-startTime="1341">In this case &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1342"><span class="speakerName">Renato Mangini</span>: So it </span><span class="line" data-startTime="1342">does a raw TCP &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1344"><span class="speakerName">Paul Kinlan</span>: It does a raw TCP </span><span class="line" data-startTime="1344">connection and then writes the </span><span class="line" data-startTime="1347">HTTP request out </span><span class="line" data-startTime="1347">to the socket. </span> <span class="line" data-startTime="1350">And then the web server </span><span class="line" data-startTime="1350">will respond, and we </span><span class="line" data-startTime="1351">just display the data. </span> <span class="line" data-startTime="1352">So as you can see, I mean, it's </span><span class="line" data-startTime="1352">just telling you all the </span><span class="line" data-startTime="1355">header information and a whole </span><span class="line" data-startTime="1355">lot of other stuff there. </span> <span class="line" data-startTime="1358">It's pretty cool. </span> <span class="line" data-startTime="1359">I really want to show you </span><span class="line" data-startTime="1359">guys the code because I </span><span class="line" data-startTime="1361">really like this code. </span> <span class="line" data-startTime="1364">Most of it's taken from the </span><span class="line" data-startTime="1364">NodeJS documentation, just to </span><span class="line" data-startTime="1368">kind of see how easily </span><span class="line" data-startTime="1368">it works. </span> <span class="line" data-startTime="1370">Let me just remove this there. </span> <span class="line" data-startTime="1372">So as you can see here, we have </span><span class="line" data-startTime="1372">the net module, require </span><span class="line" data-startTime="1375">net, this doesn't come with </span><span class="line" data-startTime="1375">Browserify, but I've made the </span><span class="line" data-startTime="1381">wrapper for Chrome, so we'll see </span><span class="line" data-startTime="1381">that in a second when we </span><span class="line" data-startTime="1383">get into the code. </span> <span class="line" data-startTime="1385">We basically pass the URL. </span> <span class="line" data-startTime="1387">This is actually a </span><span class="line" data-startTime="1387">really nice API. </span></p>

<p><span class="line" data-startTime="1388">Someone in the NodeJS community, </span><span class="line" data-startTime="1388">I think it actually </span><span class="line" data-startTime="1391">might be default inside node, </span><span class="line" data-startTime="1391">actually, they wrote a proper </span><span class="line" data-startTime="1395">URL object. </span> <span class="line" data-startTime="1396">Which means that we don't have </span><span class="line" data-startTime="1396">this in the browser, right? </span></p>

<p class="speaker"><span class="line" data-starttime="1400"><span class="speakerName">Renato Mangini</span>: To deal with </span><span class="line" data-startTime="1400">schema, ports, and et cetera. </span></p>

<p class="speaker"><span class="line" data-starttime="1402"><span class="speakerName">Paul Kinlan</span>: To deal with </span><span class="line" data-startTime="1402">schema, ports, passing, query </span><span class="line" data-startTime="1404">strings, path, the closest </span><span class="line" data-startTime="1404">that we get to it is the </span><span class="line" data-startTime="1406">location object. </span> <span class="line" data-startTime="1408">I mean, we can't construct a </span><span class="line" data-startTime="1408">brand new location object just </span><span class="line" data-startTime="1411">inside the browser. </span> <span class="line" data-startTime="1412">It's a real pain. </span> <span class="line" data-startTime="1413">But now it's in node. </span> <span class="line" data-startTime="1415">You just do, and here's the code </span><span class="line" data-startTime="1415">here, if we just zoom in </span><span class="line" data-startTime="1417">a bit more &mdash; oh, I won't </span><span class="line" data-startTime="1417">zoom in that much. </span> <span class="line" data-startTime="1422">url.pass, and it passes the </span><span class="line" data-startTime="1422">value, the string that we put </span><span class="line" data-startTime="1425">in and returns the url object. </span> <span class="line" data-startTime="1427">It's beautiful. </span> <span class="line" data-startTime="1428">It's really nice, and that's </span><span class="line" data-startTime="1428">all thanks to node and the </span><span class="line" data-startTime="1430">fact that we can run this inside </span><span class="line" data-startTime="1430">Chrome via Browserify. </span></p>

<p><span class="line" data-startTime="1434">So should we just jump in? </span><span class="line" data-startTime="1437">I mean, I've shown you the </span><span class="line" data-startTime="1437">code anyway, but we'll </span><span class="line" data-startTime="1438">probably just jump in </span><span class="line" data-startTime="1438">to show how easy it </span><span class="line" data-startTime="1440">is to do this thing? </span></p>

<p class="speaker"><span class="line" data-starttime="1441"><span class="speakerName">Renato Mangini</span>: Is it's like, </span><span class="line" data-startTime="1441">three lines of code? </span></p>

<p class="speaker"><span class="line" data-starttime="1443"><span class="speakerName">Paul Kinlan</span>: No, this is </span><span class="line" data-startTime="1443">a little bit more. </span><span class="line" data-startTime="1445">It's four lines of code now. </span><span class="line" data-startTime="1448">Web requester. </span><span class="line" data-startTime="1450">So if we view index.html, you'll </span><span class="line" data-startTime="1450">see that I've just got </span><span class="line" data-startTime="1454">everything already </span><span class="line" data-startTime="1454">made for us. </span><span class="line" data-startTime="1456">It takes too much effort to go </span><span class="line" data-startTime="1456">and do all the html live. </span><span class="line" data-startTime="1460">So [? let's edit ?] </span><span class="line" data-startTime="1461">vsplit, I can't spell vsplit </span><span class="line" data-startTime="1461">at all today &mdash; </span><span class="line" data-startTime="1465">index.js. </span><span class="line" data-startTime="1467">Add it anyway, that's fine, </span><span class="line" data-startTime="1467">all right, cool. </span><span class="line" data-startTime="1469">And in this one, I've prepared </span><span class="line" data-startTime="1469">all the boilerplate </span><span class="line" data-startTime="1471">code ahead of time. </span></p>

<p class="speaker"><span class="line" data-starttime="1472"><span class="speakerName">Renato Mangini</span>: Ah, OK. </span></p>

<p class="speaker"><span class="line" data-starttime="1474"><span class="speakerName">Paul Kinlan</span>: So let's just </span><span class="line" data-startTime="1474">jump into the code. </span> <span class="line" data-startTime="1475">I actually have written it out </span><span class="line" data-startTime="1475">down here, so it's var net = </span><span class="line" data-startTime="1479">require net. </span> <span class="line" data-startTime="1480">This is using the same NodeJS </span><span class="line" data-startTime="1480">import system to import the </span><span class="line" data-startTime="1484">net module. </span> <span class="line" data-startTime="1485">Var url = require url. </span> <span class="line" data-startTime="1493">And then var sys </span><span class="line" data-startTime="1493">= require sys. </span> <span class="line" data-startTime="1499">And that's basically all of the </span><span class="line" data-startTime="1499">modules that we need for </span><span class="line" data-startTime="1501">our application. </span> <span class="line" data-startTime="1502">Now the really cool thing about </span><span class="line" data-startTime="1502">this is that we're going </span><span class="line" data-startTime="1504">to basically pass the host. </span> <span class="line" data-startTime="1508">This, I love this. </span> <span class="line" data-startTime="1510">It sounds stupid. </span></p>

<p><span class="line" data-startTime="1511">It does sound stupid. </span> <span class="line" data-startTime="1512">But I just love this module </span><span class="line" data-startTime="1512">because I can do </span><span class="line" data-startTime="1516">so much with it. </span> <span class="line" data-startTime="1520">I'm just going to take some </span><span class="line" data-startTime="1520">values I'm going to use for </span><span class="line" data-startTime="1521">later on, port, and this is </span><span class="line" data-startTime="1521">why I love it, right? </span><span class="line" data-startTime="1525">Pass int, host.port, </span><span class="line" data-startTime="1525">or port 80. </span> <span class="line" data-startTime="1531">So the bug that I had in my </span><span class="line" data-startTime="1531">code originally, it didn't </span><span class="line" data-startTime="1534">have this or 80, essentially. </span> <span class="line" data-startTime="1537">So if you didn't put port in, </span><span class="line" data-startTime="1537">it'd just assume that there </span><span class="line" data-startTime="1538">was no port. </span> <span class="line" data-startTime="1542">Host, host.hostname. </span> <span class="line" data-startTime="1545">Cool. </span> <span class="line" data-startTime="1547">And that's all we need </span><span class="line" data-startTime="1547">to pass it out. </span> <span class="line" data-startTime="1550">If you've ever done anything </span><span class="line" data-startTime="1550">like this in JavaScript, </span><span class="line" data-startTime="1551">trying to pass out URL fragments </span><span class="line" data-startTime="1551">and syntax, like </span><span class="line" data-startTime="1555">some if someone's giving </span><span class="line" data-startTime="1555">you a URL, you'll </span><span class="line" data-startTime="1557">know how hard it is. </span></p>

<p><span class="line" data-startTime="1557">So it's just nice, the fact </span><span class="line" data-startTime="1557">that we can actually bring </span><span class="line" data-startTime="1559">this into our applications. </span> <span class="line" data-startTime="1560">This is actually, if you use </span><span class="line" data-startTime="1560">Browserify just normally, this </span><span class="line" data-startTime="1563">is available to every </span><span class="line" data-startTime="1563">web application. </span> <span class="line" data-startTime="1565">So if you need a URL object </span><span class="line" data-startTime="1565">parser that's the one to use. </span> <span class="line" data-startTime="1569">So client, so if you're a NodeJS </span><span class="line" data-startTime="1569">developer, you'll know </span><span class="line" data-startTime="1571">this already. </span> <span class="line" data-startTime="1573">net.creat net.create connection </span><span class="line" data-startTime="1573">with my options, </span><span class="line" data-startTime="1582">set some encoding, actually, </span><span class="line" data-startTime="1582">I put this in just </span><span class="line" data-startTime="1589">to be a nice citizen. </span> <span class="line" data-startTime="1591">I actually haven't stubbed </span><span class="line" data-startTime="1591">out the code for this. </span> <span class="line" data-startTime="1594">So right, this is the meat </span><span class="line" data-startTime="1594">of the code now. </span> <span class="line" data-startTime="1599">Client connect, ooh, can't </span><span class="line" data-startTime="1599">spell function. </span> <span class="line" data-startTime="1606">There we are. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="1608"><span class="speakerName">Renato Mangini</span>: We have some </span><span class="line" data-startTime="1608">YouTube commenters telling </span><span class="line" data-startTime="1611">that you will misspelled </span><span class="line" data-startTime="1611">require &mdash; </span><span class="line" data-startTime="1614">[INAUDIBLE] require. </span></p>

<p class="speaker"><span class="line" data-starttime="1615"><span class="speakerName">Paul Kinlan</span>: Aww! </span><span class="line" data-startTime="1617">Nice, nice, real </span><span class="line" data-startTime="1617">time feedback. </span></p>

<p class="speaker"><span class="line" data-starttime="1619"><span class="speakerName">Renato Mangini</span>: Thank you. </span></p>

<p class="speaker"><span class="line" data-starttime="1620"><span class="speakerName">Paul Kinlan</span>: I still </span><span class="line" data-startTime="1620">can't spell it. </span> <span class="line" data-startTime="1622">There we are. </span> <span class="line" data-startTime="1623">Thank you very much. </span> <span class="line" data-startTime="1627">Yeah, so this is done live. </span> <span class="line" data-startTime="1630">Only practiced lots of times, </span><span class="line" data-startTime="1630">as you can't tell, sorry. </span> <span class="line" data-startTime="1634">Host.path, so this is going to </span><span class="line" data-startTime="1634">look like a bit of voodoo </span><span class="line" data-startTime="1639">magic, well, not necessarily </span><span class="line" data-startTime="1639">really voodoo magic, but </span><span class="line" data-startTime="1642">you'll see what I'm doing </span><span class="line" data-startTime="1642">in a second second. </span> <span class="line" data-startTime="1644">So this is because we, as kind </span><span class="line" data-startTime="1644">of web developers, we know and </span><span class="line" data-startTime="1648">understand the structure of the </span><span class="line" data-startTime="1648">code and how to make an </span><span class="line" data-startTime="1651">HTTP request. </span> <span class="line" data-startTime="1653">The thing about the NodeJS </span><span class="line" data-startTime="1653">stuff, this application, is </span><span class="line" data-startTime="1656">that we're using the </span><span class="line" data-startTime="1656">raw socket API. </span></p>

<p><span class="line" data-startTime="1658">It doesn't know how to make </span><span class="line" data-startTime="1658">an HTTP request, so we're </span><span class="line" data-startTime="1660">actually formulating the request </span><span class="line" data-startTime="1660">that we're going to </span><span class="line" data-startTime="1663">make out to the remote </span><span class="line" data-startTime="1663">service. </span> <span class="line" data-startTime="1666">So once we have a connection, </span><span class="line" data-startTime="1666">and we know that we can </span><span class="line" data-startTime="1669">successfully connect it to the </span><span class="line" data-startTime="1669">service, we're going to build </span><span class="line" data-startTime="1671">out this request, </span><span class="line" data-startTime="1671">host, host.host. </span> <span class="line" data-startTime="1678">I could've refracted this a </span><span class="line" data-startTime="1678">little bit more, I suppose, </span><span class="line" data-startTime="1680">slash n, slash n, boom, </span><span class="line" data-startTime="1680">client.write. </span> <span class="line" data-startTime="1685">And I'm going to explain a lot </span><span class="line" data-startTime="1685">more about this right now. </span> <span class="line" data-startTime="1688">So what we've done here is, </span><span class="line" data-startTime="1688">we've created a connection to </span><span class="line" data-startTime="1694">the URL that we specified </span><span class="line" data-startTime="1694">in the text box &mdash; </span><span class="line" data-startTime="1699">I couldn't think of the word, </span><span class="line" data-startTime="1699">then, to save my life. </span> <span class="line" data-startTime="1701">We've basically passed the URL </span><span class="line" data-startTime="1701">out, we've made the connection </span><span class="line" data-startTime="1703">to the service, once we know </span><span class="line" data-startTime="1703">that we're connected, there's </span><span class="line" data-startTime="1706">an on event, essentially. </span></p>

<p><span class="line" data-startTime="1707">It's an [? eventer ?] </span><span class="line" data-startTime="1708">method inside NodeJS. </span> <span class="line" data-startTime="1709">So it's the same style event </span><span class="line" data-startTime="1709">model, like event inventing </span><span class="line" data-startTime="1713">logic that you have, which is </span><span class="line" data-startTime="1713">different in normal website. </span></p>

<p class="speaker"><span class="line" data-starttime="1716"><span class="speakerName">Renato Mangini</span>: Yeah, this </span><span class="line" data-startTime="1716">is very common for node </span><span class="line" data-startTime="1718">developers they would look </span><span class="line" data-startTime="1718">at the code and &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1720"><span class="speakerName">Paul Kinlan</span>: Yeah, exactly. </span> <span class="line" data-startTime="1722">We formulate the request. </span> <span class="line" data-startTime="1723">It's just a get request. </span> <span class="line" data-startTime="1724">It doesn't do much else. </span> <span class="line" data-startTime="1724">It takes the path, tells it it's </span><span class="line" data-startTime="1724">a HTTP 1.1 protocol, and </span><span class="line" data-startTime="1729">then gives it the host, </span><span class="line" data-startTime="1729">the host name, because </span><span class="line" data-startTime="1731">that's what we need. </span> <span class="line" data-startTime="1734">And then it writes out </span><span class="line" data-startTime="1734">to the socket. </span> <span class="line" data-startTime="1735">So what we've done in this part </span><span class="line" data-startTime="1735">now is that we've taken </span><span class="line" data-startTime="1737">this code, and we've basically </span><span class="line" data-startTime="1737">said, open the connection and </span><span class="line" data-startTime="1740">send the data to </span><span class="line" data-startTime="1740">the web server. </span> <span class="line" data-startTime="1742">The web server will send us data </span><span class="line" data-startTime="1742">back, however, we can't </span><span class="line" data-startTime="1746">do anything with it just </span><span class="line" data-startTime="1746">yet because we've no </span><span class="line" data-startTime="1747">way to handle it. </span> <span class="line" data-startTime="1749">So let's have a quick </span><span class="line" data-startTime="1749">go at that. </span></p>

<p><span class="line" data-startTime="1751">So client.on. </span> <span class="line" data-startTime="1753">So this is another event. </span> <span class="line" data-startTime="1756">I can't spell. </span> <span class="line" data-startTime="1757">Data, oh wow. </span> <span class="line" data-startTime="1762">Data &mdash; </span><span class="line" data-startTime="1764">and we're not going to do </span><span class="line" data-startTime="1764">too much with this. </span> <span class="line" data-startTime="1767">result.innerText, yeah, it </span><span class="line" data-startTime="1767">can be multiple requests. </span> <span class="line" data-startTime="1774">So let's do that. </span> <span class="line" data-startTime="1775">data.toString, and </span><span class="line" data-startTime="1775">there we go. </span> <span class="line" data-startTime="1781">I think we're all closed off. </span></p>

<p class="speaker"><span class="line" data-starttime="1782"><span class="speakerName">Renato Mangini</span>: So what you're </span><span class="line" data-startTime="1782">doing with the response from </span><span class="line" data-startTime="1784">the server is just </span><span class="line" data-startTime="1784">setting it on &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1787"><span class="speakerName">Paul Kinlan</span>: Yeah, we're just </span><span class="line" data-startTime="1787">setting it on the div, just to </span><span class="line" data-startTime="1790">show what's happening. </span><span class="line" data-startTime="1791">So the interesting thing is, </span><span class="line" data-startTime="1791">this, again, will not work. </span></p>

<p class="speaker"><span class="line" data-starttime="1795"><span class="speakerName">Renato Mangini</span>: Why? </span></p>

<p class="speaker"><span class="line" data-starttime="1796"><span class="speakerName">Paul Kinlan</span>: Because we've </span><span class="line" data-startTime="1796">not imported the module. </span><span class="line" data-startTime="1798">So I actually have the URL. </span><span class="line" data-startTime="1800">I've not published it live </span><span class="line" data-startTime="1800">into MPM just yet because </span><span class="line" data-startTime="1803">there's a whole load of things </span><span class="line" data-startTime="1803">I want to get sorted out. </span><span class="line" data-startTime="1805">But it is on github. </span><span class="line" data-startTime="1807">So MPM install git, </span><span class="line" data-startTime="1807">github.com/paulk </span><span class="line" data-startTime="1810">inlan/net-chromify.git. </span></p>

<p class="speaker"><span class="line" data-starttime="1826"><span class="speakerName">Renato Mangini</span>: Installed? </span></p>

<p class="speaker"><span class="line" data-starttime="1827"><span class="speakerName">Paul Kinlan</span>: It's actually </span><span class="line" data-startTime="1827">installed it from my local </span><span class="line" data-startTime="1829">system because I actually </span><span class="line" data-startTime="1829">had it on previously. </span><span class="line" data-startTime="1834">Demo fail. </span><span class="line" data-startTime="1835">But let's have a look. </span><span class="line" data-startTime="1837">Let's see if we can load &mdash; </span><span class="line" data-startTime="1837">what am I doing? </span><span class="line" data-startTime="1840">I apologize &mdash; </span><span class="line" data-startTime="1841">load it in. </span><span class="line" data-startTime="1844">Web requestor. </span><span class="line" data-startTime="1849">Testing.org It doesn't </span><span class="line" data-startTime="1849">have an index.html. </span><span class="line" data-startTime="1863">Oh, we've got an error. </span><span class="line" data-startTime="1864">Let's have a look what it is. </span><span class="line" data-startTime="1869">Hmm. </span><span class="line" data-startTime="1874">well, should we show off </span><span class="line" data-startTime="1874">the debugging support. </span></p>

<p class="speaker"><span class="line" data-starttime="1878"><span class="speakerName">Renato Mangini</span>: Oh, leave </span><span class="line" data-startTime="1878">the bug session, uh oh. </span><span class="line" data-startTime="1881">Leave the bug session. </span><span class="line" data-startTime="1883">Live the bug session. </span><span class="line" data-startTime="1885">There is one question </span><span class="line" data-startTime="1885">on YouTube . </span><span class="line" data-startTime="1889">[? Montis Lewis ?] is asking </span><span class="line" data-startTime="1889">where is window.require? </span><span class="line" data-startTime="1892">Because you call a require </span><span class="line" data-startTime="1892">method on the full name space. </span></p>

<p class="speaker"><span class="line" data-starttime="1895"><span class="speakerName">Paul Kinlan</span>: Yes, so let </span><span class="line" data-startTime="1895">me show you actually. </span><span class="line" data-startTime="1897">So where's the window.require? </span><span class="line" data-startTime="1900">This is interesting, right? </span><span class="line" data-startTime="1901">So this is exactly what </span><span class="line" data-startTime="1901">Browserify does for us. </span><span class="line" data-startTime="1910">Oh, you know why </span><span class="line" data-startTime="1910">it didn't work? </span></p>

<p class="speaker"><span class="line" data-starttime="1912"><span class="speakerName">Renato Mangini</span>: Why? </span></p>

<p class="speaker"><span class="line" data-starttime="1913"><span class="speakerName">Paul Kinlan</span>: I'll tell you </span><span class="line" data-startTime="1913">why it didn't work. </span><span class="line" data-startTime="1914">So let's actually answer </span><span class="line" data-startTime="1914">that question. </span><span class="line" data-startTime="1918">So Browserify -r netChromify </span><span class="line" data-startTime="1918">net. </span><span class="line" data-startTime="1925">So map the net Chromify module </span><span class="line" data-startTime="1925">to the net name space. </span><span class="line" data-startTime="1929">-sys, and also include url </span><span class="line" data-startTime="1929">and output bundle.js. </span><span class="line" data-startTime="1938">So if we look at bundle &mdash; </span><span class="line" data-startTime="1939">I apologize again, </span><span class="line" data-startTime="1939">bundle.js this is </span><span class="line" data-startTime="1945">actually where it's defined. </span></p>

<p class="speaker"><span class="line" data-starttime="1947"><span class="speakerName">Renato Mangini</span>: All right, so </span><span class="line" data-startTime="1947">what Browserify did there is </span><span class="line" data-startTime="1950">imported out the node modules </span><span class="line" data-startTime="1950">that you specified, and </span><span class="line" data-startTime="1955">generated the bundle </span><span class="line" data-startTime="1955">without this &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1958"><span class="speakerName">Paul Kinlan</span>: Yeah, so basically </span><span class="line" data-startTime="1958">if we do a search </span><span class="line" data-startTime="1961">for net, then it's basically </span><span class="line" data-startTime="1961">brought net </span><span class="line" data-startTime="1964">into this bundle object. </span><span class="line" data-startTime="1966">So bundle.js is a collection </span><span class="line" data-startTime="1966">of all our node modules. </span><span class="line" data-startTime="1969">It's a collection of all the </span><span class="line" data-startTime="1969">core functionality that's </span><span class="line" data-startTime="1972">needed via &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1973"><span class="speakerName">Renato Mangini</span>: And what does it </span><span class="line" data-startTime="1973">also look for dependencies </span><span class="line" data-startTime="1976">inside those modules? </span><span class="line" data-startTime="1977">For example, if net depends </span><span class="line" data-startTime="1977">another module, </span><span class="line" data-startTime="1980">it does look for &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1981"><span class="speakerName">Paul Kinlan</span>: Yeah, so I've </span><span class="line" data-startTime="1981">actually got a bug fix out as </span><span class="line" data-startTime="1984">well for this, inside </span><span class="line" data-startTime="1984">Browserify. </span><span class="line" data-startTime="1985">But essentially, if you look at </span><span class="line" data-startTime="1985">the Markdown project that </span><span class="line" data-startTime="1988">we had before, it had </span><span class="line" data-startTime="1988">some sub modules. </span><span class="line" data-startTime="1991">So if you go to require./ </span><span class="line" data-startTime="1991">another js file, when you do </span><span class="line" data-startTime="1998">the Browserify process, it will </span><span class="line" data-startTime="1998">go and pass out all the </span><span class="line" data-startTime="2000">modules it needs to load in into </span><span class="line" data-startTime="2000">this one JavaScript file. </span><span class="line" data-startTime="2004">And to the same extent as well, </span><span class="line" data-startTime="2004">you have to prerequire </span><span class="line" data-startTime="2008">all the call libraries </span><span class="line" data-startTime="2008">yourself. </span><span class="line" data-startTime="2011">But it will spit out an error </span><span class="line" data-startTime="2011">that you can't find one of the </span><span class="line" data-startTime="2013">modules you'll need. </span><span class="line" data-startTime="2014">But the really interesting thing </span><span class="line" data-startTime="2014">is, generally, is if you </span><span class="line" data-startTime="2017">do an MPM install, you only </span><span class="line" data-startTime="2017">really have to do the </span><span class="line" data-startTime="2020">highlight, the top level module, </span><span class="line" data-startTime="2020">for it to go off and </span><span class="line" data-startTime="2022">go, well I know all the </span><span class="line" data-startTime="2022">node modules I need &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2026"><span class="speakerName">Renato Mangini</span>: If if net </span><span class="line" data-startTime="2026">required a TCP module, I don't </span><span class="line" data-startTime="2031">even know if that is one, if you </span><span class="line" data-startTime="2031">do in MPM install net, the </span><span class="line" data-startTime="2036">TCP module would </span><span class="line" data-startTime="2036">also install &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2037"><span class="speakerName">Paul Kinlan</span>: Yeah, I mean, </span><span class="line" data-startTime="2037">it's all part of it. </span><span class="line" data-startTime="2041">And net in our case here </span><span class="line" data-startTime="2041">is our own module. </span><span class="line" data-startTime="2043">But if we required any extra </span><span class="line" data-startTime="2043">modules, if we broke it up a </span><span class="line" data-startTime="2046">little bit to make the code a </span><span class="line" data-startTime="2046">bit more maintainable, it'll </span><span class="line" data-startTime="2048">bring all them in. </span><span class="line" data-startTime="2049">So it can do that. </span><span class="line" data-startTime="2051">So I actually want to </span><span class="line" data-startTime="2051">see if I fixed this. </span><span class="line" data-startTime="2060">News.ycominator.org &mdash; </span><span class="line" data-startTime="2064">let's do port 80 as well, </span><span class="line" data-startTime="2064">just in case, in case I </span><span class="line" data-startTime="2067">didn't fix the bugs. </span><span class="line" data-startTime="2067">No, it didn't work. </span><span class="line" data-startTime="2069">So yeah, this is live. </span><span class="line" data-startTime="2070">We had a demo fail today. </span></p>

<p class="speaker"><span class="line" data-starttime="2071"><span class="speakerName">Renato Mangini</span>: No problem, </span><span class="line" data-startTime="2071">I trust you </span><span class="line" data-startTime="2074">that the code is working. </span></p>

<p class="speaker"><span class="line" data-starttime="2075"><span class="speakerName">Paul Kinlan</span>: Thank </span><span class="line" data-startTime="2075">you very much. </span></p>

<p class="speaker"><span class="line" data-starttime="2079"><span class="speakerName">Renato Mangini</span>: That's </span><span class="line" data-startTime="2079">really awesome. </span><span class="line" data-startTime="2080">So what it did there, you </span><span class="line" data-startTime="2080">created a simple code that </span><span class="line" data-startTime="2084">used the net module. </span><span class="line" data-startTime="2086">But the net module is </span><span class="line" data-startTime="2086">not Browserify. </span><span class="line" data-startTime="2090">It doesn't come with </span><span class="line" data-startTime="2090">Browserify, right? </span><span class="line" data-startTime="2092">So you wrote a wrapper around a </span><span class="line" data-startTime="2092">Chrome-packaged app, socket </span><span class="line" data-startTime="2097">APIs and converting those </span><span class="line" data-startTime="2097">APIs to the the same </span><span class="line" data-startTime="2102">syntax as net module. </span></p>

<p class="speaker"><span class="line" data-starttime="2103"><span class="speakerName">Paul Kinlan</span>: Yeah, exactly. </span></p>

<p class="speaker"><span class="line" data-starttime="2104"><span class="speakerName">Renato Mangini</span>: So you can use </span><span class="line" data-startTime="2104">exactly the same code that </span><span class="line" data-startTime="2105">uses net module, you can use it </span><span class="line" data-startTime="2105">on your Chrome [INAUDIBLE] </span></p>

<p class="speaker"><span class="line" data-starttime="2109"><span class="speakerName">Paul Kinlan</span>: Yeah, exactly. </span><span class="line" data-startTime="2109">Basically, it's a complete </span><span class="line" data-startTime="2109">mapper to the node APIs. </span></p>

<p class="speaker"><span class="line" data-starttime="2111"><span class="speakerName">Renato Mangini</span>: That's </span><span class="line" data-startTime="2111">really cool. </span></p>

<p class="speaker"><span class="line" data-starttime="2112"><span class="speakerName">Paul Kinlan</span>: So what's just kind </span><span class="line" data-startTime="2112">of cool is, if we want to </span><span class="line" data-startTime="2114">access serial ports and all </span><span class="line" data-startTime="2114">these types of things, it's </span><span class="line" data-startTime="2116">pretty cool. </span></p>

<p class="speaker"><span class="line" data-starttime="2117"><span class="speakerName">Renato Mangini</span>: So we can have </span><span class="line" data-startTime="2117">developers creating those </span><span class="line" data-startTime="2119">wrappers for every API </span><span class="line" data-startTime="2119">that's not supported </span><span class="line" data-startTime="2122">by Browserify, fight? </span></p>

<p class="speaker"><span class="line" data-starttime="2123"><span class="speakerName">Paul Kinlan</span>: Yeah, </span><span class="line" data-startTime="2123">exactly, yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="2124"><span class="speakerName">Renato Mangini</span>: Awesome. </span></p>

<p class="speaker"><span class="line" data-starttime="2125"><span class="speakerName">Paul Kinlan</span>: So the really </span><span class="line" data-startTime="2125">interesting thing as well is </span><span class="line" data-startTime="2126">that the net module itself </span><span class="line" data-startTime="2126">doesn't come with a server. </span> <span class="line" data-startTime="2130">So I'll rephrase it. </span> <span class="line" data-startTime="2131">It comes with client </span><span class="line" data-startTime="2131">connections. </span> <span class="line" data-startTime="2132">You make the connection, but </span><span class="line" data-startTime="2132">you can also create a TCP </span><span class="line" data-startTime="2135">server with it as well. </span> <span class="line" data-startTime="2136">And I think from our talk two </span><span class="line" data-startTime="2136">or three weeks ago, when we </span><span class="line" data-startTime="2140">talked about Chrome actually has </span><span class="line" data-startTime="2140">listen and accept methods </span><span class="line" data-startTime="2142">now, so you can actually have </span><span class="line" data-startTime="2142">Chrome running as a web server </span><span class="line" data-startTime="2145">or any type of server </span><span class="line" data-startTime="2145">that you want. </span> <span class="line" data-startTime="2147">I'm doing a little </span><span class="line" data-startTime="2147">bit more work. </span> <span class="line" data-startTime="2148">It's not an amazing amount, but </span><span class="line" data-startTime="2148">what's going to happen is, </span><span class="line" data-startTime="2152">basically, you're going to be </span><span class="line" data-startTime="2152">able to run your node-based </span><span class="line" data-startTime="2155">server, in theory, "in theory," </span><span class="line" data-startTime="2155">inside your Chrome </span><span class="line" data-startTime="2160">application. </span></p>

<p><span class="line" data-startTime="2161">So if we have the complete </span><span class="line" data-startTime="2161">mapping between the net name </span><span class="line" data-startTime="2163">space, then it'd be so cool if </span><span class="line" data-startTime="2163">we can get, you know, you're </span><span class="line" data-startTime="2166">building applications with </span><span class="line" data-startTime="2166">Express or any of the node </span><span class="line" data-startTime="2168">middleware modules for building </span><span class="line" data-startTime="2168">web servers &mdash; </span><span class="line" data-startTime="2171">you could actually run your web </span><span class="line" data-startTime="2171">server and all your code </span><span class="line" data-startTime="2173">inside your app. </span> <span class="line" data-startTime="2174">And when you're thinking about </span><span class="line" data-startTime="2174">these new kind of native like </span><span class="line" data-startTime="2177">applications where you have all </span><span class="line" data-startTime="2177">the logic on the server, </span><span class="line" data-startTime="2180">and, well, you're offline, what </span><span class="line" data-startTime="2180">happens, well you can </span><span class="line" data-startTime="2182">have the similar type of </span><span class="line" data-startTime="2182">logic on the client. </span></p>

<p><span class="line" data-startTime="2184">And then your pure UI client </span><span class="line" data-startTime="2184">itself still make the same </span><span class="line" data-startTime="2187">types of requests out </span><span class="line" data-startTime="2187">to the server. </span> <span class="line" data-startTime="2190">It doesn't really have </span><span class="line" data-startTime="2190">to know it's offline. </span> <span class="line" data-startTime="2191">It just says, well, I'm going </span><span class="line" data-startTime="2191">to make these requests, and </span><span class="line" data-startTime="2193">they get delegated back to our </span><span class="line" data-startTime="2193">application and then to the </span><span class="line" data-startTime="2196">main web server. </span></p>

<p class="speaker"><span class="line" data-starttime="2197"><span class="speakerName">Renato Mangini</span>: That's </span><span class="line" data-startTime="2197">really cool. </span><span class="line" data-startTime="2198">And we have a huge community of </span><span class="line" data-startTime="2198">NodeJS developers, right? </span><span class="line" data-startTime="2202">So we have a huge amount of </span><span class="line" data-startTime="2202">projects using NodeJS. </span><span class="line" data-startTime="2206">And if those projects can run on </span><span class="line" data-startTime="2206">the client side, and if it </span><span class="line" data-startTime="2209">makes sense for those projects </span><span class="line" data-startTime="2209">to run on the client side, </span><span class="line" data-startTime="2212">it's interesting for users and </span><span class="line" data-startTime="2212">for developers that have a </span><span class="line" data-startTime="2217">user base much bigger </span><span class="line" data-startTime="2217">than the &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2221"><span class="speakerName">Paul Kinlan</span>: Yeah, it kickstarts </span><span class="line" data-startTime="2221">your whole </span><span class="line" data-startTime="2223">development process. </span><span class="line" data-startTime="2224">You can built these native type </span><span class="line" data-startTime="2224">applications using code </span><span class="line" data-startTime="2227">that developers have </span><span class="line" data-startTime="2227">already made. </span><span class="line" data-startTime="2228">And if you don't want to use </span><span class="line" data-startTime="2228">node, then we still have our </span><span class="line" data-startTime="2230">raw, kind of low level socket </span><span class="line" data-startTime="2230">APIs for instance, for </span><span class="line" data-startTime="2233">networking. </span><span class="line" data-startTime="2234">Like the raw APIs that you </span><span class="line" data-startTime="2234">might need, but a lot of </span><span class="line" data-startTime="2237">developers don't like dealing </span><span class="line" data-startTime="2237">with raw APIs. </span><span class="line" data-startTime="2239">But we have the ability to go </span><span class="line" data-startTime="2239">deep into the raw API or </span><span class="line" data-startTime="2242">higher level with the node </span><span class="line" data-startTime="2242">modules at least. </span></p>

<p class="speaker"><span class="line" data-starttime="2244"><span class="speakerName">Renato Mangini</span>: That's </span><span class="line" data-startTime="2244">really cool. </span><span class="line" data-startTime="2245">We are running out of time, </span><span class="line" data-startTime="2245">maybe we can jump &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2248"><span class="speakerName">Paul Kinlan</span>: Should we jump </span><span class="line" data-startTime="2248">into some questions? </span></p>

<p class="speaker"><span class="line" data-starttime="2250"><span class="speakerName">Renato Mangini</span>: OK, so the first </span><span class="line" data-startTime="2250">question from Luis, from </span><span class="line" data-startTime="2254">Phoenix, how does MPM fit in? </span><span class="line" data-startTime="2258">This question was made before </span><span class="line" data-startTime="2258">the session begin, but even </span><span class="line" data-startTime="2262">though, I think you can </span><span class="line" data-startTime="2262">give a quick answer. </span></p>

<p class="speaker"><span class="line" data-starttime="2264"><span class="speakerName">Paul Kinlan</span>: Yeah, so I mean, </span><span class="line" data-startTime="2264">I hope it's been kind of </span><span class="line" data-startTime="2268">relatively clear about how MPM </span><span class="line" data-startTime="2268">fits in, is that it's just </span><span class="line" data-startTime="2271">part of your development </span><span class="line" data-startTime="2271">life cycle, right? </span><span class="line" data-startTime="2273">So you'll have your application </span><span class="line" data-startTime="2273">that you're </span><span class="line" data-startTime="2275">developing, say, on your Mac </span><span class="line" data-startTime="2275">box, or Linux, Windows. </span> <span class="line" data-startTime="2278">And you'll do MPM install. </span> <span class="line" data-startTime="2280">You'll install the </span><span class="line" data-startTime="2280">modules locally. </span> <span class="line" data-startTime="2283">They don't have to be locally </span><span class="line" data-startTime="2283">installed because, </span><span class="line" data-startTime="2285">essentially, what happens is, </span><span class="line" data-startTime="2285">Browserify inspects all the </span><span class="line" data-startTime="2288">node modules that you've </span><span class="line" data-startTime="2288">installed into your </span><span class="line" data-startTime="2289">application space, essentially, </span><span class="line" data-startTime="2289">and then says, </span><span class="line" data-startTime="2292">well, that's cool, they're </span><span class="line" data-startTime="2292">there, but we're going to make </span><span class="line" data-startTime="2295">this big bundle file. </span> <span class="line" data-startTime="2296">And then you'll install that </span><span class="line" data-startTime="2296">inside the browser. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="2298"><span class="speakerName">Renato Mangini</span>: So the user of </span><span class="line" data-startTime="2298">your web application that's </span><span class="line" data-startTime="2302">uses Browserify doesn't need to </span><span class="line" data-startTime="2302">have node or MPM installed? </span></p>

<p class="speaker"><span class="line" data-starttime="2307"><span class="speakerName">Paul Kinlan</span>: It's just </span><span class="line" data-startTime="2307">you as a developer. </span><span class="line" data-startTime="2309">And if you're developing node </span><span class="line" data-startTime="2309">based applications, you'll be </span><span class="line" data-startTime="2312">using MPM anyway. </span><span class="line" data-startTime="2314">It's the same time of process, </span><span class="line" data-startTime="2314">apart from this Browserify </span><span class="line" data-startTime="2316">step, which you basically have </span><span class="line" data-startTime="2316">to use to convert your code </span><span class="line" data-startTime="2321">and import all the module syntax </span><span class="line" data-startTime="2321">[? and all type of ?] </span><span class="line" data-startTime="2323">stuff in. </span></p>

<p class="speaker"><span class="line" data-starttime="2324"><span class="speakerName">Renato Mangini</span>: That's cool. </span></p>

<p class="speaker"><span class="line" data-starttime="2326"><span class="speakerName">Paul Kinlan</span>: It fits in. </span></p>

<p class="speaker"><span class="line" data-starttime="2327"><span class="speakerName">Renato Mangini</span>: The </span><span class="line" data-startTime="2327">next question &mdash; </span><span class="line" data-startTime="2329">what are the sandboxing </span><span class="line" data-startTime="2329">restrictions? </span></p>

<p class="speaker"><span class="line" data-starttime="2334"><span class="speakerName">Paul Kinlan</span>: So I suppose </span><span class="line" data-startTime="2334">there's a couple of different </span><span class="line" data-startTime="2336">types of answers that we </span><span class="line" data-startTime="2336">can deal with on this. </span><span class="line" data-startTime="2340">The sandboxing, it comes in in </span><span class="line" data-startTime="2340">a couple of different senses. </span><span class="line" data-startTime="2343">There's the content security </span><span class="line" data-startTime="2343">policy, which basically </span><span class="line" data-startTime="2346">sandboxes the things that you </span><span class="line" data-startTime="2346">can inject into a page. </span><span class="line" data-startTime="2349">So you can't include external </span><span class="line" data-startTime="2349">resources unless you </span><span class="line" data-startTime="2351">explicitly, in your manifest, </span><span class="line" data-startTime="2351">allow them. </span><span class="line" data-startTime="2356">If you're making requests out </span><span class="line" data-startTime="2356">to the services, then, if </span><span class="line" data-startTime="2360">you're using the node based net </span><span class="line" data-startTime="2360">API for sandboxing, then </span><span class="line" data-startTime="2364">it's all permission based </span><span class="line" data-startTime="2364">inside Chrome. </span><span class="line" data-startTime="2365">So let me just, if we can, jump </span><span class="line" data-startTime="2365">back into some code for </span><span class="line" data-startTime="2369">the web requestor. </span><span class="line" data-startTime="2370">The manifest basically has this </span><span class="line" data-startTime="2370">line at the bottom which </span><span class="line" data-startTime="2375">I tried to highlight, </span><span class="line" data-startTime="2375">socket TCP connect. </span></p>

<p class="speaker"><span class="line" data-starttime="2378"><span class="speakerName">Renato Mangini</span>: So you have </span><span class="line" data-startTime="2378">the same restrictions as a </span><span class="line" data-startTime="2380">standard JavaScript code running </span><span class="line" data-startTime="2380">on a Chrome packaged </span><span class="line" data-startTime="2384">app, right? </span></p>

<p class="speaker"><span class="line" data-starttime="2385"><span class="speakerName">Paul Kinlan</span>: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="2385"><span class="speakerName">Renato Mangini</span>: It's </span><span class="line" data-startTime="2385">exactly the same. </span><span class="line" data-startTime="2387">You don't run native code, </span><span class="line" data-startTime="2387">you don't run to the </span><span class="line" data-startTime="2390">native part of NodeJS. </span><span class="line" data-startTime="2392">It's just JavaScript. </span></p>

<p class="speaker"><span class="line" data-starttime="2393"><span class="speakerName">Paul Kinlan</span>: Yeah, you don't run </span><span class="line" data-startTime="2393">the native part of NodeJS. </span><span class="line" data-startTime="2395">And if we, for instance, used </span><span class="line" data-startTime="2395">the net module, for instance, </span><span class="line" data-startTime="2399">that breaks out to the </span><span class="line" data-startTime="2399">Chrome.socket API, which is </span><span class="line" data-startTime="2403">permission based. </span><span class="line" data-startTime="2405">So when you actually want to </span><span class="line" data-startTime="2405">deal with these lower level </span><span class="line" data-startTime="2407">APIs and these kind of more </span><span class="line" data-startTime="2407">advanced functionality than </span><span class="line" data-startTime="2409">you get with a normal </span><span class="line" data-startTime="2409">application, then this is </span><span class="line" data-startTime="2412">actually done through a </span><span class="line" data-startTime="2412">permission based system. </span><span class="line" data-startTime="2414">So we have this exact same </span><span class="line" data-startTime="2414">sandboxing model as a normal </span><span class="line" data-startTime="2417">website, a normal web page. </span><span class="line" data-startTime="2419">Web pages can't request data </span><span class="line" data-startTime="2419">automatically from another web </span><span class="line" data-startTime="2421">page, like inject &mdash; </span><span class="line" data-startTime="2424">they just can't go </span><span class="line" data-startTime="2424">across process. </span><span class="line" data-startTime="2427">So it's the same type of </span><span class="line" data-startTime="2427">sandboxing models. </span></p>

<p class="speaker"><span class="line" data-starttime="2429"><span class="speakerName">Renato Mangini</span>: OK, next </span><span class="line" data-startTime="2429">question from Juice, what </span><span class="line" data-startTime="2434">build is this available in? </span></p>

<p class="speaker"><span class="line" data-starttime="2436"><span class="speakerName">Paul Kinlan</span>: Yeah, so this </span><span class="line" data-startTime="2436">should work in &mdash; </span><span class="line" data-startTime="2438">I think we're at </span><span class="line" data-startTime="2438">beta aren't we? </span><span class="line" data-startTime="2440">We're in beta for the beta </span><span class="line" data-startTime="2440">channel at least &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2443"><span class="speakerName">Renato Mangini</span>: The 23? </span></p>

<p class="speaker"><span class="line" data-starttime="2444"><span class="speakerName">Paul Kinlan</span>: 23 </span></p>

<p class="speaker"><span class="line" data-starttime="2444"><span class="speakerName">Renato Mangini</span>: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="2445"><span class="speakerName">Paul Kinlan</span>: Yeah, so the best </span><span class="line" data-startTime="2445">place says, this is all still </span><span class="line" data-startTime="2447">kind of in development and </span><span class="line" data-startTime="2447">experimental at the moment. </span><span class="line" data-startTime="2449">But it's getting to the point </span><span class="line" data-startTime="2449">where we want to get it live. </span><span class="line" data-startTime="2453">The main thing to notice is </span><span class="line" data-startTime="2453">that I'd say, work on Dev </span><span class="line" data-startTime="2456">Channel and Canary because </span><span class="line" data-startTime="2456">there are still kind of </span><span class="line" data-startTime="2458">changes to some of the APIs </span><span class="line" data-startTime="2458">going on, and while the </span><span class="line" data-startTime="2462">network socket API hasn't </span><span class="line" data-startTime="2462">changed in a long time, and </span><span class="line" data-startTime="2464">I'm pretty sure it wont', we've </span><span class="line" data-startTime="2464">just got to make sure </span><span class="line" data-startTime="2467">it's not unstable just yet. </span><span class="line" data-startTime="2470">So I would work on the </span><span class="line" data-startTime="2470">Dev Channel for now. </span><span class="line" data-startTime="2472">Work with Browserify as well &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2474"><span class="speakerName">Renato Mangini</span>: Especially if </span><span class="line" data-startTime="2474">you use the TCP lesson, and </span><span class="line" data-startTime="2476">TCP lesson is only on Canary. </span></p>

<p class="speaker"><span class="line" data-starttime="2478"><span class="speakerName">Paul Kinlan</span>: Yeah, </span><span class="line" data-startTime="2478">so TCP lesson, </span><span class="line" data-startTime="2478">actually, is only on Canary. </span><span class="line" data-startTime="2479">And it's only on the </span><span class="line" data-startTime="2479">experimental flag as well, I </span><span class="line" data-startTime="2481">think, isn't it? </span></p>

<p class="speaker"><span class="line" data-starttime="2482"><span class="speakerName">Renato Mangini</span>: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="2482"><span class="speakerName">Paul Kinlan</span>: So if you want to </span><span class="line" data-startTime="2482">do server-based work, we'd </span><span class="line" data-startTime="2484">love you guys to go out and demo </span><span class="line" data-startTime="2484">it and kind of work on it </span><span class="line" data-startTime="2487">and give us a lot of feedback </span><span class="line" data-startTime="2487">about that. </span><span class="line" data-startTime="2489">But yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="2492"><span class="speakerName">Renato Mangini</span>: Where </span><span class="line" data-startTime="2492">we can find more </span><span class="line" data-startTime="2493">docs on patched apps? </span></p>

<p class="speaker"><span class="line" data-starttime="2495"><span class="speakerName">Paul Kinlan</span>: So </span><span class="line" data-startTime="2495">developer.chrome.com/apps, </span><span class="line" data-startTime="2499">that includes more of all </span><span class="line" data-startTime="2499">of our documentation. </span><span class="line" data-startTime="2501">It actually doesn't have this </span><span class="line" data-startTime="2501">web, I can't believe someone </span><span class="line" data-startTime="2504">actually noticed this unless </span><span class="line" data-startTime="2504">they looked at the code. </span></p>

<p class="speaker"><span class="line" data-starttime="2506"><span class="speakerName">Renato Mangini</span>: Yeah, </span><span class="line" data-startTime="2506">that's really cool. </span></p>

<p class="speaker"><span class="line" data-starttime="2506"><span class="speakerName">Paul Kinlan</span>: That's actually </span><span class="line" data-startTime="2506">pretty cool. </span></p>

<p class="speaker"><span class="line" data-starttime="2508"><span class="speakerName">Renato Mangini</span>: Do you </span><span class="line" data-startTime="2508">want to explain this? </span></p>

<p class="speaker"><span class="line" data-starttime="2509"><span class="speakerName">Paul Kinlan</span>: Yeah, webkit </span><span class="line" data-startTime="2509">app region &mdash; </span><span class="line" data-startTime="2513">webkit app region is a piece of </span><span class="line" data-startTime="2513">CSS syntax that allows you </span><span class="line" data-startTime="2517">to [INAUDIBLE], because you </span><span class="line" data-startTime="2517">notice in this application </span><span class="line" data-startTime="2519">that we have here, we don't </span><span class="line" data-startTime="2519">actually have a title bar. </span><span class="line" data-startTime="2523">And if you don't have a title </span><span class="line" data-startTime="2523">bar, how do you drag the </span><span class="line" data-startTime="2524">application around? </span><span class="line" data-startTime="2525">Well, webkit app region is the </span><span class="line" data-startTime="2525">piece of CSS syntax that you </span><span class="line" data-startTime="2530">use to actually define </span><span class="line" data-startTime="2530">what's draggable. </span><span class="line" data-startTime="2532">So I've made the left </span><span class="line" data-startTime="2532">bar here draggable. </span><span class="line" data-startTime="2534">And if we inspect element. </span></p>

<p class="speaker"><span class="line" data-starttime="2536"><span class="speakerName">Renato Mangini</span>: Actually, the </span><span class="line" data-startTime="2536">webkit app region specifies </span><span class="line" data-startTime="2540">what is not draggable. </span></p>

<p class="speaker"><span class="line" data-starttime="2541"><span class="speakerName">Paul Kinlan</span>: Yes, and then you </span><span class="line" data-startTime="2541">specify it in here, the drag. </span><span class="line" data-startTime="2545">So basically, you've specified </span><span class="line" data-startTime="2545">the drag area. </span><span class="line" data-startTime="2547">So you can say non draggable. </span><span class="line" data-startTime="2550">We don't actually have </span><span class="line" data-startTime="2550">that documentation. </span><span class="line" data-startTime="2552">We need to get some </span><span class="line" data-startTime="2552">documentation for that because </span><span class="line" data-startTime="2554">it's very Chrome </span><span class="line" data-startTime="2554">apps specific. </span></p>

<p class="speaker"><span class="line" data-starttime="2555"><span class="speakerName">Renato Mangini</span>: OK, so do we </span><span class="line" data-startTime="2555">need to make a difference HTTP </span><span class="line" data-startTime="2561">package to use the Chrome </span><span class="line" data-startTime="2561">TCP list editor? </span></p>

<p class="speaker"><span class="line" data-starttime="2565"><span class="speakerName">Paul Kinlan</span>: So I was under the </span><span class="line" data-startTime="2565">impression that the HTTP </span><span class="line" data-startTime="2568">package was mainly about making </span><span class="line" data-startTime="2568">XML HTTP requests, </span><span class="line" data-startTime="2571">like, style requests out, which </span><span class="line" data-startTime="2571">is kind of supported </span><span class="line" data-startTime="2574">with XML HTTP request, anyway, </span><span class="line" data-startTime="2574">inside the Browserify project. </span> <span class="line" data-startTime="2578">If you want to go and make a </span><span class="line" data-startTime="2578">special Chrome-only version </span><span class="line" data-startTime="2582">that uses the sockets, then </span><span class="line" data-startTime="2582">that's perfectly possible, but </span><span class="line" data-startTime="2585">I think the code's </span><span class="line" data-startTime="2585">already there. </span> <span class="line" data-startTime="2587">For the actual TCP </span><span class="line" data-startTime="2587">listener, that's </span><span class="line" data-startTime="2589">included in the net project. </span> <span class="line" data-startTime="2591">So in theory, if there was a </span><span class="line" data-startTime="2591">server component to the HTTP </span><span class="line" data-startTime="2595">project, and it included the net </span><span class="line" data-startTime="2595">module, then they should </span><span class="line" data-startTime="2598">just work in theory </span><span class="line" data-startTime="2598">and get pulled in. </span> <span class="line" data-startTime="2601">I will say now that the code </span><span class="line" data-startTime="2601">inside the net module for </span><span class="line" data-startTime="2604">creating server based accept </span><span class="line" data-startTime="2604">and listen modules, it </span><span class="line" data-startTime="2610">doesn't work yet. </span></p>

<p><span class="line" data-startTime="2610">And I'm going to </span><span class="line" data-startTime="2610">get live soon. </span> <span class="line" data-startTime="2613">I've got to run through </span><span class="line" data-startTime="2613">all the unit tests. </span></p>

<p class="speaker"><span class="line" data-starttime="2616"><span class="speakerName">Renato Mangini</span>: But you don't </span><span class="line" data-startTime="2616">need a different HTTP package? </span><span class="line" data-startTime="2619">I mean, you need a wrapper </span><span class="line" data-startTime="2619">around the HTTP package? </span><span class="line" data-startTime="2621">There's already an HTTP package, </span><span class="line" data-startTime="2621">and the way that </span><span class="line" data-startTime="2625">Browserify works is, you have </span><span class="line" data-startTime="2625">HTTP-Browserify, it will use </span><span class="line" data-startTime="2629">that module. </span><span class="line" data-startTime="2630">So you can make your own </span><span class="line" data-startTime="2630">Browserify package to replace </span><span class="line" data-startTime="2633">what comes by default. </span></p>

<p class="speaker"><span class="line" data-starttime="2636"><span class="speakerName">Renato Mangini</span>: So your </span><span class="line" data-startTime="2636">application that is the HTTP </span><span class="line" data-startTime="2637">package doesn't change if you </span><span class="line" data-startTime="2637">provide the same service? </span></p>

<p class="speaker"><span class="line" data-starttime="2641"><span class="speakerName">Paul Kinlan</span>: If you provide the </span><span class="line" data-startTime="2641">same base level API, you </span><span class="line" data-startTime="2642">should be fine. </span></p>

<p class="speaker"><span class="line" data-starttime="2643"><span class="speakerName">Renato Mangini</span>: OK. </span><span class="line" data-startTime="2644">And here we come to the last </span><span class="line" data-startTime="2644">question on Moderator, is </span><span class="line" data-startTime="2648">there a register to compare </span><span class="line" data-startTime="2648">builds in node packages versus </span><span class="line" data-startTime="2653">what has been done like </span><span class="line" data-startTime="2653">your net package? </span></p>

<p class="speaker"><span class="line" data-starttime="2659"><span class="speakerName">Paul Kinlan</span>: We could </span><span class="line" data-startTime="2659">start a list. </span> <span class="line" data-startTime="2660">So could we start a </span><span class="line" data-startTime="2660">list somewhere? </span><span class="line" data-startTime="2662">So the interesting thing is that </span><span class="line" data-startTime="2662">we definitely don't want </span><span class="line" data-startTime="2665">to fork the Browserify </span><span class="line" data-startTime="2665">project. </span> <span class="line" data-startTime="2666">But the Browserify project </span><span class="line" data-startTime="2666">basically says these modules </span><span class="line" data-startTime="2669">need work to do. </span> <span class="line" data-startTime="2670">But like we said in the previous </span><span class="line" data-startTime="2670">question is, if you </span><span class="line" data-startTime="2673">make the module itself </span><span class="line" data-startTime="2673">net-browserify, or </span><span class="line" data-startTime="2677">http-browserify, and then you </span><span class="line" data-startTime="2677">import that into your project, </span><span class="line" data-startTime="2681">and you're via MPM install of </span><span class="line" data-startTime="2681">that module, then Browserify </span><span class="line" data-startTime="2686">will delegate to that </span><span class="line" data-startTime="2686">piece functionality. </span></p>

<p><span class="line" data-startTime="2688">So you can override all those </span><span class="line" data-startTime="2688">different areas with your own </span><span class="line" data-startTime="2690">functionality. </span> <span class="line" data-startTime="2691">So we do need a lot more. </span> <span class="line" data-startTime="2693">I've only worked on net because </span><span class="line" data-startTime="2693">it was the sexiest one </span><span class="line" data-startTime="2695">to work on. </span> <span class="line" data-startTime="2696">Because I could build a web </span><span class="line" data-startTime="2696">server inside the browser. </span></p>

<p class="speaker"><span class="line" data-starttime="2697"><span class="speakerName">Renato Mangini</span>: But it doesn't </span><span class="line" data-startTime="2697">include robots. </span><span class="line" data-startTime="2699">Why is this the sexiest? </span></p>

<p class="speaker"><span class="line" data-starttime="2701"><span class="speakerName">Paul Kinlan</span>: It doesn't </span><span class="line" data-startTime="2701">include the robots? </span></p>

<p class="speaker"><span class="line" data-starttime="2702"><span class="speakerName">Renato Mangini</span>: Yeah, it should </span><span class="line" data-startTime="2702">include robots, should </span><span class="line" data-startTime="2704">be the sexiest &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2705"><span class="speakerName">Paul Kinlan</span>: So, funny </span><span class="line" data-startTime="2705">you should say this. </span><span class="line" data-startTime="2707">There's a whole competition now </span><span class="line" data-startTime="2707">for accessing Mindstorms, </span><span class="line" data-startTime="2710">Arduinos, what else is there, </span><span class="line" data-startTime="2710">the AR drones, and all those </span><span class="line" data-startTime="2714">types of things, where people </span><span class="line" data-startTime="2714">are doing it inside NodeJS. </span><span class="line" data-startTime="2718">And we've written our own stuff </span><span class="line" data-startTime="2718">to access a Mindstorm </span><span class="line" data-startTime="2719">before in Chrome, and </span><span class="line" data-startTime="2719">we've also written &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2721"><span class="speakerName">Renato Mangini</span>: We definitely </span><span class="line" data-startTime="2721">should do that. </span></p>

<p class="speaker"><span class="line" data-starttime="2723"><span class="speakerName">Paul Kinlan</span>: Yeah, I </span><span class="line" data-startTime="2723">mean, it's already </span><span class="line" data-startTime="2724">been done in node. </span><span class="line" data-startTime="2724">So the thing that should happen </span><span class="line" data-startTime="2724">is, we should just </span><span class="line" data-startTime="2726">provide the base API wrapper. </span></p>

<p class="speaker"><span class="line" data-starttime="2728"><span class="speakerName">Renato Mangini</span>: That's true. </span></p>

<p class="speaker"><span class="line" data-starttime="2729"><span class="speakerName">Paul Kinlan</span>: And then all these </span><span class="line" data-startTime="2729">applications that are </span><span class="line" data-startTime="2730">written for node should work &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2732"><span class="speakerName">Renato Mangini</span>: Controlling a </span><span class="line" data-startTime="2732">robot using a web application. </span></p>

<p class="speaker"><span class="line" data-starttime="2735"><span class="speakerName">Paul Kinlan</span>: We should do it. </span><span class="line" data-startTime="2736">I mean, we just need to get </span><span class="line" data-startTime="2736">those extra bits filled in. </span><span class="line" data-startTime="2738">And if anyone wants to </span><span class="line" data-startTime="2738">help me, email me </span><span class="line" data-startTime="2740">paulkinlan@google.com, and </span><span class="line" data-startTime="2740">we'll get started. </span></p>

<p class="speaker"><span class="line" data-starttime="2744"><span class="speakerName">Renato Mangini</span>: OK, and </span><span class="line" data-startTime="2744">let me check if </span><span class="line" data-startTime="2746">there is anymore questions? </span></p>

<p class="speaker"><span class="line" data-starttime="2749"><span class="speakerName">Paul Kinlan</span>: Why Vim? </span><span class="line" data-startTime="2751">I like Vim. </span><span class="line" data-startTime="2753">Renato's done some really cool </span><span class="line" data-startTime="2753">stuff with Sublime, which </span><span class="line" data-startTime="2755">we'll show in a future </span><span class="line" data-startTime="2755">episode. </span><span class="line" data-startTime="2757">So I might move to that </span><span class="line" data-startTime="2757">at some point. </span></p>

<p class="speaker"><span class="line" data-starttime="2760"><span class="speakerName">Renato Mangini</span>: Maybe I can do </span><span class="line" data-startTime="2760">the same for vi, because I </span><span class="line" data-startTime="2762">also love vi. </span></p>

<p class="speaker"><span class="line" data-starttime="2763"><span class="speakerName">Paul Kinlan</span>: Yes, [INAUDIBLE] </span><span class="line" data-startTime="2765">special Vim package or bundle, </span><span class="line" data-startTime="2765">or whatever they are called. </span></p>

<p class="speaker"><span class="line" data-starttime="2769"><span class="speakerName">Renato Mangini</span>: OK, so we </span><span class="line" data-startTime="2769">are pretty much done. </span></p>

<p class="speaker"><span class="line" data-starttime="2771"><span class="speakerName">Paul Kinlan</span>: I think we're </span><span class="line" data-startTime="2771">pretty much done. </span><span class="line" data-startTime="2772">Thanks, guys, for listening. </span><span class="line" data-startTime="2773">I'm Paul Kinlan. </span></p>

<p class="speaker"><span class="line" data-starttime="2774"><span class="speakerName">Renato Mangini</span>: I'm Renato </span><span class="line" data-startTime="2774">Mangin, thanks for coming. </span></p>

<p class="speaker"><span class="line" data-starttime="2777"><span class="speakerName">Paul Kinlan</span>: And we'll </span><span class="line" data-startTime="2777">see you next week. </span></p>