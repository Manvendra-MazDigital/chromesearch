<p><span class="line" data-startTime="4">Hi, I'm Finnur and I work on the Google Chrome </span><span class="line" data-startTime="4">extension system. </span> <span class="line" data-startTime="7">I'd like to tell you how to debug extensions </span><span class="line" data-startTime="7">for Google Chrome. </span> <span class="line" data-startTime="11">Extensions in Google Chrome are just like </span><span class="line" data-startTime="11">web pages that you can debug using the built-in </span><span class="line" data-startTime="15">tools of Google Chrome. </span> <span class="line" data-startTime="15">Let me show you how it works: </span><span class="line" data-startTime="19">In this folder, I have a simple extension </span><span class="line" data-startTime="19">I wrote, called "Email this page" that allows </span><span class="line" data-startTime="24">you to send the current web page address as </span><span class="line" data-startTime="24">an email. </span> <span class="line" data-startTime="26">It also contains a bug, which we'll track </span><span class="line" data-startTime="26">down, together. </span> <span class="line" data-startTime="30">I’ll start by loading the extension. One </span><span class="line" data-startTime="30">option is to use a command line argument but </span><span class="line" data-startTime="35">we'll use the Extensions Management UI page. </span> <span class="line" data-startTime="35">The management page shows that no extensions </span><span class="line" data-startTime="41">are currently loaded so I’ll expand this </span><span class="line" data-startTime="41">section to get to the developer tools and </span><span class="line" data-startTime="46">click on Load Unpacked Extension. </span></p>

<p><span class="line" data-startTime="46">Then, I'll specify the extension and load </span><span class="line" data-startTime="51">it. </span> <span class="line" data-startTime="51">Notice that our extension shows up in the </span><span class="line" data-startTime="54">list and a new icon has been added to the </span><span class="line" data-startTime="54">toolbar representing the extension. </span> <span class="line" data-startTime="59">When I click on the button, nothing happens. </span> <span class="line" data-startTime="59">In the details section for the extension, </span><span class="line" data-startTime="65">there is a list of active views. </span> <span class="line" data-startTime="65">I ‘ll click on the name of the active view, </span><span class="line" data-startTime="69">in this case background.html, to inspect the </span><span class="line" data-startTime="69">background page of the extension. </span> <span class="line" data-startTime="74">This brings up Google Chrome’s developer </span><span class="line" data-startTime="74">tools, showing the code for the extension. </span> <span class="line" data-startTime="79">I am now going to switch to the Scripts view </span><span class="line" data-startTime="79">and put a breakpoint where we receive the </span><span class="line" data-startTime="84">mouse click event from the user. </span> <span class="line" data-startTime="84">If I try the extension again, I'll break into </span><span class="line" data-startTime="89">the JavaScript debugger. </span></p>

<p><span class="line" data-startTime="89">With the panel on the right, I can watch certain </span><span class="line" data-startTime="93">expressions, look at the call stack and check </span><span class="line" data-startTime="93">what values the variables contain. </span> <span class="line" data-startTime="100">Now I am going to use F10 to step over this </span><span class="line" data-startTime="100">line and F11 to step into this function, until </span><span class="line" data-startTime="107">I get to console.log statement. </span> <span class="line" data-startTime="107">This statement will output debug information </span><span class="line" data-startTime="112">to the console window. </span> <span class="line" data-startTime="112">I am now going to clear it. </span> <span class="line" data-startTime="117">When I execute this line we'll see the console </span><span class="line" data-startTime="117">message. </span> <span class="line" data-startTime="121">And if you look closely at the current line, </span><span class="line" data-startTime="121">you'll see that I misspelled the variable </span><span class="line" data-startTime="124">name url. </span> <span class="line" data-startTime="124">There’s our bug! </span><span class="line" data-startTime="128">If I press F10 again, we’ll see an error </span><span class="line" data-startTime="128">in red and execution stops. </span> <span class="line" data-startTime="133">Let me go ahead and fix this. </span> <span class="line" data-startTime="133">I'll use this opportunity to show that you </span><span class="line" data-startTime="136">can also use alerts, even from background </span><span class="line" data-startTime="136">pages. </span> <span class="line" data-startTime="140">Now, let’s switch back to the Management </span><span class="line" data-startTime="140">UI page and reload the extension. </span> <span class="line" data-startTime="145">When I click the button, I get our alert and </span><span class="line" data-startTime="145">the extension works as expected. </span></p>

<p><span class="line" data-startTime="151">For views that are not active such as pop </span><span class="line" data-startTime="151">ups and options pages, I can load the page </span><span class="line" data-startTime="156">directly and inspect it. </span> <span class="line" data-startTime="156">For example, my extension contains options.html. </span> <span class="line" data-startTime="162">If I copy the extension ID, type in chrome-extensions://<paste </span><span class="line" data-startTime="162">the id>/options.html I can inspect this page. </span> <span class="line" data-startTime="174">I can even change the in-memory style sheet </span><span class="line" data-startTime="174">on the fly. </span> <span class="line" data-startTime="177">When you do this, just make sure to also update </span><span class="line" data-startTime="177">the style sheet on disk, because if you reload </span><span class="line" data-startTime="182">the page, the style sheet changes will be </span><span class="line" data-startTime="182">discarded. </span> <span class="line" data-startTime="186">And that's the basics of debugging extensions. </span> <span class="line" data-startTime="186">To find out more about Google Chrome’s developer </span><span class="line" data-startTime="191">tools visit www.chromium.org/devtools. </span> <span class="line" data-startTime="191">For more information on extensions check out </span><span class="line" data-startTime="196">our website at code.google.com/chrome/extensions </span></p>