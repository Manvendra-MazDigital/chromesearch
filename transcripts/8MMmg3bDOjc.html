<style>* {font-family: "Open Sans", sans-serif}
a {color: #77aaff}
a.video {border-bottom: 1px solid #ddd; display: block; margin: 0 0 2em 0; padding: 0 0 2em 0}
h2 {color: #444; font-size: 18px;}
span.speakerName {color: black; font-weight: 900;}
body {padding: 2em}
p {color: #444; margin: 0; text-indent: 1.5em;}
p.speaker {margin: 1em 0 0 0; text-indent: 0;}
div#transcript > p:first-child {text-indent: 0;}
</style>

<h1>#perfmatters: Tooling techniques for the performance ninja &mdash; Chrome Dev Summit 2013 (Colt McAnlis)</h1>

<h2>Emcee, Colt McAnlis</h2>

<a class="video" href="http://youtu.be/8MMmg3bDOjc">youtu.be/8MMmg3bDOjc</a><div id="transcript"><p class="speaker"><span class="line" data-starttime="0"><span class="speakerName">Emcee</span>: It's Colt </span><span class="line" data-startTime="0">McAnlis, everyone. </span></p>

<p class="speaker"><span class="line" data-starttime="6"><span class="speakerName">Colt McAnlis</span>: Hello. </span><span class="line" data-startTime="8">Good crowd today. </span><span class="line" data-startTime="10">Are we on the videos up here? </span><span class="line" data-startTime="12">No? </span><span class="line" data-startTime="14">I'm going to stand awkwardly </span><span class="line" data-startTime="14">live on the internet </span><span class="line" data-startTime="16">for awhile. </span><span class="line" data-startTime="16">How about that? </span><span class="line" data-startTime="18">There we go. </span><span class="line" data-startTime="19">Fantastic. </span><span class="line" data-startTime="20">Hey, guys, really </span><span class="line" data-startTime="20">quick, big round </span><span class="line" data-startTime="21">of applause for Jake and </span><span class="line" data-startTime="21">Paul for emceeing this thing. </span><span class="line" data-startTime="24">Right? </span><span class="line" data-startTime="24">[APPLAUSE] </span></p>

<p class="speaker"><span class="line" data-starttime="28"><span class="speakerName">Colt McAnlis</span>: It's </span><span class="line" data-startTime="28">not every day you </span><span class="line" data-startTime="29">get charismatic people able </span><span class="line" data-startTime="29">to keep a crowd entertained </span><span class="line" data-startTime="32">while the rest of </span><span class="line" data-startTime="32">us babble on about </span><span class="line" data-startTime="33">technical matters all day. </span><span class="line" data-startTime="35">I am Colt McAnlis. </span><span class="line" data-startTime="38">Hopefully my bald </span><span class="line" data-startTime="38">attenuation comes before me. </span><span class="line" data-startTime="41">By the way, really </span><span class="line" data-startTime="41">quick before we talk, </span><span class="line" data-startTime="43">because this is sort </span><span class="line" data-startTime="43">of the first talk </span><span class="line" data-startTime="44">I've done since the pirate talk. </span><span class="line" data-startTime="46">How many people have </span><span class="line" data-startTime="46">seen my pirate talk? </span><span class="line" data-startTime="48">A round of applause. </span><span class="line" data-startTime="49">The people on the </span><span class="line" data-startTime="49">screen can't hear you. </span><span class="line" data-startTime="51">[APPLAUSE] </span></p>

<p class="speaker"><span class="line" data-starttime="51"><span class="speakerName">Colt McAnlis</span>: Yeah. </span><span class="line" data-startTime="52">That's it. </span><span class="line" data-startTime="52">So the reason I ask that is </span><span class="line" data-startTime="52">I've been approached by like six </span><span class="line" data-startTime="55">people today, like, hey </span><span class="line" data-startTime="55">what are you doing today? </span><span class="line" data-startTime="57">Is today National Speak Like </span><span class="line" data-startTime="57">a Carny Day or something? </span><span class="line" data-startTime="60">What do you do? </span><span class="line" data-startTime="61">And I have to tell </span><span class="line" data-startTime="61">you the story. </span><span class="line" data-startTime="63">After the pirate talk, </span><span class="line" data-startTime="63">there was a serious memo </span><span class="line" data-startTime="66">sent between my </span><span class="line" data-startTime="66">managers, like, he's not </span><span class="line" data-startTime="68">going to do something </span><span class="line" data-startTime="68">crazy at Dev Summit, is he? </span><span class="line" data-startTime="70">They were checking the </span><span class="line" data-startTime="70">schedule, like, no, no. </span><span class="line" data-startTime="72">It's just National Hello Day. </span><span class="line" data-startTime="74">He can't screw that up. </span><span class="line" data-startTime="75">[LAUGHTER] </span></p>

<p class="speaker"><span class="line" data-starttime="78"><span class="speakerName">Colt McAnlis</span>: Hey, guys, </span><span class="line" data-startTime="78">thanks for your time today. </span><span class="line" data-startTime="80">Thanks for listening so far. </span><span class="line" data-startTime="81">I know that lunch </span><span class="line" data-startTime="81">is on the horizon. </span><span class="line" data-startTime="82">I'm going to try to keep you </span><span class="line" data-startTime="82">entertained for the next 30 </span><span class="line" data-startTime="84">minutes here. </span><span class="line" data-startTime="85">Really, #PERFMATTERS. </span><span class="line" data-startTime="86">Yes? </span><span class="line" data-startTime="87">A round of applause </span><span class="line" data-startTime="87">for #PERFMATTERS. </span><span class="line" data-startTime="88">You follow this? </span><span class="line" data-startTime="89">You use this? </span><span class="line" data-startTime="89">[APPLAUSE] </span></p>

<p class="speaker"><span class="line" data-starttime="91"><span class="speakerName">Colt McAnlis</span>: It </span><span class="line" data-startTime="91">was a little weird </span><span class="line" data-startTime="92">having Linus come up here and </span><span class="line" data-startTime="92">be like, perf is everything. </span> <span class="line" data-startTime="95">And I'm like, oh crap. </span> <span class="line" data-startTime="96">I didn't work on my </span><span class="line" data-startTime="96">slides that well. </span> <span class="line" data-startTime="98">So hopefully today we </span><span class="line" data-startTime="98">can move through it. </span> <span class="line" data-startTime="100">I've said this before. </span> <span class="line" data-startTime="101">I'll say this a million times. </span> <span class="line" data-startTime="102">Today we're going to be talking </span><span class="line" data-startTime="102">about tooling techniques </span><span class="line" data-startTime="105">for the performance ninja. </span> <span class="line" data-startTime="106">If you see anything </span><span class="line" data-startTime="106">that inspires you, </span><span class="line" data-startTime="108">any fact, any statistic </span><span class="line" data-startTime="108">you didn't know, </span><span class="line" data-startTime="111">go to your social </span><span class="line" data-startTime="111">media outlet of choice, </span><span class="line" data-startTime="113">put #PERFMATTERS on </span><span class="line" data-startTime="113">it, send it out today. </span></p>

<p><span class="line" data-startTime="115">Keep the discussion going. </span> <span class="line" data-startTime="118">A year ago, think </span><span class="line" data-startTime="118">about a year ago. </span> <span class="line" data-startTime="121">We didn't even have mobile </span><span class="line" data-startTime="121">performance tooling. </span> <span class="line" data-startTime="124">That wasn't a thing. </span> <span class="line" data-startTime="125">And in a year, we've </span><span class="line" data-startTime="125">actually sort of built </span><span class="line" data-startTime="127">this community of angry, </span><span class="line" data-startTime="127">angry web developers </span><span class="line" data-startTime="129">who want better </span><span class="line" data-startTime="129">performance on the web. </span> <span class="line" data-startTime="132">And really, that's </span><span class="line" data-startTime="132">what today is about. </span> <span class="line" data-startTime="134">Because I think we can </span><span class="line" data-startTime="134">all agree that mobile </span><span class="line" data-startTime="137">is all that matters right now. </span> <span class="line" data-startTime="138">If you're not spending 90% </span><span class="line" data-startTime="138">of your time optimizing </span><span class="line" data-startTime="141">your mobile website for the </span><span class="line" data-startTime="141">next five billion humans </span><span class="line" data-startTime="143">that are going to be </span><span class="line" data-startTime="143">coming on the web, </span><span class="line" data-startTime="145">you're kind of </span><span class="line" data-startTime="145">wasting your time. </span> <span class="line" data-startTime="146">So let's all just come </span><span class="line" data-startTime="146">together [INHALING SOUND] </span><span class="line" data-startTime="148">big, deep breath in, my </span><span class="line" data-startTime="148">website is slow on mobile. </span></p>

<p><span class="line" data-startTime="151">I accept it. </span> <span class="line" data-startTime="151">Come on. </span> <span class="line" data-startTime="152">Everyone say it. </span> <span class="line" data-startTime="153">No? </span><span class="line" data-startTime="154">Nobody? </span><span class="line" data-startTime="155">OK. </span> <span class="line" data-startTime="155">That's fine. </span> <span class="line" data-startTime="156">[LAUGHTER] </span></p>

<p class="speaker"><span class="line" data-starttime="156"><span class="speakerName">Colt McAnlis</span>: That's right. </span> <span class="line" data-startTime="157">Self-denial. </span> <span class="line" data-startTime="158">It's a step. </span> <span class="line" data-startTime="159">You'll get there. </span> <span class="line" data-startTime="159">Don't worry. </span> <span class="line" data-startTime="160">It took me a little time. </span> <span class="line" data-startTime="161">I lost my hair, </span><span class="line" data-startTime="161">it comes through. </span> <span class="line" data-startTime="163">Really, mobile is </span><span class="line" data-startTime="163">all that matters. </span> <span class="line" data-startTime="164">And performance hasn't </span><span class="line" data-startTime="164">been good on mobile, </span><span class="line" data-startTime="166">and I think we all need to </span><span class="line" data-startTime="166">be very blunt about that. </span> <span class="line" data-startTime="169">And I think one of </span><span class="line" data-startTime="169">the reasons is this. </span></p>

<p><span class="line" data-startTime="171">I love this quote by Ilya. </span> <span class="line" data-startTime="172">He said this in a blog </span><span class="line" data-startTime="172">post a while ago &mdash; </span><span class="line" data-startTime="174">"What you can measure, </span><span class="line" data-startTime="174">you can optimize." </span><span class="line" data-startTime="176">And this is really sort </span><span class="line" data-startTime="176">of a telling thing. </span> <span class="line" data-startTime="180">Because if you think </span><span class="line" data-startTime="180">about it, we really </span><span class="line" data-startTime="182">haven't had the ability </span><span class="line" data-startTime="182">to measure anything </span><span class="line" data-startTime="184">in the mobile web. </span> <span class="line" data-startTime="186">Again, this time </span><span class="line" data-startTime="186">last year we didn't </span><span class="line" data-startTime="188">have the concept of </span><span class="line" data-startTime="188">being able to get </span><span class="line" data-startTime="190">data of a web page running </span><span class="line" data-startTime="190">on a mobile device. </span> <span class="line" data-startTime="192">But thankfully, </span><span class="line" data-startTime="192">today, with the help </span><span class="line" data-startTime="194">of ADB extension </span><span class="line" data-startTime="194">and Chrome DevTools, </span><span class="line" data-startTime="196">we actually have the </span><span class="line" data-startTime="196">ability to load a website </span><span class="line" data-startTime="199">on a mobile device and actually </span><span class="line" data-startTime="199">get the information back </span><span class="line" data-startTime="201">into Chrome DevTools. </span> <span class="line" data-startTime="202">So you can get the same power of </span><span class="line" data-startTime="202">your debugging on your desktop </span><span class="line" data-startTime="205">and actually see the </span><span class="line" data-startTime="205">performance characteristics. </span></p>

<p><span class="line" data-startTime="208">Now this is good and bad. </span> <span class="line" data-startTime="209">It's good because </span><span class="line" data-startTime="209">you have this power. </span> <span class="line" data-startTime="211">It's bad that everyone's </span><span class="line" data-startTime="211">starting to know about this. </span> <span class="line" data-startTime="214">So if your website is slow, </span><span class="line" data-startTime="214">there's no more excuses. </span> <span class="line" data-startTime="217">Sorry. </span> <span class="line" data-startTime="218">I actually had someone </span><span class="line" data-startTime="218">come to my desk one day </span><span class="line" data-startTime="220">and they're like, wait a minute. </span> <span class="line" data-startTime="220">Wait a minute. </span> <span class="line" data-startTime="221">We have this power, so why </span><span class="line" data-startTime="221">are websites still slow? </span><span class="line" data-startTime="224">It's the internet, buddy. </span> <span class="line" data-startTime="226">So once you get the </span><span class="line" data-startTime="226">ability to actually go </span><span class="line" data-startTime="228">through this process </span><span class="line" data-startTime="228">and actually get </span><span class="line" data-startTime="230">these powerful tools giving you </span><span class="line" data-startTime="230">the information that you need, </span><span class="line" data-startTime="232">it's worth pointing out </span><span class="line" data-startTime="232">that that's not enough. </span></p>

<p><span class="line" data-startTime="235">So for those of you who aren't </span><span class="line" data-startTime="235">versed in this repetitive </span><span class="line" data-startTime="238">loop of performance </span><span class="line" data-startTime="238">optimization, </span><span class="line" data-startTime="240">you need to understand </span><span class="line" data-startTime="240">that there's </span><span class="line" data-startTime="241">three steps, three steps </span><span class="line" data-startTime="241">to performance tooling. </span> <span class="line" data-startTime="244">And it starts at the basic </span><span class="line" data-startTime="244">form, which is go get data. </span> <span class="line" data-startTime="248">If someone says, hey it's slow, </span><span class="line" data-startTime="248">you've got go figure out why. </span> <span class="line" data-startTime="251">So you have to go use DevTools, </span><span class="line" data-startTime="251">collect as much information, </span><span class="line" data-startTime="254">and this usually ends </span><span class="line" data-startTime="254">up being some sort </span><span class="line" data-startTime="255">of huge sheet of </span><span class="line" data-startTime="255">floating point numbers. </span> <span class="line" data-startTime="257">And this actually </span><span class="line" data-startTime="257">goes into stage two. </span> <span class="line" data-startTime="259">A huge sheet of floating point </span><span class="line" data-startTime="259">numbers really kind of sucks. </span></p>

<p><span class="line" data-startTime="261">No one wants that, because </span><span class="line" data-startTime="261">it doesn't tell you anything. </span> <span class="line" data-startTime="263">This goes into the </span><span class="line" data-startTime="263">number two, which </span><span class="line" data-startTime="265">is you have to gather insight </span><span class="line" data-startTime="265">from that sheet of numbers. </span> <span class="line" data-startTime="268">You have to figure </span><span class="line" data-startTime="268">out, wait a minute. </span> <span class="line" data-startTime="269">We're seeing all of these </span><span class="line" data-startTime="269">waterfall characteristics, </span><span class="line" data-startTime="272">and it's pointing at this </span><span class="line" data-startTime="272">piece of data over here. </span> <span class="line" data-startTime="275">That's the insight. </span> <span class="line" data-startTime="276">Our site is slow because we have </span><span class="line" data-startTime="276">too many megabytes on the wire. </span> <span class="line" data-startTime="279">That's causing </span><span class="line" data-startTime="279">six-second load times. </span></p>

<p><span class="line" data-startTime="281">That's why we're </span><span class="line" data-startTime="281">about to go bankrupt. </span> <span class="line" data-startTime="283">Woe is me. </span> <span class="line" data-startTime="285">Of course, these </span><span class="line" data-startTime="285">are the easy parts. </span> <span class="line" data-startTime="286">Chrome DevTools </span><span class="line" data-startTime="286">can really help you </span><span class="line" data-startTime="288">get far enough along in this. </span> <span class="line" data-startTime="289">And the really hard </span><span class="line" data-startTime="289">part is stage three. </span> <span class="line" data-startTime="291">And anyone in here </span><span class="line" data-startTime="291">who's dealt with this </span><span class="line" data-startTime="293">realizes that the third </span><span class="line" data-startTime="293">one, which is action, </span><span class="line" data-startTime="295">is the hard part. </span> <span class="line" data-startTime="296">This is where you take all the </span><span class="line" data-startTime="296">numbers and all the insight </span><span class="line" data-startTime="298">and you go, wait a minute. </span> <span class="line" data-startTime="299">It's because we have this </span><span class="line" data-startTime="299">five-megabyte GIF animating </span><span class="line" data-startTime="302">on our main page that </span><span class="line" data-startTime="302">we can't do this. </span></p>

<p><span class="line" data-startTime="304">And you have to go over to </span><span class="line" data-startTime="304">the designers and the artists </span><span class="line" data-startTime="306">and you say, I </span><span class="line" data-startTime="306">need this removed. </span> <span class="line" data-startTime="307">And they go, nope. </span> <span class="line" data-startTime="310">A round of applause if </span><span class="line" data-startTime="310">that's happened to you. </span> <span class="line" data-startTime="312">Yeah? </span><span class="line" data-startTime="312">[APPLAUSE] </span><span class="line" data-startTime="314">COLT MCANLIS; See, I've </span><span class="line" data-startTime="314">to keep you guys awake </span><span class="line" data-startTime="316">before lunch gets here. </span> <span class="line" data-startTime="317">One guy in the back </span><span class="line" data-startTime="317">is like, sandwiches! </span><span class="line" data-startTime="320">This is really the tough part. </span> <span class="line" data-startTime="321">And probably the most </span><span class="line" data-startTime="321">important part of this loop, </span><span class="line" data-startTime="322">though, is actually </span><span class="line" data-startTime="322">repeating it. </span> <span class="line" data-startTime="324">More times than, not </span><span class="line" data-startTime="324">what you're going to find </span><span class="line" data-startTime="326">is that your website does </span><span class="line" data-startTime="326">not have a single performance </span><span class="line" data-startTime="328">problem, but it has a plethora </span><span class="line" data-startTime="328">of performance problems. </span></p>

<p><span class="line" data-startTime="332">Uncovering one perf problem </span><span class="line" data-startTime="332">and fixing it is not enough, </span><span class="line" data-startTime="335">because chances are it </span><span class="line" data-startTime="335">was hiding something else. </span> <span class="line" data-startTime="337">And once you've </span><span class="line" data-startTime="337">unturned that stone, </span><span class="line" data-startTime="339">you realize, oh wait a minute. </span> <span class="line" data-startTime="340">We've got an even bigger problem </span><span class="line" data-startTime="340">that we need to fight below it. </span> <span class="line" data-startTime="343">Now once you sort of </span><span class="line" data-startTime="343">realize that you're </span><span class="line" data-startTime="345">going to have to continually go </span><span class="line" data-startTime="345">through this process of gather, </span><span class="line" data-startTime="348">insight, action, repeat, </span><span class="line" data-startTime="348">gather, insight, action, </span><span class="line" data-startTime="351">you start getting a sense that </span><span class="line" data-startTime="351">the world is not that easy. </span> <span class="line" data-startTime="355">And what we're going </span><span class="line" data-startTime="355">to talk about today </span><span class="line" data-startTime="356">is only the gather </span><span class="line" data-startTime="356">and insight parts. </span> <span class="line" data-startTime="358">You can go argue the action </span><span class="line" data-startTime="358">parts with your web designers </span><span class="line" data-startTime="361">later. </span> <span class="line" data-startTime="362">So when you're </span><span class="line" data-startTime="362">doing this, you need </span><span class="line" data-startTime="364">to come to the </span><span class="line" data-startTime="364">understanding that there's </span><span class="line" data-startTime="365">no longer a single pillar </span><span class="line" data-startTime="365">of web performance. </span></p>

<p><span class="line" data-startTime="368">Up until now, we've </span><span class="line" data-startTime="368">really been talking </span><span class="line" data-startTime="370">about networking, load time. </span> <span class="line" data-startTime="372">This has been the </span><span class="line" data-startTime="372">currency that we've all </span><span class="line" data-startTime="374">traded amongst our </span><span class="line" data-startTime="374">web developer brethren </span><span class="line" data-startTime="377">as the metric of </span><span class="line" data-startTime="377">performance on our sites. </span> <span class="line" data-startTime="379">Hey, dude, how fast </span><span class="line" data-startTime="379">does your website load? </span><span class="line" data-startTime="381">Dude, two seconds, dude. </span> <span class="line" data-startTime="382">High five. [HIGH FIVING SOUND] </span><span class="line" data-startTime="383">Anybody do that? </span><span class="line" data-startTime="384">No one? </span><span class="line" data-startTime="385">OK. </span> <span class="line" data-startTime="385">Maybe I'm in the wrong room. </span> <span class="line" data-startTime="387">OK. </span> <span class="line" data-startTime="387">But really what </span><span class="line" data-startTime="387">we've been seeing </span><span class="line" data-startTime="389">is how web apps have </span><span class="line" data-startTime="389">developed, and the need, </span><span class="line" data-startTime="391">and what users have demanded </span><span class="line" data-startTime="391">from our web applications </span><span class="line" data-startTime="395">have brought these other two. </span> <span class="line" data-startTime="396">The next one is render. </span></p>

<p><span class="line" data-startTime="397">Linus stood on stage </span><span class="line" data-startTime="397">today and said that. </span> <span class="line" data-startTime="399">Rendering is a performance </span><span class="line" data-startTime="399">problem on mobile right now, </span><span class="line" data-startTime="402">and we need to fix that. </span> <span class="line" data-startTime="403">And guess what? </span><span class="line" data-startTime="404">Now we finally have tools that </span><span class="line" data-startTime="404">allow you as the developer </span><span class="line" data-startTime="406">to take control of your </span><span class="line" data-startTime="406">rendering performance, </span><span class="line" data-startTime="409">figure out the problems </span><span class="line" data-startTime="409">that actually address them. </span> <span class="line" data-startTime="411">And then, of course, </span><span class="line" data-startTime="411">the final one </span><span class="line" data-startTime="413">is compute, network, </span><span class="line" data-startTime="413">render, and compute. </span> <span class="line" data-startTime="415">Compute has been one of the </span><span class="line" data-startTime="415">brethren of network over time. </span> <span class="line" data-startTime="418">JavaScript performance, you </span><span class="line" data-startTime="418">see it over and over again. </span> <span class="line" data-startTime="420">Nowadays, VMs are so </span><span class="line" data-startTime="420">fast and so powerful, </span><span class="line" data-startTime="423">you generally don't see that. </span> <span class="line" data-startTime="425">Of course, once you put </span><span class="line" data-startTime="425">it on a mobile device </span><span class="line" data-startTime="427">and you get slower </span><span class="line" data-startTime="427">compute speed, </span><span class="line" data-startTime="428">you may run into some problems. </span></p>

<p><span class="line" data-startTime="431">So I generally hate doing this. </span> <span class="line" data-startTime="432">I hate standing on </span><span class="line" data-startTime="432">stage, and I hate </span><span class="line" data-startTime="434">telling you, go fix </span><span class="line" data-startTime="434">these three things. </span> <span class="line" data-startTime="436">But today I'm going to make </span><span class="line" data-startTime="436">an exception, because I'm </span><span class="line" data-startTime="438">particularly bald </span><span class="line" data-startTime="438">and angry today, </span><span class="line" data-startTime="440">and I figure I can get away </span><span class="line" data-startTime="440">with stuff when I do that. </span> <span class="line" data-startTime="443">So here is your hit list. </span> <span class="line" data-startTime="444">We like to joke in the Perf </span><span class="line" data-startTime="444">Squad that there's a hit list. </span> <span class="line" data-startTime="447">Like if we had a performance </span><span class="line" data-startTime="447">assassin on your team </span><span class="line" data-startTime="450">and he needed to take out three </span><span class="line" data-startTime="450">things, these would be it. </span> <span class="line" data-startTime="453">So under the </span><span class="line" data-startTime="453">networking list, you </span><span class="line" data-startTime="454">should be optimizing </span><span class="line" data-startTime="454">critical path. </span> <span class="line" data-startTime="456">And I know this is the tip </span><span class="line" data-startTime="456">of the iceberg question. </span> <span class="line" data-startTime="458">We'll get into that in a minute. </span> <span class="line" data-startTime="459">For the render list, reduce </span><span class="line" data-startTime="459">your number of paints. </span> <span class="line" data-startTime="462">And for compute, reduce </span><span class="line" data-startTime="462">JavaScript execution time. </span> <span class="line" data-startTime="465">These are the things. </span></p>

<p><span class="line" data-startTime="466">If you come away with </span><span class="line" data-startTime="466">nothing from this talk </span><span class="line" data-startTime="468">other than that angry </span><span class="line" data-startTime="468">bald man yells loudly, </span><span class="line" data-startTime="470">come away with </span><span class="line" data-startTime="470">these three things. </span> <span class="line" data-startTime="472">This is where you need to </span><span class="line" data-startTime="472">focus your performance time. </span> <span class="line" data-startTime="474">Now what we're going to do </span><span class="line" data-startTime="474">for the rest of the talk </span><span class="line" data-startTime="475">here is we're going to talk </span><span class="line" data-startTime="475">a little bit about where </span><span class="line" data-startTime="478">these things come </span><span class="line" data-startTime="478">from and how we </span><span class="line" data-startTime="479">can dive in to diagnose them. </span> <span class="line" data-startTime="482">So let's start with </span><span class="line" data-startTime="482">network, load time. </span> <span class="line" data-startTime="484">Again, this is where we've been. </span></p>

<p><span class="line" data-startTime="486">Unfortunately, "load time" </span><span class="line" data-startTime="486">is a really bad, bad term. </span> <span class="line" data-startTime="489">Measuring your performance </span><span class="line" data-startTime="489">of your network speed </span><span class="line" data-startTime="492">by a load time is like </span><span class="line" data-startTime="492">measuring your cholesterol </span><span class="line" data-startTime="494">by how many doughnuts </span><span class="line" data-startTime="494">you ate today. </span> <span class="line" data-startTime="497">It's an insanely </span><span class="line" data-startTime="497">complex procedure </span><span class="line" data-startTime="500">with many dependent </span><span class="line" data-startTime="500">parts working together. </span> <span class="line" data-startTime="503">This is just one spec for </span><span class="line" data-startTime="503">timing on just getting data </span><span class="line" data-startTime="506">off the wire. </span> <span class="line" data-startTime="507">It doesn't even talk about </span><span class="line" data-startTime="507">rendering or anything else. </span> <span class="line" data-startTime="509">So we actually have to change </span><span class="line" data-startTime="509">our vocabulary a little bit </span><span class="line" data-startTime="511">here. </span> <span class="line" data-startTime="512">And we could </span><span class="line" data-startTime="512">actually probably use </span><span class="line" data-startTime="513">a better term, which </span><span class="line" data-startTime="513">is "critical path." </span><span class="line" data-startTime="515">So it's not just about loading. </span> <span class="line" data-startTime="517">It's about what pixels are </span><span class="line" data-startTime="517">needed to get to the screen. </span> <span class="line" data-startTime="520">So basically you </span><span class="line" data-startTime="520">have a mobile device, </span><span class="line" data-startTime="522">and it's kind of waiting around. </span> <span class="line" data-startTime="524">The user types in </span><span class="line" data-startTime="524">some information. </span></p>

<p><span class="line" data-startTime="526">That goes sent off </span><span class="line" data-startTime="526">into the intertubules, </span><span class="line" data-startTime="528">amongst all the cats and </span><span class="line" data-startTime="528">everything else out there, </span><span class="line" data-startTime="530">and it requests a site. </span> <span class="line" data-startTime="531">The site, of course, </span><span class="line" data-startTime="531">is then going </span><span class="line" data-startTime="533">to return some sort </span><span class="line" data-startTime="533">of markup form. </span> <span class="line" data-startTime="535">Now what's going to happen here </span><span class="line" data-startTime="535">is that your page says, cool. </span> <span class="line" data-startTime="537">I've got HTML. </span> <span class="line" data-startTime="538">Let me go start </span><span class="line" data-startTime="538">parsing all this stuff </span><span class="line" data-startTime="540">so that I can start painting. </span> <span class="line" data-startTime="542">Unfortunately, the web </span><span class="line" data-startTime="542">isn't that way anymore. </span> <span class="line" data-startTime="544">All the content isn't just </span><span class="line" data-startTime="544">contained in your HTML. </span> <span class="line" data-startTime="547">It's actually a complex </span><span class="line" data-startTime="547">dance of other resources. </span> <span class="line" data-startTime="551">And so we can't </span><span class="line" data-startTime="551">actually build our HTML </span><span class="line" data-startTime="553">to start rendering yet. </span> <span class="line" data-startTime="554">Instead, we have to wait for </span><span class="line" data-startTime="554">all of these other dependencies </span><span class="line" data-startTime="557">to get resolved. </span> <span class="line" data-startTime="558">This is the critical path. </span></p>

<p><span class="line" data-startTime="560">If you haven't heard </span><span class="line" data-startTime="560">this term before, </span><span class="line" data-startTime="562">this is the critical path. </span> <span class="line" data-startTime="564">It's the resolution of the </span><span class="line" data-startTime="564">dependencies of your assets </span><span class="line" data-startTime="567">to get the first </span><span class="line" data-startTime="567">pixel on your screen. </span> <span class="line" data-startTime="570">Because if you have </span><span class="line" data-startTime="570">JavaScript that you're </span><span class="line" data-startTime="572">loading that's going to </span><span class="line" data-startTime="572">affect how the DOM exists </span><span class="line" data-startTime="574">or the CSS classes, </span><span class="line" data-startTime="574">that's got to be present. </span> <span class="line" data-startTime="576">If you've got 50 CSS classes, </span><span class="line" data-startTime="576">that's got to be present. </span> <span class="line" data-startTime="579">So this is what you </span><span class="line" data-startTime="579">need to optimize, </span><span class="line" data-startTime="581">is the number of dependencies </span><span class="line" data-startTime="581">in your critical path. </span> <span class="line" data-startTime="583">And this really comes </span><span class="line" data-startTime="583">from two to three places. </span> <span class="line" data-startTime="586">The first one is that, once we </span><span class="line" data-startTime="586">put out a request like this, </span><span class="line" data-startTime="588">you've got a lot of </span><span class="line" data-startTime="588">dependencies to other resources. </span> <span class="line" data-startTime="590">The number of requests </span><span class="line" data-startTime="590">that you send out there </span><span class="line" data-startTime="593">actually has an implicit </span><span class="line" data-startTime="593">overhead for each one of them, </span><span class="line" data-startTime="596">which even gets worse </span><span class="line" data-startTime="596">on mobile devices. </span> <span class="line" data-startTime="598">When you've got a 3G </span><span class="line" data-startTime="598">network radio that's </span><span class="line" data-startTime="601">spinning up and going through </span><span class="line" data-startTime="601">cell towers and all sort </span><span class="line" data-startTime="604">of other arcane magical </span><span class="line" data-startTime="604">technologies that existed back </span><span class="line" data-startTime="607">in the caveman days, that </span><span class="line" data-startTime="607">we still have in our pocket, </span><span class="line" data-startTime="610">oddly enough, that has </span><span class="line" data-startTime="610">overhead associated with it. </span></p>

<p><span class="line" data-startTime="613">So the more requests </span><span class="line" data-startTime="613">you're doing, </span><span class="line" data-startTime="615">the additional fat you're </span><span class="line" data-startTime="615">adding to your time </span><span class="line" data-startTime="617">for each one of those requests. </span> <span class="line" data-startTime="619">So if you're looking at </span><span class="line" data-startTime="619">this, you need to say, </span><span class="line" data-startTime="621">OK, one of our first </span><span class="line" data-startTime="621">things we need to do </span><span class="line" data-startTime="623">is reduce the number </span><span class="line" data-startTime="623">of requests we're </span><span class="line" data-startTime="624">doing to get assets, which </span><span class="line" data-startTime="624">kind of comes back to the fact </span><span class="line" data-startTime="627">that you have to reduce the </span><span class="line" data-startTime="627">complexity of asset dependency </span><span class="line" data-startTime="630">on your page. </span> <span class="line" data-startTime="630">I see some people sleeping. </span> <span class="line" data-startTime="632">Do I need to clap? </span><span class="line" data-startTime="633">No. </span> <span class="line" data-startTime="634">Kidding. </span> <span class="line" data-startTime="634">I like that. </span> <span class="line" data-startTime="635">Who did that? </span><span class="line" data-startTime="635">You get a t-shirt afterwards. </span></p>

<p><span class="line" data-startTime="638">Everyone else is like, </span><span class="line" data-startTime="638">I'm clapping now. </span> <span class="line" data-startTime="639">Free stuff. </span> <span class="line" data-startTime="641">Let's go to the second one here. </span> <span class="line" data-startTime="643">So once you've actually got </span><span class="line" data-startTime="643">those requests out on the wire, </span><span class="line" data-startTime="645">the next problem is page weight. </span> <span class="line" data-startTime="647">How fat are your assets. </span> <span class="line" data-startTime="648">And so I've kind of </span><span class="line" data-startTime="648">done a lot of study </span><span class="line" data-startTime="650">in this over the past couple </span><span class="line" data-startTime="650">of months about compression </span><span class="line" data-startTime="652">on the web. </span> <span class="line" data-startTime="652">Anyone read my series, </span><span class="line" data-startTime="652">"Compression on the Web"? </span><span class="line" data-startTime="655">More? </span><span class="line" data-startTime="656">Yes? </span><span class="line" data-startTime="656">[APPLAUSE] </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="657"><span class="speakerName">Colt McAnlis</span>: I saw one dude </span><span class="line" data-startTime="657">throw up the 10's in the back. </span> <span class="line" data-startTime="659">I like you, dude. </span> <span class="line" data-startTime="661">Two t-shirts. </span> <span class="line" data-startTime="664">The problem here </span><span class="line" data-startTime="664">is that a lot of us </span><span class="line" data-startTime="665">are still making </span><span class="line" data-startTime="665">content for our website </span><span class="line" data-startTime="667">as though you have a cable </span><span class="line" data-startTime="667">internet connection, when </span><span class="line" data-startTime="669">the reality is that </span><span class="line" data-startTime="669">3G kind of sucks. </span> <span class="line" data-startTime="672">Linus stood on the stage </span><span class="line" data-startTime="672">and said that earlier today. </span> <span class="line" data-startTime="675">Right? </span><span class="line" data-startTime="675">We have assets </span><span class="line" data-startTime="675">that are too large. </span> <span class="line" data-startTime="677">If your assets are too large </span><span class="line" data-startTime="677">and the number of dependencies </span><span class="line" data-startTime="680">you have are too </span><span class="line" data-startTime="680">large, of course </span><span class="line" data-startTime="681">it's going to keep your critical </span><span class="line" data-startTime="681">path from being resolved. </span> <span class="line" data-startTime="684">So look at it from a </span><span class="line" data-startTime="684">#PERFMATTERS side of it. </span> <span class="line" data-startTime="685">Reduce the number of </span><span class="line" data-startTime="685">requests, and reduce </span><span class="line" data-startTime="687">the size of the total </span><span class="line" data-startTime="687">number of requests. </span> <span class="line" data-startTime="689">So what happens here is this, is </span><span class="line" data-startTime="689">that once we get all this done, </span><span class="line" data-startTime="692">we can finally get </span><span class="line" data-startTime="692">to a point that we </span><span class="line" data-startTime="693">can build our DOM and our </span><span class="line" data-startTime="693">CSSOM or our Render Tree. </span></p>

<p><span class="line" data-startTime="696">And then we can </span><span class="line" data-startTime="696">resolve this chaos </span><span class="line" data-startTime="697">and actually finally </span><span class="line" data-startTime="697">start painting the page. </span> <span class="line" data-startTime="699">So the question for you then </span><span class="line" data-startTime="699">is, if all of this chaos </span><span class="line" data-startTime="702">is going on under the hood </span><span class="line" data-startTime="702">that I have no idea about, </span><span class="line" data-startTime="704">how do I use my </span><span class="line" data-startTime="704">tooling to find it? </span><span class="line" data-startTime="706">So let's take a look </span><span class="line" data-startTime="706">at that really quick. </span> <span class="line" data-startTime="709">So this is The Verge. </span> <span class="line" data-startTime="710">It's a website. </span> <span class="line" data-startTime="712">It does some things. </span> <span class="line" data-startTime="713">I'm not going to go </span><span class="line" data-startTime="713">too deep into that. </span> <span class="line" data-startTime="714">But most of you </span><span class="line" data-startTime="714">already in the audience </span><span class="line" data-startTime="717">here know the network tab. </span></p>

<p><span class="line" data-startTime="719">So I've got The </span><span class="line" data-startTime="719">Verge set up here. </span> <span class="line" data-startTime="720">It's actually loading </span><span class="line" data-startTime="720">the mobile site. </span> <span class="line" data-startTime="722">We just hit reload here. </span> <span class="line" data-startTime="724">And you actually see </span><span class="line" data-startTime="724">immediately what's going on. </span> <span class="line" data-startTime="726">Now I can dive deep, </span><span class="line" data-startTime="726">deep, deep into this tool. </span> <span class="line" data-startTime="729">I think there's fantastic </span><span class="line" data-startTime="729">resources out there </span><span class="line" data-startTime="730">that get that done better. </span> <span class="line" data-startTime="731">And I've only got </span><span class="line" data-startTime="731">30 minutes today, </span><span class="line" data-startTime="733">so I'm going to give you </span><span class="line" data-startTime="733">the high level one here. </span> <span class="line" data-startTime="734">So we're talking about </span><span class="line" data-startTime="734">reducing critical path. </span> <span class="line" data-startTime="736">If we scroll, keep </span><span class="line" data-startTime="736">scrolling, scroll all the way </span><span class="line" data-startTime="739">to the bottom here, we see </span><span class="line" data-startTime="739">there's about 90 requests </span><span class="line" data-startTime="741">to get this site on the screen, </span><span class="line" data-startTime="741">as well as 1.4 meg &mdash; oh, it's </span><span class="line" data-startTime="745">not even done. </span></p>

<p><span class="line" data-startTime="746">Keep scrolling down. </span> <span class="line" data-startTime="747">1.4 megs of data. </span> <span class="line" data-startTime="748">OK. </span> <span class="line" data-startTime="749">Now for a mobile connection, </span><span class="line" data-startTime="749">that's actually a lot of data. </span> <span class="line" data-startTime="751">How many of you are </span><span class="line" data-startTime="751">in here from Europe </span><span class="line" data-startTime="754">and other &mdash; how many of you are </span><span class="line" data-startTime="754">on roaming charges right now? </span><span class="line" data-startTime="757">A round of applause </span><span class="line" data-startTime="757">if you hate that. </span> <span class="line" data-startTime="759">[APPLAUSE] </span></p>

<p class="speaker"><span class="line" data-starttime="760"><span class="speakerName">Colt McAnlis</span>: A </span><span class="line" data-startTime="760">round of applause </span><span class="line" data-startTime="761">if you'd like to see </span><span class="line" data-startTime="761">it less than 1.5 megs. </span> <span class="line" data-startTime="765">No. </span> <span class="line" data-startTime="765">It's okay. </span> <span class="line" data-startTime="765">We can take time. </span> <span class="line" data-startTime="766">It's cool. </span> <span class="line" data-startTime="767">We've got time. </span> <span class="line" data-startTime="768">I love confusing the audience. </span> <span class="line" data-startTime="769">They're like, wait. </span> <span class="line" data-startTime="770">Did we really want to do that? </span><span class="line" data-startTime="772">I don't know. </span> <span class="line" data-startTime="772">And so the problem with </span><span class="line" data-startTime="772">this is that all of this </span><span class="line" data-startTime="774">has to get down before </span><span class="line" data-startTime="774">we can do anything. </span> <span class="line" data-startTime="776">And so this is webpagetest.org. </span> <span class="line" data-startTime="778">Hopefully you guys </span><span class="line" data-startTime="778">are using this. </span> <span class="line" data-startTime="779">And you run The Verge </span><span class="line" data-startTime="779">through webpagetest.org, </span><span class="line" data-startTime="781">you go down here </span><span class="line" data-startTime="781">into waterfall view, </span><span class="line" data-startTime="783">and you can see that </span><span class="line" data-startTime="783">this green line &mdash; </span><span class="line" data-startTime="785">everybody see this </span><span class="line" data-startTime="785">green line over here? </span><span class="line" data-startTime="786">Yeah? </span><span class="line" data-startTime="787">This green line represents </span><span class="line" data-startTime="787">when the page painting occurs. </span> <span class="line" data-startTime="791">Anything before this </span><span class="line" data-startTime="791">green line represents </span><span class="line" data-startTime="793">assets and </span><span class="line" data-startTime="793">dependencies that have </span><span class="line" data-startTime="795">to be resolved before we can </span><span class="line" data-startTime="795">put a pixel on the screen. </span></p>

<p><span class="line" data-startTime="799">So now look at this. </span> <span class="line" data-startTime="800">What is this? </span><span class="line" data-startTime="801">We keep scrolling down. </span> <span class="line" data-startTime="802">It looks like we've </span><span class="line" data-startTime="802">got maybe &mdash; I'm </span><span class="line" data-startTime="804">just going to give it to them </span><span class="line" data-startTime="804">here and say about 60 assets. </span> <span class="line" data-startTime="807">That's 60 requests on the wire. </span> <span class="line" data-startTime="808">I don't have the sizes of </span><span class="line" data-startTime="808">all of these assets here. </span> <span class="line" data-startTime="811">But that's 60 requests that </span><span class="line" data-startTime="811">had to go out there and get </span><span class="line" data-startTime="813">resolved for it put a </span><span class="line" data-startTime="813">pixel on the screen. </span> <span class="line" data-startTime="815">Let's look at something </span><span class="line" data-startTime="815">that's a little bit better. </span> <span class="line" data-startTime="816">Granted, it's a </span><span class="line" data-startTime="816">different example. </span> <span class="line" data-startTime="817">But this is m.lanyard.com, </span><span class="line" data-startTime="817">all props to Jake Archibald. </span> <span class="line" data-startTime="821">And so we just hit reload here. </span> <span class="line" data-startTime="825">And was that one request? </span><span class="line" data-startTime="827">No. </span></p>

<p><span class="line" data-startTime="828">There we go. </span> <span class="line" data-startTime="830">This example is too good. </span> <span class="line" data-startTime="833">So you can see as a very </span><span class="line" data-startTime="833">different pace, this version </span><span class="line" data-startTime="836">of the mobile site is actually </span><span class="line" data-startTime="836">23 requests and about 125 K. </span> <span class="line" data-startTime="839">Still able to get to your data. </span> <span class="line" data-startTime="841">And I understand there's </span><span class="line" data-startTime="841">a design principle </span><span class="line" data-startTime="842">difference between </span><span class="line" data-startTime="842">these two sites, </span><span class="line" data-startTime="843">but you want to get it low. </span> <span class="line" data-startTime="845">And with the networking tab, </span><span class="line" data-startTime="845">you can figure this out. </span> <span class="line" data-startTime="847">And when you look over here </span><span class="line" data-startTime="847">at webpagetest details, </span><span class="line" data-startTime="850">you can actually see that </span><span class="line" data-startTime="850">that green line actually </span><span class="line" data-startTime="852">comes in at about 0.9 seconds. </span> <span class="line" data-startTime="854">Look at this. </span></p>

<p><span class="line" data-startTime="854">We have maybe one, </span><span class="line" data-startTime="854">two, three assets, </span><span class="line" data-startTime="858">three assets that had to </span><span class="line" data-startTime="858">be downloaded and resolved </span><span class="line" data-startTime="860">before the critical </span><span class="line" data-startTime="860">path can start painting. </span> <span class="line" data-startTime="862">That's the website you </span><span class="line" data-startTime="862">want your users to load, </span><span class="line" data-startTime="864">because that's </span><span class="line" data-startTime="864">where the money is. </span> <span class="line" data-startTime="866">All right. </span> <span class="line" data-startTime="866">We're running out of time. </span> <span class="line" data-startTime="866">I got to keep hurrying here. </span> <span class="line" data-startTime="868">So once you resolve the </span><span class="line" data-startTime="868">chaos, we get networking done. </span> <span class="line" data-startTime="871">Here's the thing &mdash; I am just </span><span class="line" data-startTime="871">the Ghost of Christmas Present. </span> <span class="line" data-startTime="875">My job here is not </span><span class="line" data-startTime="875">to inform you guys. </span></p>

<p><span class="line" data-startTime="877">My job is to set up these </span><span class="line" data-startTime="877">brave and awesome and smart </span><span class="line" data-startTime="879">gentlemen. </span> <span class="line" data-startTime="880">More information will </span><span class="line" data-startTime="880">be brought to you </span><span class="line" data-startTime="882">at this conference from Ilya </span><span class="line" data-startTime="882">on performance networking, </span><span class="line" data-startTime="884">as well as Bryan on creating </span><span class="line" data-startTime="884">instant mobile apps. </span> <span class="line" data-startTime="888">So now let's talk </span><span class="line" data-startTime="888">about rendering. </span> <span class="line" data-startTime="889">So we've got a bunch </span><span class="line" data-startTime="889">of cat pictures. </span> <span class="line" data-startTime="890">We want to deliver the cat </span><span class="line" data-startTime="890">pictures in a friendly cat </span><span class="line" data-startTime="892">picture way, because it's a cat </span><span class="line" data-startTime="892">picture world that we live in. </span> <span class="line" data-startTime="895">And we have to paint it. </span></p>

<p><span class="line" data-startTime="896">So the cool thing is </span><span class="line" data-startTime="896">that a lot of people </span><span class="line" data-startTime="898">didn't know until earlier this </span><span class="line" data-startTime="898">year that painting on a web </span><span class="line" data-startTime="901">page was not free. </span> <span class="line" data-startTime="904">So there's actually </span><span class="line" data-startTime="904">a software resource. </span> <span class="line" data-startTime="905">Something has to happen. </span> <span class="line" data-startTime="906">So the user actually puts </span><span class="line" data-startTime="906">his finger on your site, </span><span class="line" data-startTime="908">and he starts scrolling around. </span> <span class="line" data-startTime="909">And what happens is, we </span><span class="line" data-startTime="909">have to translate the page. </span> <span class="line" data-startTime="911">And then what's not </span><span class="line" data-startTime="911">visible to the page, </span><span class="line" data-startTime="912">we have to actually </span><span class="line" data-startTime="912">spin up the CPU </span><span class="line" data-startTime="914">and spend cycles </span><span class="line" data-startTime="914">rasterizing that content. </span> <span class="line" data-startTime="919">And this keeps occurring. </span> <span class="line" data-startTime="920">The user scrolls. </span> <span class="line" data-startTime="921">We have to rasterize content. </span> <span class="line" data-startTime="922">Now there's a good talk. </span></p>

<p><span class="line" data-startTime="923">You can see the </span><span class="line" data-startTime="923">link on the bottom </span><span class="line" data-startTime="924">here where we talk about </span><span class="line" data-startTime="924">the interdependency </span><span class="line" data-startTime="926">between the CPU and the GPU. </span> <span class="line" data-startTime="927">I won't get into that today. </span> <span class="line" data-startTime="928">But the point that </span><span class="line" data-startTime="928">you need to take away </span><span class="line" data-startTime="930">is that scrolling isn't the </span><span class="line" data-startTime="930">only place that painting occurs. </span> <span class="line" data-startTime="933">There's other </span><span class="line" data-startTime="933">things that the user </span><span class="line" data-startTime="935">does that causes paints as well. </span> <span class="line" data-startTime="936">For example, let's </span><span class="line" data-startTime="936">say you have your DOM, </span><span class="line" data-startTime="938">and the DOM's doing awesome, </span><span class="line" data-startTime="938">and it's a DOMmy-DOM day. </span> <span class="line" data-startTime="940">And the user clicks </span><span class="line" data-startTime="940">on something, </span><span class="line" data-startTime="942">and you're like, </span><span class="line" data-startTime="942">dude, free stuff! </span><span class="line" data-startTime="943">And you have to actually </span><span class="line" data-startTime="943">pop up a dialogue </span><span class="line" data-startTime="945">to say, dude, free stuff! </span><span class="line" data-startTime="947">And in doing so, </span><span class="line" data-startTime="947">you modify the DOM. </span> <span class="line" data-startTime="950">Well when you </span><span class="line" data-startTime="950">modify the DOM, all </span><span class="line" data-startTime="952">of the properties of the </span><span class="line" data-startTime="952">DOM have to be recalculated, </span><span class="line" data-startTime="953">because we have to </span><span class="line" data-startTime="953">figure out did you </span><span class="line" data-startTime="955">change something </span><span class="line" data-startTime="955">that was visible. </span> <span class="line" data-startTime="956">When you do this, we have </span><span class="line" data-startTime="956">to rebuild everything, </span><span class="line" data-startTime="958">which means things on </span><span class="line" data-startTime="958">the screen have changed, </span><span class="line" data-startTime="960">which means we need to </span><span class="line" data-startTime="960">actually repaint things. </span></p>

<p><span class="line" data-startTime="963">So when you change the DOM, you </span><span class="line" data-startTime="963">update properties to the DOM, </span><span class="line" data-startTime="965">repaints have to occur. </span> <span class="line" data-startTime="967">Another great example. </span> <span class="line" data-startTime="968">So let's say we've got a user </span><span class="line" data-startTime="968">who's scrolling your site. </span> <span class="line" data-startTime="971">And a lot of mobile </span><span class="line" data-startTime="971">websites I see nowadays </span><span class="line" data-startTime="973">use CSS properties to </span><span class="line" data-startTime="973">sort of store state. </span> <span class="line" data-startTime="978">So you've got some </span><span class="line" data-startTime="978">piece of code here </span><span class="line" data-startTime="979">that's like, the user </span><span class="line" data-startTime="979">is scrolling now. </span> <span class="line" data-startTime="982">Let's add this class to the </span><span class="line" data-startTime="982">DOM that represents sticky. </span> <span class="line" data-startTime="986">We want a sticky header. </span></p>

<p><span class="line" data-startTime="987">Anyone do this? </span><span class="line" data-startTime="989">Don't raise your hand. </span> <span class="line" data-startTime="989">Don't. </span> <span class="line" data-startTime="990">Stop. </span> <span class="line" data-startTime="990">Don't. </span> <span class="line" data-startTime="991">You're about to </span><span class="line" data-startTime="991">find out &mdash; don't. </span> <span class="line" data-startTime="992">Just don't raise your hand. </span> <span class="line" data-startTime="995">I'm giving you a warning. </span> <span class="line" data-startTime="997">What's good is on </span><span class="line" data-startTime="997">the live stream </span><span class="line" data-startTime="998">they can't see this direction, </span><span class="line" data-startTime="998">so they don't see this. </span> <span class="line" data-startTime="1000">What happens is, every time </span><span class="line" data-startTime="1000">you modify the class list, </span><span class="line" data-startTime="1003">the CSS object model </span><span class="line" data-startTime="1003">has to be rebuilt. </span> <span class="line" data-startTime="1005">And, of course, this </span><span class="line" data-startTime="1005">causes a repaint. </span> <span class="line" data-startTime="1007">So you touch the DOM. </span> <span class="line" data-startTime="1008">You touch CSS. </span> <span class="line" data-startTime="1009">Repaints have to occur. </span> <span class="line" data-startTime="1010">We call this "paint </span><span class="line" data-startTime="1010">storming" if you </span><span class="line" data-startTime="1011">get into a weird cycle of this. </span> <span class="line" data-startTime="1013">So let's take a </span><span class="line" data-startTime="1013">look at a demo here. </span> <span class="line" data-startTime="1015">Single demo &mdash; this </span><span class="line" data-startTime="1015">is super easy. </span></p>

<p><span class="line" data-startTime="1017">Paul Irish did a fantastic </span><span class="line" data-startTime="1017">video of this earlier this year. </span> <span class="line" data-startTime="1020">I just want to show what he did. </span> <span class="line" data-startTime="1022">So this is scrolling a site. </span> <span class="line" data-startTime="1024">And I'm just kind of </span><span class="line" data-startTime="1024">scrolling slowly here, </span><span class="line" data-startTime="1027">but you can see it's actually </span><span class="line" data-startTime="1027">just a little jittery. </span> <span class="line" data-startTime="1029">I'm not sure how well this </span><span class="line" data-startTime="1029">is coming on the stream. </span> <span class="line" data-startTime="1031">But you can see some </span><span class="line" data-startTime="1031">of these white boxes </span><span class="line" data-startTime="1032">here just aren't </span><span class="line" data-startTime="1032">moving too well. </span> <span class="line" data-startTime="1034">And so when &mdash; hold on. </span></p>

<p><span class="line" data-startTime="1036">Doing live demos is awesome. </span> <span class="line" data-startTime="1039">If we actually get </span><span class="line" data-startTime="1039">recording on the timeline </span><span class="line" data-startTime="1041">here and start </span><span class="line" data-startTime="1041">scrolling, we can see </span><span class="line" data-startTime="1045">sort of a plethora of </span><span class="line" data-startTime="1045">these green and purples. </span> <span class="line" data-startTime="1049">And what we're effectively </span><span class="line" data-startTime="1049">looking at here </span><span class="line" data-startTime="1050">is, when you see green and </span><span class="line" data-startTime="1050">purples on the timeline view, </span><span class="line" data-startTime="1053">these are recalc </span><span class="line" data-startTime="1053">styles of layout. </span> <span class="line" data-startTime="1054">So this is exactly what </span><span class="line" data-startTime="1054">we were talking about. </span></p>

<p><span class="line" data-startTime="1056">We have some event going on. </span> <span class="line" data-startTime="1058">When you mouse over them, </span><span class="line" data-startTime="1058">you get to go down here </span><span class="line" data-startTime="1060">and say, hey here's the </span><span class="line" data-startTime="1060">call stack that caused this. </span> <span class="line" data-startTime="1062">And lo and behold, here </span><span class="line" data-startTime="1062">is a JavaScript function </span><span class="line" data-startTime="1065">that's intermixed </span><span class="line" data-startTime="1065">between the jQuery </span><span class="line" data-startTime="1066">that the user developers of </span><span class="line" data-startTime="1066">this website actually wrote </span><span class="line" data-startTime="1070">and you can see here. </span> <span class="line" data-startTime="1071">Basically what </span><span class="line" data-startTime="1071">they're doing &mdash; let </span><span class="line" data-startTime="1072">me see if I can zoom that </span><span class="line" data-startTime="1072">in just a little bit. </span> <span class="line" data-startTime="1075">What they're doing here is, </span><span class="line" data-startTime="1075">every time the user scrolls, </span><span class="line" data-startTime="1079">they're toggling a class </span><span class="line" data-startTime="1079">based upon some heuristic. </span> <span class="line" data-startTime="1083">So every single </span><span class="line" data-startTime="1083">mouse scroll, they're </span><span class="line" data-startTime="1086">updating the CSS tree, which </span><span class="line" data-startTime="1086">then has to be rebuilt, </span><span class="line" data-startTime="1089">which then causes a repaint. </span> <span class="line" data-startTime="1090">And we're seeing this here </span><span class="line" data-startTime="1090">in the timeline as well. </span></p>

<p><span class="line" data-startTime="1093">Boom. </span> <span class="line" data-startTime="1094">Scroll, recalculate, layout, </span><span class="line" data-startTime="1094">paint, paint, paint, paint, </span><span class="line" data-startTime="1096">paint. </span> <span class="line" data-startTime="1097">And now this actually </span><span class="line" data-startTime="1097">is pretty bad. </span> <span class="line" data-startTime="1099">This is 7 milliseconds </span><span class="line" data-startTime="1099">on my desktop here. </span> <span class="line" data-startTime="1102">We get into some </span><span class="line" data-startTime="1102">pretty gnarly places </span><span class="line" data-startTime="1104">where this is 10 milliseconds. </span> <span class="line" data-startTime="1105">Down here it looks like we've </span><span class="line" data-startTime="1105">got some big, thick purples. </span> <span class="line" data-startTime="1109">Big, thick purples. </span> <span class="line" data-startTime="1110">[LAUGHTER] </span></p>

<p class="speaker"><span class="line" data-starttime="1111"><span class="speakerName">Colt McAnlis</span>: Seven </span><span class="line" data-startTime="1111">milliseconds there. </span> <span class="line" data-startTime="1113">We're live on the internet guys. </span> <span class="line" data-startTime="1115">Simmer down. </span> <span class="line" data-startTime="1116">Simmer down. </span> <span class="line" data-startTime="1117">So the point here is </span><span class="line" data-startTime="1117">that you can actually </span><span class="line" data-startTime="1119">use the timeline </span><span class="line" data-startTime="1119">view to find out </span><span class="line" data-startTime="1120">what's causing these recalcs </span><span class="line" data-startTime="1120">and paints on your page. </span> <span class="line" data-startTime="1125">So want more info? </span><span class="line" data-startTime="1127">jankfree.org. </span> <span class="line" data-startTime="1128">These are the jank-busters. </span> <span class="line" data-startTime="1130">These are the guys who </span><span class="line" data-startTime="1130">invented the term "jank." </span><span class="line" data-startTime="1131">Go follow them. </span> <span class="line" data-startTime="1132">They got a talk a </span><span class="line" data-startTime="1132">little bit later. </span> <span class="line" data-startTime="1133">Tom Wiltzius and </span><span class="line" data-startTime="1133">Nat Duca, they'll </span><span class="line" data-startTime="1135">give you all the </span><span class="line" data-startTime="1135">details you need </span><span class="line" data-startTime="1136">to make silky smooth </span><span class="line" data-startTime="1136">rendering performance. </span></p>

<p><span class="line" data-startTime="1138">So let's go to my </span><span class="line" data-startTime="1138">favorite area, compute. </span> <span class="line" data-startTime="1140">This is the thing that </span><span class="line" data-startTime="1140">I live and thrive on. </span> <span class="line" data-startTime="1143">So let's say 16 </span><span class="line" data-startTime="1143">milliseconds a frame. </span> <span class="line" data-startTime="1146">You have 60 frames a second. </span> <span class="line" data-startTime="1148">It means you have </span><span class="line" data-startTime="1148">16 milliseconds. </span> <span class="line" data-startTime="1149">But the funny thing is, you </span><span class="line" data-startTime="1149">don't have 16 milliseconds. </span> <span class="line" data-startTime="1152">The browser has 16 milliseconds. </span> <span class="line" data-startTime="1154">You have to share. </span> <span class="line" data-startTime="1155">Remember your mom and </span><span class="line" data-startTime="1155">your dad taught you </span><span class="line" data-startTime="1156">that when you were </span><span class="line" data-startTime="1156">a kid, like, hey </span><span class="line" data-startTime="1158">you can't have your whole </span><span class="line" data-startTime="1158">time with the truck. </span> <span class="line" data-startTime="1160">You've got to trade </span><span class="line" data-startTime="1160">the truck with Chrome. </span> <span class="line" data-startTime="1161">Chrome needs time </span><span class="line" data-startTime="1161">with the truck, </span><span class="line" data-startTime="1162">and then you can </span><span class="line" data-startTime="1162">have the truck back. </span></p>

<p><span class="line" data-startTime="1163">And you're ilke, I want my time. </span> <span class="line" data-startTime="1164">And Chrome's like, </span><span class="line" data-startTime="1164">I want my time. </span> <span class="line" data-startTime="1166">Anyhow, the point is that </span><span class="line" data-startTime="1166">you don't have fully 16 </span><span class="line" data-startTime="1169">milliseconds to </span><span class="line" data-startTime="1169">do all your work. </span> <span class="line" data-startTime="1170">When you get a rAF event, </span><span class="line" data-startTime="1170">Chrome's doing other stuff. </span> <span class="line" data-startTime="1174">Including that other </span><span class="line" data-startTime="1174">stuff is a paint event. </span> <span class="line" data-startTime="1177">It actually has to </span><span class="line" data-startTime="1177">branch off and go </span><span class="line" data-startTime="1178">do painting and compositing </span><span class="line" data-startTime="1178">and all this other stuff. </span> <span class="line" data-startTime="1180">And that's intermixed </span><span class="line" data-startTime="1180">with all the JavaScript </span><span class="line" data-startTime="1182">that you're trying to </span><span class="line" data-startTime="1182">run for your application. </span> <span class="line" data-startTime="1184">So what happens is, </span><span class="line" data-startTime="1184">every 16 milliseconds </span><span class="line" data-startTime="1186">you'll get a rAF pulse, </span><span class="line" data-startTime="1186">and this is fine, </span><span class="line" data-startTime="1187">until something happens in your </span><span class="line" data-startTime="1187">code that actually pushes back </span><span class="line" data-startTime="1191">this designated work that </span><span class="line" data-startTime="1191">Chrome's going to do anyway. </span> <span class="line" data-startTime="1195">And when that happens, you miss </span><span class="line" data-startTime="1195">that 16th frame and your rAF </span><span class="line" data-startTime="1198">skips. </span> <span class="line" data-startTime="1199">And this is known </span><span class="line" data-startTime="1199">as a skipped frame. </span></p>

<p><span class="line" data-startTime="1200">This is when users feel jank. </span> <span class="line" data-startTime="1203">Now I know we're talking </span><span class="line" data-startTime="1203">about a rendering </span><span class="line" data-startTime="1205">problem in the compute </span><span class="line" data-startTime="1205">section, but bear with me now. </span> <span class="line" data-startTime="1207">So the question is, what caused </span><span class="line" data-startTime="1207">that JavaScript to get slow? </span><span class="line" data-startTime="1210">We need to make sure that </span><span class="line" data-startTime="1210">we keep an eye on this. </span> <span class="line" data-startTime="1212">60 frames a second means </span><span class="line" data-startTime="1212">16 milliseconds a frame. </span> <span class="line" data-startTime="1215">You have to play nice, share. </span> <span class="line" data-startTime="1219">So let's say you've got a cool </span><span class="line" data-startTime="1219">game like Super Resident Raver, </span><span class="line" data-startTime="1221">and you're going along </span><span class="line" data-startTime="1221">doing some cool touch stuff. </span> <span class="line" data-startTime="1224">Touch Handler occurs, and you </span><span class="line" data-startTime="1224">just do a flood of things. </span> <span class="line" data-startTime="1227">The user touched. </span> <span class="line" data-startTime="1228">So I need to go through and </span><span class="line" data-startTime="1228">order a pizza, because I'm </span><span class="line" data-startTime="1230">hungry right now, and </span><span class="line" data-startTime="1230">update 10 million zombies, </span><span class="line" data-startTime="1232">because they're going </span><span class="line" data-startTime="1232">to attack the pizza, </span><span class="line" data-startTime="1234">and they're going to be </span><span class="line" data-startTime="1234">doing cool stuff, too. </span> <span class="line" data-startTime="1236">Well, the problem with this is </span><span class="line" data-startTime="1236">that you miss your rAF target. </span></p>

<p><span class="line" data-startTime="1238">And, of course, </span><span class="line" data-startTime="1238">the next rAF would </span><span class="line" data-startTime="1239">want to come immediately </span><span class="line" data-startTime="1239">at that point. </span> <span class="line" data-startTime="1241">But, again, it has </span><span class="line" data-startTime="1241">to skip a frame. </span> <span class="line" data-startTime="1243">So the problem here </span><span class="line" data-startTime="1243">is that you end up </span><span class="line" data-startTime="1244">doing too much work </span><span class="line" data-startTime="1244">in a single frame, </span><span class="line" data-startTime="1247">and you can end up </span><span class="line" data-startTime="1247">pushing it back. </span> <span class="line" data-startTime="1249">Another problem is probably </span><span class="line" data-startTime="1249">a little bit more complex, </span><span class="line" data-startTime="1251">and I've done some talks </span><span class="line" data-startTime="1251">about this in the past. </span> <span class="line" data-startTime="1254">But let's say you've got </span><span class="line" data-startTime="1254">just a ton of stuff going on. </span> <span class="line" data-startTime="1256">By the way, if anyone </span><span class="line" data-startTime="1256">sends me source code </span><span class="line" data-startTime="1259">of an HTML5 game they </span><span class="line" data-startTime="1259">make that implements </span><span class="line" data-startTime="1261">all of those gestures at once, </span><span class="line" data-startTime="1261">I will send you free stuff. </span> <span class="line" data-startTime="1265">I just want to put </span><span class="line" data-startTime="1265">that out there. </span> <span class="line" data-startTime="1267">But let's say you've got 90 </span><span class="line" data-startTime="1267">hands on a game right now, </span><span class="line" data-startTime="1270">and this is actually causing </span><span class="line" data-startTime="1270">a lot of allocations. </span> <span class="line" data-startTime="1272">What can actually occur is </span><span class="line" data-startTime="1272">that during your update phase, </span><span class="line" data-startTime="1275">garbage collection can occur any </span><span class="line" data-startTime="1275">time garbage collection feels </span><span class="line" data-startTime="1277">like it needs to occur, which </span><span class="line" data-startTime="1277">can push out your update loop, </span><span class="line" data-startTime="1280">because it needs time to go. </span></p>

<p><span class="line" data-startTime="1281">And it's a </span><span class="line" data-startTime="1281">single-threaded model, </span><span class="line" data-startTime="1283">which is then going </span><span class="line" data-startTime="1283">to put your draw back, </span><span class="line" data-startTime="1285">which again is going </span><span class="line" data-startTime="1285">to put your rAF back. </span> <span class="line" data-startTime="1286">So I've got a little </span><span class="line" data-startTime="1286">bit of time here. </span> <span class="line" data-startTime="1288">I want to finish </span><span class="line" data-startTime="1288">up on a high note. </span> <span class="line" data-startTime="1290">So, actually, not </span><span class="line" data-startTime="1290">to Paul Lewis yet. </span> <span class="line" data-startTime="1291">He's bald. </span> <span class="line" data-startTime="1292">OK. </span> <span class="line" data-startTime="1293">So I want to show you </span><span class="line" data-startTime="1293">what this looks like. </span> <span class="line" data-startTime="1294">So if you're trying to track </span><span class="line" data-startTime="1294">down performance issues </span><span class="line" data-startTime="1296">from compute &mdash; here's </span><span class="line" data-startTime="1296">Super Resident Raver &mdash; </span><span class="line" data-startTime="1298">there's two tools you </span><span class="line" data-startTime="1298">need to check out. </span> <span class="line" data-startTime="1300">First off is collecting </span><span class="line" data-startTime="1300">a JavaScript CPU profile. </span> <span class="line" data-startTime="1302">So I'm not going </span><span class="line" data-startTime="1302">to play the game. </span> <span class="line" data-startTime="1304">I'm just going to </span><span class="line" data-startTime="1304">hit start here. </span></p>

<p><span class="line" data-startTime="1305">Well OK, maybe I'll </span><span class="line" data-startTime="1305">make some stuff happen. </span> <span class="line" data-startTime="1307">OK. </span> <span class="line" data-startTime="1307">Things are going &mdash; yes. </span> <span class="line" data-startTime="1307">Good. </span> <span class="line" data-startTime="1308">People are running around. </span> <span class="line" data-startTime="1309">Chaos ensues. </span> <span class="line" data-startTime="1310">Fantastic. </span> <span class="line" data-startTime="1310">And I'm going to let that </span><span class="line" data-startTime="1310">dude run around and get </span><span class="line" data-startTime="1313">eaten by zombies for a second. </span> <span class="line" data-startTime="1314">But what you can </span><span class="line" data-startTime="1314">actually see down here, </span><span class="line" data-startTime="1315">and this is one of my </span><span class="line" data-startTime="1315">favorite things added </span><span class="line" data-startTime="1316">to Chrome DevTools &mdash; is </span><span class="line" data-startTime="1316">this is a flame chart, which </span><span class="line" data-startTime="1318">effectively shows me </span><span class="line" data-startTime="1318">where all of my calls </span><span class="line" data-startTime="1322">are going for a given frame. </span> <span class="line" data-startTime="1325">So I can actually see, </span><span class="line" data-startTime="1325">hey wait a minute. </span> <span class="line" data-startTime="1327">Where is my time </span><span class="line" data-startTime="1327">going in my frame? </span><span class="line" data-startTime="1329">Who's responsible for it? </span><span class="line" data-startTime="1331">What's the function </span><span class="line" data-startTime="1331">that's taking that time? </span><span class="line" data-startTime="1333">This allows me, again, to </span><span class="line" data-startTime="1333">measure where my content is </span><span class="line" data-startTime="1336">going and update it accordingly. </span> <span class="line" data-startTime="1337">The second thing </span><span class="line" data-startTime="1337">you need to look </span><span class="line" data-startTime="1338">at when you're dealing </span><span class="line" data-startTime="1338">with memory issues </span><span class="line" data-startTime="1340">is actually this record </span><span class="line" data-startTime="1340">heap allocations. </span></p>

<p><span class="line" data-startTime="1342">Now for HTML5 game </span><span class="line" data-startTime="1342">developers, this </span><span class="line" data-startTime="1344">is fantastic, because </span><span class="line" data-startTime="1344">you can kind of just </span><span class="line" data-startTime="1345">hit Start and sit back. </span> <span class="line" data-startTime="1347">Now for those of you who </span><span class="line" data-startTime="1347">aren't versed in this tool, </span><span class="line" data-startTime="1349">it's actually fantastic, </span><span class="line" data-startTime="1349">because it sort of melds </span><span class="line" data-startTime="1352">heap allocation tracking </span><span class="line" data-startTime="1352">with a timeline view. </span> <span class="line" data-startTime="1354">So what you're seeing </span><span class="line" data-startTime="1354">at the top there </span><span class="line" data-startTime="1356">is allocations that have </span><span class="line" data-startTime="1356">been allocated and freed. </span> <span class="line" data-startTime="1359">Some of them are still </span><span class="line" data-startTime="1359">resident on the stack. </span> <span class="line" data-startTime="1361">You can see that in blue. </span> <span class="line" data-startTime="1362">Some of them have been freed, </span><span class="line" data-startTime="1362">and you can see that in gray. </span> <span class="line" data-startTime="1365">And then you can find a specific </span><span class="line" data-startTime="1365">portion here and actually drill </span><span class="line" data-startTime="1368">down and say, hey, </span><span class="line" data-startTime="1368">wait a minute. </span> <span class="line" data-startTime="1369">What was actually </span><span class="line" data-startTime="1369">created during that frame </span><span class="line" data-startTime="1372">to create those allocations? </span><span class="line" data-startTime="1373">And if you're </span><span class="line" data-startTime="1373">lucky, sometimes you </span><span class="line" data-startTime="1375">can actually figure </span><span class="line" data-startTime="1375">out where in your code </span><span class="line" data-startTime="1377">it actually came from. </span> <span class="line" data-startTime="1378">So here I could see </span><span class="line" data-startTime="1378">that the fade timer </span><span class="line" data-startTime="1380">stream was actually created. </span></p>

<p><span class="line" data-startTime="1382">It was probably passed off </span><span class="line" data-startTime="1382">to some anonymous function </span><span class="line" data-startTime="1384">that needed work done to it. </span> <span class="line" data-startTime="1386">So with all of these </span><span class="line" data-startTime="1386">tools, you kind of </span><span class="line" data-startTime="1388">start getting the sense </span><span class="line" data-startTime="1388">that you can actually </span><span class="line" data-startTime="1391">measure what's going on </span><span class="line" data-startTime="1391">in your mobile universe. </span> <span class="line" data-startTime="1393">You can actually </span><span class="line" data-startTime="1393">get to the data. </span> <span class="line" data-startTime="1395">You can actually figure </span><span class="line" data-startTime="1395">out what's going on, </span><span class="line" data-startTime="1397">take ownership of your website </span><span class="line" data-startTime="1397">performance, and move forward. </span></p>

<p><span class="line" data-startTime="1400">I love this quote by </span><span class="line" data-startTime="1400">Paul Lewis &mdash; "Tools. </span> <span class="line" data-startTime="1402">Not rules." </span><span class="line" data-startTime="1403">Anyone who stands </span><span class="line" data-startTime="1403">on the stage at this </span><span class="line" data-startTime="1405">point &mdash; Well OK, let's </span><span class="line" data-startTime="1405">roll back for a minute. </span> <span class="line" data-startTime="1407">About a year and </span><span class="line" data-startTime="1407">a half ago, people </span><span class="line" data-startTime="1409">would give performance </span><span class="line" data-startTime="1409">advice, but there </span><span class="line" data-startTime="1411">wasn't enough information </span><span class="line" data-startTime="1411">on the client side </span><span class="line" data-startTime="1413">to actually give that advice. </span> <span class="line" data-startTime="1414">Like, hey, your </span><span class="line" data-startTime="1414">scrolling is slow. </span> <span class="line" data-startTime="1415">Well how? </span><span class="line" data-startTime="1416">Well I don't know. </span> <span class="line" data-startTime="1417">I kind of tossed some </span><span class="line" data-startTime="1417">chicken bones around </span><span class="line" data-startTime="1419">and it said it was slow. </span> <span class="line" data-startTime="1420">Sweet. </span> <span class="line" data-startTime="1420">Chicken bones. </span></p>

<p><span class="line" data-startTime="1421">But now we have the </span><span class="line" data-startTime="1421">tools, and now you </span><span class="line" data-startTime="1423">need to move towards </span><span class="line" data-startTime="1423">that methodology. </span> <span class="line" data-startTime="1424">Validate everything </span><span class="line" data-startTime="1424">you're seeing. </span> <span class="line" data-startTime="1426">Measure it. </span> <span class="line" data-startTime="1427">Go forward with </span><span class="line" data-startTime="1427">that methodology. </span> <span class="line" data-startTime="1428">Don't just rely on a bunch </span><span class="line" data-startTime="1428">of bald people standing </span><span class="line" data-startTime="1430">on stage telling you </span><span class="line" data-startTime="1430">what to optimize. </span> <span class="line" data-startTime="1432">Go find it in your tool </span><span class="line" data-startTime="1432">chain in your application </span><span class="line" data-startTime="1435">and fix it there. </span> <span class="line" data-startTime="1436">My name is Colt McAnlis. </span> <span class="line" data-startTime="1438">Go to HTML5 Rocks if you want </span><span class="line" data-startTime="1438">to become a performance guru. </span> <span class="line" data-startTime="1442">Check out the slides </span><span class="line" data-startTime="1442">in the other talks </span><span class="line" data-startTime="1444">we've been talking about today. </span> <span class="line" data-startTime="1445">Here's how you get a </span><span class="line" data-startTime="1445">hold of me, #perfmatters. </span> <span class="line" data-startTime="1447">Thank you for your time today. </span> <span class="line" data-startTime="1448">I appreciate it. </span></p>

<p><span class="line" data-startTime="1449">[APPLAUSE] </span></p></div>