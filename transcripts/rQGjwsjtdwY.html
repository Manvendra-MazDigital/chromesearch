<p class="speaker"><span class="line" data-starttime="8"><span class="speakerName">Pete LePage</span>: Welcome, </span><span class="line" data-startTime="8">everybody. </span><span class="line" data-startTime="10">My name is Pete LePage, and I'm </span><span class="line" data-startTime="10">a developer advocate on </span><span class="line" data-startTime="12">the Chrome team. </span><span class="line" data-startTime="14">Today we've got another exciting </span><span class="line" data-startTime="14">episode of our Chrome </span><span class="line" data-startTime="17">Apps Office Hours. </span><span class="line" data-startTime="19">I'm joined by Paul Kinlan </span><span class="line" data-startTime="19">who's in London. </span><span class="line" data-startTime="21">Paul, I'll let you introduce </span><span class="line" data-startTime="21">yourself. </span></p>

<p class="speaker"><span class="line" data-starttime="23"><span class="speakerName">Paul Kinlan</span>: Yes, I'm Paul </span><span class="line" data-startTime="23">Kinlan in London. </span><span class="line" data-startTime="26">I'm also a Chrome Developer </span><span class="line" data-startTime="26">advocate at Google, and we've </span><span class="line" data-startTime="30">got a really exciting episode </span><span class="line" data-startTime="30">today about identity and </span><span class="line" data-startTime="33">managing identity inside </span><span class="line" data-startTime="33">Chrome applications. </span></p>

<p class="speaker"><span class="line" data-starttime="35"><span class="speakerName">Pete LePage</span>: Yeah, I think so. </span> <span class="line" data-startTime="37">Awesome. </span> <span class="line" data-startTime="39">So let's just introduce the </span><span class="line" data-startTime="39">identity stuff in Chrome apps, </span><span class="line" data-startTime="44">because I think that's </span><span class="line" data-startTime="44">a fairly important </span><span class="line" data-startTime="46">thing to talk about. </span> <span class="line" data-startTime="47">Because Chrome apps, if you want </span><span class="line" data-startTime="47">to authenticate against a </span><span class="line" data-startTime="52">Google app, there's a real easy </span><span class="line" data-startTime="52">way &mdash; or a Google service </span><span class="line" data-startTime="55">or anything like that, there's </span><span class="line" data-startTime="55">a real easy way you can go </span><span class="line" data-startTime="57">about doing that. </span> <span class="line" data-startTime="58">It's a pretty quick way to go. </span> <span class="line" data-startTime="60">But if you want to authenticate </span><span class="line" data-startTime="60">against anything </span><span class="line" data-startTime="62">else, if you say you wanted to </span><span class="line" data-startTime="62">authenticate against Twitter, </span><span class="line" data-startTime="65">maybe your own service, maybe </span><span class="line" data-startTime="65">you want to authenticate &mdash; </span><span class="line" data-startTime="68">today, we're actually going to </span><span class="line" data-startTime="68">take a look at Instagram. </span></p>

<p><span class="line" data-startTime="71">But if you want to be able to </span><span class="line" data-startTime="71">authenticate against those so </span><span class="line" data-startTime="74">that you can make sure, hey, </span><span class="line" data-startTime="74">this user has rights to do </span><span class="line" data-startTime="77">this and maybe upload files, </span><span class="line" data-startTime="77">these are things that are </span><span class="line" data-startTime="81">really important that </span><span class="line" data-startTime="81">you're going to want </span><span class="line" data-startTime="82">to be able to do. </span> <span class="line" data-startTime="84">As we go through today, I just </span><span class="line" data-startTime="84">put up some links to some of </span><span class="line" data-startTime="87">the documentation that </span><span class="line" data-startTime="87">we've got going. </span> <span class="line" data-startTime="91">As always, we always want to </span><span class="line" data-startTime="91">hear about your questions. </span> <span class="line" data-startTime="95">The link to questions is </span><span class="line" data-startTime="95">up there right now. </span> <span class="line" data-startTime="97">You can ask your questions </span><span class="line" data-startTime="97">at that URL. </span> <span class="line" data-startTime="100">We'll be keeping an eye on </span><span class="line" data-startTime="100">there during the day. </span> <span class="line" data-startTime="104">It's actually, Paul, </span><span class="line" data-startTime="104">it's right there. </span> <span class="line" data-startTime="106">So &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="107"><span class="speakerName">Paul Kinlan</span>: Oh yeah, I'm </span><span class="line" data-startTime="107">looking the wrong way. </span></p>

<p class="speaker"><span class="line" data-starttime="108"><span class="speakerName">Pete LePage</span>:  &mdash; yeah, </span><span class="line" data-startTime="108">it's to your &mdash; </span><span class="line" data-startTime="112">I'm not even going </span><span class="line" data-startTime="112">to try and guess. </span></p>

<p class="speaker"><span class="line" data-starttime="113"><span class="speakerName">Paul Kinlan</span>: I was trying </span><span class="line" data-startTime="113">to be cool. </span></p>

<p class="speaker"><span class="line" data-starttime="115"><span class="speakerName">Pete LePage</span>: I think it's to </span><span class="line" data-startTime="115">your lower right, if you look </span><span class="line" data-startTime="117">to your lower right. </span><span class="line" data-startTime="118">There you go. </span><span class="line" data-startTime="119">Alright, perfect. </span><span class="line" data-startTime="120">Awesome. </span><span class="line" data-startTime="122">So why don't I pass it over to </span><span class="line" data-startTime="122">Paul, and you can start with a </span><span class="line" data-startTime="127">little introduction of the stuff </span><span class="line" data-startTime="127">that you've got going. </span></p>

<p class="speaker"><span class="line" data-starttime="130"><span class="speakerName">Paul Kinlan</span>: Yeah, so identity, </span><span class="line" data-startTime="130">identity, identity. </span> <span class="line" data-startTime="133">It's what we're trying </span><span class="line" data-startTime="133">to talk about today. </span> <span class="line" data-startTime="136">One of the things that we </span><span class="line" data-startTime="136">noticed when we've been </span><span class="line" data-startTime="137">building web applications, </span><span class="line" data-startTime="137">especially inside Chrome and </span><span class="line" data-startTime="140">Chrome Extensions over the past </span><span class="line" data-startTime="140">couple years, is that </span><span class="line" data-startTime="143">it's actually pretty hard to </span><span class="line" data-startTime="143">authenticate against a third </span><span class="line" data-startTime="146">party service. </span> <span class="line" data-startTime="147">And these third party services </span><span class="line" data-startTime="147">like Pete mentioned before </span><span class="line" data-startTime="149">were like Twitter, or Instagram, </span><span class="line" data-startTime="149">or Facebook, things </span><span class="line" data-startTime="152">that aren't necessarily Google </span><span class="line" data-startTime="152">properties, they've always </span><span class="line" data-startTime="155">been a little bit hard </span><span class="line" data-startTime="155">to authenticate </span><span class="line" data-startTime="157">against OAuth 1.0. </span> <span class="line" data-startTime="158">The OAuth 1.0 flow doesn't </span><span class="line" data-startTime="158">quite work very well for </span><span class="line" data-startTime="161">installed applications, </span><span class="line" data-startTime="161">applications not necessarily </span><span class="line" data-startTime="163">with a server behind </span><span class="line" data-startTime="163">the scenes. </span></p>

<p><span class="line" data-startTime="166">And obviously, OAuth 2.0 has </span><span class="line" data-startTime="166">come along as well, and people </span><span class="line" data-startTime="168">want to take advantage of OAuth </span><span class="line" data-startTime="168">2.0, and not have to </span><span class="line" data-startTime="172">have any specific integrations </span><span class="line" data-startTime="172">into the browser for those </span><span class="line" data-startTime="174">external APIs. </span> <span class="line" data-startTime="175">But you build to authenticate </span><span class="line" data-startTime="175">and interact with these APIs </span><span class="line" data-startTime="178">themselves. </span> <span class="line" data-startTime="179">So we've introduced this </span><span class="line" data-startTime="179">experimental &mdash; </span><span class="line" data-startTime="182">it's still experimental </span><span class="line" data-startTime="182">at the moment &mdash; </span><span class="line" data-startTime="184">identity API. </span> <span class="line" data-startTime="186">And the identity API is like </span><span class="line" data-startTime="186">pizza, it's split into two </span><span class="line" data-startTime="188">bits, the Google service area, </span><span class="line" data-startTime="188">where you can ask for access </span><span class="line" data-startTime="193">to Docs and a whole lot of other </span><span class="line" data-startTime="193">stuff like that, and </span><span class="line" data-startTime="196">then the third party flows </span><span class="line" data-startTime="196">where that's the </span><span class="line" data-startTime="199">Twittergrams &mdash; ah, that's </span><span class="line" data-startTime="199">a new one &mdash; </span><span class="line" data-startTime="202">Instagram, Twitter, Facebook, </span><span class="line" data-startTime="202">all those types of services. </span> <span class="line" data-startTime="205">And that's the one we're going </span><span class="line" data-startTime="205">to talk about today. </span> <span class="line" data-startTime="206">It's a really simple API. </span> <span class="line" data-startTime="210">The reason why we're doing it </span><span class="line" data-startTime="210">is we want to make it super </span><span class="line" data-startTime="212">simple for you, when you're </span><span class="line" data-startTime="212">building an installed </span><span class="line" data-startTime="214">application, to be able to </span><span class="line" data-startTime="214">authenticate against a third </span><span class="line" data-startTime="216">party service without tons and </span><span class="line" data-startTime="216">tons and tons of code. </span></p>

<p><span class="line" data-startTime="219">We've all been burned </span><span class="line" data-startTime="219">by OAuth 1.0. </span> <span class="line" data-startTime="221">OAuth 2.0 is a lot easier. </span> <span class="line" data-startTime="223">But you've got to remember, </span><span class="line" data-startTime="223">a lot of services don't </span><span class="line" data-startTime="225">necessarily use just OAuth </span><span class="line" data-startTime="225">for authentication. </span> <span class="line" data-startTime="227">They might use OpenID, they </span><span class="line" data-startTime="227">might use Basic Auth, loads of </span><span class="line" data-startTime="232">different types of </span><span class="line" data-startTime="232">authentication. </span> <span class="line" data-startTime="234">We think that the way we've </span><span class="line" data-startTime="234">designed this third party </span><span class="line" data-startTime="238">authentication system is in a </span><span class="line" data-startTime="238">way that it enables you to be </span><span class="line" data-startTime="242">able to authenticate and </span><span class="line" data-startTime="242">basically use any type of </span><span class="line" data-startTime="245">authentication process that </span><span class="line" data-startTime="245">you could think of. </span> <span class="line" data-startTime="247">We're going to look at OAuth </span><span class="line" data-startTime="247">2.0 today inside Instagram. </span></p>

<p><span class="line" data-startTime="252">Should we just jump into </span><span class="line" data-startTime="252">the application for </span><span class="line" data-startTime="253">the rest of the show? </span></p>

<p class="speaker"><span class="line" data-starttime="254"><span class="speakerName">Pete LePage</span>: Yeah, </span><span class="line" data-startTime="254">let's do that. </span><span class="line" data-startTime="257">I'm bringing up your screen now </span><span class="line" data-startTime="257">so they see your screen. </span></p>

<p class="speaker"><span class="line" data-starttime="260"><span class="speakerName">Paul Kinlan</span>: That's my screen, </span><span class="line" data-startTime="260">these are all my apps, there's </span><span class="line" data-startTime="262">a lot of installed applications </span><span class="line" data-startTime="262">there. </span><span class="line" data-startTime="263">We have a very nice </span><span class="line" data-startTime="263">MarkDown editor. </span><span class="line" data-startTime="265">I'd try that one out. </span></p>

<p class="speaker"><span class="line" data-starttime="266"><span class="speakerName">Pete LePage</span>: That MarkDown </span><span class="line" data-startTime="266">editor is pretty sweet. </span></p>

<p class="speaker"><span class="line" data-starttime="268"><span class="speakerName">Paul Kinlan</span>: Yeah, </span><span class="line" data-startTime="268">it's pretty cool. </span> <span class="line" data-startTime="269">IRC app as well. </span> <span class="line" data-startTime="270">Anyway, that's not what we're </span><span class="line" data-startTime="270">talking about today. </span> <span class="line" data-startTime="273">We are doing this </span><span class="line" data-startTime="273">thing called &mdash; </span><span class="line" data-startTime="274">I called it On Air </span><span class="line" data-startTime="274">Authentication </span><span class="line" data-startTime="275">because I had two apps. </span> <span class="line" data-startTime="277">One was a test app, which I've </span><span class="line" data-startTime="277">just realized doesn't load, </span><span class="line" data-startTime="280">but this one does. </span> <span class="line" data-startTime="281">So this one works. </span> <span class="line" data-startTime="282">And this is the worst looking </span><span class="line" data-startTime="282">application you will see in </span><span class="line" data-startTime="286">your lifetime today, but it's </span><span class="line" data-startTime="286">going to be something that </span><span class="line" data-startTime="288">we're going to show you the </span><span class="line" data-startTime="288">potential of the API. </span> <span class="line" data-startTime="291">Click some buttons, doesn't </span><span class="line" data-startTime="291">do anything. </span> <span class="line" data-startTime="294">You would also expect, with an </span><span class="line" data-startTime="294">Instagram API, to be able to </span><span class="line" data-startTime="297">view photos and a whole </span><span class="line" data-startTime="297">lot of other stuff. </span></p>

<p><span class="line" data-startTime="300">However, that's not going to </span><span class="line" data-startTime="300">work, because that is an </span><span class="line" data-startTime="303">exercise for you, the listener, </span><span class="line" data-startTime="303">the watcher, the </span><span class="line" data-startTime="305">reader to actually implement. </span> <span class="line" data-startTime="307">But what we're going </span><span class="line" data-startTime="307">to show you is &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="308"><span class="speakerName">Pete LePage</span>: I think they're </span><span class="line" data-startTime="308">actually viewers, Paul. </span></p>

<p class="speaker"><span class="line" data-starttime="309"><span class="speakerName">Paul Kinlan</span>: Sorry? </span></p>

<p class="speaker"><span class="line" data-starttime="310"><span class="speakerName">Pete LePage</span>: I think </span><span class="line" data-startTime="310">they're viewers. </span></p>

<p class="speaker"><span class="line" data-starttime="311"><span class="speakerName">Paul Kinlan</span>: Did </span><span class="line" data-startTime="311">I say watchers? </span></p>

<p class="speaker"><span class="line" data-starttime="313"><span class="speakerName">Pete LePage</span>: Watchers, yes. </span></p>

<p class="speaker"><span class="line" data-starttime="315"><span class="speakerName">Paul Kinlan</span>: Oh, my. </span><span class="line" data-startTime="315">That's terrible &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="316"><span class="speakerName">Pete LePage</span>: That's OK, it's </span><span class="line" data-startTime="316">always fun like that. </span><span class="line" data-startTime="318">I'm giving you trouble. </span></p>

<p class="speaker"><span class="line" data-starttime="319"><span class="speakerName">Paul Kinlan</span>: It's the English </span><span class="line" data-startTime="319">way of saying it. </span> <span class="line" data-startTime="323">Anyway, sorry. </span> <span class="line" data-startTime="325">So this is the application that </span><span class="line" data-startTime="325">we're going to fill out, </span><span class="line" data-startTime="327">and basically by the end of it, </span><span class="line" data-startTime="327">we'll see an authenticated </span><span class="line" data-startTime="329">stream of data coming back in. </span> <span class="line" data-startTime="331">It'll just be JSON, raw JSON </span><span class="line" data-startTime="331">data, but you'll be able to </span><span class="line" data-startTime="334">see the fact that you can </span><span class="line" data-startTime="334">get this information. </span> <span class="line" data-startTime="335">You can authenticate against the </span><span class="line" data-startTime="335">service, and then start to </span><span class="line" data-startTime="338">interact with it, and build </span><span class="line" data-startTime="338">your own things. </span> <span class="line" data-startTime="340">One of the reasons that we </span><span class="line" data-startTime="340">haven't got images is we can't </span><span class="line" data-startTime="342">directly pull images </span><span class="line" data-startTime="342">in for content </span><span class="line" data-startTime="346">security policy reasons. </span> <span class="line" data-startTime="347">And Paul Lewis has written a </span><span class="line" data-startTime="347">really good library that </span><span class="line" data-startTime="349">enables it to do this, </span><span class="line" data-startTime="349">but it's out the </span><span class="line" data-startTime="351">scope of this talk. </span> <span class="line" data-startTime="353">So jumping into the code, what </span><span class="line" data-startTime="353">do we have to do to get </span><span class="line" data-startTime="356">identity working? </span><span class="line" data-startTime="358">Well, it's actually </span><span class="line" data-startTime="358">pretty simple. </span> <span class="line" data-startTime="359">We have an app. </span></p>

<p><span class="line" data-startTime="359">I've already made the shell of </span><span class="line" data-startTime="359">the app, so it's the outside </span><span class="line" data-startTime="362">parts of it where &mdash; </span><span class="line" data-startTime="364">basically, I don't want to bore </span><span class="line" data-startTime="364">you kind of showing you </span><span class="line" data-startTime="365">how to create applications, </span><span class="line" data-startTime="365">because you already </span><span class="line" data-startTime="367">know how to do it. </span></p>

<p class="speaker"><span class="line" data-starttime="368"><span class="speakerName">Pete LePage</span>: Yeah, we've done a </span><span class="line" data-startTime="368">bunch of Hangouts and Office </span><span class="line" data-startTime="370">Hours before where we've walked </span><span class="line" data-startTime="371">through the Hello World. </span><span class="line" data-startTime="372">If you haven't seen one, you </span><span class="line" data-startTime="372">can go back to all the GDL </span><span class="line" data-startTime="376">events before. </span><span class="line" data-startTime="377">You can grab one of those. </span><span class="line" data-startTime="378">If not, there's a good Hello </span><span class="line" data-startTime="378">World app in the </span><span class="line" data-startTime="382">documentation. </span></p>

<p class="speaker"><span class="line" data-starttime="383"><span class="speakerName">Paul Kinlan</span>: Yeah, and you can </span><span class="line" data-startTime="383">use Yeoman, yeoman init Chrome </span><span class="line" data-startTime="385">apps, or Chrome app, those types </span><span class="line" data-startTime="385">of things, which I've </span><span class="line" data-startTime="387">done with this actually. </span> <span class="line" data-startTime="388">Which is why there's a picture </span><span class="line" data-startTime="388">of Yeoman as the icon. </span> <span class="line" data-startTime="391">So anyway, the first thing that </span><span class="line" data-startTime="391">we always do when we're </span><span class="line" data-startTime="393">building applications is just </span><span class="line" data-startTime="393">check out the manifest. </span> <span class="line" data-startTime="397">This is a basic manifest. </span> <span class="line" data-startTime="398">It's using some localized </span><span class="line" data-startTime="398">variables. </span> <span class="line" data-startTime="400">We can ignore them a little </span><span class="line" data-startTime="400">bit at the moment. </span> <span class="line" data-startTime="402">An app background script, the </span><span class="line" data-startTime="402">thing that always runs there. </span> <span class="line" data-startTime="405">And there's this weird thing </span><span class="line" data-startTime="405">here which normally most </span><span class="line" data-startTime="407">people don't play around with, </span><span class="line" data-startTime="407">especially when you upload </span><span class="line" data-startTime="409">into the store, called a key. </span> <span class="line" data-startTime="414">The key is the public key, </span><span class="line" data-startTime="414">basically, of your </span><span class="line" data-startTime="416">application, and it's used </span><span class="line" data-startTime="416">for authentication and </span><span class="line" data-startTime="418">verification that the installed </span><span class="line" data-startTime="418">application or </span><span class="line" data-startTime="421">extension that you've got is </span><span class="line" data-startTime="421">authentic, essentially. </span> <span class="line" data-startTime="424">The reason why we need this is </span><span class="line" data-startTime="424">that we need a consistent ID </span><span class="line" data-startTime="427">to be able to actually test our </span><span class="line" data-startTime="427">application, because what </span><span class="line" data-startTime="431">normally happens in the OAuth </span><span class="line" data-startTime="431">flow is that you will </span><span class="line" data-startTime="434">authenticate against a service </span><span class="line" data-startTime="434">such as Instagram, and then it </span><span class="line" data-startTime="437">will redirect the user </span><span class="line" data-startTime="437">back to a web page. </span></p>

<p><span class="line" data-startTime="440">And our web page &mdash; well, it </span><span class="line" data-startTime="440">doesn't actually exist. </span> <span class="line" data-startTime="443">It's a Chrome Extension </span><span class="line" data-startTime="443">URL, essentially. </span> <span class="line" data-startTime="446">So we need to know what that </span><span class="line" data-startTime="446">URL is ahead of time. </span> <span class="line" data-startTime="449">And the easiest way to do it, </span><span class="line" data-startTime="449">and the easiest way to make </span><span class="line" data-startTime="451">sure that your ID is consistent </span><span class="line" data-startTime="451">across even all </span><span class="line" data-startTime="455">your machines is to generate </span><span class="line" data-startTime="455">it yourself. </span> <span class="line" data-startTime="458">And I want to show you a little </span><span class="line" data-startTime="458">tip to actually go off </span><span class="line" data-startTime="460">and generate one. </span> <span class="line" data-startTime="463">You might not be able to see </span><span class="line" data-startTime="463">this too well &mdash; and I've just </span><span class="line" data-startTime="465">done the volume by mistake &mdash; </span><span class="line" data-startTime="467">is if we go in here, I think </span><span class="line" data-startTime="467">it's atob actually. </span> <span class="line" data-startTime="475">Test. </span> <span class="line" data-startTime="476">Can't spell, it doesn't </span><span class="line" data-startTime="476">really matter. </span> <span class="line" data-startTime="478">There we are. </span></p>

<p><span class="line" data-startTime="479">Got it wrong already, </span><span class="line" data-startTime="479">btoa, btoa. </span> <span class="line" data-startTime="484">Wow, there we go. </span> <span class="line" data-startTime="487">And that will generate a </span><span class="line" data-startTime="487">Base64 encoded string. </span> <span class="line" data-startTime="490">And the Base64 encoded string is </span><span class="line" data-startTime="490">what you need for your key </span><span class="line" data-startTime="494">inside your manifest. </span> <span class="line" data-startTime="495">You can put whatever you want </span><span class="line" data-startTime="495">inside of here when you are </span><span class="line" data-startTime="497">testing for general </span><span class="line" data-startTime="497">testing purposes. </span> <span class="line" data-startTime="499">It doesn't really matter what </span><span class="line" data-startTime="499">you use as long as it's a </span><span class="line" data-startTime="500">basic full encoded string. </span> <span class="line" data-startTime="503">However, never ever publish </span><span class="line" data-startTime="503">that to the store. </span> <span class="line" data-startTime="505">If you're going to publish this </span><span class="line" data-startTime="505">to the Chrome Web Store, </span><span class="line" data-startTime="508">make sure you just delete the </span><span class="line" data-startTime="508">key outside of your manifest, </span><span class="line" data-startTime="510">and the Chrome Web Store will </span><span class="line" data-startTime="510">manage that itself. </span> <span class="line" data-startTime="512">Which will mean that you have </span><span class="line" data-startTime="512">to go and often change your </span><span class="line" data-startTime="515">redirect URLs inside your </span><span class="line" data-startTime="515">authentication provider, but </span><span class="line" data-startTime="517">that's generally OK. </span></p>

<p><span class="line" data-startTime="519">That's a nice quick way of doing </span><span class="line" data-startTime="519">it inside Chrome itself. </span> <span class="line" data-startTime="521">So let's jump back </span><span class="line" data-startTime="521">to the code. </span> <span class="line" data-startTime="523">There's the key, and we </span><span class="line" data-startTime="523">have permissions. </span> <span class="line" data-startTime="525">And the permissions are these </span><span class="line" data-startTime="525">things that basically say </span><span class="line" data-startTime="527">upfront what your application </span><span class="line" data-startTime="527">requires from the user to be </span><span class="line" data-startTime="530">able to operate. </span> <span class="line" data-startTime="531">Now, you'd think that </span><span class="line" data-startTime="531">an identity </span><span class="line" data-startTime="534">permission would be needed. </span> <span class="line" data-startTime="535">Right now it's not. </span> <span class="line" data-startTime="535">You just need this thing </span><span class="line" data-startTime="535">called an experimental </span><span class="line" data-startTime="537">permission. </span> <span class="line" data-startTime="538">And the reason why you need this </span><span class="line" data-startTime="538">is because you need to </span><span class="line" data-startTime="540">basically &mdash; </span><span class="line" data-startTime="541">excuse me. </span> <span class="line" data-startTime="544">The identity API is behind </span><span class="line" data-startTime="544">an experimental flag, </span><span class="line" data-startTime="546">essentially, at the moment, so </span><span class="line" data-startTime="546">you need this flag here to be </span><span class="line" data-startTime="548">able to actually use it. </span></p>

<p><span class="line" data-startTime="549">This also means you can't upload </span><span class="line" data-startTime="549">to the Web Store today, </span><span class="line" data-startTime="552">but soon that'll hopefully </span><span class="line" data-startTime="552">change. </span> <span class="line" data-startTime="556">OK, so that's our manifest. </span> <span class="line" data-startTime="557">We've got to the point where we </span><span class="line" data-startTime="557">can do something inside our </span><span class="line" data-startTime="559">application, or describe </span><span class="line" data-startTime="559">what we need inside our </span><span class="line" data-startTime="562">application. </span> <span class="line" data-startTime="563">Let's look at the index.html. </span> <span class="line" data-startTime="565">Doesn't do much. </span> <span class="line" data-startTime="566">If we go right down to the </span><span class="line" data-startTime="566">bottom, you'll see the words </span><span class="line" data-startTime="569">"Step1", which is the header. </span></p>

<p><span class="line" data-startTime="570">There's a button that when it's </span><span class="line" data-startTime="570">clicked we will launch an </span><span class="line" data-startTime="573">authentication flow and a pre. </span> <span class="line" data-startTime="575">And the pre is just for nice </span><span class="line" data-startTime="575">pretty printing, essentially. </span> <span class="line" data-startTime="578">There's not much else that we </span><span class="line" data-startTime="578">need inside this application. </span> <span class="line" data-startTime="580">It doesn't need to look fancy, </span><span class="line" data-startTime="580">so that's all there is. </span> <span class="line" data-startTime="584">But interestingly, there is </span><span class="line" data-startTime="584">an index.js which is our </span><span class="line" data-startTime="588">functionality. </span> <span class="line" data-startTime="589">And this is what we're going </span><span class="line" data-startTime="589">to fill out today. </span> <span class="line" data-startTime="592">So if we do this right, </span><span class="line" data-startTime="592">I will put </span><span class="line" data-startTime="594">console.log("HELLO") in here. </span> <span class="line" data-startTime="599">And if we go back to Chrome, we </span><span class="line" data-startTime="599">reload the app, login, and </span><span class="line" data-startTime="605">inspect the element, we should </span><span class="line" data-startTime="605">get console.log. </span></p>

<p><span class="line" data-startTime="608">That proves we're doing </span><span class="line" data-startTime="608">the live thing, right? </span><span class="line" data-startTime="611">In theory. </span> <span class="line" data-startTime="614">So what's next? </span><span class="line" data-startTime="615">So what we need to do is, </span><span class="line" data-startTime="615">basically, we need to actually </span><span class="line" data-startTime="617">start to actually provide the </span><span class="line" data-startTime="617">information that we need to </span><span class="line" data-startTime="621">authenticate. </span> <span class="line" data-startTime="622">So I'm going to make a var id. </span> <span class="line" data-startTime="625">This is going to sound a little </span><span class="line" data-startTime="625">bit cryptic right now, </span><span class="line" data-startTime="627">but basically it's the identity </span><span class="line" data-startTime="629">credentials that we need. </span> <span class="line" data-startTime="630">And the first thing that you </span><span class="line" data-startTime="630">need is actually a URL, and </span><span class="line" data-startTime="634">the URL is the thing </span><span class="line" data-startTime="634">that we're going to </span><span class="line" data-startTime="635">authenticate against. </span> <span class="line" data-startTime="638">To spare my hair, because I have </span><span class="line" data-startTime="638">none, let me just copy </span><span class="line" data-startTime="644">and paste something </span><span class="line" data-startTime="644">very quickly. </span></p>

<p><span class="line" data-startTime="650">Oops a daisy, wrong one. </span> <span class="line" data-startTime="657">Delete that, delete </span><span class="line" data-startTime="657">that as well. </span> <span class="line" data-startTime="662">Var id =, boom, there we are. </span> <span class="line" data-startTime="665">Now this is actually the </span><span class="line" data-startTime="665">Instagram authentication end </span><span class="line" data-startTime="667">point, and as you can see </span><span class="line" data-startTime="667">we've got a client ID. </span> <span class="line" data-startTime="670">I will be deleting this </span><span class="line" data-startTime="670">client ID after this </span><span class="line" data-startTime="673">presentation, at least. </span> <span class="line" data-startTime="675">But the client ID is part of </span><span class="line" data-startTime="675">the OAuth 2.0 process. it's </span><span class="line" data-startTime="677">the thing that you need to </span><span class="line" data-startTime="677">identify your application to </span><span class="line" data-startTime="680">the third party service. </span> <span class="line" data-startTime="681">And the way that you actually </span><span class="line" data-startTime="681">do that is you go to the </span><span class="line" data-startTime="683">Instagram developer </span><span class="line" data-startTime="683">documentation &mdash; it's a pretty </span><span class="line" data-startTime="685">nice documentation &mdash; </span><span class="line" data-startTime="687">and then you look at </span><span class="line" data-startTime="687">your applications. </span></p>

<p><span class="line" data-startTime="689">I did have my application </span><span class="line" data-startTime="689">up before. </span> <span class="line" data-startTime="694">API console, nope. </span> <span class="line" data-startTime="696">That's not the one. </span> <span class="line" data-startTime="698">Help. </span> <span class="line" data-startTime="699">Hey. </span></p>

<p class="speaker"><span class="line" data-starttime="703"><span class="speakerName">Pete LePage</span>: So these are &mdash; </span><span class="line" data-startTime="704">[INTERPOSING VOICES] </span></p>

<p class="speaker"><span class="line" data-starttime="705"><span class="speakerName">Pete LePage</span>:  &mdash; these are that </span><span class="line" data-startTime="705">thing that you have to do, </span><span class="line" data-startTime="706">Paul, to initially set your app </span><span class="line" data-startTime="706">up with whatever service </span><span class="line" data-startTime="710">provider if it's using </span><span class="line" data-startTime="710">OAuth 2.0, right? </span></p>

<p class="speaker"><span class="line" data-starttime="712"><span class="speakerName">Paul Kinlan</span>: Yeah, </span><span class="line" data-startTime="712">exactly right. </span> <span class="line" data-startTime="713">So what we've got here </span><span class="line" data-startTime="713">is a client ID. </span> <span class="line" data-startTime="715">This is the thing that you </span><span class="line" data-startTime="715">present to the your </span><span class="line" data-startTime="717">application, client secret </span><span class="line" data-startTime="717">which I will be deleting </span><span class="line" data-startTime="720">pretty much straight away, the </span><span class="line" data-startTime="720">website URL, that's just </span><span class="line" data-startTime="724">basically to prove who you are </span><span class="line" data-startTime="724">essentially, and then the </span><span class="line" data-startTime="726">redirect URL. </span> <span class="line" data-startTime="727">Now the redirect URL is the </span><span class="line" data-startTime="727">thing that Instagram will </span><span class="line" data-startTime="732">redirect you back </span><span class="line" data-startTime="732">to, essentially. </span> <span class="line" data-startTime="735">Let me go back here, if we </span><span class="line" data-startTime="735">can zoom in, the zoom </span><span class="line" data-startTime="739">doesn't work anymore. </span> <span class="line" data-startTime="742">It's a weird URL. </span></p>

<p><span class="line" data-startTime="743">It's not HTTP URL, it's a </span><span class="line" data-startTime="743">Chrome Extension URL. </span></p>

<p class="speaker"><span class="line" data-starttime="745"><span class="speakerName">Pete LePage</span>: Can you just move </span><span class="line" data-startTime="745">that up a little bit, Paul. </span></p>

<p class="speaker"><span class="line" data-starttime="747"><span class="speakerName">Paul Kinlan</span>: Yeah, sure. </span></p>

<p class="speaker"><span class="line" data-starttime="750"><span class="speakerName">Pete LePage</span>: There we go. </span><span class="line" data-startTime="750">That's good, yup. </span></p>

<p class="speaker"><span class="line" data-starttime="751"><span class="speakerName">Paul Kinlan</span>: Cool, so we have </span><span class="line" data-startTime="751">this weird little URL, which </span><span class="line" data-startTime="753">is a Chrome Extension URL, and </span><span class="line" data-startTime="753">this is why we need that </span><span class="line" data-startTime="756">consistent ID. </span><span class="line" data-startTime="756">That thing that we put in the </span><span class="line" data-startTime="756">manifest to generate a nice </span><span class="line" data-startTime="759">ID, that's what we need to be </span><span class="line" data-startTime="759">able to basically send the </span><span class="line" data-startTime="762">user from Instagram back </span><span class="line" data-startTime="762">into our Chrome app. </span></p>

<p class="speaker"><span class="line" data-starttime="765"><span class="speakerName">Pete LePage</span>: Right, so that </span><span class="line" data-startTime="765">redirects into a Chrome app. </span><span class="line" data-startTime="768">So if you think about normally </span><span class="line" data-startTime="768">with a web app you go to a </span><span class="line" data-startTime="771">specific URL, with a Chrome </span><span class="line" data-startTime="771">packaged app, it's URL, even </span><span class="line" data-startTime="776">though it's not visible to the </span><span class="line" data-startTime="776">user ever, is that sort of </span><span class="line" data-startTime="780">Chrome app URL. </span></p>

<p class="speaker"><span class="line" data-starttime="781"><span class="speakerName">Paul Kinlan</span>: Yeah, exactly. </span> <span class="line" data-startTime="783">Yeah, that's right. </span> <span class="line" data-startTime="784">It's just this thing to, </span><span class="line" data-startTime="784">basically, let the other app </span><span class="line" data-startTime="789">return into your application. </span> <span class="line" data-startTime="790">Now, the interesting thing is </span><span class="line" data-startTime="790">that you don't necessarily </span><span class="line" data-startTime="792">have to have a Chrome Extension </span><span class="line" data-startTime="792">URL, it's just that </span><span class="line" data-startTime="797">Instagram have enabled it so </span><span class="line" data-startTime="797">that you can have any kind of </span><span class="line" data-startTime="799">protocol, any scheme. </span> <span class="line" data-startTime="801">We do have a service &mdash; </span><span class="line" data-startTime="803">it's not live and ready for </span><span class="line" data-startTime="803">users or developers to play </span><span class="line" data-startTime="806">with &mdash; where we will host </span><span class="line" data-startTime="806">the redirect URL for the </span><span class="line" data-startTime="810">developer, essentially. </span> <span class="line" data-startTime="811">So it would extension ID dot &mdash; </span><span class="line" data-startTime="812">I think it's chromiumapps.org. </span> <span class="line" data-startTime="815">So you put that in, essentially, </span><span class="line" data-startTime="815">and all that </span><span class="line" data-startTime="818">Chrome's doing behind the </span><span class="line" data-startTime="818">scenes, all the application </span><span class="line" data-startTime="820">framework is doing behind </span><span class="line" data-startTime="820">scenes, is listening out for </span><span class="line" data-startTime="822">either a redirect into its </span><span class="line" data-startTime="822">application using the Chrome </span><span class="line" data-startTime="825">Extension URL, or a redirect </span><span class="line" data-startTime="825">into HTTPS:/ whatever it is. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="833"><span class="speakerName">Pete LePage</span>: OK, so </span><span class="line" data-startTime="833">that way if &mdash; </span><span class="line" data-startTime="834">[INTERPOSING VOICES] </span></p>

<p class="speaker"><span class="line" data-starttime="835"><span class="speakerName">Pete LePage</span>:  &mdash; some third party </span><span class="line" data-startTime="835">provider forces you to </span><span class="line" data-startTime="838">use HTTPS, you can still make it </span><span class="line" data-startTime="838">work because our schema is </span><span class="line" data-startTime="844">Chrome Extension? </span></p>

<p class="speaker"><span class="line" data-starttime="846"><span class="speakerName">Paul Kinlan</span>: Yes, exactly right, </span><span class="line" data-startTime="846">you can make it work </span><span class="line" data-startTime="848">that way, and that's some </span><span class="line" data-startTime="850">infrastructure we'll be providing. </span> <span class="line" data-startTime="854">So let me just quickly </span><span class="line" data-startTime="854">jump out. </span> <span class="line" data-startTime="857">The next thing that we're going </span><span class="line" data-startTime="857">to do after putting the </span><span class="line" data-startTime="860">URL in is this thing </span><span class="line" data-startTime="860">called interactive. </span> <span class="line" data-startTime="864">This is just a special flag </span><span class="line" data-startTime="864">which basically says, should </span><span class="line" data-startTime="868">the browser or should the run </span><span class="line" data-startTime="868">time pop up, a special little </span><span class="line" data-startTime="875">window that you can </span><span class="line" data-startTime="875">control which </span><span class="line" data-startTime="878">presents the login details. </span> <span class="line" data-startTime="879">If you say interactive equals </span><span class="line" data-startTime="879">false, then you won't see </span><span class="line" data-startTime="882">anything on the screen at all. </span> <span class="line" data-startTime="884">Now, the reason why you might </span><span class="line" data-startTime="884">want false is not necessarily </span><span class="line" data-startTime="886">in the OAuth flow, but </span><span class="line" data-startTime="886">if there's some other </span><span class="line" data-startTime="889">authenticating scheme where </span><span class="line" data-startTime="889">you know the user based on </span><span class="line" data-startTime="891">information that they put in </span><span class="line" data-startTime="891">from that URL, maybe it's like </span><span class="line" data-startTime="895">a username-password combination </span><span class="line" data-startTime="896">or some secret token &mdash; </span><span class="line" data-startTime="897">I mean it's a really bad </span><span class="line" data-startTime="897">way of saying it. </span></p>

<p><span class="line" data-startTime="900">You might not always need </span><span class="line" data-startTime="900">this kind of pop up. </span> <span class="line" data-startTime="903">It doesn't make that </span><span class="line" data-startTime="903">much sense. </span> <span class="line" data-startTime="904">You don't need a pop up to </span><span class="line" data-startTime="904">come up to the user to </span><span class="line" data-startTime="905">authenticate them because </span><span class="line" data-startTime="905">they've already presented the </span><span class="line" data-startTime="907">details that they need inside </span><span class="line" data-startTime="907">your application. </span> <span class="line" data-startTime="910">Interactive false will </span><span class="line" data-startTime="910">never do the pop </span><span class="line" data-startTime="912">up, it'll just redirect. </span> <span class="line" data-startTime="913">It'll do the things it needs to </span><span class="line" data-startTime="913">do on this remote server, </span><span class="line" data-startTime="915">and then bring yourself back </span><span class="line" data-startTime="915">in the application once the </span><span class="line" data-startTime="918">redirect's happened. </span> <span class="line" data-startTime="920">So that's all it's doing. </span> <span class="line" data-startTime="922">It's not anything too sexy, but </span><span class="line" data-startTime="922">it's kind of interesting. </span> <span class="line" data-startTime="925">Now, there's not much </span><span class="line" data-startTime="925">to show you. </span></p>

<p><span class="line" data-startTime="926">I could go off and show </span><span class="line" data-startTime="926">you this working. </span> <span class="line" data-startTime="929">It just would not do anything </span><span class="line" data-startTime="929">at the moment because we're </span><span class="line" data-startTime="932">not actually doing the </span><span class="line" data-startTime="932">authentication flow. </span> <span class="line" data-startTime="936">This is the important </span><span class="line" data-startTime="936">piece that you need </span><span class="line" data-startTime="940">in the whole flow. </span> <span class="line" data-startTime="945">This is the API basically where </span><span class="line" data-startTime="945">you go launch web &mdash; </span><span class="line" data-startTime="952">what I'd do for IntelliSense. </span></p>

<p class="speaker"><span class="line" data-starttime="955"><span class="speakerName">Pete LePage</span>: Well, why aren't </span><span class="line" data-startTime="955">you using Sublime or </span><span class="line" data-startTime="956">something like that? </span></p>

<p class="speaker"><span class="line" data-starttime="958"><span class="speakerName">Paul Kinlan</span>: I never got around </span><span class="line" data-startTime="958">to even trying it. </span> <span class="line" data-startTime="960">You get stuck with your favorite </span><span class="line" data-startTime="960">preferred text </span><span class="line" data-startTime="963">editor, which is BIM, and I </span><span class="line" data-startTime="963">don't even have any sensible </span><span class="line" data-startTime="965">defaults in this one either. </span> <span class="line" data-startTime="967">Brand new machine. </span> <span class="line" data-startTime="969">But this is it, right? </span><span class="line" data-startTime="971">Let's see if this works, </span><span class="line" data-startTime="971">console.log, URL, sorry. </span> <span class="line" data-startTime="979">So what happens here </span><span class="line" data-startTime="979">is that we have the </span><span class="line" data-startTime="982">chrome.experimental.identity </span><span class="line" data-startTime="982">object namespace, </span><span class="line" data-startTime="986">launchWebAuthFlow is the </span><span class="line" data-startTime="986">method that we call. </span> <span class="line" data-startTime="988">We pass in the details of the </span><span class="line" data-startTime="988">thing that we want to call, so </span><span class="line" data-startTime="991">the ID object, which is </span><span class="line" data-startTime="991">basically the information </span><span class="line" data-startTime="994">about Instagram, and </span><span class="line" data-startTime="994">then a call back. </span> <span class="line" data-startTime="997">The interesting thing about this </span><span class="line" data-startTime="997">is the parameter in the </span><span class="line" data-startTime="1000">callback that you'll receive </span><span class="line" data-startTime="1000">once authentication is </span><span class="line" data-startTime="1002">successful is a URL. </span> <span class="line" data-startTime="1005">Now, you might think that's a </span><span class="line" data-startTime="1005">little bit weird, but actually </span><span class="line" data-startTime="1006">what happens is, especially in </span><span class="line" data-startTime="1006">the OAuth flow, is that the </span><span class="line" data-startTime="1009">URL contains normally the </span><span class="line" data-startTime="1009">authentication token &mdash; </span><span class="line" data-startTime="1016">sorry, not the authentication </span><span class="line" data-startTime="1016">token, the access token. </span> <span class="line" data-startTime="1018">But it must also include some </span><span class="line" data-startTime="1018">things like a session ID or </span><span class="line" data-startTime="1021">whatever you need to basically </span><span class="line" data-startTime="1021">have access to the user's </span><span class="line" data-startTime="1027">object store at least. </span></p>

<p><span class="line" data-startTime="1028">So right, should we try </span><span class="line" data-startTime="1028">and give this a go? </span></p>

<p class="speaker"><span class="line" data-starttime="1031"><span class="speakerName">Pete LePage</span>: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="1032"><span class="speakerName">Paul Kinlan</span>: Yay. </span><span class="line" data-startTime="1033">We don't need Insta &mdash; </span><span class="line" data-startTime="1034">we might need Instagram, </span><span class="line" data-startTime="1034">actually. </span><span class="line" data-startTime="1035">Let me just edit this, because </span><span class="line" data-startTime="1035">we do actually have a new </span><span class="line" data-startTime="1042">extension ID. </span><span class="line" data-startTime="1044">This is what we've been talking </span><span class="line" data-startTime="1044">about is where- I </span><span class="line" data-startTime="1049">think the extension ID which </span><span class="line" data-startTime="1049">is here at the bottom. </span><span class="line" data-startTime="1051">You can't really see it </span><span class="line" data-startTime="1051">probably, but on our </span><span class="line" data-startTime="1053">authentication, it's got </span><span class="line" data-startTime="1053">a unique identifier. </span><span class="line" data-startTime="1057">I'm going to just put that in </span><span class="line" data-startTime="1057">there for the description, and </span><span class="line" data-startTime="1060">the redirect URL is going </span><span class="line" data-startTime="1060">in the back into my app. </span><span class="line" data-startTime="1063">I'm going update the client. </span><span class="line" data-startTime="1067">And away we go. </span><span class="line" data-startTime="1068">So step one, if this all </span><span class="line" data-startTime="1068">works, reload app. </span><span class="line" data-startTime="1075">Here's our code. </span><span class="line" data-startTime="1077">So let me go back there so </span><span class="line" data-startTime="1077">you can see the screen. </span></p>

<p class="speaker"><span class="line" data-starttime="1082"><span class="speakerName">Pete LePage</span>: And as a reminder </span><span class="line" data-startTime="1082">for folks, as they're watching </span><span class="line" data-startTime="1084">this, if you have questions, if </span><span class="line" data-startTime="1084">you're curious about some </span><span class="line" data-startTime="1086">of the things that are going on, </span><span class="line" data-startTime="1086">please post your questions </span><span class="line" data-startTime="1088">to our Google Moderator page. </span><span class="line" data-startTime="1090">The link is right there </span><span class="line" data-startTime="1090">on screen right now. </span></p>

<p class="speaker"><span class="line" data-starttime="1096"><span class="speakerName">Paul Kinlan</span>: Hey, </span><span class="line" data-startTime="1096">so here we go. </span><span class="line" data-startTime="1097">So what's happened here is </span><span class="line" data-startTime="1097">essentially we've gone through </span><span class="line" data-startTime="1099">part of the OAuth flow and the </span><span class="line" data-startTime="1099">redirect URL of my extension </span><span class="line" data-startTime="1106">doesn't match what is supposed </span><span class="line" data-startTime="1106">to be registered. </span><span class="line" data-startTime="1108">So let me go back, I think I </span><span class="line" data-startTime="1108">know what the problem is. </span></p>

<p class="speaker"><span class="line" data-starttime="1113"><span class="speakerName">Pete LePage</span>: So this is the </span><span class="line" data-startTime="1113">particular case where our app, </span><span class="line" data-startTime="1119">when we say, hey, we want </span><span class="line" data-startTime="1119">to authenticate against </span><span class="line" data-startTime="1120">something, we have to give it </span><span class="line" data-startTime="1120">where we want to redirect to. </span><span class="line" data-startTime="1125">And on the Instagram side, the </span><span class="line" data-startTime="1125">store where they think we want </span><span class="line" data-startTime="1132">to redirect to. </span><span class="line" data-startTime="1133">And so we make sure &mdash; </span><span class="line" data-startTime="1135">I'm covering myself with </span><span class="line" data-startTime="1135">the little image </span><span class="line" data-startTime="1136">there, there we go &mdash; </span><span class="line" data-startTime="1137">so they make sure that both </span><span class="line" data-startTime="1137">of those are identical. </span><span class="line" data-startTime="1141">And if they're not identical, </span><span class="line" data-startTime="1141">they say, oh, screw you, got </span><span class="line" data-startTime="1144">to go, get out of here, we're </span><span class="line" data-startTime="1144">not going to actually work. </span></p>

<p class="speaker"><span class="line" data-starttime="1148"><span class="speakerName">Paul Kinlan</span>: Yup, exactly. </span><span class="line" data-startTime="1149">Basically what's happened is </span><span class="line" data-startTime="1149">I've constructed the wrong URL </span><span class="line" data-startTime="1151">inside my request. </span><span class="line" data-startTime="1153">Because the extension ID changed </span><span class="line" data-startTime="1153">between me testing </span><span class="line" data-startTime="1155">this and me actually just </span><span class="line" data-startTime="1155">updating the variables before. </span><span class="line" data-startTime="1159">So if all works well &mdash; </span><span class="line" data-startTime="1163">let's get rid of, no, </span><span class="line" data-startTime="1163">the new tab is fine, </span><span class="line" data-startTime="1165">developers tool is fine. </span><span class="line" data-startTime="1167">Reload app and I'm really </span><span class="line" data-startTime="1167">nervous now because if this </span><span class="line" data-startTime="1173">doesn't work then &mdash; </span><span class="line" data-startTime="1179">there we go, right. </span><span class="line" data-startTime="1180">So we've got the URL. </span><span class="line" data-startTime="1183">Now, what actually happened </span><span class="line" data-startTime="1183">here is I've been </span><span class="line" data-startTime="1185">a little bit sneaky. </span><span class="line" data-startTime="1187">Not too sneaky, because I'm </span><span class="line" data-startTime="1187">already logged into Instagram </span><span class="line" data-startTime="1190">so let me log out. </span></p>

<p class="speaker"><span class="line" data-starttime="1199"><span class="speakerName">Pete LePage</span>: So you didn't see </span><span class="line" data-startTime="1199">anything pop up or anything </span><span class="line" data-startTime="1202">like that because you're </span><span class="line" data-startTime="1202">already logged in and </span><span class="line" data-startTime="1204">Instagram said oh hey, you're </span><span class="line" data-startTime="1204">already logged in, we know who </span><span class="line" data-startTime="1206">this guy is, feel free to &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1208"><span class="speakerName">Paul Kinlan</span>: Yeah, exactly. </span><span class="line" data-startTime="1209">That is exactly right. </span><span class="line" data-startTime="1209">So Instagram knew I was already </span><span class="line" data-startTime="1209">logged in, so all they </span><span class="line" data-startTime="1211">said was cool, you're logged in, </span><span class="line" data-startTime="1211">redirect back to the app </span><span class="line" data-startTime="1214">and away you go. </span><span class="line" data-startTime="1215">So if this works, we'll </span><span class="line" data-startTime="1215">do the log in there. </span></p>

<p class="speaker"><span class="line" data-starttime="1216"><span class="speakerName">Pete LePage</span>: So now we get that </span><span class="line" data-startTime="1216">dialog that pops up that </span><span class="line" data-startTime="1220">asks us to log in. </span><span class="line" data-startTime="1222">This is this interactive </span><span class="line" data-startTime="1222">dialogue that you were talking </span><span class="line" data-startTime="1224">about before. </span><span class="line" data-startTime="1224">So if you had set that </span><span class="line" data-startTime="1224">interactive to false, this </span><span class="line" data-startTime="1227">thing wouldn't pop up, </span><span class="line" data-startTime="1227">and we wouldn't be </span><span class="line" data-startTime="1229">able to log in, correct? </span></p>

<p class="speaker"><span class="line" data-starttime="1231"><span class="speakerName">Paul Kinlan</span>: Yes, exactly. </span> <span class="line" data-startTime="1233">So the interesting thing here </span><span class="line" data-startTime="1233">as well is that, actually, </span><span class="line" data-startTime="1236">what's happened is that we've </span><span class="line" data-startTime="1236">got a full screen window as </span><span class="line" data-startTime="1239">well, pretty much. </span> <span class="line" data-startTime="1240">You, as the application </span><span class="line" data-startTime="1240">developer, can control the </span><span class="line" data-startTime="1243">size of the window and the </span><span class="line" data-startTime="1243">position, so if you wanted it </span><span class="line" data-startTime="1246">to pop up in the middle of your </span><span class="line" data-startTime="1246">screen and just small and </span><span class="line" data-startTime="1248">tight, you can do that. </span> <span class="line" data-startTime="1250">So we offer that, certainly. </span> <span class="line" data-startTime="1253">And we go back, let's have </span><span class="line" data-startTime="1253">a look at the code. </span> <span class="line" data-startTime="1255">There we go. </span> <span class="line" data-startTime="1256">So we've got this URL. </span> <span class="line" data-startTime="1257">So basically what's happened is </span><span class="line" data-startTime="1257">we look at the JavaScript &mdash; </span><span class="line" data-startTime="1263">let me hide that. </span> <span class="line" data-startTime="1264">We've gone into this call back </span><span class="line" data-startTime="1264">here with the URL being passed </span><span class="line" data-startTime="1268">back in and now we've got the </span><span class="line" data-startTime="1268">ability to do some extra </span><span class="line" data-startTime="1271">little bits and pieces of magic, </span><span class="line" data-startTime="1271">essentially, because we </span><span class="line" data-startTime="1273">now have the access token. </span></p>

<p><span class="line" data-startTime="1274">The access token, as you can </span><span class="line" data-startTime="1274">see it here, is in the </span><span class="line" data-startTime="1278">document fragment at </span><span class="line" data-startTime="1278">the end of the URL. </span> <span class="line" data-startTime="1282">So should we try and do </span><span class="line" data-startTime="1282">something nice with the </span><span class="line" data-startTime="1284">Instagram API just to prove </span><span class="line" data-startTime="1284">that's it worked? </span><span class="line" data-startTime="1285">We've authenticated, </span><span class="line" data-startTime="1285">but we don't know </span><span class="line" data-startTime="1287">actually if it works. </span></p>

<p class="speaker"><span class="line" data-starttime="1288"><span class="speakerName">Pete LePage</span>: Yeah, let's. </span></p>

<p class="speaker"><span class="line" data-starttime="1289"><span class="speakerName">Paul Kinlan</span>: Here we go, cool. </span><span class="line" data-startTime="1291">So there's going to be a little </span><span class="line" data-startTime="1291">bit of code which might </span><span class="line" data-startTime="1294">not look like it makes sense to </span><span class="line" data-startTime="1294">start off with, but I know </span><span class="line" data-startTime="1296">you're all smart and you'll be </span><span class="line" data-startTime="1296">able to pick it up, even if I </span><span class="line" data-startTime="1299">don't explain it very well. </span><span class="line" data-startTime="1300">So let's make a variable </span><span class="line" data-startTime="1300">called access token. </span><span class="line" data-startTime="1304">We know the access token is on </span><span class="line" data-startTime="1304">the URL, it'll pass back in. </span><span class="line" data-startTime="1308">So we'll just do a sub </span><span class="line" data-startTime="1308">string URL.index of &mdash; </span><span class="line" data-startTime="1317">oh, dear. </span><span class="line" data-startTime="1317">Sorry. </span><span class="line" data-startTime="1319">What is it? </span><span class="line" data-startTime="1320">It was the hash sign, </span><span class="line" data-startTime="1320">or the pound sign </span><span class="line" data-startTime="1322">as you say in America. </span><span class="line" data-startTime="1324">Is that what you say </span><span class="line" data-startTime="1324">in America, pound? </span></p>

<p class="speaker"><span class="line" data-starttime="1325"><span class="speakerName">Pete LePage</span>: Pound, </span><span class="line" data-startTime="1325">hash, number sign. </span></p>

<p class="speaker"><span class="line" data-starttime="1329"><span class="speakerName">Paul Kinlan</span>: Number sign. </span><span class="line" data-startTime="1329">Well, there we go. </span><span class="line" data-startTime="1330">So basically, what we've done is </span><span class="line" data-startTime="1330">we've been really not that </span><span class="line" data-startTime="1335">robust at all in the sense that </span><span class="line" data-startTime="1335">this will fall over if </span><span class="line" data-startTime="1338">you try to use this </span><span class="line" data-startTime="1338">in production. </span></p>

<p class="speaker"><span class="line" data-starttime="1340"><span class="speakerName">Pete LePage</span>: So I was going to </span><span class="line" data-startTime="1340">ask what happens if I were to </span><span class="line" data-startTime="1344">either provide a bad password </span><span class="line" data-startTime="1344">and it didn't let me log in or </span><span class="line" data-startTime="1347">if maybe I was offline, there </span><span class="line" data-startTime="1347">was no connection? </span></p>

<p class="speaker"><span class="line" data-starttime="1352"><span class="speakerName">Paul Kinlan</span>: So actually, </span><span class="line" data-startTime="1352">I've never actually </span><span class="line" data-startTime="1353">tested it with offline. </span> <span class="line" data-startTime="1356">The thing that's happened in the </span><span class="line" data-startTime="1356">past generally is that the </span><span class="line" data-startTime="1358">URL would be blank. </span> <span class="line" data-startTime="1359">Basically a null </span><span class="line" data-startTime="1359">and undefined. </span> <span class="line" data-startTime="1361">So if you get the point where </span><span class="line" data-startTime="1361">it's null undefined, then it </span><span class="line" data-startTime="1365">won't work. </span> <span class="line" data-startTime="1365">But if your offline, the weird </span><span class="line" data-startTime="1365">thing is it only really ever </span><span class="line" data-startTime="1370">fires when there's a redirect </span><span class="line" data-startTime="1370">back into app, so it's kind of </span><span class="line" data-startTime="1372">like you could be hanging </span><span class="line" data-startTime="1372">around waiting. </span> <span class="line" data-startTime="1374">It might make sense to have some </span><span class="line" data-startTime="1374">more unsuccess, unfailure </span><span class="line" data-startTime="1379">methods, because you want to </span><span class="line" data-startTime="1379">know where log ins failed, on </span><span class="line" data-startTime="1382">one side and not the other. </span> <span class="line" data-startTime="1384">So if anyone wants to provide </span><span class="line" data-startTime="1384">that feedback more publicly &mdash; </span><span class="line" data-startTime="1388">I can do it, whatever you </span><span class="line" data-startTime="1388">want to, it's cool. </span> <span class="line" data-startTime="1393">So this is a little something </span><span class="line" data-startTime="1393">I learned off [? Mehi ?] </span><span class="line" data-startTime="1395">[? Paparita, ?] </span><span class="line" data-startTime="1396">who is no longer with us. </span> <span class="line" data-startTime="1400">He is no longer with </span><span class="line" data-startTime="1400">the Chrome team. </span></p>

<p><span class="line" data-startTime="1402">I think he's working for </span><span class="line" data-startTime="1402">someone else now. </span> <span class="line" data-startTime="1404">He made a nice little API </span><span class="line" data-startTime="1404">wrapper around Foursquare, and </span><span class="line" data-startTime="1408">so I've done the same type of </span><span class="line" data-startTime="1408">thing here where I've made an </span><span class="line" data-startTime="1410">Instagram API. </span> <span class="line" data-startTime="1411">It's not going to do too much, </span><span class="line" data-startTime="1411">but it's just going to </span><span class="line" data-startTime="1413">basically make it a little bit </span><span class="line" data-startTime="1413">easier to make requests, make </span><span class="line" data-startTime="1417">it a little bit more </span><span class="line" data-startTime="1417">sane if you want </span><span class="line" data-startTime="1419">to call more functions. </span> <span class="line" data-startTime="1421">So this is our request </span><span class="line" data-startTime="1421">method, arguments. </span> <span class="line" data-startTime="1426">So it's going to look very bad </span><span class="line" data-startTime="1426">when you see it because I </span><span class="line" data-startTime="1427">don't actually use arguments, </span><span class="line" data-startTime="1427">but here we go. </span></p>

<p class="speaker"><span class="line" data-starttime="1432"><span class="speakerName">Pete LePage</span>: So, Paul, </span><span class="line" data-startTime="1432">one just quick &mdash; </span><span class="line" data-startTime="1434">yup, you got it. </span><span class="line" data-startTime="1434">Never mind. </span></p>

<p class="speaker"><span class="line" data-starttime="1437"><span class="speakerName">Paul Kinlan</span>: So xhr= new XML &mdash; </span><span class="line" data-startTime="1441">I never get that, there we are, </span><span class="line" data-startTime="1441">that's the right one. </span> <span class="line" data-startTime="1447">And now all we're doing is, </span><span class="line" data-startTime="1447">and I'll show you why I'm </span><span class="line" data-startTime="1452">doing this in a minute actually, </span><span class="line" data-startTime="1452">but we're just </span><span class="line" data-startTime="1453">making it so that we can </span><span class="line" data-startTime="1453">make xhr requests. </span> <span class="line" data-startTime="1456">And we'll call the call back </span><span class="line" data-startTime="1456">with some xhr.response. </span> <span class="line" data-startTime="1467">There we are. </span> <span class="line" data-startTime="1470">Just like that. </span> <span class="line" data-startTime="1470">It's not doing too </span><span class="line" data-startTime="1470">much just yet. </span> <span class="line" data-startTime="1474">Xhr.open, it's a get request </span><span class="line" data-startTime="1474">at the moment. </span> <span class="line" data-startTime="1479">Obviously this API was to be </span><span class="line" data-startTime="1479">fleshed out a little bit more. </span> <span class="line" data-startTime="1483">You might want to do posts, when </span><span class="line" data-startTime="1483">you're posting data, but </span><span class="line" data-startTime="1485">I'm not doing that just yet. </span></p>

<p><span class="line" data-startTime="1486">Instagram.com/v1 if I am </span><span class="line" data-startTime="1486">remembering correctly. </span> <span class="line" data-startTime="1493">And then the way that they do </span><span class="line" data-startTime="1493">the methods is that they'll </span><span class="line" data-startTime="1495">have a /user, /fetch, all </span><span class="line" data-startTime="1495">those type of things. </span> <span class="line" data-startTime="1503">I tell you now, this does not </span><span class="line" data-startTime="1503">look very sexy at the moment. </span></p>

<p class="speaker"><span class="line" data-starttime="1506"><span class="speakerName">Pete LePage</span>: Well, you know </span><span class="line" data-startTime="1506">what, it'll be sexy when you </span><span class="line" data-startTime="1509">make it work. </span></p>

<p class="speaker"><span class="line" data-starttime="1510"><span class="speakerName">Paul Kinlan</span>: Yes, it's </span><span class="line" data-startTime="1510">going to be cool. </span> <span class="line" data-startTime="1511">So I'm just going to move it </span><span class="line" data-startTime="1511">up a little bit so just in </span><span class="line" data-startTime="1513">case people can't see it. </span> <span class="line" data-startTime="1519">Access token, right, it's going </span><span class="line" data-startTime="1519">to be asynchronous so we </span><span class="line" data-startTime="1522">don't need to put anything in. </span> <span class="line" data-startTime="1524">xhr.send. </span> <span class="line" data-startTime="1526">There we go. </span> <span class="line" data-startTime="1529">That's it, so cool. </span> <span class="line" data-startTime="1534">And I'm going to leave a bug </span><span class="line" data-startTime="1534">in, and see if anyone spots </span><span class="line" data-startTime="1537">what is once we get to it. </span> <span class="line" data-startTime="1538">New Instagram. </span> <span class="line" data-startTime="1539">So we're going to call </span><span class="line" data-startTime="1539">Instagram now. </span> <span class="line" data-startTime="1541">Instagram, with the access </span><span class="line" data-startTime="1541">token in the constructor, </span><span class="line" data-startTime="1546">because we're going to use </span><span class="line" data-startTime="1546">that for our method call. </span></p>

<p><span class="line" data-startTime="1549">api.request("use </span><span class="line" data-startTime="1549">rs/self/fetch"). </span> <span class="line" data-startTime="1558">Oh, no it's not, it's "feed", </span><span class="line" data-startTime="1558">undefined, So I can't design </span><span class="line" data-startTime="1564">APIs to save my life, that </span><span class="line" data-startTime="1564">shouldn't even exist, but </span><span class="line" data-startTime="1566">there we go. </span> <span class="line" data-startTime="1568">I thought it would be a good </span><span class="line" data-startTime="1568">idea that when I was designing </span><span class="line" data-startTime="1569">this Instagram API to </span><span class="line" data-startTime="1569">put an undefined in. </span> <span class="line" data-startTime="1574">Console.log(data). </span> <span class="line" data-startTime="1581">What else can we do? </span><span class="line" data-startTime="1582">Output. </span> <span class="line" data-startTime="1583">So output is the dump element, </span><span class="line" data-startTime="1583">which is the pre &mdash; the thing </span><span class="line" data-startTime="1587">we showed earlier on today. </span> <span class="line" data-startTime="1589">The JSON.stringify &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1594"><span class="speakerName">Pete LePage</span>: I like the </span><span class="line" data-startTime="1594">"strongify", that would be </span><span class="line" data-startTime="1596">kind of cool. </span><span class="line" data-startTime="1597">I want to make it so strong. </span><span class="line" data-startTime="1598">[ROARING] </span></p>

<p class="speaker"><span class="line" data-starttime="1599"><span class="speakerName">Paul Kinlan</span>: OK, so stringify. </span><span class="line" data-startTime="1601">And then last week I learned </span><span class="line" data-startTime="1601">that this exists. </span><span class="line" data-startTime="1604">You put "null, 4". </span><span class="line" data-startTime="1607">It will use taps or I think, </span><span class="line" data-startTime="1607">four spaces and pretty print </span><span class="line" data-startTime="1611">the JSON object. </span><span class="line" data-startTime="1613">Did not know that </span><span class="line" data-startTime="1613">last week, and I </span><span class="line" data-startTime="1615">learned it just for this. </span></p>

<p class="speaker"><span class="line" data-starttime="1618"><span class="speakerName">Pete LePage</span>: And this is </span><span class="line" data-startTime="1618">available in Chrome? </span></p>

<p class="speaker"><span class="line" data-starttime="1620"><span class="speakerName">Paul Kinlan</span>: I think it's just </span><span class="line" data-startTime="1620">generally available in the </span><span class="line" data-startTime="1622">APIs, so Chrome, Firefox, </span><span class="line" data-startTime="1622">and other browsers. </span><span class="line" data-startTime="1628">Should we see if this works? </span></p>

<p class="speaker"><span class="line" data-starttime="1629"><span class="speakerName">Pete LePage</span>: Let's reload our </span><span class="line" data-startTime="1629">app and see if it works. </span></p>

<p class="speaker"><span class="line" data-starttime="1631"><span class="speakerName">Paul Kinlan</span>: Reload it. </span><span class="line" data-startTime="1632">Let's get some source </span><span class="line" data-startTime="1632">control &mdash; </span><span class="line" data-startTime="1634">source control? </span><span class="line" data-startTime="1636">Source view on. </span><span class="line" data-startTime="1639">I've already spotted </span><span class="line" data-startTime="1639">the mistake. </span><span class="line" data-startTime="1641">Did anyone pick it up? </span></p>

<p class="speaker"><span class="line" data-starttime="1644"><span class="speakerName">Pete LePage</span>: Nobody picked it up </span><span class="line" data-startTime="1644">in any of the comments that </span><span class="line" data-startTime="1646">I'm seeing, and nobody's posted </span><span class="line" data-startTime="1646">it in the questions. </span><span class="line" data-startTime="1649">So, I don't know. </span></p>

<p class="speaker"><span class="line" data-starttime="1652"><span class="speakerName">Paul Kinlan</span>: There we go. </span><span class="line" data-startTime="1652">Reload. </span><span class="line" data-startTime="1654">Inspect element. </span><span class="line" data-startTime="1655">That's how live this is. </span></p>

<p class="speaker"><span class="line" data-starttime="1657"><span class="speakerName">Pete LePage</span>: Got to love </span><span class="line" data-startTime="1657">live broadcasts. </span></p>

<p class="speaker"><span class="line" data-starttime="1660"><span class="speakerName">Paul Kinlan</span>: Let's move </span><span class="line" data-startTime="1660">this up there. </span><span class="line" data-startTime="1663">A little hint for everyone, if </span><span class="line" data-startTime="1663">you create a window, give it </span><span class="line" data-startTime="1666">an ID, and then it will stick. </span><span class="line" data-startTime="1669">It will stay stuck in the place </span><span class="line" data-startTime="1669">that you last left it, </span><span class="line" data-startTime="1671">rather than what I have to </span><span class="line" data-startTime="1671">do, which is just reload </span><span class="line" data-startTime="1673">this all the time. </span><span class="line" data-startTime="1675">So let's put one in there so </span><span class="line" data-startTime="1675">we know that we're going to </span><span class="line" data-startTime="1676">get the token back. </span><span class="line" data-startTime="1679">method, access token, </span><span class="line" data-startTime="1679">access token. </span><span class="line" data-startTime="1681">Spelling is all correct. </span><span class="line" data-startTime="1683">Callback. </span><span class="line" data-startTime="1683">We'll just put it in </span><span class="line" data-startTime="1683">there just so we </span><span class="line" data-startTime="1685">can see what happens. </span><span class="line" data-startTime="1687">Login. </span><span class="line" data-startTime="1688">Hello. </span><span class="line" data-startTime="1689">Right. </span><span class="line" data-startTime="1689">So we know we've got the access </span><span class="line" data-startTime="1689">token, that works. </span><span class="line" data-startTime="1692">Oo, oo, oo, oo, another bug. </span></p>

<p class="speaker"><span class="line" data-starttime="1696"><span class="speakerName">Pete LePage</span>: And somebody just </span><span class="line" data-startTime="1696">said, and I don't know if this </span><span class="line" data-startTime="1700">is his suggestion on what your </span><span class="line" data-startTime="1700">bug is, but is it Instagram </span><span class="line" data-startTime="1704">API as the &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1707"><span class="speakerName">Paul Kinlan</span>: Yeah, he just saw </span><span class="line" data-startTime="1707">me type that out, man. </span><span class="line" data-startTime="1712">There's another one. </span><span class="line" data-startTime="1712">But we fixed it, we spotted </span><span class="line" data-startTime="1712">it, reload app. </span><span class="line" data-startTime="1716">There we go. </span><span class="line" data-startTime="1718">So the bug we just had then a </span><span class="line" data-startTime="1718">second ago was I was looking </span><span class="line" data-startTime="1720">at the wrong part of the URL </span><span class="line" data-startTime="1720">string to actually parse out </span><span class="line" data-startTime="1722">the access token. </span><span class="line" data-startTime="1725">So here we go, boom, great. </span><span class="line" data-startTime="1727">We have an access token, </span><span class="line" data-startTime="1727">looks nice. </span><span class="line" data-startTime="1732">We're going to do the request. </span><span class="line" data-startTime="1734">Yeah, that looks OK. </span><span class="line" data-startTime="1737">Data, right, so &mdash; </span><span class="line" data-startTime="1739">oh, there's an error. </span><span class="line" data-startTime="1742">Oh man, what's that errors? </span><span class="line" data-startTime="1743">Can you see that there? </span><span class="line" data-startTime="1744">Is it visible on the screen? </span></p>

<p class="speaker"><span class="line" data-starttime="1746"><span class="speakerName">Pete LePage</span>: It's visible </span><span class="line" data-startTime="1746">on screen. </span></p>

<p class="speaker"><span class="line" data-starttime="1748"><span class="speakerName">Paul Kinlan</span>: So could not </span><span class="line" data-startTime="1748">load api.instagram.com. </span><span class="line" data-startTime="1752">Damn. </span><span class="line" data-startTime="1752">Well luckily, I know what that </span><span class="line" data-startTime="1752">is because that was the bug I </span><span class="line" data-startTime="1755">purposefully left in. </span></p>

<p class="speaker"><span class="line" data-starttime="1757"><span class="speakerName">Pete LePage</span>: All right, </span><span class="line" data-startTime="1757">we like it when we </span><span class="line" data-startTime="1758">have purpose bug. </span></p>

<p class="speaker"><span class="line" data-starttime="1759"><span class="speakerName">Paul Kinlan</span>: So obviously, the </span><span class="line" data-startTime="1759">thing that we're doing with </span><span class="line" data-startTime="1760">all these APIs is that we need </span><span class="line" data-startTime="1760">to basically ask the </span><span class="line" data-startTime="1764">permission to access </span><span class="line" data-startTime="1764">any arbitrary URL. </span><span class="line" data-startTime="1768">So we're going to basically say, </span><span class="line" data-startTime="1768">let me do the install and </span><span class="line" data-startTime="1771">reload, can I get access </span><span class="line" data-startTime="1771">to api.instagram.com? </span><span class="line" data-startTime="1776">So let's go back, get </span><span class="line" data-startTime="1776">to our extensions. </span></p>

<p class="speaker"><span class="line" data-starttime="1778"><span class="speakerName">Pete LePage</span>: So now that's going </span><span class="line" data-startTime="1778">to say, this app can </span><span class="line" data-startTime="1781">access that particular </span><span class="line" data-startTime="1781">set of URLs. </span></p>

<p class="speaker"><span class="line" data-starttime="1784"><span class="speakerName">Paul Kinlan</span>: Yeah, so when the </span><span class="line" data-startTime="1784">store integration all works </span><span class="line" data-startTime="1787">and everything, the user will </span><span class="line" data-startTime="1787">be asked at install time </span><span class="line" data-startTime="1791">whether they allow access to </span><span class="line" data-startTime="1791">that URL, essentially, which </span><span class="line" data-startTime="1795">is pretty nice. </span><span class="line" data-startTime="1796">It gives the user some </span><span class="line" data-startTime="1796">confidence about what the </span><span class="line" data-startTime="1798">application is doing. </span><span class="line" data-startTime="1801">Yeah, I was going to say you </span><span class="line" data-startTime="1801">can't normally access &mdash; </span><span class="line" data-startTime="1803">for instance, I can't access </span><span class="line" data-startTime="1803">Twitter right now inside this </span><span class="line" data-startTime="1805">application. </span><span class="line" data-startTime="1805">I can only access Instagram </span><span class="line" data-startTime="1805">because the </span><span class="line" data-startTime="1807">user's granted access. </span></p>

<p class="speaker"><span class="line" data-starttime="1809"><span class="speakerName">Pete LePage</span>: And as a user, you </span><span class="line" data-startTime="1809">know that you're not going </span><span class="line" data-startTime="1811">to have some other app going </span><span class="line" data-startTime="1811">and sending your data to </span><span class="line" data-startTime="1814">places where you don't </span><span class="line" data-startTime="1814">expect it to go. </span><span class="line" data-startTime="1816">You know your data is being </span><span class="line" data-startTime="1816">handled responsibly. </span></p>

<p class="speaker"><span class="line" data-starttime="1820"><span class="speakerName">Paul Kinlan</span>: Here we </span><span class="line" data-startTime="1820">go, look at this. </span> <span class="line" data-startTime="1822">So the API request </span><span class="line" data-startTime="1822">has come back in. </span> <span class="line" data-startTime="1825">The JSON object, it's </span><span class="line" data-startTime="1825">just a string at the </span><span class="line" data-startTime="1829">moment, has come back. </span> <span class="line" data-startTime="1832">We will press play and &mdash; </span><span class="line" data-startTime="1838">it doesn't look as nice </span><span class="line" data-startTime="1838">as it did in my demo, </span><span class="line" data-startTime="1840">but there we are. </span> <span class="line" data-startTime="1844">I think I generally know </span><span class="line" data-startTime="1844">what the problem is. </span> <span class="line" data-startTime="1846">The response type has </span><span class="line" data-startTime="1846">come back and it's </span><span class="line" data-startTime="1849">not recognized its &mdash; </span><span class="line" data-startTime="1851">it should though. </span> <span class="line" data-startTime="1855">Well anyway, it doesn't </span><span class="line" data-startTime="1855">really matter. </span> <span class="line" data-startTime="1857">You have to trust me that </span><span class="line" data-startTime="1857">this is a JSON object. </span> <span class="line" data-startTime="1859">It is. </span> <span class="line" data-startTime="1859">Looks well, nice, and sexy. </span> <span class="line" data-startTime="1861">And that's it. </span> <span class="line" data-startTime="1863">That was basically </span><span class="line" data-startTime="1863">authenticating against </span><span class="line" data-startTime="1865">Instagram, and being able to </span><span class="line" data-startTime="1865">query it, with a get request </span><span class="line" data-startTime="1869">admittedly. </span></p>

<p><span class="line" data-startTime="1870">You could change it to a post </span><span class="line" data-startTime="1870">request and things should </span><span class="line" data-startTime="1872">still work. </span> <span class="line" data-startTime="1872">As long as you've got access </span><span class="line" data-startTime="1872">to the access token, you </span><span class="line" data-startTime="1875">should be able to do the things </span><span class="line" data-startTime="1875">that you need to do </span><span class="line" data-startTime="1878">inside your APIs. </span> <span class="line" data-startTime="1880">This isn't just restricted to </span><span class="line" data-startTime="1880">Instagram, obviously things </span><span class="line" data-startTime="1882">like Twitter, anything that </span><span class="line" data-startTime="1882">sports OAuth 2.0 generally </span><span class="line" data-startTime="1885">should work. </span> <span class="line" data-startTime="1886">And the really nice thing about </span><span class="line" data-startTime="1886">this is the actual &mdash; if </span><span class="line" data-startTime="1888">we go back to the code for </span><span class="line" data-startTime="1888">just two seconds &mdash; </span><span class="line" data-startTime="1892">the actual core, the core logic </span><span class="line" data-startTime="1892">is constructing the </span><span class="line" data-startTime="1895">variables itself, the things </span><span class="line" data-startTime="1895">that you want to call and how </span><span class="line" data-startTime="1897">you want to call it, and then </span><span class="line" data-startTime="1897">the final thing is the </span><span class="line" data-startTime="1900">experimental.ide </span><span class="line" data-startTime="1900">ntity.launchWebAuthFlow. </span> <span class="line" data-startTime="1904">And that's the brunt of the API, </span><span class="line" data-startTime="1904">and we didn't have that </span><span class="line" data-startTime="1909">many servers in place to do </span><span class="line" data-startTime="1909">anything, we just called it. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="1911"><span class="speakerName">Pete LePage</span>: We were able to go </span><span class="line" data-startTime="1911">in and grab somebody else's </span><span class="line" data-startTime="1914">service, and start pulling </span><span class="line" data-startTime="1914">stuff down, and </span><span class="line" data-startTime="1917">into our own app. </span></p>

<p class="speaker"><span class="line" data-starttime="1918"><span class="speakerName">Paul Kinlan</span>: Yes, exactly. </span><span class="line" data-startTime="1920">It's pretty interesting, </span><span class="line" data-startTime="1920">it's pretty exciting. </span><span class="line" data-startTime="1922">We've only just kind of, me in </span><span class="line" data-startTime="1922">particular, has only just </span><span class="line" data-startTime="1925">really started playing </span><span class="line" data-startTime="1925">with this against </span><span class="line" data-startTime="1926">other external services. </span><span class="line" data-startTime="1928">But I've seen people in </span><span class="line" data-startTime="1928">hackathons update these, call </span><span class="line" data-startTime="1931">these different services and </span><span class="line" data-startTime="1931">just start to use the identity </span><span class="line" data-startTime="1935">API pretty quickly. </span><span class="line" data-startTime="1938">Obviously, we'll have more </span><span class="line" data-startTime="1938">information about the Google </span><span class="line" data-startTime="1940">authentication against </span><span class="line" data-startTime="1940">individual </span><span class="line" data-startTime="1942">services at a later date. </span><span class="line" data-startTime="1944">We'll do a Hangout around </span><span class="line" data-startTime="1944">that as well. </span><span class="line" data-startTime="1945">That's actually pretty </span><span class="line" data-startTime="1945">interesting as well. </span></p>

<p class="speaker"><span class="line" data-starttime="1947"><span class="speakerName">Pete LePage</span>: That works today? </span><span class="line" data-startTime="1948">Like if somebody wanted to play </span><span class="line" data-startTime="1948">with that, it's under the </span><span class="line" data-startTime="1950">experimental API, does </span><span class="line" data-startTime="1950">it work today? </span></p>

<p class="speaker"><span class="line" data-starttime="1953"><span class="speakerName">Paul Kinlan</span>: The Google one? </span></p>

<p class="speaker"><span class="line" data-starttime="1954"><span class="speakerName">Pete LePage</span>: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="1956"><span class="speakerName">Paul Kinlan</span>: It does, but you </span><span class="line" data-startTime="1956">need to request a key, and </span><span class="line" data-startTime="1957">there's a whole lot of potential </span><span class="line" data-startTime="1957">changes that might </span><span class="line" data-startTime="1961">happen in the near future around </span><span class="line" data-startTime="1961">the experimental API, </span><span class="line" data-startTime="1963">around the Google </span><span class="line" data-startTime="1963">authentication. </span><span class="line" data-startTime="1966">So hold on just a little </span><span class="line" data-startTime="1966">bit with this. </span><span class="line" data-startTime="1969">The interesting thing is you </span><span class="line" data-startTime="1969">could probably implement and </span><span class="line" data-startTime="1972">integrate with Google services </span><span class="line" data-startTime="1972">relatively easy with this </span><span class="line" data-startTime="1975">third party OAuth flow, because </span><span class="line" data-startTime="1975">OAuth 2.0 has this </span><span class="line" data-startTime="1978">concept of scopes, and we have </span><span class="line" data-startTime="1978">this concept of scopes as well </span><span class="line" data-startTime="1980">in our authentication </span><span class="line" data-startTime="1980">protocol. </span><span class="line" data-startTime="1982">So you can probably do </span><span class="line" data-startTime="1982">it with this as well. </span><span class="line" data-startTime="1984">It's just not kind of a </span><span class="line" data-startTime="1984">seamless, if that make sense. </span></p>

<p class="speaker"><span class="line" data-starttime="1988"><span class="speakerName">Pete LePage</span>: Yeah, that </span><span class="line" data-startTime="1988">makes perfect sense. </span></p>

<p class="speaker"><span class="line" data-starttime="1990"><span class="speakerName">Paul Kinlan</span>: But it's a nice </span><span class="line" data-startTime="1990">seamless API for what it is. </span><span class="line" data-startTime="1993">So that's it. </span><span class="line" data-startTime="1994">I really want to know why it </span><span class="line" data-startTime="1994">didn't come out as nice as it </span><span class="line" data-startTime="1998">did in my other tester. </span><span class="line" data-startTime="2002">Doesn't matter, we'll </span><span class="line" data-startTime="2002">leave it, I'm happy. </span></p>

<p class="speaker"><span class="line" data-starttime="2004"><span class="speakerName">Pete LePage</span>: That's OK. </span><span class="line" data-startTime="2005">So the link for those of you </span><span class="line" data-startTime="2005">who have questions is up on </span><span class="line" data-startTime="2009">screen right now, so you could </span><span class="line" data-startTime="2009">ask your questions if you want </span><span class="line" data-startTime="2012">to know a little bit more </span><span class="line" data-startTime="2012">about what's going on. </span><span class="line" data-startTime="2015">As well, if you want to go have </span><span class="line" data-startTime="2015">a look, Paul's uploaded </span><span class="line" data-startTime="2019">these samples already. </span><span class="line" data-startTime="2021">So if you want to go and play </span><span class="line" data-startTime="2021">with this, I just popped the </span><span class="line" data-startTime="2023">sample URL up on screen right </span><span class="line" data-startTime="2023">now so that if you want to go </span><span class="line" data-startTime="2026">play with it &mdash; did you get it? </span></p>

<p class="speaker"><span class="line" data-starttime="2028"><span class="speakerName">Paul Kinlan</span>: Yes. </span><span class="line" data-startTime="2030">[INTERPOSING VOICES] </span></p>

<p class="speaker"><span class="line" data-starttime="2032"><span class="speakerName">Paul Kinlan</span>: I didn't turn </span><span class="line" data-startTime="2032">it into a JSON, a proper </span><span class="line" data-startTime="2035">JavaScript object, the </span><span class="line" data-startTime="2035">left of the screen. </span><span class="line" data-startTime="2038">And it turns out strings are </span><span class="line" data-startTime="2038">proper JavaScript object, </span><span class="line" data-startTime="2041">which is why it double encoded </span><span class="line" data-startTime="2041">everything, so there we go. </span></p>

<p class="speaker"><span class="line" data-starttime="2044"><span class="speakerName">Pete LePage</span>: There you go. </span><span class="line" data-startTime="2045">All right, can we </span><span class="line" data-startTime="2045">actually see it? </span><span class="line" data-startTime="2047">Let's see it running. </span></p>

<p class="speaker"><span class="line" data-starttime="2048"><span class="speakerName">Paul Kinlan</span>: It's there. </span><span class="line" data-startTime="2050">Do you not trust me? </span><span class="line" data-startTime="2051">PETE LEPAGE:There we go. </span><span class="line" data-startTime="2051">Now we can see it. </span><span class="line" data-startTime="2053">That's pretty. </span></p>

<p class="speaker"><span class="line" data-starttime="2054"><span class="speakerName">Paul Kinlan</span>: Whee! </span></p>

<p class="speaker"><span class="line" data-starttime="2055"><span class="speakerName">Pete LePage</span>: Yay. </span></p>

<p class="speaker"><span class="line" data-starttime="2056"><span class="speakerName">Paul Kinlan</span>: Yeah, nice job. </span><span class="line" data-startTime="2057">It's pretty cool. </span></p>

<p class="speaker"><span class="line" data-starttime="2057"><span class="speakerName">Pete LePage</span>: But could </span><span class="line" data-startTime="2057">you do it with two </span><span class="line" data-startTime="2059">spaces instead of four. </span><span class="line" data-startTime="2060">Four is a little too many. </span><span class="line" data-startTime="2061">I'm kidding. </span></p>

<p class="speaker"><span class="line" data-starttime="2063"><span class="speakerName">Paul Kinlan</span>: Just for </span><span class="line" data-startTime="2063">you, anything. </span></p>

<p class="speaker"><span class="line" data-starttime="2065"><span class="speakerName">Pete LePage</span>: Aww, </span><span class="line" data-startTime="2065">you're so sweet. </span> <span class="line" data-startTime="2067">So why don't we grab one of the </span><span class="line" data-startTime="2067">first questions that we </span><span class="line" data-startTime="2071">have, and I'll take the stab </span><span class="line" data-startTime="2071">at this first question, </span><span class="line" data-startTime="2074">because it's, I think, a </span><span class="line" data-startTime="2074">really good question. </span> <span class="line" data-startTime="2077">Unfortunately I don't have a </span><span class="line" data-startTime="2077">really great answer for you </span><span class="line" data-startTime="2079">today, I can give you an answer, </span><span class="line" data-startTime="2079">but I want to dive </span><span class="line" data-startTime="2082">into it more in a coming Chrome </span><span class="line" data-startTime="2082">Apps Office Hours. </span> <span class="line" data-startTime="2086">This is from Tommy in Illinois, </span><span class="line" data-startTime="2086">and Tommy wants to </span><span class="line" data-startTime="2090">know what the status of </span><span class="line" data-startTime="2090">Native Client SDK and </span><span class="line" data-startTime="2092">packaged apps is. </span> <span class="line" data-startTime="2094">And, Tommy, as far as I know you </span><span class="line" data-startTime="2094">can actually start playing </span><span class="line" data-startTime="2097">with them today, though </span><span class="line" data-startTime="2097">it's still somewhat </span><span class="line" data-startTime="2100">experimental on that. </span> <span class="line" data-startTime="2102">Either next week or the week </span><span class="line" data-startTime="2102">after, we're going to do our </span><span class="line" data-startTime="2108">Chrome Apps Office Hours </span><span class="line" data-startTime="2108">specifically on this topic. </span> <span class="line" data-startTime="2112">We've got one of the great guys </span><span class="line" data-startTime="2112">from they Native Client </span><span class="line" data-startTime="2116">team who's going to be joining </span><span class="line" data-startTime="2116">us to talk about this. </span></p>

<p><span class="line" data-startTime="2118">He's going to dive into this </span><span class="line" data-startTime="2118">in a lot more detail. </span> <span class="line" data-startTime="2121">So keep an eye out, it's either </span><span class="line" data-startTime="2121">next Tuesday or the </span><span class="line" data-startTime="2125">following Tuesday, I don't </span><span class="line" data-startTime="2125">remember specifically </span><span class="line" data-startTime="2127">which one it is. </span> <span class="line" data-startTime="2127">But Tommy, have a peek, we'd </span><span class="line" data-startTime="2127">love to have you join us for </span><span class="line" data-startTime="2131">that, and we'll dive into a </span><span class="line" data-startTime="2131">lot more the good, nitty </span><span class="line" data-startTime="2135">gritty details. </span></p>

<p class="speaker"><span class="line" data-starttime="2137"><span class="speakerName">Paul Kinlan</span>: Yeah, it's cool. </span><span class="line" data-startTime="2138">What we've seen so </span><span class="line" data-startTime="2138">far is cool. </span><span class="line" data-startTime="2140">It'll be an exciting one. </span><span class="line" data-startTime="2141">It'll be good. </span></p>

<p class="speaker"><span class="line" data-starttime="2144"><span class="speakerName">Pete LePage</span>: So Paul, I'll pass </span><span class="line" data-startTime="2144">this next one on to you. </span><span class="line" data-startTime="2146">From Swader in Croatia, is this </span><span class="line" data-startTime="2146">authentication mechanism </span><span class="line" data-startTime="2151">limited to just packaged apps, </span><span class="line" data-startTime="2151">or does it work for </span><span class="line" data-startTime="2153">extensions as well? </span></p>

<p class="speaker"><span class="line" data-starttime="2155"><span class="speakerName">Paul Kinlan</span>: So I've not tried </span><span class="line" data-startTime="2155">it in extensions, however it's </span><span class="line" data-startTime="2158">not under the Chrome.app </span><span class="line" data-startTime="2158">namespace, so there's a good </span><span class="line" data-startTime="2161">chance that it'll work. </span><span class="line" data-startTime="2162">it just needs to be tested. </span><span class="line" data-startTime="2164">It doesn't take that much to </span><span class="line" data-startTime="2164">actually go off and test it. </span><span class="line" data-startTime="2167">I might go and test </span><span class="line" data-startTime="2167">it in a minute. </span><span class="line" data-startTime="2169">Yeah, I've not tested it. </span><span class="line" data-startTime="2170">It'd be nice if it does because </span><span class="line" data-startTime="2170">extensions needs this </span><span class="line" data-startTime="2173">type of API too, and I wouldn't </span><span class="line" data-startTime="2173">be surprised if it </span><span class="line" data-startTime="2175">did work, but I've </span><span class="line" data-startTime="2175">not tested it. </span></p>

<p class="speaker"><span class="line" data-starttime="2179"><span class="speakerName">Pete LePage</span>: So Swader, one of </span><span class="line" data-startTime="2179">the things I'd recommend you </span><span class="line" data-startTime="2180">do is go post that question </span><span class="line" data-startTime="2180">to our email list which is </span><span class="line" data-startTime="2185">chromium-apps, chromium hyphen </span><span class="line" data-startTime="2185">apps at chromium.org. </span> <span class="line" data-startTime="2189">You can go join there, you can </span><span class="line" data-startTime="2189">keep up to date with some of </span><span class="line" data-startTime="2192">the latest stuff on what's going </span><span class="line" data-startTime="2192">on, you can see this all </span><span class="line" data-startTime="2196">the great conversations. </span> <span class="line" data-startTime="2197">We've got announcements about </span><span class="line" data-startTime="2197">all of the new features that </span><span class="line" data-startTime="2200">get released. </span> <span class="line" data-startTime="2202">Right now this is experimental </span><span class="line" data-startTime="2202">so certainly it'll move out of </span><span class="line" data-startTime="2204">experimental. </span> <span class="line" data-startTime="2205">When that happens, we will be </span><span class="line" data-startTime="2205">sure to let everybody know </span><span class="line" data-startTime="2208">through our mailing </span><span class="line" data-startTime="2208">list as well. </span> <span class="line" data-startTime="2212">So with that I think that's </span><span class="line" data-startTime="2212">sort of the end of our </span><span class="line" data-startTime="2214">questions in great </span><span class="line" data-startTime="2214">demo today, Paul. </span> <span class="line" data-startTime="2216">Thank you very much </span><span class="line" data-startTime="2216">for joining again. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="2218"><span class="speakerName">Paul Kinlan</span>: I'll make it </span><span class="line" data-startTime="2218">a nice, proper looking </span><span class="line" data-startTime="2219">app soon, as well. </span><span class="line" data-startTime="2221">I just think it's a nice </span><span class="line" data-startTime="2221">little demo to </span><span class="line" data-startTime="2222">show you what happens. </span></p>

<p class="speaker"><span class="line" data-starttime="2223"><span class="speakerName">Pete LePage</span>: Yeah, absolutely. </span><span class="line" data-startTime="2225">Now, if people want to go and </span><span class="line" data-startTime="2225">download this, they want to </span><span class="line" data-startTime="2228">try this on their own, </span><span class="line" data-startTime="2228">so the URL is there. </span><span class="line" data-startTime="2232">They're going to have to change </span><span class="line" data-startTime="2232">the secret key, and </span><span class="line" data-startTime="2234">they're going to have set </span><span class="line" data-startTime="2234">themselves up as a developer </span><span class="line" data-startTime="2237">on Instagram. </span><span class="line" data-startTime="2240">Isn't that correct? </span></p>

<p class="speaker"><span class="line" data-starttime="2241"><span class="speakerName">Paul Kinlan</span>: Yeah, it's </span><span class="line" data-startTime="2241">pretty simple process. </span><span class="line" data-startTime="2243">They've got really nice </span><span class="line" data-startTime="2243">documentation as well. </span><span class="line" data-startTime="2246">You basically just go to the </span><span class="line" data-startTime="2246">instagram.com/developer, click </span><span class="line" data-startTime="2248">register your application. </span><span class="line" data-startTime="2250">I've just actually deleted my </span><span class="line" data-startTime="2250">client key now, just in case. </span></p>

<p class="speaker"><span class="line" data-starttime="2253"><span class="speakerName">Pete LePage</span>: So for those of </span><span class="line" data-startTime="2253">you who wanted to have a </span><span class="line" data-startTime="2255">little fun with it, sorry. </span></p>

<p class="speaker"><span class="line" data-starttime="2256"><span class="speakerName">Paul Kinlan</span>: Yeah, </span><span class="line" data-startTime="2256">I mean it's cool. </span> <span class="line" data-startTime="2264">You go to Instagram, any kind </span><span class="line" data-startTime="2264">of third party service site, </span><span class="line" data-startTime="2267">you should be able to, so as </span><span class="line" data-startTime="2267">long as they support OAuth </span><span class="line" data-startTime="2269">2.0, you will be able to pretty </span><span class="line" data-startTime="2269">much use the exact code </span><span class="line" data-startTime="2270">that we've got today, and </span><span class="line" data-startTime="2270">just go from there. </span> <span class="line" data-startTime="2273">I'll tell you what though, </span><span class="line" data-startTime="2273">if you do have any other </span><span class="line" data-startTime="2275">applications, any other </span><span class="line" data-startTime="2275">authentication methods that </span><span class="line" data-startTime="2278">you do use inside your own </span><span class="line" data-startTime="2278">services, let us know because </span><span class="line" data-startTime="2281">we would like to make sure that </span><span class="line" data-startTime="2281">this API works for you </span><span class="line" data-startTime="2284">guys, right. </span> <span class="line" data-startTime="2285">So just catch us on </span><span class="line" data-startTime="2285">Google+, or email. </span></p>

<p><span class="line" data-startTime="2288">I'm paulkinlan@google.com. </span></p>

<p class="speaker"><span class="line" data-starttime="2289"><span class="speakerName">Pete LePage</span>: I'm petele. </span></p>

<p class="speaker"><span class="line" data-starttime="2293"><span class="speakerName">Paul Kinlan</span>: We're our </span><span class="line" data-startTime="2293">names pretty much </span><span class="line" data-startTime="2294">everywhere else on the web. </span><span class="line" data-startTime="2296">Just get access to us, post on </span><span class="line" data-startTime="2296">the forum, let us know what </span><span class="line" data-startTime="2300">you want to do with the </span><span class="line" data-startTime="2300">authentication API and the </span><span class="line" data-startTime="2301">identity API because we think </span><span class="line" data-startTime="2301">it's going to be key, and it's </span><span class="line" data-startTime="2304">going to be absolutely awesome, </span><span class="line" data-startTime="2304">but we need to make </span><span class="line" data-startTime="2306">sure that it works </span><span class="line" data-startTime="2306">for you guys. </span></p>

<p class="speaker"><span class="line" data-starttime="2307"><span class="speakerName">Pete LePage</span>: Absolutely. </span><span class="line" data-startTime="2309">All right well, Paul, </span><span class="line" data-startTime="2309">thank you for </span><span class="line" data-startTime="2311">joining us from London. </span><span class="line" data-startTime="2311">Have a wonderful evening. </span><span class="line" data-startTime="2312">It's, what, almost 6 o'clock </span><span class="line" data-startTime="2312">there tonight. </span></p>

<p class="speaker"><span class="line" data-starttime="2316"><span class="speakerName">Paul Kinlan</span>: It's already 6:00 </span><span class="line" data-startTime="2316">o'clock and I've got another &mdash; </span><span class="line" data-startTime="2317">well, I'm not going tell you </span><span class="line" data-startTime="2317">how long I've got left, but </span><span class="line" data-startTime="2319">yeah, it's a long time. </span></p>

<p class="speaker"><span class="line" data-starttime="2321"><span class="speakerName">Pete LePage</span>: Well, Paul, thanks </span><span class="line" data-startTime="2321">for joining us, and </span><span class="line" data-startTime="2323">thanks to all of you guys </span><span class="line" data-startTime="2323">for joining us. </span><span class="line" data-startTime="2324">We hope you have a wonderful </span><span class="line" data-startTime="2324">day, and we will see </span><span class="line" data-startTime="2328">you guys next week. </span><span class="line" data-startTime="2329">Same time, same place. </span><span class="line" data-startTime="2331">Take care, everybody. </span></p>