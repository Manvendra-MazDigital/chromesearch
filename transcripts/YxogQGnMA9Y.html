<style>* {font-family: "Open Sans", sans-serif}
a {color: #77aaff}
a.video {border-bottom: 1px solid #ddd; display: block; margin: 0 0 2em 0; padding: 0 0 2em 0}
h2 {color: #444; font-size: 18px;}
span.speakerName {color: black; font-weight: 900;}
body {padding: 2em}
p {color: #444; margin: 0; text-indent: 1.5em;}
p.speaker {margin: 1em 0 0 0; text-indent: 0;}
div#transcript > p:first-child {text-indent: 0;}
</style>

<h1>Google I/O 2012 &mdash; Putting the App Back into Web App &mdash; Web Programming with Dart</h1>

<h2>Vijay Menon, Dan Grove</h2>

<a class="video" href="http://youtu.be/YxogQGnMA9Y">youtu.be/YxogQGnMA9Y</a><div id="transcript"><p class="speaker"><span class="line" data-starttime="14"><span class="speakerName">Vijay Menon</span>: Thanks </span><span class="line" data-startTime="14">for coming. </span> <span class="line" data-startTime="16">We're talking about Putting the </span><span class="line" data-startTime="16">App Back Into Web App &mdash; </span><span class="line" data-startTime="20">Web Programming With Dart. </span> <span class="line" data-startTime="22">How many of you just attended </span><span class="line" data-startTime="22">the last talk by Lars and </span><span class="line" data-startTime="24">Kasper on Dart? </span><span class="line" data-startTime="26">Great. </span> <span class="line" data-startTime="27">I think that was most of you. </span> <span class="line" data-startTime="28">If you haven't, you should </span><span class="line" data-startTime="28">be able to pick it up. </span> <span class="line" data-startTime="30">Dart's a very familiar </span><span class="line" data-startTime="30">language. </span> <span class="line" data-startTime="32">We're excited about the Dart </span><span class="line" data-startTime="32">programming language for its </span><span class="line" data-startTime="34">potential for creating web apps, </span><span class="line" data-startTime="34">particularly apps code </span><span class="line" data-startTime="37">that runs in the browser. </span></p>

<p><span class="line" data-startTime="39">I'm Vijay Menon. </span></p>

<p class="speaker"><span class="line" data-starttime="40"><span class="speakerName">Dan Grove</span>: And I'm Dan Grove. </span><span class="line" data-startTime="41">We're here from Google's </span><span class="line" data-startTime="41">Seattle Team. </span><span class="line" data-startTime="45">So how many of you have </span><span class="line" data-startTime="45">used web apps before? </span><span class="line" data-startTime="49">It looks something like this. </span><span class="line" data-startTime="53">All right. </span><span class="line" data-startTime="53">How many of you are </span><span class="line" data-startTime="53">happy with this? </span><span class="line" data-startTime="57">Beautiful. </span><span class="line" data-startTime="57">I had to ask. </span></p>

<p class="speaker"><span class="line" data-starttime="59"><span class="speakerName">Vijay Menon</span>: This talk </span><span class="line" data-startTime="59">is not for you. </span><span class="line" data-startTime="60">Sorry. </span></p>

<p class="speaker"><span class="line" data-starttime="62"><span class="speakerName">Dan Grove</span>: When I got to Google </span><span class="line" data-startTime="62">back in late 2007, </span><span class="line" data-startTime="66">there was a lot of talk about </span><span class="line" data-startTime="66">developing [INAUDIBLE]. </span><span class="line" data-startTime="70">But they're really ugly. </span><span class="line" data-startTime="72">But that's OK because they </span><span class="line" data-startTime="72">all [INAUDIBLE]. </span></p>

<p class="speaker"><span class="line" data-starttime="74"><span class="speakerName">Audience</span>: Your mic's </span><span class="line" data-startTime="74">not working. </span></p>

<p class="speaker"><span class="line" data-starttime="75"><span class="speakerName">Vijay Menon</span>: Oh, your </span><span class="line" data-startTime="75">mic is off. </span></p>

<p class="speaker"><span class="line" data-starttime="77"><span class="speakerName">Dan Grove</span>: It says it's on. </span><span class="line" data-startTime="80">I'll try it again. </span><span class="line" data-startTime="80">Let's see. </span></p>

<p class="speaker"><span class="line" data-starttime="82"><span class="speakerName">Vijay Menon</span>: You got it? </span></p>

<p class="speaker"><span class="line" data-starttime="83"><span class="speakerName">Dan Grove</span>: It's not working. </span><span class="line" data-startTime="85">How about now? </span><span class="line" data-startTime="86">No? </span></p>

<p class="speaker"><span class="line" data-starttime="90"><span class="speakerName">Vijay Menon</span>: Why don't I take </span><span class="line" data-startTime="90">over for a little bit while we </span><span class="line" data-startTime="92">get Dan miced up properly. </span> <span class="line" data-startTime="94">So yeah, now it's 2012, and our </span><span class="line" data-startTime="94">expectations have changed. </span> <span class="line" data-startTime="101">And one big thing that's changed </span><span class="line" data-startTime="101">in the past five </span><span class="line" data-startTime="104">years &mdash; you've seen it here at </span><span class="line" data-startTime="104">Google I/O. We have these </span><span class="line" data-startTime="106">things now like tablets </span><span class="line" data-startTime="106">and mobile devices. </span> <span class="line" data-startTime="109">And that's really changed </span><span class="line" data-startTime="109">our expectations of </span><span class="line" data-startTime="115">what a nice app is. </span> <span class="line" data-startTime="117">And this is an app that we wrote </span><span class="line" data-startTime="117">to specifically run well </span><span class="line" data-startTime="123">on a tablet. </span> <span class="line" data-startTime="124">And we had quite a few </span><span class="line" data-startTime="124">aims with this. </span> <span class="line" data-startTime="125">One is that we wanted to </span><span class="line" data-startTime="125">make it beautiful. </span> <span class="line" data-startTime="128">And to do that, we really wanted </span><span class="line" data-startTime="128">precise control over </span><span class="line" data-startTime="130">how the app looked on the screen </span><span class="line" data-startTime="130">and on a variety of </span><span class="line" data-startTime="134">different form factors. </span> <span class="line" data-startTime="136">We wanted it to be very nice to </span><span class="line" data-startTime="136">interact with, particularly </span><span class="line" data-startTime="139">with the latest and </span><span class="line" data-startTime="139">greatest devices. </span> <span class="line" data-startTime="142">Touch. </span></p>

<p><span class="line" data-startTime="143">We wanted rich animation. </span> <span class="line" data-startTime="145">So we want the illusion </span><span class="line" data-startTime="145">of infinite scroll. </span> <span class="line" data-startTime="148">We want 60 frames per </span><span class="line" data-startTime="148">second interaction. </span> <span class="line" data-startTime="153">We just want this thing to be </span><span class="line" data-startTime="153">able to respond to us very </span><span class="line" data-startTime="156">quickly in, again, a variety </span><span class="line" data-startTime="156">of form factors. </span> <span class="line" data-startTime="159">So what we were interested in </span><span class="line" data-startTime="159">figuring out is whether we </span><span class="line" data-startTime="162">could build this sort of </span><span class="line" data-startTime="162">an app in the browser. </span> <span class="line" data-startTime="165">So basically our experiences </span><span class="line" data-startTime="165">were validated. </span> <span class="line" data-startTime="168">And this is the same exact app </span><span class="line" data-startTime="168">running on Chrome with pretty </span><span class="line" data-startTime="176">much the same sort of interface </span><span class="line" data-startTime="176">capabilities and </span><span class="line" data-startTime="178">interactivity with it. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="185"><span class="speakerName">Dan Grove</span>: Yeah, so users </span><span class="line" data-startTime="185">really wanted to have </span><span class="line" data-startTime="186">something that was a lot better </span><span class="line" data-startTime="186">than what we were </span><span class="line" data-startTime="188">giving them back in 2007. </span> <span class="line" data-startTime="190">And when we designed Swarm, we </span><span class="line" data-startTime="190">really wanted to make this </span><span class="line" data-startTime="193">thing beautiful. </span> <span class="line" data-startTime="193">And we think that the mobile </span><span class="line" data-startTime="193">space really has driven the </span><span class="line" data-startTime="198">beauty requirements </span><span class="line" data-startTime="198">for apps quite a </span><span class="line" data-startTime="199">long way at this point. </span> <span class="line" data-startTime="200">We also wanted the app </span><span class="line" data-startTime="200">to be really fast. </span> <span class="line" data-startTime="202">We wanted it to start </span><span class="line" data-startTime="202">up instantly. </span> <span class="line" data-startTime="204">And we also wanted </span><span class="line" data-startTime="204">it to be super </span><span class="line" data-startTime="205">responsive to user actions. </span> <span class="line" data-startTime="207">And there are a bunch of </span><span class="line" data-startTime="207">good reasons for that. </span> <span class="line" data-startTime="209">One of them is how many of you </span><span class="line" data-startTime="209">guys have had Wi-Fi problems </span><span class="line" data-startTime="211">here today? </span><span class="line" data-startTime="212">Anyone? </span><span class="line" data-startTime="213">So that sucks, right? </span><span class="line" data-startTime="215">You're trying to use </span><span class="line" data-startTime="215">your application. </span></p>

<p><span class="line" data-startTime="216">You're waiting for the </span><span class="line" data-startTime="216">web to respond. </span> <span class="line" data-startTime="218">It's terrible. </span> <span class="line" data-startTime="220">We were told this morning that </span><span class="line" data-startTime="220">no Wi-Fi was working at all </span><span class="line" data-startTime="223">for speaker talks. </span> <span class="line" data-startTime="224">And so we were happy that our </span><span class="line" data-startTime="224">app actually works offline. </span> <span class="line" data-startTime="226">So that was great. </span> <span class="line" data-startTime="228">We really wanted an app </span><span class="line" data-startTime="228">that works offline. </span> <span class="line" data-startTime="230">But we also wanted one that </span><span class="line" data-startTime="230">would leverage the cloud when </span><span class="line" data-startTime="231">the cloud was available. </span></p>

<p class="speaker"><span class="line" data-starttime="233"><span class="speakerName">Vijay Menon</span>: Yeah, </span><span class="line" data-startTime="233">Lars and Kasper </span><span class="line" data-startTime="234">talked about this theme. </span><span class="line" data-startTime="235">It's been hit a few times. </span><span class="line" data-startTime="236">One of the reasons we did it, </span><span class="line" data-startTime="236">the news app as our test </span><span class="line" data-startTime="239">application in Dart, well </span><span class="line" data-startTime="239">one, we're news junkies. </span><span class="line" data-startTime="241">And we knew it was an app we'd </span><span class="line" data-startTime="241">use, which is always good. </span><span class="line" data-startTime="244">But the other is that, that </span><span class="line" data-startTime="244">was a fairly common </span><span class="line" data-startTime="247">experience. </span><span class="line" data-startTime="248">With the web, you don't </span><span class="line" data-startTime="248">have to install. </span><span class="line" data-startTime="251">Probably, most of you've </span><span class="line" data-startTime="251">gotten this experience, </span><span class="line" data-startTime="254">particularly on a mobile device, </span><span class="line" data-startTime="254">where you get a link </span><span class="line" data-startTime="256">to a news story, you click on </span><span class="line" data-startTime="256">it, and then you get this </span><span class="line" data-startTime="258">message that says, please </span><span class="line" data-startTime="258">install this app for </span><span class="line" data-startTime="262">such-and-such newspaper you've </span><span class="line" data-startTime="262">never heard of to get the best </span><span class="line" data-startTime="265">viewing experience. </span><span class="line" data-startTime="266">And there's many cases </span><span class="line" data-startTime="266">where it makes </span><span class="line" data-startTime="268">sense to install apps. </span><span class="line" data-startTime="269">But that's one where at </span><span class="line" data-startTime="269">least we think it </span><span class="line" data-startTime="271">made no sense at all. </span><span class="line" data-startTime="273">We just want the system to get </span><span class="line" data-startTime="273">out of our way and be able to </span><span class="line" data-startTime="275">just get to our content in </span><span class="line" data-startTime="275">the browser on the web. </span></p>

<p class="speaker"><span class="line" data-starttime="278"><span class="speakerName">Dan Grove</span>: Yeah, so we wanted </span><span class="line" data-startTime="278">to build a web application </span><span class="line" data-startTime="280">that was really first </span><span class="line" data-startTime="280">class in every way. </span> <span class="line" data-startTime="283">The good thing was that the web </span><span class="line" data-startTime="283">had actually changed a ton </span><span class="line" data-startTime="286">in the last five years. </span> <span class="line" data-startTime="287">So one thing that's happened is </span><span class="line" data-startTime="287">that web capabilities have </span><span class="line" data-startTime="289">improved radically. </span> <span class="line" data-startTime="291">So you've gotten things </span><span class="line" data-startTime="291">like animation </span><span class="line" data-startTime="293">and Canvas and WebGL. </span> <span class="line" data-startTime="295">I'll tell you a story. </span> <span class="line" data-startTime="296">I was incredibly disappointed </span><span class="line" data-startTime="296">when I first arrived at Google </span><span class="line" data-startTime="299">back coming up on </span><span class="line" data-startTime="299">five years ago. </span> <span class="line" data-startTime="301">Because I thought, the web can </span><span class="line" data-startTime="301">do all this cool stuff. </span></p>

<p><span class="line" data-startTime="304">There's all this great stuff. </span> <span class="line" data-startTime="305">And I went out, and I met with </span><span class="line" data-startTime="305">a bunch of teams to find out </span><span class="line" data-startTime="307">what they're doing. </span> <span class="line" data-startTime="308">They said, well Web 2.0, it's </span><span class="line" data-startTime="308">string concatenation, </span><span class="line" data-startTime="312">essentially. </span> <span class="line" data-startTime="313">That was basically it. </span> <span class="line" data-startTime="314">There was nothing more </span><span class="line" data-startTime="314">to it than that. </span> <span class="line" data-startTime="316">And we've moved way past that. </span> <span class="line" data-startTime="318">You can actually do these kinds </span><span class="line" data-startTime="318">of cool animations and </span><span class="line" data-startTime="320">3D graphics on the web, </span><span class="line" data-startTime="320">which is fantastic. </span> <span class="line" data-startTime="323">We've also gotten rid of </span><span class="line" data-startTime="323">a lot of plug-ins. </span></p>

<p><span class="line" data-startTime="325">So you can actually build audio </span><span class="line" data-startTime="325">that competes with the </span><span class="line" data-startTime="327">best native audio. </span> <span class="line" data-startTime="329">You don't need plug-ins </span><span class="line" data-startTime="329">for video. </span> <span class="line" data-startTime="330">That's another fantastic </span><span class="line" data-startTime="330">thing. </span> <span class="line" data-startTime="333">And then there are really crazy </span><span class="line" data-startTime="333">things that have been </span><span class="line" data-startTime="335">developed, like sockets. </span> <span class="line" data-startTime="338">You could actually have a socket </span><span class="line" data-startTime="338">between the client and </span><span class="line" data-startTime="340">the server. </span> <span class="line" data-startTime="340">I mean, it's 2012. </span> <span class="line" data-startTime="341">It's about time, but you </span><span class="line" data-startTime="341">can actually do it. </span> <span class="line" data-startTime="344">One nice thing I'd point out </span><span class="line" data-startTime="344">here is that this is code for </span><span class="line" data-startTime="346">creating a web socket in Dart, </span><span class="line" data-startTime="346">and it's actually very pretty. </span> <span class="line" data-startTime="350">It's actually typed. </span> <span class="line" data-startTime="351">It's very easy to </span><span class="line" data-startTime="351">reason about it. </span> <span class="line" data-startTime="352">It has nice closures. </span></p>

<p><span class="line" data-startTime="354">When I first put up the </span><span class="line" data-startTime="354">code for this &mdash; </span><span class="line" data-startTime="355">I actually put up the </span><span class="line" data-startTime="355">JavaScript code for </span><span class="line" data-startTime="357">WebSockets &mdash; </span><span class="line" data-startTime="358">and frankly, it was a lot uglier </span><span class="line" data-startTime="358">than the Dart code. </span> <span class="line" data-startTime="361">So we'll be talking a </span><span class="line" data-startTime="361">lot more about this. </span> <span class="line" data-startTime="362">But I think it's really </span><span class="line" data-startTime="362">fantastic. </span> <span class="line" data-startTime="365">And there are a lot of other </span><span class="line" data-startTime="365">really cool features that are </span><span class="line" data-startTime="367">coming on the web. </span> <span class="line" data-startTime="368">And there are more coming </span><span class="line" data-startTime="368">all the time. </span> <span class="line" data-startTime="369">There are all kinds of talks </span><span class="line" data-startTime="369">here about doing new P2P </span><span class="line" data-startTime="372">real-time video and audio and </span><span class="line" data-startTime="372">all kinds of other neat stuff. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="377"><span class="speakerName">Vijay Menon</span>: The other axis, big </span><span class="line" data-startTime="377">axis, that's changed over </span><span class="line" data-startTime="381">time is JavaScript </span><span class="line" data-startTime="381">performance. </span> <span class="line" data-startTime="382">And this is a really </span><span class="line" data-startTime="382">interesting graph. </span> <span class="line" data-startTime="384">Because for a very, very long </span><span class="line" data-startTime="384">period of time, up to 2007, </span><span class="line" data-startTime="388">performance of code running </span><span class="line" data-startTime="388">in the browser </span><span class="line" data-startTime="390">didn't really change. </span> <span class="line" data-startTime="392">And then in 2008, something </span><span class="line" data-startTime="392">happened. </span> <span class="line" data-startTime="395">One of those things, at least, </span><span class="line" data-startTime="395">was that Chrome was released </span><span class="line" data-startTime="397">with V8, its JavaScript </span><span class="line" data-startTime="397">engine. </span> <span class="line" data-startTime="399">And performance suddenly </span><span class="line" data-startTime="399">got a lot better. </span> <span class="line" data-startTime="402">And then over the past five </span><span class="line" data-startTime="402">years, it's really gotten </span><span class="line" data-startTime="405">much, much better, not </span><span class="line" data-startTime="405">just on Chrome but on </span><span class="line" data-startTime="408">other browsers as well. </span></p>

<p><span class="line" data-startTime="409">In fact, even your mobile </span><span class="line" data-startTime="409">devices today run JavaScript </span><span class="line" data-startTime="413">far faster than what a desktop </span><span class="line" data-startTime="413">did five years ago. </span> <span class="line" data-startTime="417">And what's interesting about </span><span class="line" data-startTime="417">this is that a lot of the apps </span><span class="line" data-startTime="420">that we interact with were </span><span class="line" data-startTime="420">designed in this old world, </span><span class="line" data-startTime="424">where you really had no ability </span><span class="line" data-startTime="424">to do any interesting </span><span class="line" data-startTime="426">compute on the browser itself. </span> <span class="line" data-startTime="428">It was just way too slow. </span> <span class="line" data-startTime="430">And this is going to be kind of </span><span class="line" data-startTime="430">a running theme here that </span><span class="line" data-startTime="432">we'll get to later, that we </span><span class="line" data-startTime="432">can rethink apps today. </span> <span class="line" data-startTime="436">This is not Moore's Law. </span> <span class="line" data-startTime="437">This is Moore's Law on steroids </span><span class="line" data-startTime="437">if you look at the </span><span class="line" data-startTime="443">gains that we've seen </span><span class="line" data-startTime="443">in performance </span><span class="line" data-startTime="444">in just five years. </span></p>

<p><span class="line" data-startTime="446">And that lets us dramatically </span><span class="line" data-startTime="446">rethink how we design apps. </span></p>

<p class="speaker"><span class="line" data-starttime="451"><span class="speakerName">Dan Grove</span>: Right. </span> <span class="line" data-startTime="451">So the bottom line here is that </span><span class="line" data-startTime="451">the browser has really </span><span class="line" data-startTime="453">changed across two axes. </span> <span class="line" data-startTime="454">It's gotten far more </span><span class="line" data-startTime="454">capabilities, and the </span><span class="line" data-startTime="457">performance has increased so </span><span class="line" data-startTime="457">much that we can start doing </span><span class="line" data-startTime="459">things radically differently </span><span class="line" data-startTime="459">from the way we were doing </span><span class="line" data-startTime="461">them in the past. </span> <span class="line" data-startTime="464">So we talked about the web. </span> <span class="line" data-startTime="465">But why are we here talking </span><span class="line" data-startTime="465">about Dart? </span><span class="line" data-startTime="468">Well, programs don't just </span><span class="line" data-startTime="468">get better magically. </span> <span class="line" data-startTime="473">They get better because </span><span class="line" data-startTime="473">programmers develop them. </span> <span class="line" data-startTime="475">And developing these better </span><span class="line" data-startTime="475">apps often requires bigger </span><span class="line" data-startTime="477">apps that are made out </span><span class="line" data-startTime="477">of building blocks. </span> <span class="line" data-startTime="479">And that requires actually </span><span class="line" data-startTime="479">programming at scale. </span> <span class="line" data-startTime="482">And when we talk about </span><span class="line" data-startTime="482">programming in scale on Dart, </span><span class="line" data-startTime="485">we're talking about things </span><span class="line" data-startTime="485">like 100,000-line or a </span><span class="line" data-startTime="488">million-line application. </span> <span class="line" data-startTime="490">You're unlikely to build </span><span class="line" data-startTime="490">that yourself. </span> <span class="line" data-startTime="492">In fact, you're unlikely to </span><span class="line" data-startTime="492">have two or three people </span><span class="line" data-startTime="494">building that in </span><span class="line" data-startTime="494">a small group. </span></p>

<p><span class="line" data-startTime="496">What you're likely to </span><span class="line" data-startTime="496">have are actual </span><span class="line" data-startTime="497">composable building blocks. </span> <span class="line" data-startTime="499">You're going to need </span><span class="line" data-startTime="499">to reuse code. </span> <span class="line" data-startTime="501">And we're not talking about </span><span class="line" data-startTime="501">copying and pasting code or </span><span class="line" data-startTime="504">downloading a little </span><span class="line" data-startTime="504">piece of JavaScript </span><span class="line" data-startTime="506">and pasting it together. </span> <span class="line" data-startTime="508">We're talking about something </span><span class="line" data-startTime="508">where you actually want to be </span><span class="line" data-startTime="509">able to build libraries and </span><span class="line" data-startTime="509">reuse those libraries. </span> <span class="line" data-startTime="513">In order to do that, you </span><span class="line" data-startTime="513">actually want structure. </span> <span class="line" data-startTime="516">So structure is great, because </span><span class="line" data-startTime="516">it actually lets you start </span><span class="line" data-startTime="518">reasoning about your </span><span class="line" data-startTime="518">application. </span></p>

<p><span class="line" data-startTime="520">All those things you learned </span><span class="line" data-startTime="520">back in Computer Science 101 </span><span class="line" data-startTime="523">are actually very relevant </span><span class="line" data-startTime="523">in Dart. </span> <span class="line" data-startTime="525">You have classes, and you have </span><span class="line" data-startTime="525">interface, and you have all </span><span class="line" data-startTime="527">these nice things. </span> <span class="line" data-startTime="529">You also want to have </span><span class="line" data-startTime="529">static checking. </span> <span class="line" data-startTime="531">So grep works great when you </span><span class="line" data-startTime="531">have 1,000 lines of code or </span><span class="line" data-startTime="536">something like that. </span> <span class="line" data-startTime="537">Grep doesn't work great </span><span class="line" data-startTime="537">when you have a </span><span class="line" data-startTime="538">million lines of code. </span> <span class="line" data-startTime="539">And at Google, we actually have </span><span class="line" data-startTime="539">a number of people who </span><span class="line" data-startTime="541">spend their time thinking about </span><span class="line" data-startTime="541">tools to go and search </span><span class="line" data-startTime="544">over your code and reason </span><span class="line" data-startTime="544">about your code. </span> <span class="line" data-startTime="546">Static checking and static </span><span class="line" data-startTime="546">checkability of a language </span><span class="line" data-startTime="549">really assist this. </span> <span class="line" data-startTime="550">You also want it </span><span class="line" data-startTime="550">to be toolable. </span></p>

<p><span class="line" data-startTime="552">vi or TextMate probably start </span><span class="line" data-startTime="552">breaking down when your </span><span class="line" data-startTime="555">application gets to </span><span class="line" data-startTime="555">be 100,000 lines. </span> <span class="line" data-startTime="557">You actually want to be able </span><span class="line" data-startTime="557">to jump to definition. </span> <span class="line" data-startTime="560">You want to be able to find out </span><span class="line" data-startTime="560">if a type exists, or you </span><span class="line" data-startTime="562">want to be able to find out </span><span class="line" data-startTime="562">if a method exists. </span> <span class="line" data-startTime="564">All these things are really </span><span class="line" data-startTime="564">important, and one of the </span><span class="line" data-startTime="567">things we'll be talking about </span><span class="line" data-startTime="567">in this talk is the Dart </span><span class="line" data-startTime="569">Editor and how it helps </span><span class="line" data-startTime="569">you with these things. </span> <span class="line" data-startTime="573">So we have a bunch of tools to </span><span class="line" data-startTime="573">make Dart easier to program. </span> <span class="line" data-startTime="577">And the first of these </span><span class="line" data-startTime="577">is the Dart Editor. </span> <span class="line" data-startTime="578">This is an Eclipse-based editor </span><span class="line" data-startTime="578">that Kasper showed off </span><span class="line" data-startTime="582">in the last talk. </span> <span class="line" data-startTime="582">And it provides a lot of very </span><span class="line" data-startTime="582">nice features, which Vijay </span><span class="line" data-startTime="585">will be popping into </span><span class="line" data-startTime="585">in a minute. </span> <span class="line" data-startTime="587">We also have something </span><span class="line" data-startTime="587">that we call Dartium. </span></p>

<p><span class="line" data-startTime="589">And Dartium is our own </span><span class="line" data-startTime="589">home-brewed version of </span><span class="line" data-startTime="591">Chromium with the Dart </span><span class="line" data-startTime="591">VM embedded in it. </span> <span class="line" data-startTime="594">And this is really fantastic </span><span class="line" data-startTime="594">because it gives you that </span><span class="line" data-startTime="596">instant edit refresh cycle </span><span class="line" data-startTime="596">that everyone likes. </span> <span class="line" data-startTime="599">When it's time to actually </span><span class="line" data-startTime="599">deploy your app, Kasper talked </span><span class="line" data-startTime="602">at length about the Dart2JS </span><span class="line" data-startTime="602">Compiler in the last talk. </span> <span class="line" data-startTime="605">The goal here is that Dart </span><span class="line" data-startTime="605">does not break the web. </span> <span class="line" data-startTime="608">We compiled Dart to the tip of </span><span class="line" data-startTime="608">all the major browsers that </span><span class="line" data-startTime="611">are auto updated. </span> <span class="line" data-startTime="612">And we also compile </span><span class="line" data-startTime="612">it to run on IE9+. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="616"><span class="speakerName">Vijay Menon</span>: So rather than </span><span class="line" data-startTime="616">just tell you about this, </span><span class="line" data-startTime="618">let's dive in and show. </span> <span class="line" data-startTime="620">And one of things we're going to </span><span class="line" data-startTime="620">show later in this talk is </span><span class="line" data-startTime="623">we're going to go into detail </span><span class="line" data-startTime="623">on the Swarm newsreader. </span> <span class="line" data-startTime="626">But before I dive into that, </span><span class="line" data-startTime="626">let's start with something </span><span class="line" data-startTime="630">really simple. </span> <span class="line" data-startTime="631">Let's just go into the Dart </span><span class="line" data-startTime="631">Editor here and create a new </span><span class="line" data-startTime="634">application. </span> <span class="line" data-startTime="634">Let's just create a "Hello </span><span class="line" data-startTime="634">World!" application here. </span></p>

<p><span class="line" data-startTime="638">So it's a nice wizard to just </span><span class="line" data-startTime="638">get me bootstrapped. </span> <span class="line" data-startTime="641">But it's really quite </span><span class="line" data-startTime="641">simple here. </span> <span class="line" data-startTime="642">There's just &mdash; </span><span class="line" data-startTime="643">If you look at what this </span><span class="line" data-startTime="643">created, I have an HTML file. </span> <span class="line" data-startTime="647">Let's go there first. </span> <span class="line" data-startTime="648">That's, of course, </span><span class="line" data-startTime="648">where you land. </span> <span class="line" data-startTime="650">And it's HTML. </span> <span class="line" data-startTime="654">The things I really want to call </span><span class="line" data-startTime="654">out to you here are some </span><span class="line" data-startTime="657">things that we've done to help </span><span class="line" data-startTime="657">you debug your application on </span><span class="line" data-startTime="660">Dartium and also deploy </span><span class="line" data-startTime="660">it on any browser with </span><span class="line" data-startTime="662">the same HTML file. </span> <span class="line" data-startTime="665">So first you'll notice two </span><span class="line" data-startTime="665">script tags at the bottom. </span> <span class="line" data-startTime="667">The first one has a type you </span><span class="line" data-startTime="667">may not have seen before, </span><span class="line" data-startTime="670">application slash dart. </span></p>

<p><span class="line" data-startTime="671">That's a new type that is </span><span class="line" data-startTime="671">intended for browsers that </span><span class="line" data-startTime="674">support Dart natively. </span> <span class="line" data-startTime="676">And in our case, </span><span class="line" data-startTime="676">that's Dartium. </span> <span class="line" data-startTime="679">And so Dartium will be able to </span><span class="line" data-startTime="679">just run hello.dart directly </span><span class="line" data-startTime="682">with no tools involved. </span> <span class="line" data-startTime="683">You just change your </span><span class="line" data-startTime="683">app, reload it in </span><span class="line" data-startTime="686">Dartium, and it works. </span> <span class="line" data-startTime="688">Of course, you want your app </span><span class="line" data-startTime="688">to run on all browsers. </span> <span class="line" data-startTime="691">And to make that easy, at least </span><span class="line" data-startTime="691">for the development </span><span class="line" data-startTime="694">perspective, we have this little </span><span class="line" data-startTime="694">script called dart.js, </span><span class="line" data-startTime="697">which just bootstraps. </span> <span class="line" data-startTime="698">It detects if you've got </span><span class="line" data-startTime="698">Dart loaded or not &mdash; </span><span class="line" data-startTime="701">or Dart supported </span><span class="line" data-startTime="701">natively or not. </span></p>

<p><span class="line" data-startTime="702">And if you don't have Dart </span><span class="line" data-startTime="702">supported natively, it will </span><span class="line" data-startTime="706">replace it with a JS version </span><span class="line" data-startTime="706">instead that you've generated. </span> <span class="line" data-startTime="711">And of course, if you're </span><span class="line" data-startTime="711">deploying this, you don't </span><span class="line" data-startTime="714">necessarily want to do this </span><span class="line" data-startTime="714">stuff, you could just deploy </span><span class="line" data-startTime="716">directly with the JavaScript </span><span class="line" data-startTime="716">that you generate </span><span class="line" data-startTime="720">out of Dart to JS. </span> <span class="line" data-startTime="722">So let's take a look </span><span class="line" data-startTime="722">at hello.dart. </span> <span class="line" data-startTime="726">We're importing a library. </span> <span class="line" data-startTime="728">I'll get to that in a moment. </span> <span class="line" data-startTime="729">The main entry point of any </span><span class="line" data-startTime="729">Dart application is Main. </span> <span class="line" data-startTime="734">And it's calling a method called </span><span class="line" data-startTime="734">showMessage here, which </span><span class="line" data-startTime="738">is taking a string and doing an </span><span class="line" data-startTime="738">operation on it to show the </span><span class="line" data-startTime="744">message "Welcome to Dart" </span><span class="line" data-startTime="744">on a web page. </span> <span class="line" data-startTime="746">So let's just fire that up. </span> <span class="line" data-startTime="748">This is running in Dartium. </span> <span class="line" data-startTime="750">And you can see it's just </span><span class="line" data-startTime="750">loaded up right here. </span></p>

<p><span class="line" data-startTime="753">So let's take a look at this. </span> <span class="line" data-startTime="754">So first of all, dart:HTML is </span><span class="line" data-startTime="754">the way you interact with the </span><span class="line" data-startTime="759">browser at the lowest </span><span class="line" data-startTime="759">level in Dart. </span> <span class="line" data-startTime="762">And we had a few things that we </span><span class="line" data-startTime="762">were trying to do when we </span><span class="line" data-startTime="764">created this library. </span> <span class="line" data-startTime="765">First, we wanted to basically </span><span class="line" data-startTime="765">give you all the capabilities </span><span class="line" data-startTime="768">that you have in JavaScript for </span><span class="line" data-startTime="768">interacting with the DOM. </span> <span class="line" data-startTime="772">So anything you can pretty much </span><span class="line" data-startTime="772">do in JavaScript you can </span><span class="line" data-startTime="776">do in Dart as well. </span> <span class="line" data-startTime="777">But we also wanted to take </span><span class="line" data-startTime="777">the opportunity to </span><span class="line" data-startTime="779">clean up the API. </span> <span class="line" data-startTime="781">A lot of times, people will use </span><span class="line" data-startTime="781">frameworks, like jQuery, </span><span class="line" data-startTime="785">for example, just because the </span><span class="line" data-startTime="785">raw DOM API is kind of clumsy </span><span class="line" data-startTime="790">to use and shows its age. </span> <span class="line" data-startTime="792">So we definitely took </span><span class="line" data-startTime="792">inspiration from some of these </span><span class="line" data-startTime="795">frameworks and tried to just </span><span class="line" data-startTime="795">clean up the raw DOM. </span> <span class="line" data-startTime="799">So just accessing the DOM </span><span class="line" data-startTime="799">directly was nice. </span> <span class="line" data-startTime="804">And then finally, this library </span><span class="line" data-startTime="804">was really codesigned as the </span><span class="line" data-startTime="808">Dart language itself evolved. </span> <span class="line" data-startTime="809">And we tried to make the API </span><span class="line" data-startTime="809">take advantage of all the </span><span class="line" data-startTime="814">features of Dart. </span></p>

<p><span class="line" data-startTime="815">So for example, this query API </span><span class="line" data-startTime="815">here is &mdash; it's kind of </span><span class="line" data-startTime="819">analogous to the dollar-sign </span><span class="line" data-startTime="819">operation in jQuery if you're </span><span class="line" data-startTime="822">used to that. </span> <span class="line" data-startTime="823">It's basically a querySelector </span><span class="line" data-startTime="823">on the DOM looking for an </span><span class="line" data-startTime="827">element of ID text and </span><span class="line" data-startTime="827">then setting its Text </span><span class="line" data-startTime="831">field to the message. </span> <span class="line" data-startTime="832">And the nice thing about this </span><span class="line" data-startTime="832">is that it's typed. </span> <span class="line" data-startTime="835">So let's take a look at this. </span> <span class="line" data-startTime="838">So suppose we just want to </span><span class="line" data-startTime="838">go to the declaration. </span> <span class="line" data-startTime="843">We've got the tooling to </span><span class="line" data-startTime="843">go ahead and do that. </span> <span class="line" data-startTime="845">So we can just see, what </span><span class="line" data-startTime="845">is this query method? </span><span class="line" data-startTime="847">Well, we have this comment here </span><span class="line" data-startTime="847">that tells us that it's </span><span class="line" data-startTime="850">returns the first element in </span><span class="line" data-startTime="850">some traversal of the document </span><span class="line" data-startTime="853">given a string. </span> <span class="line" data-startTime="854">What is an element? </span><span class="line" data-startTime="856">Well, we can do that too. </span> <span class="line" data-startTime="858">Just chase that down, and we </span><span class="line" data-startTime="858">see it's an interface. </span></p>

<p><span class="line" data-startTime="860">This ends up actually being one </span><span class="line" data-startTime="860">of the basic interfaces in </span><span class="line" data-startTime="864">the HTML DOM that we can </span><span class="line" data-startTime="864">go ahead and work with. </span> <span class="line" data-startTime="869">So a nice thing also about using </span><span class="line" data-startTime="869">the Dart Editor is that </span><span class="line" data-startTime="872">it's doing some analysis here. </span> <span class="line" data-startTime="874">So it knows the type. </span> <span class="line" data-startTime="875">So remember, query returns </span><span class="line" data-startTime="875">an element. </span> <span class="line" data-startTime="877">And so you're able to use that </span><span class="line" data-startTime="877">information and get auto </span><span class="line" data-startTime="880">completion here. </span> <span class="line" data-startTime="881">And we know what </span><span class="line" data-startTime="881">the fields are. </span> <span class="line" data-startTime="883">And so, as a programmer, </span><span class="line" data-startTime="883">you can quickly search. </span></p>

<p><span class="line" data-startTime="886">You don't have to look </span><span class="line" data-startTime="886">up documentation. </span> <span class="line" data-startTime="888">You have at your fingertips </span><span class="line" data-startTime="888">what you can do. </span> <span class="line" data-startTime="892">Another nice thing is if </span><span class="line" data-startTime="892">you do make typos, </span><span class="line" data-startTime="896">the editor can tell. </span> <span class="line" data-startTime="897">It'll look at the type </span><span class="line" data-startTime="897">information, and show you that </span><span class="line" data-startTime="901">you did something wrong. </span></p>

<p class="speaker"><span class="line" data-starttime="904"><span class="speakerName">Dan Grove</span>: There's a red </span><span class="line" data-startTime="904">line under there, for </span><span class="line" data-startTime="905">those in the back. </span></p>

<p class="speaker"><span class="line" data-starttime="906"><span class="speakerName">Vijay Menon</span>: The yellow line or </span><span class="line" data-startTime="906">problem, and if we look at </span><span class="line" data-startTime="908">the list of problems </span><span class="line" data-startTime="908">here, we see, hey, </span><span class="line" data-startTime="910">there's something wrong. </span> <span class="line" data-startTime="911">Text is not a member </span><span class="line" data-startTime="911">of element. </span> <span class="line" data-startTime="913">If you were at the last talk, </span><span class="line" data-startTime="913">one of the things that Kasper </span><span class="line" data-startTime="917">talked about in terms of </span><span class="line" data-startTime="917">JavaScript is that it had this </span><span class="line" data-startTime="919">just trucking mentality. </span> <span class="line" data-startTime="921">And this is a case where, if </span><span class="line" data-startTime="921">you do this kind of code in </span><span class="line" data-startTime="924">JavaScript and you misspell </span><span class="line" data-startTime="924">the field, it will happily </span><span class="line" data-startTime="927">just create a new property </span><span class="line" data-startTime="927">called txt on your element. </span> <span class="line" data-startTime="930">And it won't show up. </span></p>

<p><span class="line" data-startTime="931">And you'll just be wondering </span><span class="line" data-startTime="931">what happened. </span> <span class="line" data-startTime="933">And you'll have to dig </span><span class="line" data-startTime="933">that out yourself. </span> <span class="line" data-startTime="935">Here, we get that information </span><span class="line" data-startTime="935">right away. </span> <span class="line" data-startTime="938">And that's, again, the </span><span class="line" data-startTime="938">philosophy of early error </span><span class="line" data-startTime="941">information in Dart, which we </span><span class="line" data-startTime="941">think is going to be very </span><span class="line" data-startTime="944">important as we go </span><span class="line" data-startTime="944">to larger apps. </span> <span class="line" data-startTime="946">So let's show more about Dart </span><span class="line" data-startTime="946">HTML before we move on. </span> <span class="line" data-startTime="951">One of the fundamental things </span><span class="line" data-startTime="951">you want to do with DOM is </span><span class="line" data-startTime="953">create elements. </span> <span class="line" data-startTime="954">And we have a nice way </span><span class="line" data-startTime="954">of doing that. </span> <span class="line" data-startTime="957">In JavaScript you </span><span class="line" data-startTime="957">need a factory. </span> <span class="line" data-startTime="960">In Dart you just call </span><span class="line" data-startTime="960">a constructor. </span></p>

<p><span class="line" data-startTime="961">So we can call new </span><span class="line" data-startTime="961">CanvasElement </span><span class="line" data-startTime="963">to create the Canvas. </span> <span class="line" data-startTime="966">And the constructor for Canvas </span><span class="line" data-startTime="966">takes height and width. </span> <span class="line" data-startTime="970">It uses a feature called </span><span class="line" data-startTime="970">Optional Named Parameters. </span> <span class="line" data-startTime="973">So I don't have to remember </span><span class="line" data-startTime="973">the order in which it's &mdash; </span><span class="line" data-startTime="979">whether it's height or width. </span> <span class="line" data-startTime="980">I can just go ahead </span><span class="line" data-startTime="980">and invoke that. </span> <span class="line" data-startTime="983">And this typo, at least, </span><span class="line" data-startTime="983">was on purpose. </span> <span class="line" data-startTime="987">It shows that, hey, </span><span class="line" data-startTime="987">I got it wrong. </span> <span class="line" data-startTime="989">That was the wrong name </span><span class="line" data-startTime="989">of the field. </span> <span class="line" data-startTime="991">Every time I give this talk </span><span class="line" data-startTime="991">I have different typos. </span> <span class="line" data-startTime="993">So you can guess which ones &mdash; </span><span class="line" data-startTime="995">They're all on purpose. </span> <span class="line" data-startTime="997">It's all right. </span> <span class="line" data-startTime="999">So yeah, I could tell right away </span><span class="line" data-startTime="999">that there's a problem. </span> <span class="line" data-startTime="1002">And I can go ahead </span><span class="line" data-startTime="1002">and fix that. </span></p>

<p><span class="line" data-startTime="1004">And again, I get cool type </span><span class="line" data-startTime="1004">completion from here. </span> <span class="line" data-startTime="1010">So again, I know what's </span><span class="line" data-startTime="1010">on the Canvas. </span> <span class="line" data-startTime="1014">I know that it's got a context, </span><span class="line" data-startTime="1014">a 2D context, in </span><span class="line" data-startTime="1016">particular. </span> <span class="line" data-startTime="1017">Usually want to get at the </span><span class="line" data-startTime="1017">context to be able to do </span><span class="line" data-startTime="1021">interesting things. </span> <span class="line" data-startTime="1022">And then if I want to set the </span><span class="line" data-startTime="1022">fill style in the context, not </span><span class="line" data-startTime="1028">the Context 2D, again, I </span><span class="line" data-startTime="1028">can see what's there. </span> <span class="line" data-startTime="1033">Let's make this one red. </span> <span class="line" data-startTime="1037">Let's also fill a rectangle. </span> <span class="line" data-startTime="1044">Go with something very </span><span class="line" data-startTime="1044">simple here. </span> <span class="line" data-startTime="1046">But again, I see, as I'm typing </span><span class="line" data-startTime="1046">in, what the signature </span><span class="line" data-startTime="1049">of this method is. </span> <span class="line" data-startTime="1050">So I don't have to really guess </span><span class="line" data-startTime="1050">at what the parameters </span><span class="line" data-startTime="1051">are or have to look up </span><span class="line" data-startTime="1051">things on the side. </span></p>

<p><span class="line" data-startTime="1054">It just sort of works for me. </span> <span class="line" data-startTime="1056">And let's go ahead and add this </span><span class="line" data-startTime="1056">to the document and see </span><span class="line" data-startTime="1059">how that looks. </span> <span class="line" data-startTime="1061">So I'm just going to get the </span><span class="line" data-startTime="1061">nodes of the document's body. </span> <span class="line" data-startTime="1064">And I'm going to go ahead </span><span class="line" data-startTime="1064">and add the Canvas. </span> <span class="line" data-startTime="1070">And let's load that </span><span class="line" data-startTime="1070">up in Dartium. </span> <span class="line" data-startTime="1073">And now you can see our "hello" </span><span class="line" data-startTime="1073">app with just a little </span><span class="line" data-startTime="1075">Canvas at the bottom. </span> <span class="line" data-startTime="1077">All right. </span> <span class="line" data-startTime="1078">So let's make this a little </span><span class="line" data-startTime="1078">bit more interesting. </span> <span class="line" data-startTime="1080">First of all let's just &mdash; </span><span class="line" data-startTime="1083">Because I don't type too fast, </span><span class="line" data-startTime="1083">let me just do some cut and </span><span class="line" data-startTime="1085">paste and create a second </span><span class="line" data-startTime="1085">Canvas here, </span><span class="line" data-startTime="1087">and save this off. </span></p>

<p><span class="line" data-startTime="1089">And as I do this, one nice thing </span><span class="line" data-startTime="1089">I get is, hey there's </span><span class="line" data-startTime="1092">some errors. </span> <span class="line" data-startTime="1093">You can't just do it </span><span class="line" data-startTime="1093">the way you did. </span> <span class="line" data-startTime="1095">The editor shows me right away </span><span class="line" data-startTime="1095">that Canvas and context are </span><span class="line" data-startTime="1100">duplicate definitions. </span> <span class="line" data-startTime="1101">And in this case, I can look at </span><span class="line" data-startTime="1101">my code and know that these </span><span class="line" data-startTime="1103">two definitions don't conflict </span><span class="line" data-startTime="1103">with each other. </span> <span class="line" data-startTime="1106">And I can make sure that I'm </span><span class="line" data-startTime="1106">doing the right thing here. </span> <span class="line" data-startTime="1109">And let's make this one a little </span><span class="line" data-startTime="1109">bit different for fun. </span> <span class="line" data-startTime="1113">Give it a different width. </span> <span class="line" data-startTime="1115">Let's make it blue, and </span><span class="line" data-startTime="1115">just load it back up. </span> <span class="line" data-startTime="1122">And again, I'm just </span><span class="line" data-startTime="1122">reloading &mdash; </span><span class="line" data-startTime="1124">I'm restarting the browser, </span><span class="line" data-startTime="1124">because it's so fast. </span></p>

<p><span class="line" data-startTime="1126">But you don't have to do that. </span> <span class="line" data-startTime="1128">I can just go change it here. </span> <span class="line" data-startTime="1131">I do have to save my file. </span> <span class="line" data-startTime="1132">But then I can just go </span><span class="line" data-startTime="1132">back into Dartium </span><span class="line" data-startTime="1136">here and reload it. </span> <span class="line" data-startTime="1137">And everything just works. </span> <span class="line" data-startTime="1140">So that's how you </span><span class="line" data-startTime="1140">create elements. </span> <span class="line" data-startTime="1142">You've got nice constructors </span><span class="line" data-startTime="1142">in Dart that you </span><span class="line" data-startTime="1144">can use to do it. </span> <span class="line" data-startTime="1145">You've got named optional </span><span class="line" data-startTime="1145">parameters to make it easy to </span><span class="line" data-startTime="1147">set things up. </span> <span class="line" data-startTime="1149">Let's say you want a query. </span> <span class="line" data-startTime="1150">That's a fundamental </span><span class="line" data-startTime="1150">operation. </span></p>

<p><span class="line" data-startTime="1152">And we showed one example </span><span class="line" data-startTime="1152">right here where we're </span><span class="line" data-startTime="1154">querying for text, for the </span><span class="line" data-startTime="1154">element with the text ID. </span> <span class="line" data-startTime="1159">Let's do another one where we </span><span class="line" data-startTime="1159">get a list of all of the </span><span class="line" data-startTime="1168">Canvas objects. </span> <span class="line" data-startTime="1170">So Query All is another </span><span class="line" data-startTime="1170">operation like query, but this </span><span class="line" data-startTime="1174">returns a list. </span> <span class="line" data-startTime="1175">So now you get nice typing </span><span class="line" data-startTime="1175">information. </span> <span class="line" data-startTime="1177">List is a fundamental data </span><span class="line" data-startTime="1177">structure in Dart. </span> <span class="line" data-startTime="1181">And there's nice language </span><span class="line" data-startTime="1181">support for it. </span> <span class="line" data-startTime="1183">So I get this list, and it's </span><span class="line" data-startTime="1183">really easy to just iterate </span><span class="line" data-startTime="1189">over all the elements </span><span class="line" data-startTime="1189">in the list. </span> <span class="line" data-startTime="1191">So this will give me each </span><span class="line" data-startTime="1191">Canvas, and I can do something </span><span class="line" data-startTime="1194">interesting with it. </span> <span class="line" data-startTime="1195">So in this case, let's go ahead </span><span class="line" data-startTime="1195">and set the context. </span> <span class="line" data-startTime="1202">And note that this </span><span class="line" data-startTime="1202">is pretty cool. </span> <span class="line" data-startTime="1203">The editor is still able to </span><span class="line" data-startTime="1203">reason about this and do some </span><span class="line" data-startTime="1207">nice auto complete for me. </span></p>

<p><span class="line" data-startTime="1209">So let's fill in another </span><span class="line" data-startTime="1209">rectangle, slightly different, </span><span class="line" data-startTime="1214">so we can actually </span><span class="line" data-startTime="1214">see something. </span> <span class="line" data-startTime="1218">So this should go through the </span><span class="line" data-startTime="1218">two Canvases on my page and </span><span class="line" data-startTime="1221">draw an existing rectangle. </span> <span class="line" data-startTime="1223">So let's see if I </span><span class="line" data-startTime="1223">did this right. </span> <span class="line" data-startTime="1225">And yes, you can see that </span><span class="line" data-startTime="1225">here is the second </span><span class="line" data-startTime="1227">rectangle on both. </span> <span class="line" data-startTime="1230">Iterating over properties, </span><span class="line" data-startTime="1230">this is kind of a </span><span class="line" data-startTime="1232">cool, subtle thing. </span> <span class="line" data-startTime="1233">You can write this code </span><span class="line" data-startTime="1233">in JavaScript and </span><span class="line" data-startTime="1236">iterate over the list. </span> <span class="line" data-startTime="1237">But it doesn't do exactly </span><span class="line" data-startTime="1237">what you want. </span> <span class="line" data-startTime="1239">It will not only give you the </span><span class="line" data-startTime="1239">Canvas objects, it will also </span><span class="line" data-startTime="1241">give you the length property </span><span class="line" data-startTime="1241">and so on. </span> <span class="line" data-startTime="1243">So it's not as nicely integrated </span><span class="line" data-startTime="1243">as it is in Dart. </span> <span class="line" data-startTime="1246">And that makes for a pretty </span><span class="line" data-startTime="1246">cool experience. </span> <span class="line" data-startTime="1251">One of the things we liked </span><span class="line" data-startTime="1251">a lot about jQuery is the </span><span class="line" data-startTime="1253">ability to chain things </span><span class="line" data-startTime="1253">together. </span> <span class="line" data-startTime="1255">And you can do that in pretty </span><span class="line" data-startTime="1255">cool ways in Dart, too. </span></p>

<p><span class="line" data-startTime="1258">So let's do another operation </span><span class="line" data-startTime="1258">on the Canvas here. </span> <span class="line" data-startTime="1263">And again, this is going </span><span class="line" data-startTime="1263">to give me a </span><span class="line" data-startTime="1265">list of all the Canvases. </span> <span class="line" data-startTime="1267">And the list object in Dart has </span><span class="line" data-startTime="1267">a lot of nice functional </span><span class="line" data-startTime="1271">style methods. </span> <span class="line" data-startTime="1272">So one of the things we </span><span class="line" data-startTime="1272">can do is filter. </span> <span class="line" data-startTime="1275">And that takes a closure. </span> <span class="line" data-startTime="1278">So we can basically say, well </span><span class="line" data-startTime="1278">let's get all of the elements </span><span class="line" data-startTime="1282">where the width is </span><span class="line" data-startTime="1282">equal to 100. </span> <span class="line" data-startTime="1287">So that should give me </span><span class="line" data-startTime="1287">the second Canvas. </span> <span class="line" data-startTime="1292">A lot of times &mdash; </span><span class="line" data-startTime="1294">And again, I get the nice </span><span class="line" data-startTime="1294">auto complete as I go. </span> <span class="line" data-startTime="1297">A lot of times, again, when </span><span class="line" data-startTime="1297">you're working with a Canvas, </span><span class="line" data-startTime="1303">you really just want to </span><span class="line" data-startTime="1303">work with its context. </span></p>

<p><span class="line" data-startTime="1305">So we can go ahead and pull </span><span class="line" data-startTime="1305">out the context 2D. </span> <span class="line" data-startTime="1310">So now instead of a list of </span><span class="line" data-startTime="1310">Canvas elements, we have a </span><span class="line" data-startTime="1314">list of Canvas rendering </span><span class="line" data-startTime="1314">context 2D. </span> <span class="line" data-startTime="1317">That's a bit of a mouthful, but </span><span class="line" data-startTime="1317">we haven't actually had to </span><span class="line" data-startTime="1319">type that in. </span> <span class="line" data-startTime="1319">So it's not so bad. </span> <span class="line" data-startTime="1322">And then finally, once we have </span><span class="line" data-startTime="1322">that context that we want, </span><span class="line" data-startTime="1331">let's go ahead and, since I'm </span><span class="line" data-startTime="1331">having so much fun with </span><span class="line" data-startTime="1336">rectangles, fill another </span><span class="line" data-startTime="1336">rectangle this time. </span> <span class="line" data-startTime="1342">And let's make this kind of </span><span class="line" data-startTime="1342">long, just so it shows up. </span> <span class="line" data-startTime="1350">And I need to close that off. </span> <span class="line" data-startTime="1353">Oh, don't have a semicolon </span><span class="line" data-startTime="1353">there. </span> <span class="line" data-startTime="1356">It's awfully nice having an </span><span class="line" data-startTime="1356">editor that tells you what you </span><span class="line" data-startTime="1358">did wrong when you're giving </span><span class="line" data-startTime="1358">a live demo, by the way. </span></p>

<p><span class="line" data-startTime="1362">So yeah. </span> <span class="line" data-startTime="1362">I save that. </span> <span class="line" data-startTime="1364">Let me go ahead and </span><span class="line" data-startTime="1364">load that up. </span> <span class="line" data-startTime="1365">If I did this right, yes, you </span><span class="line" data-startTime="1365">see a difference only on the </span><span class="line" data-startTime="1368">second Canvas. </span> <span class="line" data-startTime="1369">So again, you've got this nice </span><span class="line" data-startTime="1369">way of just chaining things </span><span class="line" data-startTime="1371">together in Dart that you just </span><span class="line" data-startTime="1371">get for free, because we're </span><span class="line" data-startTime="1374">able to leverage the core </span><span class="line" data-startTime="1374">Dart data structures. </span> <span class="line" data-startTime="1377">And one final thing I want </span><span class="line" data-startTime="1377">to get to in dart:HTML. </span> <span class="line" data-startTime="1381">Fundamental thing with UIs, of </span><span class="line" data-startTime="1381">course, and web UIs, is you </span><span class="line" data-startTime="1384">want to be able to </span><span class="line" data-startTime="1384">add listeners. </span> <span class="line" data-startTime="1387">So you can do that. </span></p>

<p><span class="line" data-startTime="1388">And that's another thing that </span><span class="line" data-startTime="1388">we've changed a bit. </span> <span class="line" data-startTime="1390">Let me just go ahead and use </span><span class="line" data-startTime="1390">this text element here. </span> <span class="line" data-startTime="1395">This is an element. </span> <span class="line" data-startTime="1396">We can listen to all of the </span><span class="line" data-startTime="1396">events on it by just looking </span><span class="line" data-startTime="1399">at this On field, which gives us </span><span class="line" data-startTime="1399">a list of all the things we </span><span class="line" data-startTime="1402">can listen on to. </span> <span class="line" data-startTime="1402">So we can easily see </span><span class="line" data-startTime="1402">what's there. </span> <span class="line" data-startTime="1405">And of course, one of the more </span><span class="line" data-startTime="1405">interesting ones is click. </span> <span class="line" data-startTime="1409">We can go ahead and add </span><span class="line" data-startTime="1409">our own handler that </span><span class="line" data-startTime="1412">listens to an event. </span></p>

<p><span class="line" data-startTime="1413">And in this case, we're </span><span class="line" data-startTime="1413">not going to do </span><span class="line" data-startTime="1414">anything with that event. </span> <span class="line" data-startTime="1415">We're just going to show </span><span class="line" data-startTime="1415">a new message. </span> <span class="line" data-startTime="1428">And if I did this right, </span><span class="line" data-startTime="1428">I have the event here. </span> <span class="line" data-startTime="1432">OK. </span> <span class="line" data-startTime="1432">So that's all running </span><span class="line" data-startTime="1432">in Dartium. </span> <span class="line" data-startTime="1434">Of course, you're going to want </span><span class="line" data-startTime="1434">to be able to run your </span><span class="line" data-startTime="1438">stuff as JavaScript, and </span><span class="line" data-startTime="1438">that's easy to do. </span> <span class="line" data-startTime="1440">You can just generate </span><span class="line" data-startTime="1440">JavaScript here. </span> <span class="line" data-startTime="1443">And let's go there, grab that </span><span class="line" data-startTime="1443">same URL, go to another </span><span class="line" data-startTime="1448">browser, Firefox &mdash; </span><span class="line" data-startTime="1450">we haven't actually put </span><span class="line" data-startTime="1450">the Dart VM in there. </span> <span class="line" data-startTime="1453">And OK. </span> <span class="line" data-startTime="1460">Thank you. </span> <span class="line" data-startTime="1461">Hey, it's great having an </span><span class="line" data-startTime="1461">audience that knows </span><span class="line" data-startTime="1463">what I should do. </span></p>

<p><span class="line" data-startTime="1464">So Firefox running. </span> <span class="line" data-startTime="1465">Thank you very much. </span> <span class="line" data-startTime="1466">And here's the same code. </span> <span class="line" data-startTime="1467">And glad you're paying attention </span><span class="line" data-startTime="1467">and helping me out. </span> <span class="line" data-startTime="1470">And it's running the same </span><span class="line" data-startTime="1470">as it ran in Chrome. </span> <span class="line" data-startTime="1477">So all this tooling really </span><span class="line" data-startTime="1477">helps us out, we believe. </span> <span class="line" data-startTime="1480">But you don't have to use the </span><span class="line" data-startTime="1480">tooling if you don't want to. </span> <span class="line" data-startTime="1484">All of the stuff is available </span><span class="line" data-startTime="1484">there to use </span><span class="line" data-startTime="1487">at the command line. </span></p>

<p class="speaker"><span class="line" data-starttime="1489"><span class="speakerName">Dan Grove</span>: Yeah, exactly. </span> <span class="line" data-startTime="1490">So we certainly have people on </span><span class="line" data-startTime="1490">our team that will never use </span><span class="line" data-startTime="1493">an IDE ever. </span> <span class="line" data-startTime="1494">And they're actually perfectly </span><span class="line" data-startTime="1494">happy writing Dart code. </span> <span class="line" data-startTime="1498">These are the same people, </span><span class="line" data-startTime="1498">they use vi. </span> <span class="line" data-startTime="1500">They're really addicted to it. </span> <span class="line" data-startTime="1501">They're not going to switch. </span> <span class="line" data-startTime="1502">But all the tools </span><span class="line" data-startTime="1502">work fine there. </span> <span class="line" data-startTime="1504">So you can run the Dart VM </span><span class="line" data-startTime="1504">on the command line. </span> <span class="line" data-startTime="1506">You can run the Dart Compiler </span><span class="line" data-startTime="1506">on the command line, produce </span><span class="line" data-startTime="1509">your JavaScript for your </span><span class="line" data-startTime="1509">web application. </span> <span class="line" data-startTime="1510">You can use Dartium. </span> <span class="line" data-startTime="1511">You can use everything. </span> <span class="line" data-startTime="1512">So you don't have to buy into </span><span class="line" data-startTime="1512">all of the tools in order to </span><span class="line" data-startTime="1514">make this work. </span> <span class="line" data-startTime="1516">So let's get back to Swarm and </span><span class="line" data-startTime="1516">talk about the design choices </span><span class="line" data-startTime="1519">we made and how we </span><span class="line" data-startTime="1519">think modern apps </span><span class="line" data-startTime="1520">should be built in Dart. </span></p>

<p><span class="line" data-startTime="1523">So going back to the goals here, </span><span class="line" data-startTime="1523">we really wanted Swarm </span><span class="line" data-startTime="1526">to be a great news reader that </span><span class="line" data-startTime="1526">was written in Dart. </span> <span class="line" data-startTime="1529">Why written in Dart? </span><span class="line" data-startTime="1530">Because we care a ton about </span><span class="line" data-startTime="1530">Dart, and we actually wanted </span><span class="line" data-startTime="1532">to learn about the language. </span> <span class="line" data-startTime="1533">And we wanted to iterate on </span><span class="line" data-startTime="1533">the language with a real </span><span class="line" data-startTime="1536">application. </span> <span class="line" data-startTime="1537">Speed is critical. </span> <span class="line" data-startTime="1539">If you work on the Dart Team, </span><span class="line" data-startTime="1539">you have to care about speed. </span> <span class="line" data-startTime="1543">There's just no way around it. </span> <span class="line" data-startTime="1544">So 60 frames per second is the </span><span class="line" data-startTime="1544">requirement these days. </span> <span class="line" data-startTime="1548">We needed an application that </span><span class="line" data-startTime="1548">could be customized to </span><span class="line" data-startTime="1550">different form factors. </span> <span class="line" data-startTime="1551">I remember the first time </span><span class="line" data-startTime="1551">we showed it to someone. </span></p>

<p><span class="line" data-startTime="1553">The first question we got was, </span><span class="line" data-startTime="1553">so if you want to run this on </span><span class="line" data-startTime="1555">a phone, do you have to </span><span class="line" data-startTime="1555">rewrite the entire </span><span class="line" data-startTime="1557">application? </span><span class="line" data-startTime="1557">And the answer is no. </span> <span class="line" data-startTime="1558">We tried to design it in such </span><span class="line" data-startTime="1558">a way that we could actually </span><span class="line" data-startTime="1561">build customized UIs relatively </span><span class="line" data-startTime="1561">straightforwardly. </span> <span class="line" data-startTime="1564">And finally, we wanted it </span><span class="line" data-startTime="1564">to be offline capable. </span> <span class="line" data-startTime="1567">And not just so that the demo </span><span class="line" data-startTime="1567">would work when we were </span><span class="line" data-startTime="1569">talking at Google I/O. </span> <span class="line" data-startTime="1569">But there are a </span><span class="line" data-startTime="1570">lot of other reasons. </span> <span class="line" data-startTime="1572">Most of you, I guess all of us, </span><span class="line" data-startTime="1572">will wind up with these </span><span class="line" data-startTime="1575">Wi-Fi-enabled tablets that </span><span class="line" data-startTime="1575">have no connectivity when </span><span class="line" data-startTime="1579">they're outside a Wi-Fi zone or </span><span class="line" data-startTime="1579">when they're at Google I/O. </span> <span class="line" data-startTime="1582">So people that have those are </span><span class="line" data-startTime="1582">going to care a ton about </span><span class="line" data-startTime="1585">being offline. </span></p>

<p><span class="line" data-startTime="1586">People that live in the US care </span><span class="line" data-startTime="1586">a lot about this too. </span> <span class="line" data-startTime="1588">Because the mobile networks here </span><span class="line" data-startTime="1588">are pretty lousy, and you </span><span class="line" data-startTime="1591">often wind up without </span><span class="line" data-startTime="1591">connectivity. </span> <span class="line" data-startTime="1594">So we needed to meet all these </span><span class="line" data-startTime="1594">goals to make Swarm work well. </span> <span class="line" data-startTime="1599">So we started with the UI. </span> <span class="line" data-startTime="1600">And we wanted to build </span><span class="line" data-startTime="1600">a great layout. </span> <span class="line" data-startTime="1602">And we wanted to build a system </span><span class="line" data-startTime="1602">that would work nicely </span><span class="line" data-startTime="1605">on phones, on tablets, </span><span class="line" data-startTime="1605">and on the desktop. </span> <span class="line" data-startTime="1608">We really liked what we saw </span><span class="line" data-startTime="1608">when we went out and </span><span class="line" data-startTime="1610">looked at CS's grid. </span> <span class="line" data-startTime="1611">We thought, that's super cool. </span> <span class="line" data-startTime="1614">Unfortunately, it's </span><span class="line" data-startTime="1614">not everywhere we </span><span class="line" data-startTime="1615">needed it to be yet. </span></p>

<p><span class="line" data-startTime="1616">It's critical to us that we not </span><span class="line" data-startTime="1616">break the web and that we </span><span class="line" data-startTime="1619">actually build Dart applications </span><span class="line" data-startTime="1619">that work across </span><span class="line" data-startTime="1621">all the browsers that </span><span class="line" data-startTime="1621">we're targeting. </span> <span class="line" data-startTime="1623">We also looked at CS's </span><span class="line" data-startTime="1623">flex box, which is </span><span class="line" data-startTime="1625">also kind of cool. </span> <span class="line" data-startTime="1628">But it has some problems. </span> <span class="line" data-startTime="1629">One is that it doesn't </span><span class="line" data-startTime="1629">support animation. </span> <span class="line" data-startTime="1630">And animation is really critical </span><span class="line" data-startTime="1630">if we're going to </span><span class="line" data-startTime="1633">build really great apps. </span> <span class="line" data-startTime="1635">It's also not identical </span><span class="line" data-startTime="1635">cross browser. </span> <span class="line" data-startTime="1637">And we didn't really </span><span class="line" data-startTime="1637">want to do a lot of </span><span class="line" data-startTime="1638">tweaking across browsers. </span></p>

<p><span class="line" data-startTime="1640">And then we had a revelation. </span> <span class="line" data-startTime="1642">We thought about building this </span><span class="line" data-startTime="1642">and doing layout in code. </span> <span class="line" data-startTime="1645">And that's kind of nice. </span> <span class="line" data-startTime="1647">Because layout in code could </span><span class="line" data-startTime="1647">be the same everywhere. </span> <span class="line" data-startTime="1649">And you can actually get </span><span class="line" data-startTime="1649">animations that work. </span> <span class="line" data-startTime="1652">And we can build on all this </span><span class="line" data-startTime="1652">awesome VM speed that has been </span><span class="line" data-startTime="1655">developed over the </span><span class="line" data-startTime="1655">last five years. </span> <span class="line" data-startTime="1657">We don't have to rely on only </span><span class="line" data-startTime="1657">the browser primitives. </span> <span class="line" data-startTime="1661">We can actually do interesting </span><span class="line" data-startTime="1661">stuff in code. </span> <span class="line" data-startTime="1663">And that was what we decided </span><span class="line" data-startTime="1663">to do for the </span><span class="line" data-startTime="1664">layout engine here. </span> <span class="line" data-startTime="1667">Underneath the layout, we </span><span class="line" data-startTime="1667">thought that we would actually </span><span class="line" data-startTime="1670">try to take a fairly structured </span><span class="line" data-startTime="1670">approach to </span><span class="line" data-startTime="1672">building the application. </span> <span class="line" data-startTime="1673">And it's kind of a mouthful, </span><span class="line" data-startTime="1673">like the </span><span class="line" data-startTime="1676">Model-View-ViewModel Approach. </span></p>

<p><span class="line" data-startTime="1677">And this has been an approach </span><span class="line" data-startTime="1677">that's been taken, basically, </span><span class="line" data-startTime="1681">since the mid-2000s for rich </span><span class="line" data-startTime="1681">client applications. </span> <span class="line" data-startTime="1685">And the general idea here </span><span class="line" data-startTime="1685">is that you have Views. </span> <span class="line" data-startTime="1688">And each of those Views is </span><span class="line" data-startTime="1688">coupled to its own ViewModel. </span> <span class="line" data-startTime="1691">And the ViewModel essentially </span><span class="line" data-startTime="1691">maintains state that is </span><span class="line" data-startTime="1693">related to the View but that </span><span class="line" data-startTime="1693">isn't the same as the true </span><span class="line" data-startTime="1698">model that stores the data. </span> <span class="line" data-startTime="1700">So ViewModels often have </span><span class="line" data-startTime="1700">transient state. </span></p>

<p><span class="line" data-startTime="1702">They often interact </span><span class="line" data-startTime="1702">with each other. </span> <span class="line" data-startTime="1703">And they essentially mediate </span><span class="line" data-startTime="1703">between the core data model </span><span class="line" data-startTime="1707">and the UI. </span> <span class="line" data-startTime="1708">Underneath the data layer, </span><span class="line" data-startTime="1708">we can actually </span><span class="line" data-startTime="1710">connect to the cloud. </span> <span class="line" data-startTime="1711">And the nice thing is, if we </span><span class="line" data-startTime="1711">build our application this </span><span class="line" data-startTime="1713">way, we can actually deal with </span><span class="line" data-startTime="1713">lack of connectivity to the </span><span class="line" data-startTime="1716">cloud, which is important. </span> <span class="line" data-startTime="1720">So let's walk through Swarm </span><span class="line" data-startTime="1720">and take a look at these </span><span class="line" data-startTime="1723">different parts. </span> <span class="line" data-startTime="1724">So first of all, the model. </span> <span class="line" data-startTime="1726">The model is the true </span><span class="line" data-startTime="1726">application state, and by that </span><span class="line" data-startTime="1729">I mean that all of the data </span><span class="line" data-startTime="1729">that we need to be able to </span><span class="line" data-startTime="1731">build the application </span><span class="line" data-startTime="1731">lives in the model. </span></p>

<p><span class="line" data-startTime="1734">One of the important things for </span><span class="line" data-startTime="1734">us is that, in order to </span><span class="line" data-startTime="1736">have things like offline and </span><span class="line" data-startTime="1736">local acceleration where </span><span class="line" data-startTime="1739">you're actually responding to </span><span class="line" data-startTime="1739">results on the client, you </span><span class="line" data-startTime="1742">actually need to be </span><span class="line" data-startTime="1742">able to construct </span><span class="line" data-startTime="1743">the UI on the client. </span> <span class="line" data-startTime="1745">And we can do that, because we </span><span class="line" data-startTime="1745">have these powerful VMs now. </span> <span class="line" data-startTime="1748">There are a lot of other neat </span><span class="line" data-startTime="1748">things that you can get if you </span><span class="line" data-startTime="1750">actually build a model </span><span class="line" data-startTime="1750">correctly. </span> <span class="line" data-startTime="1753">One is tab consistency. </span> <span class="line" data-startTime="1754">This is something that annoys me </span><span class="line" data-startTime="1754">constantly as I have Gmail </span><span class="line" data-startTime="1757">open on a couple of </span><span class="line" data-startTime="1757">different tabs. </span></p>

<p><span class="line" data-startTime="1759">And one tab says I have 20,000 </span><span class="line" data-startTime="1759">unread messages, and the other </span><span class="line" data-startTime="1762">one says I have 20,001 </span><span class="line" data-startTime="1762">unread messages. </span> <span class="line" data-startTime="1764">It's really irritating. </span> <span class="line" data-startTime="1766">We can actually use things like </span><span class="line" data-startTime="1766">shared workers on the web </span><span class="line" data-startTime="1769">to have a shared model between </span><span class="line" data-startTime="1769">different tabs and start </span><span class="line" data-startTime="1772">getting tabs that are </span><span class="line" data-startTime="1772">actually consistent. </span> <span class="line" data-startTime="1774">And when that day comes, it </span><span class="line" data-startTime="1774">will be a fantastic thing. </span> <span class="line" data-startTime="1778">We can also get strong data </span><span class="line" data-startTime="1778">and View separation. </span> <span class="line" data-startTime="1780">And that's really nice, because </span><span class="line" data-startTime="1780">then we can actually </span><span class="line" data-startTime="1782">build different Views and </span><span class="line" data-startTime="1782">different UIs without </span><span class="line" data-startTime="1785">rebuilding the entire </span><span class="line" data-startTime="1785">application. </span> <span class="line" data-startTime="1787">So let's look at what the pieces </span><span class="line" data-startTime="1787">of the Swarm model are. </span> <span class="line" data-startTime="1791">So first of all, we </span><span class="line" data-startTime="1791">have the sections. </span> <span class="line" data-startTime="1793">And these are the sections of </span><span class="line" data-startTime="1793">news that I've decided to </span><span class="line" data-startTime="1796">subscribe to. </span> <span class="line" data-startTime="1796">So no surprise, Google is one of </span><span class="line" data-startTime="1796">them, Geek is one of them, </span><span class="line" data-startTime="1802">all the usual things. </span> <span class="line" data-startTime="1804">And then we have feeds. </span> <span class="line" data-startTime="1804">And the feeds are essentially </span><span class="line" data-startTime="1804">RSS feeds that </span><span class="line" data-startTime="1807">are stored per section. </span></p>

<p><span class="line" data-startTime="1809">And then in the model, we </span><span class="line" data-startTime="1809">have articles per feed. </span> <span class="line" data-startTime="1812">And these articles are </span><span class="line" data-startTime="1812">not what you're </span><span class="line" data-startTime="1814">seeing on the screen. </span> <span class="line" data-startTime="1814">These articles are the actual </span><span class="line" data-startTime="1814">full text of the articles. </span> <span class="line" data-startTime="1820">We'll turn that into </span><span class="line" data-startTime="1820">UI in a little bit. </span> <span class="line" data-startTime="1821">But the entire content of the </span><span class="line" data-startTime="1821">article is stored here. </span> <span class="line" data-startTime="1825">Once we have the model, we can </span><span class="line" data-startTime="1825">pop up the stack a little bit </span><span class="line" data-startTime="1828">into the ViewModel. </span> <span class="line" data-startTime="1830">And the ViewModel is essentially </span><span class="line" data-startTime="1830">responsible for </span><span class="line" data-startTime="1832">transforming the model </span><span class="line" data-startTime="1832">for the View. </span> <span class="line" data-startTime="1835">It also performs all the </span><span class="line" data-startTime="1835">interactions between the View </span><span class="line" data-startTime="1837">and the actual application. </span></p>

<p><span class="line" data-startTime="1839">You can think of the View as </span><span class="line" data-startTime="1839">really being the UI side of </span><span class="line" data-startTime="1841">things and the ViewModel being </span><span class="line" data-startTime="1841">where those UI events get </span><span class="line" data-startTime="1844">modeled into something that </span><span class="line" data-startTime="1844">deals with the rest of the </span><span class="line" data-startTime="1847">application. </span> <span class="line" data-startTime="1848">You can also have Events here. </span> <span class="line" data-startTime="1849">You might have data that's </span><span class="line" data-startTime="1849">changing on the cloud and </span><span class="line" data-startTime="1851">popping up through the model, or </span><span class="line" data-startTime="1851">changing in some other tab </span><span class="line" data-startTime="1854">and then popping up </span><span class="line" data-startTime="1854">through the model. </span> <span class="line" data-startTime="1856">All these things happen </span><span class="line" data-startTime="1856">in the ViewModel. </span> <span class="line" data-startTime="1858">And we build one ViewModel for </span><span class="line" data-startTime="1858">each View in the system. </span></p>

<p><span class="line" data-startTime="1862">There's also a lot of </span><span class="line" data-startTime="1862">transient state </span><span class="line" data-startTime="1863">that's stored here. </span> <span class="line" data-startTime="1865">For instance, in the Swarm </span><span class="line" data-startTime="1865">ViewModel, you'd have things </span><span class="line" data-startTime="1868">like the Current Section. </span> <span class="line" data-startTime="1869">And you can see if you're really </span><span class="line" data-startTime="1869">close, that there's a </span><span class="line" data-startTime="1872">little carrot up underneath </span><span class="line" data-startTime="1872">the top. </span> <span class="line" data-startTime="1873">And you can see the top is </span><span class="line" data-startTime="1873">actually written in red. </span> <span class="line" data-startTime="1877">Current Feed so that you know </span><span class="line" data-startTime="1877">what feeds you should be </span><span class="line" data-startTime="1879">displaying on the screen. </span> <span class="line" data-startTime="1881">The Current Article so that you </span><span class="line" data-startTime="1881">know where in the where in </span><span class="line" data-startTime="1885">the list your cursor is, and </span><span class="line" data-startTime="1885">then the Article Tiles. </span></p>

<p><span class="line" data-startTime="1887">And the Article Tiles are </span><span class="line" data-startTime="1887">things like the title, a </span><span class="line" data-startTime="1889">thumbnail for the article, an </span><span class="line" data-startTime="1889">abstract for the article, that </span><span class="line" data-startTime="1893">sort of thing. </span> <span class="line" data-startTime="1895">And then, as we rise up the </span><span class="line" data-startTime="1895">stack, it's time to get into </span><span class="line" data-startTime="1899">the View itself. </span> <span class="line" data-startTime="1900">And we think of Views as being </span><span class="line" data-startTime="1900">composable UI units that are </span><span class="line" data-startTime="1902">responsible for handling </span><span class="line" data-startTime="1902">all UI interaction. </span> <span class="line" data-startTime="1906">We build these out of Dart </span><span class="line" data-startTime="1906">and HTML and CSS. </span> <span class="line" data-startTime="1910">We looked at a number of other </span><span class="line" data-startTime="1910">options, but in the end, HTML </span><span class="line" data-startTime="1912">and CSS are actually a really </span><span class="line" data-startTime="1912">good story for the web. </span> <span class="line" data-startTime="1915">If you need to, you can always </span><span class="line" data-startTime="1915">build a Custom View that </span><span class="line" data-startTime="1917">decides to render itself in </span><span class="line" data-startTime="1917">WebGL or Canvas, but we expect </span><span class="line" data-startTime="1920">that most Views will actually </span><span class="line" data-startTime="1920">get rendered with HTML. </span></p>

<p><span class="line" data-startTime="1923">Views are actual Dart objects. </span> <span class="line" data-startTime="1925">So this is fantastic, because </span><span class="line" data-startTime="1925">you can start doing things </span><span class="line" data-startTime="1928">like deriving them </span><span class="line" data-startTime="1928">from each other. </span> <span class="line" data-startTime="1929">So you can build a menu, and </span><span class="line" data-startTime="1929">then you could build a </span><span class="line" data-startTime="1931">specialized kind of menu and </span><span class="line" data-startTime="1931">actually take advantage of the </span><span class="line" data-startTime="1935">object-oriented nature </span><span class="line" data-startTime="1935">of Dart. </span> <span class="line" data-startTime="1937">Views are also responsible </span><span class="line" data-startTime="1937">for handling events. </span> <span class="line" data-startTime="1939">And they're responsible for </span><span class="line" data-startTime="1939">handling events that come in, </span><span class="line" data-startTime="1941">in two directions. </span> <span class="line" data-startTime="1942">One is they need to handle </span><span class="line" data-startTime="1942">UI events that are </span><span class="line" data-startTime="1944">coming in from the users. </span> <span class="line" data-startTime="1945">These might be clicks, or </span><span class="line" data-startTime="1945">scrolls, or keyboard events. </span> <span class="line" data-startTime="1949">The View is also responsible </span><span class="line" data-startTime="1949">for handling events that </span><span class="line" data-startTime="1951">bubble up from the ViewModels. </span></p>

<p><span class="line" data-startTime="1953">So these could be events that </span><span class="line" data-startTime="1953">come in from another View and </span><span class="line" data-startTime="1955">get mediated through </span><span class="line" data-startTime="1955">ViewModels. </span> <span class="line" data-startTime="1957">Or they could be data that's </span><span class="line" data-startTime="1957">changing out in the cloud and </span><span class="line" data-startTime="1959">gets pushed up to </span><span class="line" data-startTime="1959">the application. </span> <span class="line" data-startTime="1962">So let's go take a look at </span><span class="line" data-startTime="1962">Swarm in the Editor. </span></p>

<p class="speaker"><span class="line" data-starttime="1965"><span class="speakerName">Vijay Menon</span>: So yeah, let's do </span><span class="line" data-startTime="1965">a deep dive on Swarm now. </span> <span class="line" data-startTime="1968">And this is a much bigger </span><span class="line" data-startTime="1968">application. </span> <span class="line" data-startTime="1970">So let's also come at this from </span><span class="line" data-startTime="1970">the mindset that we're </span><span class="line" data-startTime="1974">actually trying to tackle </span><span class="line" data-startTime="1974">here, which is large </span><span class="line" data-startTime="1976">applications in a production </span><span class="line" data-startTime="1976">environment. </span> <span class="line" data-startTime="1979">Imagine you are a new team </span><span class="line" data-startTime="1979">member on a team that's </span><span class="line" data-startTime="1983">writing Swarm. </span> <span class="line" data-startTime="1984">And you're looking at this </span><span class="line" data-startTime="1984">code for the first time. </span> <span class="line" data-startTime="1986">Can you just jump in </span><span class="line" data-startTime="1986">and be productive? </span><span class="line" data-startTime="1988">That's the thing that we're </span><span class="line" data-startTime="1988">trying to measure. </span> <span class="line" data-startTime="1991">So let's take a look at Swarm </span><span class="line" data-startTime="1991">and find, basically, the main </span><span class="line" data-startTime="1997">HTML page here. </span> <span class="line" data-startTime="1999">It looks a lot like "hello." If </span><span class="line" data-startTime="1999">we look down at the bottom, </span><span class="line" data-startTime="2003">it's a bit more complicated, </span><span class="line" data-startTime="2003">obviously. </span></p>

<p><span class="line" data-startTime="2004">But we, again, see the </span><span class="line" data-startTime="2004">application Dart, with </span><span class="line" data-startTime="2009">swarm.dart, the main </span><span class="line" data-startTime="2009">entry point. </span> <span class="line" data-startTime="2011">And also, this Dart to </span><span class="line" data-startTime="2011">JS that will let us </span><span class="line" data-startTime="2013">boot-strap and test out. </span> <span class="line" data-startTime="2014">We have this nice application </span><span class="line" data-startTime="2014">View. </span> <span class="line" data-startTime="2017">So instead of looking at a long </span><span class="line" data-startTime="2017">laundry list, you can </span><span class="line" data-startTime="2019">actually see the different </span><span class="line" data-startTime="2019">libraries that we used to </span><span class="line" data-startTime="2023">compose together and </span><span class="line" data-startTime="2023">create Swarm. </span> <span class="line" data-startTime="2025">So we have this entry point. </span> <span class="line" data-startTime="2028">We've actually put most of the </span><span class="line" data-startTime="2028">application itself in a </span><span class="line" data-startTime="2030">separate library that we import, </span><span class="line" data-startTime="2030">create a new Swarm app </span><span class="line" data-startTime="2034">instance, and run. </span> <span class="line" data-startTime="2036">And you don't have to </span><span class="line" data-startTime="2036">go searching for </span><span class="line" data-startTime="2037">this again using grep. </span> <span class="line" data-startTime="2039">You can just dive in and see </span><span class="line" data-startTime="2039">what's going on here. </span></p>

<p><span class="line" data-startTime="2042">So this gets us to </span><span class="line" data-startTime="2042">the Swarm app. </span> <span class="line" data-startTime="2046">We can take a look at that. </span> <span class="line" data-startTime="2049">This is the Swarm class. </span> <span class="line" data-startTime="2051">And the main elements that Dan </span><span class="line" data-startTime="2051">talked about are here. </span> <span class="line" data-startTime="2055">Sections is, essentially, the </span><span class="line" data-startTime="2055">model, the data model. </span> <span class="line" data-startTime="2059">FrontView is the </span><span class="line" data-startTime="2059">top-level View. </span> <span class="line" data-startTime="2061">We'll get to that in a moment. </span> <span class="line" data-startTime="2062">And Swarm state corresponds </span><span class="line" data-startTime="2062">to the ViewModel or the </span><span class="line" data-startTime="2066">transient UI state. </span> <span class="line" data-startTime="2068">Let's take a look at what this </span><span class="line" data-startTime="2068">constructor's doing. </span> <span class="line" data-startTime="2070">The first thing it's doing </span><span class="line" data-startTime="2070">is initializing from URL. </span></p>

<p><span class="line" data-startTime="2073">Let's take a look at </span><span class="line" data-startTime="2073">what that does. </span> <span class="line" data-startTime="2074">We can just dive in here. </span> <span class="line" data-startTime="2076">And we can see that, </span><span class="line" data-startTime="2076">OK, there's &mdash; </span><span class="line" data-startTime="2078">Again, you can notice </span><span class="line" data-startTime="2078">to-dos here. </span> <span class="line" data-startTime="2079">This is, again, an app. </span> <span class="line" data-startTime="2080">You're just diving into any </span><span class="line" data-startTime="2080">production app, it's probably </span><span class="line" data-startTime="2083">going to have some </span><span class="line" data-startTime="2083">to-dos in it. </span> <span class="line" data-startTime="2084">It's always evolving, right? </span><span class="line" data-startTime="2085">And you want to find </span><span class="line" data-startTime="2085">out, which path is </span><span class="line" data-startTime="2087">this thing going on. </span> <span class="line" data-startTime="2088">Well, again, we want </span><span class="line" data-startTime="2088">to be able to </span><span class="line" data-startTime="2090">just set a break point. </span> <span class="line" data-startTime="2092">So let's run this, and we can </span><span class="line" data-startTime="2092">see right away that, hey, it </span><span class="line" data-startTime="2095">went down this path. </span> <span class="line" data-startTime="2096">So we've got an idea, at least </span><span class="line" data-startTime="2096">in this mode, of which way </span><span class="line" data-startTime="2100">it's going. </span></p>

<p><span class="line" data-startTime="2101">So we can follow </span><span class="line" data-startTime="2101">the execution. </span> <span class="line" data-startTime="2106">And let's go ahead and run </span><span class="line" data-startTime="2106">that to completion. </span> <span class="line" data-startTime="2110">And we can see &mdash; </span><span class="line" data-startTime="2112">Oh, this is running in Chrome. </span> <span class="line" data-startTime="2113">Let's get the version </span><span class="line" data-startTime="2113">here in Dartium. </span> <span class="line" data-startTime="2118">And you can see that here's the </span><span class="line" data-startTime="2118">app running in Dartium. </span> <span class="line" data-startTime="2122">And if you are used to Chrome </span><span class="line" data-startTime="2122">Developer Tools, you can just </span><span class="line" data-startTime="2129">load that up as well. </span> <span class="line" data-startTime="2130">And you can see that all of that </span><span class="line" data-startTime="2130">is actually starting to </span><span class="line" data-startTime="2132">get pretty nicely integrated, </span><span class="line" data-startTime="2132">as well, in Dartium. </span> <span class="line" data-startTime="2137">So just as a quick thing, let's </span><span class="line" data-startTime="2137">just try loading this </span><span class="line" data-startTime="2140">application and seeing what's </span><span class="line" data-startTime="2140">actually coming across. </span></p>

<p><span class="line" data-startTime="2142">And this is all being served </span><span class="line" data-startTime="2142">from the local file </span><span class="line" data-startTime="2144">system, in this case. </span> <span class="line" data-startTime="2146">One thing you'll notice </span><span class="line" data-startTime="2146">is that there's </span><span class="line" data-startTime="2147">lots of Dart files. </span> <span class="line" data-startTime="2149">If you include transitively all </span><span class="line" data-startTime="2149">the libraries that we're </span><span class="line" data-startTime="2151">pulling through together </span><span class="line" data-startTime="2151">here, there's about </span><span class="line" data-startTime="2153">60-some Dart files. </span> <span class="line" data-startTime="2155">So as you're just editing and </span><span class="line" data-startTime="2155">debugging, this is great. </span> <span class="line" data-startTime="2158">Because I just change one of </span><span class="line" data-startTime="2158">those files, I reload, and I </span><span class="line" data-startTime="2161">get the new effect right here. </span> <span class="line" data-startTime="2163">And of course, as you compile </span><span class="line" data-startTime="2163">this to JavaScript, it's going </span><span class="line" data-startTime="2166">to do the smart thing and </span><span class="line" data-startTime="2166">create one or very few </span><span class="line" data-startTime="2169">JavaScript files that </span><span class="line" data-startTime="2169">you deploy. </span> <span class="line" data-startTime="2171">And when you eventually deploy, </span><span class="line" data-startTime="2171">Dart will do similar </span><span class="line" data-startTime="2173">things there as well. </span></p>

<p><span class="line" data-startTime="2178">So now you've kind of gotten </span><span class="line" data-startTime="2178">familiar with the app. </span> <span class="line" data-startTime="2181">Let's suppose you have </span><span class="line" data-startTime="2181">an initial task. </span> <span class="line" data-startTime="2184">And the task we have is, as you </span><span class="line" data-startTime="2184">dive into a news article, </span><span class="line" data-startTime="2190">we want to show the author </span><span class="line" data-startTime="2190">as well as the feed name. </span> <span class="line" data-startTime="2193">So let's say that we want to go </span><span class="line" data-startTime="2193">ahead and make that change. </span> <span class="line" data-startTime="2197">All right. </span> <span class="line" data-startTime="2197">Let's go back to Swarm. </span> <span class="line" data-startTime="2200">We saw where the top-level </span><span class="line" data-startTime="2200">View is. </span> <span class="line" data-startTime="2202">We can go in and dive </span><span class="line" data-startTime="2202">into there. </span> <span class="line" data-startTime="2206">The top-level View is </span><span class="line" data-startTime="2206">essentially a compositional </span><span class="line" data-startTime="2211">set of Views. </span> <span class="line" data-startTime="2211">So if we look at the different </span><span class="line" data-startTime="2211">pieces in this class, we can </span><span class="line" data-startTime="2214">see here's a topView, the </span><span class="line" data-startTime="2214">headerView, the sliderMenu </span><span class="line" data-startTime="2219">Menu that goes across the top. </span></p>

<p><span class="line" data-startTime="2222">And again, a lot of other </span><span class="line" data-startTime="2222">different names of Views. </span> <span class="line" data-startTime="2227">If we just click on something, </span><span class="line" data-startTime="2227">we can kind of get a sense of </span><span class="line" data-startTime="2230">what's what by it, because the </span><span class="line" data-startTime="2230">comments just show up at &mdash; </span><span class="line" data-startTime="2232">The editor's able to see where </span><span class="line" data-startTime="2232">the definitions are, embed the </span><span class="line" data-startTime="2235">documentation, and pull </span><span class="line" data-startTime="2235">it as needed. </span> <span class="line" data-startTime="2238">And it turns out that </span><span class="line" data-startTime="2238">StoryContentView, reading </span><span class="line" data-startTime="2241">around a little bit, is the </span><span class="line" data-startTime="2241">one we want to modify. </span> <span class="line" data-startTime="2244">So let's take a look at that. </span> <span class="line" data-startTime="2246">So the first complaint we </span><span class="line" data-startTime="2246">might have is, well, </span><span class="line" data-startTime="2249">StoryContentView, that </span><span class="line" data-startTime="2249">was a little bit </span><span class="line" data-startTime="2250">hard for me to find. </span> <span class="line" data-startTime="2252">Gee, it would be nice if I could </span><span class="line" data-startTime="2252">change that name so the </span><span class="line" data-startTime="2255">next person that has </span><span class="line" data-startTime="2255">to dive into it can </span><span class="line" data-startTime="2258">find it more easily. </span></p>

<p><span class="line" data-startTime="2259">So it turns out that that's </span><span class="line" data-startTime="2259">a pretty easy thing </span><span class="line" data-startTime="2263">to do here in Dart. </span> <span class="line" data-startTime="2264">We can just go ahead </span><span class="line" data-startTime="2264">and rename it. </span> <span class="line" data-startTime="2266">And we can call it </span><span class="line" data-startTime="2266">ExpandedStoryView. </span> <span class="line" data-startTime="2274">And the editor's able to do the </span><span class="line" data-startTime="2274">right thing here, and just </span><span class="line" data-startTime="2276">go ahead and change. </span> <span class="line" data-startTime="2277">And you could see that this </span><span class="line" data-startTime="2277">constructor here magically </span><span class="line" data-startTime="2280">changed as well. </span> <span class="line" data-startTime="2281">And if we go to a terminal &mdash; </span><span class="line" data-startTime="2288">Dan mentioned grep. </span> <span class="line" data-startTime="2290">Sometimes we like to do tools </span><span class="line" data-startTime="2290">like grep or diff. </span></p>

<p><span class="line" data-startTime="2295">And we can see that a number </span><span class="line" data-startTime="2295">of changes have been made </span><span class="line" data-startTime="2297">throughout the code base, </span><span class="line" data-startTime="2297">in this case. </span> <span class="line" data-startTime="2299">Not too many. </span> <span class="line" data-startTime="2300">This particular View isn't </span><span class="line" data-startTime="2300">accessed very many places. </span> <span class="line" data-startTime="2305">Let's do something maybe a </span><span class="line" data-startTime="2305">little bit more risky. </span> <span class="line" data-startTime="2307">The item shows up all over the </span><span class="line" data-startTime="2307">place in our core code. </span> <span class="line" data-startTime="2311">So that's a case where you don't </span><span class="line" data-startTime="2311">want to just do Search </span><span class="line" data-startTime="2316">and Replace, because you'll </span><span class="line" data-startTime="2316">probably end up changing a lot </span><span class="line" data-startTime="2319">of things you didn't </span><span class="line" data-startTime="2319">mean to change. </span> <span class="line" data-startTime="2321">And again, the Rename </span><span class="line" data-startTime="2321">facility here is </span><span class="line" data-startTime="2323">actually, it's quite nice. </span> <span class="line" data-startTime="2324">It's able to just use the </span><span class="line" data-startTime="2324">structure and the types to </span><span class="line" data-startTime="2327">know what the right </span><span class="line" data-startTime="2327">thing to do is. </span> <span class="line" data-startTime="2329">And let's go ahead and Name </span><span class="line" data-startTime="2329">Item Article here. </span> <span class="line" data-startTime="2334">And you can see it </span><span class="line" data-startTime="2334">does that live. </span> <span class="line" data-startTime="2337">And if we go back and grep </span><span class="line" data-startTime="2337">again for "item," there's </span><span class="line" data-startTime="2341">still a bunch of </span><span class="line" data-startTime="2341">"items" there. </span></p>

<p><span class="line" data-startTime="2342">So it did the right thing. </span> <span class="line" data-startTime="2345">Of course, we should actually </span><span class="line" data-startTime="2345">make sure that </span><span class="line" data-startTime="2347">it runs still, right? </span><span class="line" data-startTime="2348">Because otherwise, </span><span class="line" data-startTime="2348">it's no good. </span> <span class="line" data-startTime="2350">And sure enough, </span><span class="line" data-startTime="2350">it still runs. </span> <span class="line" data-startTime="2352">It does the right thing. </span> <span class="line" data-startTime="2353">It's able to reason </span><span class="line" data-startTime="2353">about the code. </span> <span class="line" data-startTime="2355">The tools help you out, which </span><span class="line" data-startTime="2355">is the goal here. </span> <span class="line" data-startTime="2357">So again, we said we wanted to </span><span class="line" data-startTime="2357">actually make a change here. </span> <span class="line" data-startTime="2360">So we ran into a few things we </span><span class="line" data-startTime="2360">wanted to fix just to make the </span><span class="line" data-startTime="2362">code a little bit more </span><span class="line" data-startTime="2362">understandable. </span> <span class="line" data-startTime="2365">Let's take a look. </span></p>

<p><span class="line" data-startTime="2366">So the main thing that any View </span><span class="line" data-startTime="2366">in this app is doing is </span><span class="line" data-startTime="2370">it's rendering. </span> <span class="line" data-startTime="2371">And it's an abstraction over </span><span class="line" data-startTime="2371">HTML, but it's not a huge </span><span class="line" data-startTime="2373">abstraction. </span> <span class="line" data-startTime="2374">Every time we render, we produce </span><span class="line" data-startTime="2374">a new HTML element </span><span class="line" data-startTime="2376">that goes into the app. </span> <span class="line" data-startTime="2378">And in this case, it's taking </span><span class="line" data-startTime="2378">the contents of that article. </span> <span class="line" data-startTime="2382">It's doing some scrubbing. </span> <span class="line" data-startTime="2384">And we showed how to build </span><span class="line" data-startTime="2384">the DOM elements </span><span class="line" data-startTime="2387">compositionally by code. </span> <span class="line" data-startTime="2389">Sometimes it's convenient </span><span class="line" data-startTime="2389">to use a large template. </span> <span class="line" data-startTime="2392">And Dart makes that easy with </span><span class="line" data-startTime="2392">the string interpolation, it's </span><span class="line" data-startTime="2395">a nice feature. </span></p>

<p><span class="line" data-startTime="2396">You can take a big string, a </span><span class="line" data-startTime="2396">multiline string, and you'll </span><span class="line" data-startTime="2399">notice these little dollar-sign </span><span class="line" data-startTime="2399">operations where </span><span class="line" data-startTime="2401">we can just call in to code and </span><span class="line" data-startTime="2401">embed data from the code </span><span class="line" data-startTime="2406">right into the string. </span> <span class="line" data-startTime="2410">So the Feed Title is here. </span> <span class="line" data-startTime="2412">Let's go in and add the </span><span class="line" data-startTime="2412">author of the article. </span> <span class="line" data-startTime="2421">So even though we're inside of </span><span class="line" data-startTime="2421">a string here, the editor is </span><span class="line" data-startTime="2425">able to understand the context, </span><span class="line" data-startTime="2425">see that there's this </span><span class="line" data-startTime="2428">article in Scope, and tell </span><span class="line" data-startTime="2428">you what the fields are. </span> <span class="line" data-startTime="2431">It knows the Type of that. </span> <span class="line" data-startTime="2432">And I can just see, hey, there's </span><span class="line" data-startTime="2432">an Author Field here </span><span class="line" data-startTime="2435">and go ahead and use it. </span> <span class="line" data-startTime="2437">And Save. </span> <span class="line" data-startTime="2440">And let's reload and see if </span><span class="line" data-startTime="2440">it did the right thing. </span></p>

<p><span class="line" data-startTime="2444">Oh, this is &mdash; </span><span class="line" data-startTime="2445">Sorry. </span> <span class="line" data-startTime="2446">I keep going to Chrome. </span> <span class="line" data-startTime="2448">I haven't compiled yet. </span> <span class="line" data-startTime="2449">So I need to go to Dartium, </span><span class="line" data-startTime="2449">because I haven't actually </span><span class="line" data-startTime="2451">recompiled. </span> <span class="line" data-startTime="2452">So Dartium gives me the nice </span><span class="line" data-startTime="2452">experience of just being able </span><span class="line" data-startTime="2455">to reload, because it's </span><span class="line" data-startTime="2455">this native support. </span> <span class="line" data-startTime="2457">And I can see right here that </span><span class="line" data-startTime="2457">next to the Feed Title I have </span><span class="line" data-startTime="2461">the author. </span> <span class="line" data-startTime="2462">So everything just worked. </span></p>

<p><span class="line" data-startTime="2463">I'm done with my first change. </span> <span class="line" data-startTime="2466">So our experience with this </span><span class="line" data-startTime="2466">has been really positive. </span> <span class="line" data-startTime="2473">The goals that we set out really </span><span class="line" data-startTime="2473">seem to be working. </span> <span class="line" data-startTime="2476">We have a language here that's </span><span class="line" data-startTime="2476">much more toolable, easy for </span><span class="line" data-startTime="2479">us to jump in and use. </span> <span class="line" data-startTime="2480">And we feel that we're on the </span><span class="line" data-startTime="2480">right path for a whole </span><span class="line" data-startTime="2484">platform that makes it easier </span><span class="line" data-startTime="2484">to write large applications. </span> <span class="line" data-startTime="2488">You can take everything we've </span><span class="line" data-startTime="2488">shown here and download it </span><span class="line" data-startTime="2491">yourself and play with it. </span> <span class="line" data-startTime="2493">This is an early version </span><span class="line" data-startTime="2493">of the Dart platform. </span></p>

<p><span class="line" data-startTime="2496">The interesting starting </span><span class="line" data-startTime="2496">point is dartlang.org. </span> <span class="line" data-startTime="2499">There's a lot to read there. </span> <span class="line" data-startTime="2501">The language specification </span><span class="line" data-startTime="2501">is pretty stable. </span> <span class="line" data-startTime="2504">It's not quite yet at 1.0. </span> <span class="line" data-startTime="2506">You can see the API </span><span class="line" data-startTime="2506">documentation for Dart:HTML, </span><span class="line" data-startTime="2509">the other core libraries. </span> <span class="line" data-startTime="2511">You can download the latest </span><span class="line" data-startTime="2511">versions of the Dart Editor, </span><span class="line" data-startTime="2515">Dartium, all our Command </span><span class="line" data-startTime="2515">Line Tools. </span> <span class="line" data-startTime="2518">And there's a mailing list there </span><span class="line" data-startTime="2518">that you can join &mdash; it's </span><span class="line" data-startTime="2520">very active &mdash; </span><span class="line" data-startTime="2521">to join the community, </span><span class="line" data-startTime="2521">give us feedback. </span></p>

<p><span class="line" data-startTime="2524">A lot of changes have been made </span><span class="line" data-startTime="2524">just based on feedback </span><span class="line" data-startTime="2526">from the community. </span> <span class="line" data-startTime="2527">It's been great. </span> <span class="line" data-startTime="2529">All the code, if you want to </span><span class="line" data-startTime="2529">build it yourself, or just </span><span class="line" data-startTime="2531">look at how it's implemented, </span><span class="line" data-startTime="2531">it's all there at </span><span class="line" data-startTime="2534">dart.googlecode.com. </span> <span class="line" data-startTime="2535">That includes Dartium, the </span><span class="line" data-startTime="2535">Dart2JS, Compiler, the Virtual </span><span class="line" data-startTime="2539">Machine, the Editor, all the </span><span class="line" data-startTime="2539">libraries, and Swarm, the </span><span class="line" data-startTime="2544">sample app there. </span> <span class="line" data-startTime="2545">So you can basically look at </span><span class="line" data-startTime="2545">all the code you want, muck </span><span class="line" data-startTime="2548">with it, tell us what you </span><span class="line" data-startTime="2548">learn, play with it. </span></p>

<p><span class="line" data-startTime="2552">It's all there. </span> <span class="line" data-startTime="2553">You can learn a lot more at </span><span class="line" data-startTime="2553">Google I/O. If you didn't make </span><span class="line" data-startTime="2556">it to Lars' and Kasper's </span><span class="line" data-startTime="2556">talk, it's recorded. </span> <span class="line" data-startTime="2558">So you can find out more about </span><span class="line" data-startTime="2558">the Dart language. </span> <span class="line" data-startTime="2560">It's a great starting point. </span> <span class="line" data-startTime="2562">In this very room, there'll be </span><span class="line" data-startTime="2562">another talk in just a few </span><span class="line" data-startTime="2565">minutes on migrating code from </span><span class="line" data-startTime="2565">GWT to Dart, where Ray will </span><span class="line" data-startTime="2569">talk about that. </span> <span class="line" data-startTime="2571">And you can learn about </span><span class="line" data-startTime="2571">both of those. </span> <span class="line" data-startTime="2573">And then all afternoon, we </span><span class="line" data-startTime="2573">have Dart Office Hours. </span> <span class="line" data-startTime="2576">So you can find us, ask us </span><span class="line" data-startTime="2576">questions, and just get your </span><span class="line" data-startTime="2579">hands dirty with some </span><span class="line" data-startTime="2579">of the stuff. </span> <span class="line" data-startTime="2580">If you really want to get your </span><span class="line" data-startTime="2580">hands dirty, come to the Code </span><span class="line" data-startTime="2584">Lab tomorrow that Seth and </span><span class="line" data-startTime="2584">Jamie will be running. </span> <span class="line" data-startTime="2586">A lot of us will be there. </span></p>

<p><span class="line" data-startTime="2587">It's your chance to write </span><span class="line" data-startTime="2587">your first Dart app. </span></p>

<p class="speaker"><span class="line" data-starttime="2591"><span class="speakerName">Dan Grove</span>: Yeah, </span><span class="line" data-startTime="2591">so summing up. </span> <span class="line" data-startTime="2593">If you only remember three </span><span class="line" data-startTime="2593">things coming out of this </span><span class="line" data-startTime="2595">talk, first of all, </span><span class="line" data-startTime="2595">remember that the </span><span class="line" data-startTime="2597">web has changed hugely. </span> <span class="line" data-startTime="2598">The last five years have really </span><span class="line" data-startTime="2598">delivered a whole lot </span><span class="line" data-startTime="2601">of changes in capabilities </span><span class="line" data-startTime="2601">and in speed. </span> <span class="line" data-startTime="2604">Secondly, in order to take </span><span class="line" data-startTime="2604">advantage of this, you've got </span><span class="line" data-startTime="2606">to be able to program </span><span class="line" data-startTime="2606">at scale, and Dart </span><span class="line" data-startTime="2608">enables you to do this. </span> <span class="line" data-startTime="2609">And finally, over the next year, </span><span class="line" data-startTime="2609">Dart will enable modern </span><span class="line" data-startTime="2612">web apps by providing a large </span><span class="line" data-startTime="2612">set of libraries to really </span><span class="line" data-startTime="2615">make this a straightforward </span><span class="line" data-startTime="2615">procedure. </span> <span class="line" data-startTime="2618">Thanks, and if you have </span><span class="line" data-startTime="2618">questions, the </span><span class="line" data-startTime="2620">mic is there, I believe. </span></p>

<p><span class="line" data-startTime="2621">[APPLAUSE] </span></p>

<p class="speaker"><span class="line" data-starttime="2628"><span class="speakerName">Audience</span>: OK. </span><span class="line" data-startTime="2628">I wondered, our search engines </span><span class="line" data-startTime="2628">were indexing dot application. </span><span class="line" data-startTime="2635">Do you have a way to build </span><span class="line" data-startTime="2635">static versions to </span><span class="line" data-startTime="2641">be crawled by robots? </span></p>

<p class="speaker"><span class="line" data-starttime="2646"><span class="speakerName">Dan Grove</span>: To allow it to </span><span class="line" data-startTime="2646">be crawled by robots. </span><span class="line" data-startTime="2648">We haven't done anything in </span><span class="line" data-startTime="2648">particular on this yet, but </span><span class="line" data-startTime="2651">I'm sure we will. </span></p>

<p class="speaker"><span class="line" data-starttime="2652"><span class="speakerName">Audience</span>: So basically when you </span><span class="line" data-startTime="2652">write a dot application, </span><span class="line" data-startTime="2657">it won't appear in </span><span class="line" data-startTime="2657">Google Results. </span></p>

<p class="speaker"><span class="line" data-starttime="2660"><span class="speakerName">Vijay Menon</span>: So we expect </span><span class="line" data-startTime="2660">when people deploy Dart </span><span class="line" data-startTime="2662">applications that you'll </span><span class="line" data-startTime="2662">be able to &mdash; </span><span class="line" data-startTime="2665">And you can do server-side </span><span class="line" data-startTime="2665">detection to check whether the </span><span class="line" data-startTime="2668">browser that's hitting your site </span><span class="line" data-startTime="2668">has native Dart support </span><span class="line" data-startTime="2672">and serve accordingly </span><span class="line" data-startTime="2672">Dart or JavaScript. </span><span class="line" data-startTime="2674">So I haven't thought </span><span class="line" data-startTime="2674">very deeply about </span><span class="line" data-startTime="2677">your specific case. </span><span class="line" data-startTime="2678">But that should be a case where, </span><span class="line" data-startTime="2678">again, you can take </span><span class="line" data-startTime="2679">advantage of the fact that this </span><span class="line" data-startTime="2680">just runs on all browsers. </span></p>

<p class="speaker"><span class="line" data-starttime="2682"><span class="speakerName">Dan Grove</span>: Yeah, it should be </span><span class="line" data-startTime="2682">no different from running a </span><span class="line" data-startTime="2684">JavaScript application. </span></p>

<p class="speaker"><span class="line" data-starttime="2689"><span class="speakerName">Audience</span>: Hey. </span><span class="line" data-startTime="2689">So I realize you're going to </span><span class="line" data-startTime="2689">have a talk next about the </span><span class="line" data-startTime="2693">transition from GWT to Dart. </span><span class="line" data-startTime="2695">But I was wondering if you could </span><span class="line" data-startTime="2695">just mention briefly </span><span class="line" data-startTime="2699">what the differences </span><span class="line" data-startTime="2699">are between the </span><span class="line" data-startTime="2700">goals of the two projects? </span><span class="line" data-startTime="2702">They seem to have a </span><span class="line" data-startTime="2702">lot of overlap. </span></p>

<p class="speaker"><span class="line" data-starttime="2704"><span class="speakerName">Dan Grove</span>: Yeah. </span><span class="line" data-startTime="2705">So I think there's actually &mdash; </span><span class="line" data-startTime="2707">So first of all, there's both </span><span class="line" data-startTime="2707">the talk today, and then </span><span class="line" data-startTime="2710">there's a talk later this week </span><span class="line" data-startTime="2710">about the future of GWT. </span><span class="line" data-startTime="2714">So we have not actually paid a </span><span class="line" data-startTime="2714">ton of attention to GWT on the </span><span class="line" data-startTime="2718">Dart project. </span><span class="line" data-startTime="2718">We're really trying to build </span><span class="line" data-startTime="2718">a whole new platform. </span><span class="line" data-startTime="2720">And the goals may be similar. </span><span class="line" data-startTime="2723">But we also think that we can </span><span class="line" data-startTime="2723">do much better than Java in </span><span class="line" data-startTime="2726">terms of the developer </span><span class="line" data-startTime="2726">workflow. </span></p>

<p class="speaker"><span class="line" data-starttime="2728"><span class="speakerName">Vijay Menon</span>: If you went to Lars </span><span class="line" data-startTime="2728">and Kaspar's talk, you </span><span class="line" data-startTime="2730">can see that when they created </span><span class="line" data-startTime="2730">the language, it borrowed a </span><span class="line" data-startTime="2733">lot of elements from different </span><span class="line" data-startTime="2733">languages, including Java. </span><span class="line" data-startTime="2736">So Dart really tries to hit the </span><span class="line" data-startTime="2736">space between JavaScript </span><span class="line" data-startTime="2740">and Java and get a lot of </span><span class="line" data-startTime="2740">the best of both worlds. </span><span class="line" data-startTime="2743">You get the checking and </span><span class="line" data-startTime="2743">toolability from Java but also </span><span class="line" data-startTime="2746">some of the terseness and </span><span class="line" data-startTime="2746">simplicity from JavaScript. </span><span class="line" data-startTime="2749">Ray's going to go into detail </span><span class="line" data-startTime="2749">on some side-by-side </span><span class="line" data-startTime="2752">comparisons of how the things </span><span class="line" data-startTime="2752">really compare. </span><span class="line" data-startTime="2755">So I highly recommend that if </span><span class="line" data-startTime="2755">you're interested in that, you </span><span class="line" data-startTime="2757">stick around for that talk. </span></p>

<p class="speaker"><span class="line" data-starttime="2761"><span class="speakerName">Audience</span>: I was just curious </span><span class="line" data-startTime="2761">how the performance of Dart </span><span class="line" data-startTime="2765">code running in the VM compares </span><span class="line" data-startTime="2765">to V8 optimized </span><span class="line" data-startTime="2769">JavaScript. </span></p>

<p class="speaker"><span class="line" data-starttime="2770"><span class="speakerName">Dan Grove</span>: Where's Lars? </span><span class="line" data-startTime="2772">I think the answer is that </span><span class="line" data-startTime="2772">it's not there yet. </span><span class="line" data-startTime="2775">If you looked at the VM today, </span><span class="line" data-startTime="2775">it exceeds where Chrome was </span><span class="line" data-startTime="2779">when Chrome launched </span><span class="line" data-startTime="2779">by a decent amount. </span><span class="line" data-startTime="2781">But there is still </span><span class="line" data-startTime="2781">a long way to go. </span></p>

<p class="speaker"><span class="line" data-starttime="2785"><span class="speakerName">Vijay Menon</span>: Yeah, I mean </span><span class="line" data-startTime="2785">performance is something </span><span class="line" data-startTime="2787">that's being actively </span><span class="line" data-startTime="2787">worked on. </span><span class="line" data-startTime="2790">It's a big theme, so definitely </span><span class="line" data-startTime="2790">at release point, </span><span class="line" data-startTime="2793">it will get to better than V8. </span><span class="line" data-startTime="2796">If you run natively it should </span><span class="line" data-startTime="2796">be pretty much close to </span><span class="line" data-startTime="2800">hand-optimized code </span><span class="line" data-startTime="2800">if you compile. </span><span class="line" data-startTime="2803">For us it's nice because it's </span><span class="line" data-startTime="2803">already pretty fast. </span><span class="line" data-startTime="2805">And it's getting faster </span><span class="line" data-startTime="2805">underneath us every day. </span><span class="line" data-startTime="2809">So that's pretty cool. </span></p>

<p class="speaker"><span class="line" data-starttime="2810"><span class="speakerName">Dan Grove</span>: Yeah we have the </span><span class="line" data-startTime="2810">advantage of working on a </span><span class="line" data-startTime="2812">project that has among the best </span><span class="line" data-startTime="2812">VM performance people in </span><span class="line" data-startTime="2816">the world working on it. </span><span class="line" data-startTime="2817">And they're unbelievably driven </span><span class="line" data-startTime="2817">to make this faster. </span></p>

<p class="speaker"><span class="line" data-starttime="2820"><span class="speakerName">Vijay Menon</span>: One great thing of </span><span class="line" data-startTime="2820">this being very open too, </span><span class="line" data-startTime="2822">is that if you complain about </span><span class="line" data-startTime="2822">performance on a certain thing </span><span class="line" data-startTime="2825">on the mailing list, it tends to </span><span class="line" data-startTime="2825">get a lot of attention too. </span><span class="line" data-startTime="2828">So the things we care about, </span><span class="line" data-startTime="2828">again, performance wasn't so </span><span class="line" data-startTime="2832">much of an issue when </span><span class="line" data-startTime="2832">we did Swarm. </span><span class="line" data-startTime="2833">So we were able to get the </span><span class="line" data-startTime="2833">performance we wanted, and we </span><span class="line" data-startTime="2836">were able to &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2838"><span class="speakerName">Audience</span>: Is that a milestone </span><span class="line" data-startTime="2838">that you have for like &mdash; </span><span class="line" data-startTime="2840">I know the Dart release is </span><span class="line" data-startTime="2840">coming up in fall 2012. </span><span class="line" data-startTime="2844">Is that something you </span><span class="line" data-startTime="2844">have in a miles &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2846"><span class="speakerName">Dan Grove</span>: You know, I don't </span><span class="line" data-startTime="2846">know that we've published an </span><span class="line" data-startTime="2847">official goal for that, </span><span class="line" data-startTime="2847">but I suspect one </span><span class="line" data-startTime="2849">will be coming soon. </span></p>

<p class="speaker"><span class="line" data-starttime="2854"><span class="speakerName">Audience</span>: Thank you, guys, </span><span class="line" data-startTime="2854">for a great talk. </span><span class="line" data-startTime="2856">The question is, obviously, </span><span class="line" data-startTime="2856">people have quite a large code </span><span class="line" data-startTime="2861">base over existing JavaScript. </span><span class="line" data-startTime="2865">Do you consider implementing </span><span class="line" data-startTime="2865">any way to call </span><span class="line" data-startTime="2867">JavaScript from Dart? </span></p>

<p class="speaker"><span class="line" data-starttime="2869"><span class="speakerName">Dan Grove</span>: That's a </span><span class="line" data-startTime="2869">great question. </span></p>

<p class="speaker"><span class="line" data-starttime="2870"><span class="speakerName">Vijay Menon</span>: That's a </span><span class="line" data-startTime="2870">fantastic question. </span><span class="line" data-startTime="2871">That's something that we're </span><span class="line" data-startTime="2871">actually actively </span><span class="line" data-startTime="2872">looking at right now. </span><span class="line" data-startTime="2874">And we do want to have a good </span><span class="line" data-startTime="2874">solution for that in place in </span><span class="line" data-startTime="2877">the next few months. </span></p>

<p class="speaker"><span class="line" data-starttime="2878"><span class="speakerName">Dan Grove</span>: In fact, that's </span><span class="line" data-startTime="2878">something that you're going to </span><span class="line" data-startTime="2881">be working on, I believe. </span></p>

<p class="speaker"><span class="line" data-starttime="2882"><span class="speakerName">Vijay Menon</span>: I think I </span><span class="line" data-startTime="2882">signed up for that. </span><span class="line" data-startTime="2884">So look for something. </span><span class="line" data-startTime="2886">We're looking at a few </span><span class="line" data-startTime="2886">different solutions. </span><span class="line" data-startTime="2888">If you keep an eye on the </span><span class="line" data-startTime="2888">mailing list, you can actually </span><span class="line" data-startTime="2891">look at the details of the code </span><span class="line" data-startTime="2891">reviews of the different </span><span class="line" data-startTime="2893">things that we're playing </span><span class="line" data-startTime="2893">around with there. </span><span class="line" data-startTime="2896">We're trying to do it in a way </span><span class="line" data-startTime="2896">that you get a good experience </span><span class="line" data-startTime="2898">when you're running Dart </span><span class="line" data-startTime="2898">natively, as well as when </span><span class="line" data-startTime="2901">you're compiling Dart </span><span class="line" data-startTime="2901">to JavaScript. </span><span class="line" data-startTime="2902">And we're trying to make a very </span><span class="line" data-startTime="2902">nice interop layer that </span><span class="line" data-startTime="2905">performs pretty well. </span></p>

<p class="speaker"><span class="line" data-starttime="2907"><span class="speakerName">Audience</span>: Thank you. </span></p>

<p class="speaker"><span class="line" data-starttime="2908"><span class="speakerName">Dan Grove</span>: Thanks. </span></p>

<p class="speaker"><span class="line" data-starttime="2912"><span class="speakerName">Audience</span>: So my question </span><span class="line" data-startTime="2912">is, how does Dart &mdash; </span><span class="line" data-startTime="2914">All these presentations that I </span><span class="line" data-startTime="2914">see, they all compare to the </span><span class="line" data-startTime="2917">current version of JavaScript, </span><span class="line" data-startTime="2917">whereas the next version, </span><span class="line" data-startTime="2920">Harmony, has got a lot of the </span><span class="line" data-startTime="2920">same things I'm seeing. </span><span class="line" data-startTime="2922">It's got modules, string </span><span class="line" data-startTime="2924">interpolation, lexical scoping. </span><span class="line" data-startTime="2927">It's got a lot of </span><span class="line" data-startTime="2927">things that &mdash; </span><span class="line" data-startTime="2929">So I'm wondering, I guess, how </span><span class="line" data-startTime="2929">does Dart stack up to the next </span><span class="line" data-startTime="2933">version of JavaScript? </span><span class="line" data-startTime="2934">And are you worried </span><span class="line" data-startTime="2934">about adoption? </span><span class="line" data-startTime="2936">Is that your biggest </span><span class="line" data-startTime="2936">thing, or &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2938"><span class="speakerName">Dan Grove</span>: Well, we care hugely </span><span class="line" data-startTime="2940">about adoption, obviously. </span></p>

<p class="speaker"><span class="line" data-starttime="2941"><span class="speakerName">Vijay Menon</span>: Yeah. </span> <span class="line" data-startTime="2942">But ultimately, this is about </span><span class="line" data-startTime="2942">making web apps great. </span> <span class="line" data-startTime="2945">And if JavaScript gets </span><span class="line" data-startTime="2945">better and better, </span><span class="line" data-startTime="2950">that's a good thing. </span> <span class="line" data-startTime="2951">And it is getting better </span><span class="line" data-startTime="2951">and better. </span> <span class="line" data-startTime="2954">Lars and Kasper can </span><span class="line" data-startTime="2954">go into a lot of </span><span class="line" data-startTime="2956">detail there where they've &mdash; </span><span class="line" data-startTime="2959">You can't always </span><span class="line" data-startTime="2959">just add to the </span><span class="line" data-startTime="2960">language and make it better. </span> <span class="line" data-startTime="2962">There are challenges, </span><span class="line" data-startTime="2962">particularly at the </span><span class="line" data-startTime="2963">implementation level, and also </span><span class="line" data-startTime="2963">holes in the semantics that </span><span class="line" data-startTime="2967">are hard to get around. </span> <span class="line" data-startTime="2968">So there is an advantage, </span><span class="line" data-startTime="2968">at some point &mdash; </span><span class="line" data-startTime="2970">And JavaScript's been around </span><span class="line" data-startTime="2970">for a long time. </span> <span class="line" data-startTime="2971">There are advantages that we can </span><span class="line" data-startTime="2971">get from starting anew and </span><span class="line" data-startTime="2974">taking a lot of the lessons </span><span class="line" data-startTime="2974">from JavaScript. </span> <span class="line" data-startTime="2977">You might still be able to get </span><span class="line" data-startTime="2977">a lot of what you want coding </span><span class="line" data-startTime="2980">in JavaScript. </span></p>

<p><span class="line" data-startTime="2981">I think everyone's experience </span><span class="line" data-startTime="2981">will vary. </span> <span class="line" data-startTime="2983">So what we would say is to try </span><span class="line" data-startTime="2983">out these different things and </span><span class="line" data-startTime="2986">see what works best for you. </span></p>

<p class="speaker"><span class="line" data-starttime="2987"><span class="speakerName">Dan Grove</span>: Yeah, and I think </span><span class="line" data-startTime="2987">Lars and Kasper would tell you </span><span class="line" data-startTime="2989">that, on a fundamental basis, </span><span class="line" data-startTime="2989">you can make Dart </span><span class="line" data-startTime="2993">significantly faster </span><span class="line" data-startTime="2993">than JavaScript. </span><span class="line" data-startTime="2996">They're probably the best </span><span class="line" data-startTime="2996">qualified people in the world </span><span class="line" data-startTime="2999">to make that statement. </span><span class="line" data-startTime="3000">And they're very </span><span class="line" data-startTime="3000">clear about it. </span></p>

<p class="speaker"><span class="line" data-starttime="3001"><span class="speakerName">Audience</span>: Right. </span><span class="line" data-startTime="3002">And as far as adoption, do you </span><span class="line" data-startTime="3002">ever see it landing in Firefox </span><span class="line" data-startTime="3006">or other browsers, </span><span class="line" data-startTime="3006">the native VM? </span></p>

<p class="speaker"><span class="line" data-starttime="3010"><span class="speakerName">Dan Grove</span>: That is so far away </span><span class="line" data-startTime="3010">that we can't even consider it </span><span class="line" data-startTime="3012">right now, which is why we </span><span class="line" data-startTime="3012">have to have a great </span><span class="line" data-startTime="3014">compilation story. </span></p>

<p class="speaker"><span class="line" data-starttime="3015"><span class="speakerName">Vijay Menon</span>: Yeah, Dart2JS is </span><span class="line" data-startTime="3015">really the deployment story, </span><span class="line" data-startTime="3017">even now for Chrome as well. </span><span class="line" data-startTime="3019">And we've got to make that </span><span class="line" data-startTime="3019">really, really good. </span><span class="line" data-startTime="3022">And Dart's been designed so </span><span class="line" data-startTime="3022">it can compile well to </span><span class="line" data-startTime="3024">JavaScript. </span></p>

<p class="speaker"><span class="line" data-starttime="3026"><span class="speakerName">Audience</span>: Cool. </span><span class="line" data-startTime="3027">Thanks. </span></p>

<p class="speaker"><span class="line" data-starttime="3029"><span class="speakerName">Audience</span>: Hi. </span><span class="line" data-startTime="3029">I'm curious about debugging. </span><span class="line" data-startTime="3031">You showed how you set a </span><span class="line" data-startTime="3031">breakpoint in the IDE. </span><span class="line" data-startTime="3034">Is this a browser plug-in, </span><span class="line" data-startTime="3034">or how does it work? </span><span class="line" data-startTime="3036">And does it mean that you </span><span class="line" data-startTime="3036">only can debug in </span><span class="line" data-startTime="3038">Dartium right now? </span><span class="line" data-startTime="3041">I can say a little </span><span class="line" data-startTime="3041">bit about that. </span><span class="line" data-startTime="3042">So Chrome has support for </span><span class="line" data-startTime="3042">external debuggers. </span><span class="line" data-startTime="3047">And I don't think we had to &mdash; </span><span class="line" data-startTime="3049">We had to do the hook-up </span><span class="line" data-startTime="3049">for the Dart VM. </span><span class="line" data-startTime="3052">But otherwise, you can do </span><span class="line" data-startTime="3052">similar things with V8 and </span><span class="line" data-startTime="3055">external debuggers. </span><span class="line" data-startTime="3057">And there's also the internal </span><span class="line" data-startTime="3057">dev tools in Chrome that you </span><span class="line" data-startTime="3060">can use as a debugger as well, </span><span class="line" data-startTime="3060">with V8 and JavaScript on </span><span class="line" data-startTime="3064">regular Chrome, and on </span><span class="line" data-startTime="3064">Dartium, that as </span><span class="line" data-startTime="3067">well as Dart code. </span><span class="line" data-startTime="3069">So really, just using the </span><span class="line" data-startTime="3069">existing plumbing that's there </span><span class="line" data-startTime="3071">in the browser. </span></p>

<p class="speaker"><span class="line" data-starttime="3071"><span class="speakerName">Dan Grove</span>: Yeah, and the other </span><span class="line" data-startTime="3071">approach you can use, of </span><span class="line" data-startTime="3073">course, is debugging the </span><span class="line" data-startTime="3073">JavaScript code that's </span><span class="line" data-startTime="3075">produced by the Compiler, which </span><span class="line" data-startTime="3075">is a pretty reasonable </span><span class="line" data-startTime="3079">experience. </span></p>

<p class="speaker"><span class="line" data-starttime="3079"><span class="speakerName">Vijay Menon</span>: There's actually </span><span class="line" data-startTime="3079">work going on right now in </span><span class="line" data-startTime="3082">using Source Maps. </span><span class="line" data-startTime="3083">Chrome has Source Maps. </span><span class="line" data-startTime="3085">So if you're compiling from any </span><span class="line" data-startTime="3085">language to JavaScript, </span><span class="line" data-startTime="3088">you can get a better debugging </span><span class="line" data-startTime="3088">experience and look at your </span><span class="line" data-startTime="3091">original source and see </span><span class="line" data-startTime="3091">how that [INAUDIBLE]. </span></p>

<p class="speaker"><span class="line" data-starttime="3097"><span class="speakerName">Audience</span>: You probably can't </span><span class="line" data-startTime="3097">debug in IE or Firefox? </span></p>

<p class="speaker"><span class="line" data-starttime="3100"><span class="speakerName">Dan Grove</span>: You would debug the </span><span class="line" data-startTime="3100">generated JavaScript code. </span></p>

<p class="speaker"><span class="line" data-starttime="3102"><span class="speakerName">Audience</span>: All right. </span></p>

<p class="speaker"><span class="line" data-starttime="3103"><span class="speakerName">Dan Grove</span>: And that's a pretty </span><span class="line" data-startTime="3103">decent experience. </span><span class="line" data-startTime="3106">We have a lot of experience </span><span class="line" data-startTime="3106">doing that, and it's not bad. </span></p>

<p class="speaker"><span class="line" data-starttime="3109"><span class="speakerName">Audience</span>: And second question. </span><span class="line" data-startTime="3110">You said the IDE is </span><span class="line" data-startTime="3110">built on Eclipse. </span><span class="line" data-startTime="3113">Is it an Eclipse plug-in, </span><span class="line" data-startTime="3113">or is it stand-alone? </span></p>

<p class="speaker"><span class="line" data-starttime="3116"><span class="speakerName">Vijay Menon</span>: It's stand-alone </span><span class="line" data-startTime="3116">right now, but </span><span class="line" data-startTime="3118">I think Lars actually &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="3120"><span class="speakerName">Dan Grove</span>: I think he answered </span><span class="line" data-startTime="3120">this in the last one. </span></p>

<p class="speaker"><span class="line" data-starttime="3121"><span class="speakerName">Vijay Menon</span>: Answered </span><span class="line" data-startTime="3121">this question. </span><span class="line" data-startTime="3122">So I'll just repeat what </span><span class="line" data-startTime="3122">he said, which is </span><span class="line" data-startTime="3124">that it will come. </span><span class="line" data-startTime="3125">There will be an Eclipse </span><span class="line" data-startTime="3125">plug-in. </span></p>

<p class="speaker"><span class="line" data-starttime="3126"><span class="speakerName">Audience</span>: All right. </span><span class="line" data-startTime="3127">Thank you. </span></p>

<p class="speaker"><span class="line" data-starttime="3128"><span class="speakerName">Vijay Menon</span>: Yep. </span></p>

<p class="speaker"><span class="line" data-starttime="3131"><span class="speakerName">Audience</span>: I was curious about </span><span class="line" data-startTime="3131">unit test support. </span></p>

<p class="speaker"><span class="line" data-starttime="3134"><span class="speakerName">Dan Grove</span>: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="3135"><span class="speakerName">Vijay Menon</span>: Yeah, we care </span><span class="line" data-startTime="3135">a lot about unit test. </span><span class="line" data-startTime="3137">There is a unit test library </span><span class="line" data-startTime="3137">that's been in Dart for a </span><span class="line" data-startTime="3140">long, long time. </span><span class="line" data-startTime="3141">And we use it pretty heavily. </span></p>

<p class="speaker"><span class="line" data-starttime="3143"><span class="speakerName">Dan Grove</span>: Yeah, and there's &mdash; </span><span class="line" data-startTime="3146">We're always adding new </span><span class="line" data-startTime="3146">testing support. </span><span class="line" data-startTime="3148">So there's a new mocking </span><span class="line" data-startTime="3148">library that's going in </span><span class="line" data-startTime="3150">nowadays, for instance. </span></p>

<p class="speaker"><span class="line" data-starttime="3156"><span class="speakerName">Audience</span>: Hi. </span><span class="line" data-startTime="3156">I wonder about the commitment </span><span class="line" data-startTime="3156">that Google has to Dart. </span><span class="line" data-startTime="3160">Is it just a playground where </span><span class="line" data-startTime="3160">you evaluate what's possible </span><span class="line" data-startTime="3164">and what's nice? </span><span class="line" data-startTime="3165">Or is Google actually putting </span><span class="line" data-startTime="3165">critical applications from </span><span class="line" data-startTime="3171">Google [INAUDIBLE]? </span></p>

<p class="speaker"><span class="line" data-starttime="3174"><span class="speakerName">Dan Grove</span>: Dart has started </span><span class="line" data-startTime="3174">being used inside Google to </span><span class="line" data-startTime="3177">build critical applications </span><span class="line" data-startTime="3177">at this point. </span><span class="line" data-startTime="3180">I would tell you, in terms of </span><span class="line" data-startTime="3181">commitment, I'm pretty committed. </span></p>

<p class="speaker"><span class="line" data-starttime="3183"><span class="speakerName">Vijay Menon</span>: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="3184"><span class="speakerName">Dan Grove</span>: We have a very large </span><span class="line" data-startTime="3184">team, and we're spending </span><span class="line" data-startTime="3187">a huge number of resources </span><span class="line" data-startTime="3187">to make Dart successful. </span></p>

<p class="speaker"><span class="line" data-starttime="3189"><span class="speakerName">Vijay Menon</span>: And we're working </span><span class="line" data-startTime="3189">pretty closely with those </span><span class="line" data-startTime="3191">teams to make it a success. </span></p>

<p class="speaker"><span class="line" data-starttime="3193"><span class="speakerName">Dan Grove</span>: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="3194"><span class="speakerName">Audience</span>: OK. </span></p>

<p class="speaker"><span class="line" data-starttime="3197"><span class="speakerName">Audience</span>: Do you have time for </span><span class="line" data-startTime="3197">one more fast question? </span><span class="line" data-startTime="3201">Is there any plans like to </span><span class="line" data-startTime="3201">support or maybe solely be </span><span class="line" data-startTime="3204">supported &mdash; </span><span class="line" data-startTime="3205">Can I run my Dart apps like </span><span class="line" data-startTime="3205">stand-alone on any V8 </span><span class="line" data-startTime="3211">implementation outside of the </span><span class="line" data-startTime="3211">browser, just throwing away </span><span class="line" data-startTime="3215">the HTML part with </span><span class="line" data-startTime="3215">DOM and stuff. </span></p>

<p class="speaker"><span class="line" data-starttime="3218"><span class="speakerName">Vijay Menon</span>: Absolutely. </span></p>

<p class="speaker"><span class="line" data-starttime="3219"><span class="speakerName">Audience</span>: Yeah like, </span><span class="line" data-startTime="3219">I mean, basically, </span><span class="line" data-startTime="3221">will it run on nojs? </span><span class="line" data-startTime="3223">Like if I just compile </span><span class="line" data-startTime="3223">and run it? </span></p>

<p class="speaker"><span class="line" data-starttime="3226"><span class="speakerName">Vijay Menon</span>: So nojs has been </span><span class="line" data-startTime="3226">a big source of inspiration. </span><span class="line" data-startTime="3229">And I think as Kasper mentioned </span><span class="line" data-startTime="3229">in the last talk, </span><span class="line" data-startTime="3233">the Compiler is self-hosting </span><span class="line" data-startTime="3233">as well, right? </span><span class="line" data-startTime="3236">And it's a standalone app </span><span class="line" data-startTime="3236">written in Dart that reads </span><span class="line" data-startTime="3241">from the file system using </span><span class="line" data-startTime="3241">server-side APIs that we don't </span><span class="line" data-startTime="3244">make available in the browser. </span><span class="line" data-startTime="3246">That is part of the long-term </span><span class="line" data-startTime="3246">version of Dart, to actually </span><span class="line" data-startTime="3248">have code that you can share. </span></p>

<p class="speaker"><span class="line" data-starttime="3250"><span class="speakerName">Audience</span>: Yeah, but basically </span><span class="line" data-startTime="3250">the standard API should work, </span><span class="line" data-startTime="3254">[INAUDIBLE]. </span></p>

<p class="speaker"><span class="line" data-starttime="3254"><span class="speakerName">Vijay Menon</span>: Yeah, the core </span><span class="line" data-startTime="3254">libraries will work </span><span class="line" data-startTime="3256">everywhere. </span><span class="line" data-startTime="3257">We want to make that &mdash; </span><span class="line" data-startTime="3258">We want to make it as easy as </span><span class="line" data-startTime="3258">possible to take code from the </span><span class="line" data-startTime="3262">server and put it in the </span><span class="line" data-startTime="3262">client, and vice versa. </span></p>

<p class="speaker"><span class="line" data-starttime="3265"><span class="speakerName">Audience</span>: Thank you, guys. </span></p>

<p class="speaker"><span class="line" data-starttime="3268"><span class="speakerName">Audience</span>: Quick question. </span><span class="line" data-startTime="3268">In one of your demos you did a </span><span class="line" data-startTime="3268">query of Canvas elements, put </span><span class="line" data-startTime="3274">them into a non-generified </span><span class="line" data-startTime="3274">list, and then iterated </span><span class="line" data-startTime="3278">through those and was able to </span><span class="line" data-startTime="3279">context-assist out the 2D context. </span></p>

<p class="speaker"><span class="line" data-starttime="3283"><span class="speakerName">Vijay Menon</span>: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="3284"><span class="speakerName">Audience</span>: How did you do that? </span></p>

<p class="speaker"><span class="line" data-starttime="3285"><span class="speakerName">Vijay Menon</span>: That's </span><span class="line" data-startTime="3285">really cool. </span> <span class="line" data-startTime="3286">Actually, I only discovered </span><span class="line" data-startTime="3286">that this week. </span> <span class="line" data-startTime="3288">Like I said, the great thing </span><span class="line" data-startTime="3288">about having this active team </span><span class="line" data-startTime="3291">is that stuff just improves </span><span class="line" data-startTime="3291">under the hood. </span> <span class="line" data-startTime="3294">And that was a new feature that </span><span class="line" data-startTime="3294">just started working, I </span><span class="line" data-startTime="3296">think, in the last week. </span> <span class="line" data-startTime="3297">So the Dart Editor is </span><span class="line" data-startTime="3297">smart enough to do a </span><span class="line" data-startTime="3300">class hierarchy analysis. </span> <span class="line" data-startTime="3301">It essentially knows the base </span><span class="line" data-startTime="3301">type of what you've got. </span> <span class="line" data-startTime="3304">And it's able to look at the </span><span class="line" data-startTime="3304">sub-types and give you a list </span><span class="line" data-startTime="3309">of all the possibilities that </span><span class="line" data-startTime="3309">you could want to do. </span> <span class="line" data-startTime="3312">Now if I had put list bracket </span><span class="line" data-startTime="3312">Canvas element, I would have </span><span class="line" data-startTime="3316">gotten a shorter list of </span><span class="line" data-startTime="3316">completion, potentially, when </span><span class="line" data-startTime="3319">I pulled stuff out. </span> <span class="line" data-startTime="3320">So it can still be sort </span><span class="line" data-startTime="3320">of advantageous. </span></p>

<p><span class="line" data-startTime="3322">And we're still trying to figure </span><span class="line" data-startTime="3322">out what the right </span><span class="line" data-startTime="3323">balance of that is. </span> <span class="line" data-startTime="3325">Being able to put that type </span><span class="line" data-startTime="3325">information is useful, because </span><span class="line" data-startTime="3329">we do &mdash; and I didn't show </span><span class="line" data-startTime="3329">an example of this. </span> <span class="line" data-startTime="3330">But you do have the opportunity </span><span class="line" data-startTime="3330">to validate that </span><span class="line" data-startTime="3334">at run time and get some </span><span class="line" data-startTime="3334">early error checking. </span> <span class="line" data-startTime="3336">You can kind of think of it </span><span class="line" data-startTime="3336">as assertions in the code. </span> <span class="line" data-startTime="3338">But yeah, the tooling is able to </span><span class="line" data-startTime="3338">actually reason a lot about </span><span class="line" data-startTime="3342">the code because it knows </span><span class="line" data-startTime="3342">the structure. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="3346"><span class="speakerName">Audience</span>: OK. </span><span class="line" data-startTime="3347">So it grabbed all of the </span><span class="line" data-startTime="3347">attributes of anything that </span><span class="line" data-startTime="3350">extended, element or whatever. </span><span class="line" data-startTime="3352">And &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="3352"><span class="speakerName">Vijay Menon</span>: Yeah, so if it </span><span class="line" data-startTime="3352">knows that the base type is </span><span class="line" data-startTime="3354">element, it's able </span><span class="line" data-startTime="3354">to show you &mdash; </span><span class="line" data-startTime="3357">I don't know if this showed up </span><span class="line" data-startTime="3357">this time, but if I start </span><span class="line" data-startTime="3360">typing "context," I can see the </span><span class="line" data-startTime="3360">context field that's on </span><span class="line" data-startTime="3362">the audio element as well as the </span><span class="line" data-startTime="3362">context 2D that's on the </span><span class="line" data-startTime="3365">Canvas element. </span><span class="line" data-startTime="3366">And if I put the more specific </span><span class="line" data-startTime="3366">type in there, I would see a </span><span class="line" data-startTime="3370">more filtered list. </span></p>

<p class="speaker"><span class="line" data-starttime="3372"><span class="speakerName">Audience</span>: And I assume if you </span><span class="line" data-startTime="3372">were to put an attribute that </span><span class="line" data-startTime="3374">didn't exist, you'd </span><span class="line" data-startTime="3374">get some type of </span><span class="line" data-startTime="3376">runtime error or something? </span></p>

<p class="speaker"><span class="line" data-starttime="3378"><span class="speakerName">Vijay Menon</span>: If you put </span><span class="line" data-startTime="3378">an attribute that </span><span class="line" data-startTime="3379">doesn't exist, the &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="3382"><span class="speakerName">Dan Grove</span>: Yeah, you'll actually </span><span class="line" data-startTime="3382">get a runtime &mdash; </span><span class="line" data-startTime="3383">It's a run &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="3384"><span class="speakerName">Vijay Menon</span>: First of all, if it </span><span class="line" data-startTime="3384">can tell it statically, it </span><span class="line" data-startTime="3386">will tell you a warning </span><span class="line" data-startTime="3386">right there. </span></p>

<p class="speaker"><span class="line" data-starttime="3388"><span class="speakerName">Dan Grove</span>: But it'll still </span><span class="line" data-startTime="3388">let you compile it. </span></p>

<p class="speaker"><span class="line" data-starttime="3391"><span class="speakerName">Vijay Menon</span>: It would still </span><span class="line" data-startTime="3391">let you compile it. </span><span class="line" data-startTime="3391">But the more common case is that </span><span class="line" data-startTime="3391">you actually try to get </span><span class="line" data-startTime="3395">the context 2D, but you have an </span><span class="line" data-startTime="3395">audio element or a div or </span><span class="line" data-startTime="3399">something like that, right. </span><span class="line" data-startTime="3400">And there, you will </span><span class="line" data-startTime="3400">fail at runtime. </span><span class="line" data-startTime="3401">And you will get an error, </span><span class="line" data-startTime="3401">an exception. </span><span class="line" data-startTime="3403">And if you're running in the </span><span class="line" data-startTime="3403">debugger, it will stop right </span><span class="line" data-startTime="3405">there at the point at which </span><span class="line" data-startTime="3405">it made that call. </span></p>

<p class="speaker"><span class="line" data-starttime="3409"><span class="speakerName">Audience</span>: OK. </span><span class="line" data-startTime="3409">Cool. </span><span class="line" data-startTime="3409">Thanks. </span></p>

<p class="speaker"><span class="line" data-starttime="3413"><span class="speakerName">Audience</span>: When will I be able to </span><span class="line" data-startTime="3413">deploy my server-side Dart </span><span class="line" data-startTime="3416">code to Google App Engine? </span></p>

<p class="speaker"><span class="line" data-starttime="3419"><span class="speakerName">Dan Grove</span>: I don't know. </span><span class="line" data-startTime="3420">We haven't made any announcement </span><span class="line" data-startTime="3420">about that yet. </span></p>

<p class="speaker"><span class="line" data-starttime="3424"><span class="speakerName">Vijay Menon</span>: Good question, </span><span class="line" data-startTime="3424">though. </span></p>

<p class="speaker"><span class="line" data-starttime="3425"><span class="speakerName">Dan Grove</span>: It's a </span><span class="line" data-startTime="3425">good question. </span><span class="line" data-startTime="3427">OK, so I guess that's it. </span></p>

<p class="speaker"><span class="line" data-starttime="3429"><span class="speakerName">Vijay Menon</span>: Thanks </span><span class="line" data-startTime="3429">for coming. </span></p>

<p class="speaker"><span class="line" data-starttime="3429"><span class="speakerName">Dan Grove</span>: Thanks. </span></p></div>