<p><span class="line" data-startTime="0">ILYA GRIGORIK: [INAUDIBLE]. </span></p>

<p class="speaker"><span class="line" data-starttime="0"><span class="speakerName">Stephen Konig</span>: Are we ready? </span><span class="line" data-startTime="2">OK, good morning, everybody. </span></p>

<p class="speaker"><span class="line" data-starttime="3"><span class="speakerName">Audience</span>: Morning. </span></p>

<p class="speaker"><span class="line" data-starttime="4"><span class="speakerName">Stephen Konig</span>: Thank </span><span class="line" data-startTime="4">you for joining us. </span><span class="line" data-startTime="6">We're here to talk to you guys </span><span class="line" data-startTime="6">today about WebP, which is an </span><span class="line" data-startTime="9">image format we developed which </span><span class="line" data-startTime="9">will allow us to deploy </span><span class="line" data-startTime="12">beautiful, faster, and smaller </span><span class="line" data-startTime="12">images on the web. </span><span class="line" data-startTime="15">My name is Stephen Konig. </span><span class="line" data-startTime="16">I'm a product manager </span><span class="line" data-startTime="16">here at Google </span><span class="line" data-startTime="17">working on the WebP team. </span></p>

<p class="speaker"><span class="line" data-starttime="19"><span class="speakerName">Ilya Grigorik</span>: And my name </span><span class="line" data-startTime="19">is Ilya Grigorik. </span> <span class="line" data-startTime="20">I'm a developer advocate on the </span><span class="line" data-startTime="20">Make the Web Fast team at </span><span class="line" data-startTime="24">Google, where we work on WebP. </span> <span class="line" data-startTime="26">So first of all, I guess to kick </span><span class="line" data-startTime="26">it off &mdash; why are we here? </span><span class="line" data-startTime="29">Why do we care about images, </span><span class="line" data-startTime="29">image formats? </span><span class="line" data-startTime="32">And the answer is simply that </span><span class="line" data-startTime="32">most of the bytes that we </span><span class="line" data-startTime="35">transfer in our applications, </span><span class="line" data-startTime="35">in our web </span><span class="line" data-startTime="36">pages, are in fact images. </span> <span class="line" data-startTime="38">If you look at the stats for a </span><span class="line" data-startTime="38">desktop site, over 60% of the </span><span class="line" data-startTime="41">bytes that we transfer </span><span class="line" data-startTime="41">are in images. </span> <span class="line" data-startTime="43">So this is in addition </span><span class="line" data-startTime="43">to HTML, CSS, </span><span class="line" data-startTime="45">and everything else. </span></p>

<p><span class="line" data-startTime="46">And on mobile, it's </span><span class="line" data-startTime="46">even larger. </span> <span class="line" data-startTime="47">So it's 70%. </span> <span class="line" data-startTime="48">So optimizing images is </span><span class="line" data-startTime="48">oftentimes the number one </span><span class="line" data-startTime="53">performance optimization </span><span class="line" data-startTime="53">that you can do. </span> <span class="line" data-startTime="55">And in fact, if you look at </span><span class="line" data-startTime="55">stats, there's a great project </span><span class="line" data-startTime="57">called HTTP Archive. </span> <span class="line" data-startTime="59">What HTTP Archive does is it </span><span class="line" data-startTime="59">crawls over 300,000 sites on </span><span class="line" data-startTime="63">the web, top sites on the web, </span><span class="line" data-startTime="63">and basically tracks how the </span><span class="line" data-startTime="66">pages are constructed. </span> <span class="line" data-startTime="67">So it doesn't care about the </span><span class="line" data-startTime="67">content of the pages, simply </span><span class="line" data-startTime="71">how they're constructed. </span> <span class="line" data-startTime="71">So how much CSS are </span><span class="line" data-startTime="71">we downloading? </span><span class="line" data-startTime="73">How many images are </span><span class="line" data-startTime="73">we downloading? </span><span class="line" data-startTime="75">And the rest. </span> <span class="line" data-startTime="76">And what you can see here is </span><span class="line" data-startTime="76">that first of all, the trend </span><span class="line" data-startTime="79">is pretty clear. </span> <span class="line" data-startTime="80">We are building more ambitious </span><span class="line" data-startTime="80">and more complex applications. </span></p>

<p><span class="line" data-startTime="83">The size is growing. </span> <span class="line" data-startTime="84">So in fact, on desktop, an </span><span class="line" data-startTime="84">average site today is over 1 </span><span class="line" data-startTime="87">megabyte in size, almost </span><span class="line" data-startTime="87">200 kilobytes. </span> <span class="line" data-startTime="90">And on mobile, it's a </span><span class="line" data-startTime="90">little bit smaller. </span> <span class="line" data-startTime="91">So that's good. </span> <span class="line" data-startTime="92">It means that we're optimizing </span><span class="line" data-startTime="92">for mobile experience and for </span><span class="line" data-startTime="95">mobile networks. </span> <span class="line" data-startTime="95">But nonetheless, </span><span class="line" data-startTime="95">700 kilobytes. </span> <span class="line" data-startTime="97">But then you look at images. </span> <span class="line" data-startTime="98">And you'll notice that most of </span><span class="line" data-startTime="98">the requests are for images, </span><span class="line" data-startTime="101">both on desktop and on mobile. </span> <span class="line" data-startTime="104">And the majority of the </span><span class="line" data-startTime="104">bytes are in images. </span> <span class="line" data-startTime="107">So this is why WebP matters. </span> <span class="line" data-startTime="108">And of course, you heard Linus </span><span class="line" data-startTime="108">at the keynote talking about </span><span class="line" data-startTime="112">WebP and how it can save </span><span class="line" data-startTime="112">bytes for users. </span> <span class="line" data-startTime="115">And saving bytes is also </span><span class="line" data-startTime="115">important because bytes are </span><span class="line" data-startTime="118">literally expensive for </span><span class="line" data-startTime="118">a lot of people. </span></p>

<p><span class="line" data-startTime="120">You can be charged up </span><span class="line" data-startTime="120">to $1 per megabyte. </span> <span class="line" data-startTime="123">If you've ever roamed with your </span><span class="line" data-startTime="123">mobile data plan, you </span><span class="line" data-startTime="125">know how expensive </span><span class="line" data-startTime="125">that can get. </span> <span class="line" data-startTime="128">And it also affects </span><span class="line" data-startTime="128">performance. </span> <span class="line" data-startTime="129">So that's trend number one. </span> <span class="line" data-startTime="131">We're building more ambitious </span><span class="line" data-startTime="131">applications, transferring </span><span class="line" data-startTime="134">more bytes. </span> <span class="line" data-startTime="134">Then, of course, you guys have </span><span class="line" data-startTime="134">all been enjoying the </span><span class="line" data-startTime="137">beautiful Pixel screens, </span><span class="line" data-startTime="137">right, HiDPI images. </span> <span class="line" data-startTime="141">This is another trend that is </span><span class="line" data-startTime="141">making this problem in some </span><span class="line" data-startTime="145">sense a lot worse for us, or </span><span class="line" data-startTime="145">much harder, I should say. </span> <span class="line" data-startTime="148">So the Chromebook Pixel </span><span class="line" data-startTime="148">has 240 DPI. </span> <span class="line" data-startTime="152">And what that means is we're </span><span class="line" data-startTime="152">basically packing more </span><span class="line" data-startTime="155">physical pixels into </span><span class="line" data-startTime="155">the screen. </span></p>

<p><span class="line" data-startTime="157">So to get these high-resolution </span><span class="line" data-startTime="157">images, we </span><span class="line" data-startTime="160">also need to deliver more </span><span class="line" data-startTime="160">pixels to get a </span><span class="line" data-startTime="162">high-resolution image. </span> <span class="line" data-startTime="163">There's no magic here. </span> <span class="line" data-startTime="164">You can't ship a low-resolution </span><span class="line" data-startTime="164">image to a </span><span class="line" data-startTime="166">Chromebook Pixel and expect it </span><span class="line" data-startTime="166">to display nice sharp edges </span><span class="line" data-startTime="170">across everything. </span> <span class="line" data-startTime="171">We literally need to </span><span class="line" data-startTime="171">ship more pixels. </span> <span class="line" data-startTime="172">So if we're not careful, we're </span><span class="line" data-startTime="172">just going to inflate all of </span><span class="line" data-startTime="175">the images by 4x because </span><span class="line" data-startTime="175">we're shipping </span><span class="line" data-startTime="177">four times more pixels. </span> <span class="line" data-startTime="179">Now hopefully, that's not </span><span class="line" data-startTime="179">what we're going to do. </span> <span class="line" data-startTime="181">And that's why WebP is here. </span> <span class="line" data-startTime="184">So first and foremost, WebP </span><span class="line" data-startTime="184">is about improving data </span><span class="line" data-startTime="188">compression. </span> <span class="line" data-startTime="189">We want to make sure that we </span><span class="line" data-startTime="189">build a faster web and a more </span><span class="line" data-startTime="192">beautiful web. </span></p>

<p><span class="line" data-startTime="193">But also &mdash; </span><span class="line" data-startTime="194">and we'll talk about this in </span><span class="line" data-startTime="194">detail &mdash; we want to make it </span><span class="line" data-startTime="197">simpler to deploy the beautiful </span><span class="line" data-startTime="197">web, which is to </span><span class="line" data-startTime="199">say, today, we have a variety </span><span class="line" data-startTime="199">of formats which we need to </span><span class="line" data-startTime="202">balance between. </span> <span class="line" data-startTime="203">It's like, oh, you want </span><span class="line" data-startTime="203">to do an animation. </span> <span class="line" data-startTime="205">You need to use a GIF file. </span> <span class="line" data-startTime="206">You want to have a </span><span class="line" data-startTime="206">transparency &mdash; </span><span class="line" data-startTime="208">well, you've got to use a PNG. </span> <span class="line" data-startTime="209">But then you can't animate it. </span> <span class="line" data-startTime="210">And then if you want to have </span><span class="line" data-startTime="210">lossy versus lossless </span><span class="line" data-startTime="213">compression, you kind of have </span><span class="line" data-startTime="213">this annoying tree of options. </span> <span class="line" data-startTime="216">And with WebP, we can actually </span><span class="line" data-startTime="216">do all that and give you </span><span class="line" data-startTime="220">better compression. </span> <span class="line" data-startTime="221">So it's kind of one format that </span><span class="line" data-startTime="221">can achieve all of these </span><span class="line" data-startTime="224">great features. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="225"><span class="speakerName">Stephen Konig</span>: So let's talk a </span><span class="line" data-startTime="225">little bit about the history </span><span class="line" data-startTime="227">of WebP and where </span><span class="line" data-startTime="227">it came from. </span> <span class="line" data-startTime="229">You may have heard of our WebM </span><span class="line" data-startTime="229">video and audio formats that </span><span class="line" data-startTime="233">we launched a couple </span><span class="line" data-startTime="233">years ago. </span> <span class="line" data-startTime="235">The video portion of WebM uses </span><span class="line" data-startTime="235">VP8 as the video codec. </span> <span class="line" data-startTime="238">And as part of the development </span><span class="line" data-startTime="238">of VP8, someone actually </span><span class="line" data-startTime="241">noticed that hey, if I take a </span><span class="line" data-startTime="241">key frame from a video stream, </span><span class="line" data-startTime="245">it offers really great </span><span class="line" data-startTime="245">compression. </span> <span class="line" data-startTime="246">And this would actually </span><span class="line" data-startTime="246">be a really good basis </span><span class="line" data-startTime="248">for an image format. </span></p>

<p><span class="line" data-startTime="249">And so essentially, that's </span><span class="line" data-startTime="249">how WebP got started. </span> <span class="line" data-startTime="252">It was a sort of aha moment </span><span class="line" data-startTime="252">from one of the </span><span class="line" data-startTime="254">engineers on our team. </span> <span class="line" data-startTime="256">And so we adopted that </span><span class="line" data-startTime="256">methodology as the basis for </span><span class="line" data-startTime="259">the WebP image format. </span> <span class="line" data-startTime="260">So essentially, a WebP image </span><span class="line" data-startTime="260">is nothing more than a key </span><span class="line" data-startTime="263">frame from a VP8 video stream. </span> <span class="line" data-startTime="266">But it offers much better </span><span class="line" data-startTime="266">compression than alternate </span><span class="line" data-startTime="268">technologies, as we'll see. </span> <span class="line" data-startTime="270">Both WebP and WebM </span><span class="line" data-startTime="270">are open-source, </span><span class="line" data-startTime="272">royalty-free formats. </span></p>

<p><span class="line" data-startTime="273">So you're free to deploy </span><span class="line" data-startTime="273">them, use them. </span> <span class="line" data-startTime="275">There's no fees you have to pay, </span><span class="line" data-startTime="275">no licenses you have to </span><span class="line" data-startTime="278">sign up for. </span> <span class="line" data-startTime="279">It's all ready to go </span><span class="line" data-startTime="279">out of the box. </span> <span class="line" data-startTime="284">So a little bit more in terms of </span><span class="line" data-startTime="284">the timeline of how we got </span><span class="line" data-startTime="286">to where we are today. </span> <span class="line" data-startTime="287">We did the initial release back </span><span class="line" data-startTime="287">in 2010, which initially </span><span class="line" data-startTime="290">just supported lossy </span><span class="line" data-startTime="290">compression, so basically an </span><span class="line" data-startTime="292">alternative for JPEG. </span> <span class="line" data-startTime="294">In 2012, we followed that up </span><span class="line" data-startTime="294">with support for both lossless </span><span class="line" data-startTime="297">and transparency, or alpha </span><span class="line" data-startTime="297">channel support. </span></p>

<p><span class="line" data-startTime="300">So at that point, we became </span><span class="line" data-startTime="300">an alternative </span><span class="line" data-startTime="302">potentially for PNG. </span> <span class="line" data-startTime="303">And interestingly, one of the </span><span class="line" data-startTime="303">things that we did here is we </span><span class="line" data-startTime="306">separated out transparency </span><span class="line" data-startTime="306">from lossless. </span> <span class="line" data-startTime="308">Because today, if you want to </span><span class="line" data-startTime="308">have transparency, you have no </span><span class="line" data-startTime="310">choice really but use PNG. </span> <span class="line" data-startTime="312">But that forces you to </span><span class="line" data-startTime="312">also use lossless. </span> <span class="line" data-startTime="313">And in some cases, you might </span><span class="line" data-startTime="313">want transparency with lossy, </span><span class="line" data-startTime="315">which is something you </span><span class="line" data-startTime="315">can't actually do. </span> <span class="line" data-startTime="318">But you can with WebP, and </span><span class="line" data-startTime="318">we'll talk about that. </span> <span class="line" data-startTime="320">And then earlier this year, back </span><span class="line" data-startTime="320">in April, we launched our </span><span class="line" data-startTime="324">most recent release, which </span><span class="line" data-startTime="324">added support for color </span><span class="line" data-startTime="326">profile, animation, </span><span class="line" data-startTime="326">and metadata. </span></p>

<p><span class="line" data-startTime="328">So really at this point, we have </span><span class="line" data-startTime="328">a full set of features </span><span class="line" data-startTime="331">that allow us to be an </span><span class="line" data-startTime="331">alternative replacement for </span><span class="line" data-startTime="333">both GIFs, PNGs, as </span><span class="line" data-startTime="333">well as JPEGs. </span> <span class="line" data-startTime="338">But we're not done yet. </span> <span class="line" data-startTime="339">There's more work we're doing. </span> <span class="line" data-startTime="340">And we're continuing to work </span><span class="line" data-startTime="340">on improving the format. </span> <span class="line" data-startTime="343">Top of the list are performance </span><span class="line" data-startTime="343">optimizations. </span> <span class="line" data-startTime="344">We'll talk about performance </span><span class="line" data-startTime="344">in a little bit. </span> <span class="line" data-startTime="347">And I think we offer a really </span><span class="line" data-startTime="347">good performance for the </span><span class="line" data-startTime="349">features we provide today. </span></p>

<p><span class="line" data-startTime="350">But there's always room for </span><span class="line" data-startTime="350">improvement, and we're going </span><span class="line" data-startTime="352">to continue to focus on that. </span> <span class="line" data-startTime="354">And similarly, better support </span><span class="line" data-startTime="354">for mobile on ARM devices &mdash; </span><span class="line" data-startTime="357">that's really sort of </span><span class="line" data-startTime="357">code optimizations. </span> <span class="line" data-startTime="358">We support a wide variety of </span><span class="line" data-startTime="358">mobile devices in terms of </span><span class="line" data-startTime="361">Android and iOS today. </span> <span class="line" data-startTime="363">But there's more work we can do </span><span class="line" data-startTime="363">to make that even faster. </span> <span class="line" data-startTime="365">And then looking ahead, some </span><span class="line" data-startTime="365">of the other things we're </span><span class="line" data-startTime="367">thinking about are how can we </span><span class="line" data-startTime="367">support higher color depth </span><span class="line" data-startTime="369">images, so more than eight </span><span class="line" data-startTime="369">bits of color. </span> <span class="line" data-startTime="372">How could we do things like add </span><span class="line" data-startTime="372">layer support to support </span><span class="line" data-startTime="374">3D types of images? </span><span class="line" data-startTime="376">And even doing things like </span><span class="line" data-startTime="376">progressive rendering. </span></p>

<p><span class="line" data-startTime="378">And I'm sure there'll </span><span class="line" data-startTime="378">be other things. </span> <span class="line" data-startTime="379">As the format becomes more </span><span class="line" data-startTime="379">widely adopted and used, we </span><span class="line" data-startTime="382">expect there's going </span><span class="line" data-startTime="382">to be feedback. </span> <span class="line" data-startTime="383">And we'll take that into </span><span class="line" data-startTime="383">consideration as well. </span></p>

<p class="speaker"><span class="line" data-starttime="385"><span class="speakerName">Ilya Grigorik</span>: So you heard </span><span class="line" data-startTime="385">it here first &mdash; </span><span class="line" data-startTime="387">HiDPI, 3D progressive </span><span class="line" data-startTime="387">rendering with WebP. </span></p>

<p class="speaker"><span class="line" data-starttime="390"><span class="speakerName">Stephen Konig</span>: Exactly. </span> <span class="line" data-startTime="392">Probably by Friday, </span><span class="line" data-startTime="392">I'm guessing. </span> <span class="line" data-startTime="397">So let's talk a little bit about </span><span class="line" data-startTime="397">performance and how WebP </span><span class="line" data-startTime="400">actually does in the wild. </span> <span class="line" data-startTime="402">So the first thing I wanted to </span><span class="line" data-startTime="402">talk about is sort of let's do </span><span class="line" data-startTime="404">a little bit of a comparison </span><span class="line" data-startTime="404">of WebP versus JPEG. </span> <span class="line" data-startTime="407">And as Ilya mentioned, one of </span><span class="line" data-startTime="407">the challenges we have on the </span><span class="line" data-startTime="409">web today is just the </span><span class="line" data-startTime="409">predominance of images as a </span><span class="line" data-startTime="414">driver for how many bytes we're </span><span class="line" data-startTime="414">sending down the wire </span><span class="line" data-startTime="416">and thus how fast our </span><span class="line" data-startTime="416">pages render. </span> <span class="line" data-startTime="419">So in the old world, in the </span><span class="line" data-startTime="419">past, the only way you could </span><span class="line" data-startTime="421">really solve this problem was </span><span class="line" data-startTime="421">to reduce your image quality </span><span class="line" data-startTime="424">if you're dealing with </span><span class="line" data-startTime="424">JPEG images. </span></p>

<p><span class="line" data-startTime="425">So you have two examples </span><span class="line" data-startTime="425">of JPEGs up there. </span> <span class="line" data-startTime="427">The one on the top </span><span class="line" data-startTime="427">is quality 80. </span> <span class="line" data-startTime="429">The one on the bottom </span><span class="line" data-startTime="429">is quality 10. </span> <span class="line" data-startTime="431">And you might hopefully be able </span><span class="line" data-startTime="431">to see that with quality </span><span class="line" data-startTime="434">10, you're getting very </span><span class="line" data-startTime="436">noticeable compression artifacts. </span> <span class="line" data-startTime="438">The image looks very </span><span class="line" data-startTime="438">visibly degraded. </span> <span class="line" data-startTime="440">But the advantage is you're </span><span class="line" data-startTime="440">going from a 1.3 megabyte </span><span class="line" data-startTime="443">image to a 200 K image. </span> <span class="line" data-startTime="445">So if you were in a world where </span><span class="line" data-startTime="445">you were like, I have to </span><span class="line" data-startTime="447">reduce the size of my images </span><span class="line" data-startTime="447">because it's taking up too </span><span class="line" data-startTime="449">many bytes on my page, this </span><span class="line" data-startTime="449">was literally only </span><span class="line" data-startTime="451">the option you had. </span></p>

<p><span class="line" data-startTime="452">But you had to trade off </span><span class="line" data-startTime="452">visual quality in </span><span class="line" data-startTime="454">order to get it. </span> <span class="line" data-startTime="455">And we think that's the </span><span class="line" data-startTime="455">wrong tradeoff. </span> <span class="line" data-startTime="457">WebP offers much better </span><span class="line" data-startTime="457">compression than JPEG across </span><span class="line" data-startTime="460">all quality levels. </span> <span class="line" data-startTime="460">So you're able to get the same </span><span class="line" data-startTime="460">sort of benefit without </span><span class="line" data-startTime="462">reducing your image quality. </span> <span class="line" data-startTime="465">And an illustration of that is </span><span class="line" data-startTime="465">this chart, which shows you &mdash; </span><span class="line" data-startTime="468">for a number of images which </span><span class="line" data-startTime="468">we did a sample on &mdash; </span><span class="line" data-startTime="471">for visual quality 20 all the </span><span class="line" data-startTime="471">way up to 90, the file size </span><span class="line" data-startTime="475">for JPEG versus WebP. </span> <span class="line" data-startTime="476">WebP is the one in </span><span class="line" data-startTime="476">green below. </span> <span class="line" data-startTime="478">And what you see is that for </span><span class="line" data-startTime="478">all image quality levels, </span><span class="line" data-startTime="481">quality settings, WebP </span><span class="line" data-startTime="481">is significantly </span><span class="line" data-startTime="483">smaller than JPEG. </span> <span class="line" data-startTime="485">The one thing I'll note is </span><span class="line" data-startTime="485">you'll see on the JPEG slide, </span><span class="line" data-startTime="489">right around quality 75, you'll </span><span class="line" data-startTime="489">notice that the file </span><span class="line" data-startTime="491">size sort of grows exponentially </span><span class="line" data-startTime="491">with JPEG. </span></p>

<p><span class="line" data-startTime="494">So it does pretty good, mostly </span><span class="line" data-startTime="494">linear from below 75. </span> <span class="line" data-startTime="498">But after that, image sizes get </span><span class="line" data-startTime="498">pretty big pretty quickly. </span> <span class="line" data-startTime="502">With WebP, you have a much </span><span class="line" data-startTime="502">more linear progression. </span> <span class="line" data-startTime="504">And so ironically, as you look </span><span class="line" data-startTime="504">at higher quality images, </span><span class="line" data-startTime="507">which are important for the </span><span class="line" data-startTime="507">reasons we just mentioned, </span><span class="line" data-startTime="509">WebP's benefit actually grows. </span> <span class="line" data-startTime="511">So while on average, WebP is </span><span class="line" data-startTime="511">about 30% smaller then JPEG, </span><span class="line" data-startTime="515">when you look at higher </span><span class="line" data-startTime="515">quality images, the </span><span class="line" data-startTime="516">effect is even more. </span> <span class="line" data-startTime="517">And so that's something </span><span class="line" data-startTime="517">to keep in mind. </span> <span class="line" data-startTime="521">So let's talk a little bit </span><span class="line" data-startTime="521">about WebP versus PNG. </span></p>

<p><span class="line" data-startTime="524">So there are cases, obviously, </span><span class="line" data-startTime="524">where you can't tolerate </span><span class="line" data-startTime="527">compression artifacts at all. </span> <span class="line" data-startTime="528">So you're in a sort </span><span class="line" data-startTime="528">of lossless mode. </span> <span class="line" data-startTime="530">Or as I talked about earlier, </span><span class="line" data-startTime="530">maybe you need to have </span><span class="line" data-startTime="532">transparency. </span> <span class="line" data-startTime="533">And again, WebP is another great </span><span class="line" data-startTime="533">alternative here because </span><span class="line" data-startTime="537">on average, we get about a 30% </span><span class="line" data-startTime="537">file size reduction over PNG. </span> <span class="line" data-startTime="541">But again, as I mentioned, one </span><span class="line" data-startTime="541">of the features WebP has is </span><span class="line" data-startTime="544">that it allows you to have </span><span class="line" data-startTime="544">lossy images with </span><span class="line" data-startTime="548">transparency, which is something </span><span class="line" data-startTime="548">you can't really do </span><span class="line" data-startTime="550">today with PNG. </span> <span class="line" data-startTime="552">So in cases where you have an </span><span class="line" data-startTime="552">image that you're able to </span><span class="line" data-startTime="555">tolerate a little bit of </span><span class="line" data-startTime="555">compression and artifacts &mdash; </span><span class="line" data-startTime="557">maybe you want a, say, quality </span><span class="line" data-startTime="557">90, quality 80 type of image. </span> <span class="line" data-startTime="559">But you need transparency. </span></p>

<p><span class="line" data-startTime="561">You can encode that in WebP </span><span class="line" data-startTime="561">versus PNG and save even more. </span> <span class="line" data-startTime="564">So in this chart, what you're </span><span class="line" data-startTime="564">looking at is a series about </span><span class="line" data-startTime="566">1,000 PNGs that we compressed </span><span class="line" data-startTime="566">both with WebP lossless, which </span><span class="line" data-startTime="570">is the purple. </span> <span class="line" data-startTime="570">So that's again no </span><span class="line" data-startTime="570">loss whatsoever. </span> <span class="line" data-startTime="573">And then we recompressed them </span><span class="line" data-startTime="573">again with lossy, but </span><span class="line" data-startTime="575">preserving the transparency. </span> <span class="line" data-startTime="576">And what you see is that for </span><span class="line" data-startTime="576">the vast, vast majority of </span><span class="line" data-startTime="578">images, we're significantly </span><span class="line" data-startTime="578">smaller than the PNGs. </span> <span class="line" data-startTime="581">And there's a couple of extreme </span><span class="line" data-startTime="582">examples at both tails. </span> <span class="line" data-startTime="585">But obviously, the average </span><span class="line" data-startTime="585">and median is </span><span class="line" data-startTime="588">strongly in favor of WebP. </span></p>

<p class="speaker"><span class="line" data-starttime="589"><span class="speakerName">Ilya Grigorik</span>: So I think a </span><span class="line" data-startTime="589">very common use case is to </span><span class="line" data-startTime="591">have a lot of small PNGs for </span><span class="line" data-startTime="591">things like icons, which need </span><span class="line" data-startTime="594">an alpha channel. </span><span class="line" data-startTime="595">And they're also very small. </span><span class="line" data-startTime="596">And that's where you can get up </span><span class="line" data-startTime="596">to 80% or higher savings in </span><span class="line" data-startTime="600">terms of bytes, which is huge. </span></p>

<p class="speaker"><span class="line" data-starttime="602"><span class="speakerName">Stephen Konig</span>: Yup, exactly. </span> <span class="line" data-startTime="607">So the nice thing about WebP is </span><span class="line" data-startTime="607">it allows you to be in this </span><span class="line" data-startTime="611">world in which you can really </span><span class="line" data-startTime="611">stop caring about what image </span><span class="line" data-startTime="613">format you need to use. </span> <span class="line" data-startTime="614">Today, you're in this mode of, </span><span class="line" data-startTime="614">well, if I need animation, I </span><span class="line" data-startTime="616">have to use GIFs. </span> <span class="line" data-startTime="617">And if I need lossless or </span><span class="line" data-startTime="617">I need transparency, </span><span class="line" data-startTime="619">I have to use PNG. </span> <span class="line" data-startTime="620">And if it's not one of </span><span class="line" data-startTime="620">those things, I can </span><span class="line" data-startTime="622">probably use JPEG. </span> <span class="line" data-startTime="624">But as a web developer, it </span><span class="line" data-startTime="624">forces you to think through </span><span class="line" data-startTime="627">which image format </span><span class="line" data-startTime="627">you have to use. </span> <span class="line" data-startTime="629">With WebP, you don't have </span><span class="line" data-startTime="629">to do that anymore. </span> <span class="line" data-startTime="630">Literally, you can use every </span><span class="line" data-startTime="630">image as WebP, because it </span><span class="line" data-startTime="633">supports all of those </span><span class="line" data-startTime="633">features. </span> <span class="line" data-startTime="634">And we think that's a great </span><span class="line" data-startTime="634">benefit to web developers. </span> <span class="line" data-startTime="639">So let's talk a little bit about </span><span class="line" data-startTime="639">performance from the </span><span class="line" data-startTime="642">encoding and decoding side. </span></p>

<p><span class="line" data-startTime="643">So this is all great. </span> <span class="line" data-startTime="645">WebP's a lot smaller, offers </span><span class="line" data-startTime="645">great features. </span> <span class="line" data-startTime="647">Where's the catch? </span><span class="line" data-startTime="648">Well, lunch isn't free, </span><span class="line" data-startTime="648">despite the fact </span><span class="line" data-startTime="650">that we keep trying. </span> <span class="line" data-startTime="651">We're not quite there yet. </span> <span class="line" data-startTime="653">So you should know that WebP </span><span class="line" data-startTime="653">is more expensive to encode </span><span class="line" data-startTime="656">and decode. </span> <span class="line" data-startTime="657">But there are some reasons </span><span class="line" data-startTime="657">I think why &mdash; </span><span class="line" data-startTime="659">sort of take these numbers </span><span class="line" data-startTime="659">in context. </span> <span class="line" data-startTime="662">On the encoding side, it takes </span><span class="line" data-startTime="662">about 5 to 10 times longer to </span><span class="line" data-startTime="664">encode a WebP image than a </span><span class="line" data-startTime="664">JPEG, which sounds pretty </span><span class="line" data-startTime="668">significant. </span> <span class="line" data-startTime="669">But when you realize that </span><span class="line" data-startTime="669">encoding is typically done </span><span class="line" data-startTime="670">only once &mdash; </span><span class="line" data-startTime="671">in the vast majority of cases, </span><span class="line" data-startTime="671">you're dealing with a static </span><span class="line" data-startTime="673">image corpus. </span> <span class="line" data-startTime="674">And you're encoding those </span><span class="line" data-startTime="674">images one time. </span> <span class="line" data-startTime="676">And you're doing it not in </span><span class="line" data-startTime="676">your serving pipeline. </span> <span class="line" data-startTime="679">You're doing that offline. </span></p>

<p><span class="line" data-startTime="680">And so if it takes an extra </span><span class="line" data-startTime="680">couple CPU cycles to encode </span><span class="line" data-startTime="683">your WebP images, that really </span><span class="line" data-startTime="683">shouldn't be something that </span><span class="line" data-startTime="685">would be a barrier </span><span class="line" data-startTime="685">to WebP adoption. </span> <span class="line" data-startTime="687">On the decoding side, </span><span class="line" data-startTime="687">we're more </span><span class="line" data-startTime="690">computationally intensive. </span> <span class="line" data-startTime="691">So yes, it takes more time </span><span class="line" data-startTime="691">to decode a WebP image. </span> <span class="line" data-startTime="693">And on average, we're about </span><span class="line" data-startTime="693">1.3 times slower than a </span><span class="line" data-startTime="695">comparable JPEG. </span> <span class="line" data-startTime="697">What we've seen, though, is that </span><span class="line" data-startTime="697">in the vast majority of </span><span class="line" data-startTime="699">cases, unless you have a very </span><span class="line" data-startTime="699">specific use case, the amount </span><span class="line" data-startTime="704">of time you're saving just by </span><span class="line" data-startTime="704">virtue of the fewer bytes </span><span class="line" data-startTime="707">you're sending more than </span><span class="line" data-startTime="707">makes up for the </span><span class="line" data-startTime="709">increased decode time. </span></p>

<p><span class="line" data-startTime="711">So that's something </span><span class="line" data-startTime="711">to bear in mind. </span> <span class="line" data-startTime="714">With that said, high encoding </span><span class="line" data-startTime="714">costs can be a limitation in </span><span class="line" data-startTime="718">some use cases. </span> <span class="line" data-startTime="719">And I'll give you one example </span><span class="line" data-startTime="719">from Google as we've been </span><span class="line" data-startTime="722">trying to deploy WebP. </span> <span class="line" data-startTime="724">So if you think about Maps, </span><span class="line" data-startTime="724">map tiles are actually </span><span class="line" data-startTime="727">dynamically generated PNGs </span><span class="line" data-startTime="727">that are based on the </span><span class="line" data-startTime="731">underlying raster data. </span> <span class="line" data-startTime="733">When we actually tried to deploy </span><span class="line" data-startTime="733">WebP instead of PNGs, </span><span class="line" data-startTime="736">what we found is that the </span><span class="line" data-startTime="736">increasing encoding time, </span><span class="line" data-startTime="740">because those images are </span><span class="line" data-startTime="740">generated dynamically, sort of </span><span class="line" data-startTime="743">negated a lot of the benefit </span><span class="line" data-startTime="743">from the smaller file size. </span> <span class="line" data-startTime="745">But that's a pretty special </span><span class="line" data-startTime="745">case because there are no </span><span class="line" data-startTime="748">static map tiles. </span> <span class="line" data-startTime="749">They're all generated at runtime </span><span class="line" data-startTime="749">based on your request. </span> <span class="line" data-startTime="751">So in that case, in that </span><span class="line" data-startTime="751">particular instance, encoding </span><span class="line" data-startTime="754">is actually in the </span><span class="line" data-startTime="754">serving pipeline. </span></p>

<p><span class="line" data-startTime="756">And so if you have a situation </span><span class="line" data-startTime="756">like that, you should be </span><span class="line" data-startTime="758">mindful of these stats. </span> <span class="line" data-startTime="758">But again, as I said, that's </span><span class="line" data-startTime="758">really the exception. </span> <span class="line" data-startTime="761">The vast majority of </span><span class="line" data-startTime="761">cases are static. </span> <span class="line" data-startTime="764">And then we talked a little bit </span><span class="line" data-startTime="764">about bandwidth savings. </span> <span class="line" data-startTime="767">But in addition to just raw time </span><span class="line" data-startTime="767">to send fewer bytes, you </span><span class="line" data-startTime="771">have to be aware that a lot of </span><span class="line" data-startTime="771">users, especially on mobile, </span><span class="line" data-startTime="773">actually have to pay for </span><span class="line" data-startTime="773">their bandwidth. </span> <span class="line" data-startTime="775">Either they're on metered plans </span><span class="line" data-startTime="775">or capped plans, or </span><span class="line" data-startTime="777">they're roaming. </span> <span class="line" data-startTime="778">And in some cases, it's </span><span class="line" data-startTime="778">literally $1 per megabyte. </span> <span class="line" data-startTime="781">So not only are you saving users </span><span class="line" data-startTime="781">time and making your </span><span class="line" data-startTime="783">site faster for them and </span><span class="line" data-startTime="783">giving them a better </span><span class="line" data-startTime="785">experience, you can literally </span><span class="line" data-startTime="785">save them money. </span> <span class="line" data-startTime="787">And so that's an important </span><span class="line" data-startTime="787">consideration to </span><span class="line" data-startTime="789">keep in mind, as well. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="791"><span class="speakerName">Ilya Grigorik</span>: So the other </span><span class="line" data-startTime="791">thing I'll add is we have the </span><span class="line" data-startTime="793">chicken and the egg problem </span><span class="line" data-startTime="793">here with performance. </span> <span class="line" data-startTime="795">Of course, there is also a </span><span class="line" data-startTime="795">growing support for hardware &mdash; </span><span class="line" data-startTime="799">or sorry, hardware support is </span><span class="line" data-startTime="799">improving for WebP and WebM. </span> <span class="line" data-startTime="803">So we have WebM, which is </span><span class="line" data-startTime="803">driving this trend, as well. </span> <span class="line" data-startTime="806">So performance will get better </span><span class="line" data-startTime="806">as more hardware deploys </span><span class="line" data-startTime="811">native support for it. </span> <span class="line" data-startTime="815">So a good example of </span><span class="line" data-startTime="815">this is actually &mdash; </span><span class="line" data-startTime="818">there's this tradeoff between </span><span class="line" data-startTime="818">CPU and bandwidth. </span> <span class="line" data-startTime="821">And one of the concerns, a valid </span><span class="line" data-startTime="821">concern that a lot of </span><span class="line" data-startTime="823">people have is, great. </span> <span class="line" data-startTime="825">So we're going to ship </span><span class="line" data-startTime="825">these bytes faster. </span> <span class="line" data-startTime="827">But if we take more time on </span><span class="line" data-startTime="827">the client to decode the </span><span class="line" data-startTime="829">images, is that going to negate </span><span class="line" data-startTime="829">all of the benefits? </span><span class="line" data-startTime="833">And the eBay team actually </span><span class="line" data-startTime="833">just recently </span><span class="line" data-startTime="835">had this great study &mdash; </span><span class="line" data-startTime="836">I encourage you guys to </span><span class="line" data-startTime="836">check out their blog. </span></p>

<p><span class="line" data-startTime="838">It's an eBay tech blog &mdash; </span><span class="line" data-startTime="840">where they compare a number of </span><span class="line" data-startTime="840">different image formats. </span> <span class="line" data-startTime="842">And they set up a test case </span><span class="line" data-startTime="842">where they have an image </span><span class="line" data-startTime="844">gallery with 30 different </span><span class="line" data-startTime="844">images. </span> <span class="line" data-startTime="846">And they compared JPEG </span><span class="line" data-startTime="846">versus WebP. </span> <span class="line" data-startTime="849">And what you're seeing here </span><span class="line" data-startTime="849">is a film strip which is </span><span class="line" data-startTime="851">basically 100-millisecond </span><span class="line" data-startTime="851">increments, so 0.5 </span><span class="line" data-startTime="853">seconds, 0.6, 0.7. </span> <span class="line" data-startTime="855">And you're seeing the rendering </span><span class="line" data-startTime="855">performance. </span> <span class="line" data-startTime="857">So on the top, we have WebP. </span> <span class="line" data-startTime="859">And even though it takes more </span><span class="line" data-startTime="859">time to decode the WebP </span><span class="line" data-startTime="861">images, because we can ship </span><span class="line" data-startTime="861">them faster, we can decode </span><span class="line" data-startTime="864">them faster. </span></p>

<p><span class="line" data-startTime="864">And we can display them </span><span class="line" data-startTime="864">on the screen. </span> <span class="line" data-startTime="866">So in this case, we're actually </span><span class="line" data-startTime="867">winning in both respects. </span> <span class="line" data-startTime="869">We're getting better </span><span class="line" data-startTime="869">visual performance. </span> <span class="line" data-startTime="872">We're shipping fewer bytes. </span> <span class="line" data-startTime="873">The user's paying less for </span><span class="line" data-startTime="873">the bytes transferred. </span> <span class="line" data-startTime="878">And we're paying less </span><span class="line" data-startTime="878">for the bytes </span><span class="line" data-startTime="879">transferred from our server. </span> <span class="line" data-startTime="881">So it's a win all around. </span> <span class="line" data-startTime="882">And on this gallery, we were </span><span class="line" data-startTime="882">able to compress it from 750 </span><span class="line" data-startTime="886">kilobytes down to 474. </span> <span class="line" data-startTime="888">So a really cool case study, </span><span class="line" data-startTime="888">and I think it illustrates </span><span class="line" data-startTime="891">that a lot of our web apps can </span><span class="line" data-startTime="891">benefit a lot from WebP. </span> <span class="line" data-startTime="895">So we talked about </span><span class="line" data-startTime="895">performance. </span> <span class="line" data-startTime="896">Let's dive a little bit deeper </span><span class="line" data-startTime="896">into tooling, into how do we </span><span class="line" data-startTime="899">actually create these files </span><span class="line" data-startTime="899">and how do we serve them. </span> <span class="line" data-startTime="903">So long story short, there </span><span class="line" data-startTime="903">are plugins and </span><span class="line" data-startTime="906">converters that we provide. </span> <span class="line" data-startTime="907">You can go to our site, </span><span class="line" data-startTime="907">download the binary. </span></p>

<p><span class="line" data-startTime="911">And you have a cwebp and </span><span class="line" data-startTime="911">a dwebp, which is an </span><span class="line" data-startTime="914">encoder and a decoder. </span> <span class="line" data-startTime="915">And you can convert any image. </span> <span class="line" data-startTime="917">We give you a lot of different </span><span class="line" data-startTime="917">knobs &mdash; if anything, there's </span><span class="line" data-startTime="919">too many knobs &mdash; </span><span class="line" data-startTime="920">to tweak the quality </span><span class="line" data-startTime="920">and levels and </span><span class="line" data-startTime="923">all the other stuff. </span> <span class="line" data-startTime="924">That's kind of the manual </span><span class="line" data-startTime="924">way to do it. </span> <span class="line" data-startTime="926">You can also get plugins </span><span class="line" data-startTime="926">for all of the </span><span class="line" data-startTime="928">popular image editors. </span> <span class="line" data-startTime="930">The Wikipedia page actually is </span><span class="line" data-startTime="930">a great resource to start, if </span><span class="line" data-startTime="933">you want to get started </span><span class="line" data-startTime="933">with WebP. </span> <span class="line" data-startTime="936">They have a great matrix of all </span><span class="line" data-startTime="936">the different tools out </span><span class="line" data-startTime="939">there and how to get </span><span class="line" data-startTime="939">WebP support. </span></p>

<p><span class="line" data-startTime="941">And with time, as more people </span><span class="line" data-startTime="941">adopt it, of course, this will </span><span class="line" data-startTime="944">also improve. </span> <span class="line" data-startTime="945">And I'll also call out </span><span class="line" data-startTime="945">a couple of tools </span><span class="line" data-startTime="947">like language bindings. </span> <span class="line" data-startTime="949">So there are great libraries for </span><span class="line" data-startTime="949">virtually every language </span><span class="line" data-startTime="952">runtime available. </span> <span class="line" data-startTime="953">So you can do these </span><span class="line" data-startTime="953">optimizations at build time or </span><span class="line" data-startTime="956">at runtime. </span> <span class="line" data-startTime="957">And there's some other tools </span><span class="line" data-startTime="957">which we'll demo </span><span class="line" data-startTime="959">a little bit later. </span> <span class="line" data-startTime="961">In terms of the actual adoption </span><span class="line" data-startTime="961">and support today, of </span><span class="line" data-startTime="964">course, Chrome supports WebP. </span> <span class="line" data-startTime="966">Opera also supports WebP </span><span class="line" data-startTime="966">and has been supporting </span><span class="line" data-startTime="968">WebP for a long time. </span> <span class="line" data-startTime="969">We also ship native libraries, </span><span class="line" data-startTime="969">or we make the native library </span><span class="line" data-startTime="973">available for iOS. </span> <span class="line" data-startTime="974">And it's also supported </span><span class="line" data-startTime="974">natively by Android. </span></p>

<p><span class="line" data-startTime="976">So you can deploy both on native </span><span class="line" data-startTime="976">apps and on the web. </span> <span class="line" data-startTime="980">There are ways to basically </span><span class="line" data-startTime="980">polyfill support for WebP on </span><span class="line" data-startTime="984">other browsers. </span> <span class="line" data-startTime="985">So you can actually have a </span><span class="line" data-startTime="985">JavaScript decoder for WebP. </span> <span class="line" data-startTime="989">I'm not saying that's </span><span class="line" data-startTime="989">necessarily a great idea, but </span><span class="line" data-startTime="991">you could do it if </span><span class="line" data-startTime="991">you wanted to. </span> <span class="line" data-startTime="992">And we'll show you a couple of </span><span class="line" data-startTime="992">examples of how to do perhaps </span><span class="line" data-startTime="996">a better deployment strategy. </span> <span class="line" data-startTime="997">And of course, we're also </span><span class="line" data-startTime="997">working with the Firefox team </span><span class="line" data-startTime="1000">to get WebP supported. </span> <span class="line" data-startTime="1002">And fingers crossed, I hope </span><span class="line" data-startTime="1002">we will see it this year &mdash; </span><span class="line" data-startTime="1005">sometime later this year. </span> <span class="line" data-startTime="1008">So let's start deploying </span><span class="line" data-startTime="1008">WebP on the web. </span> <span class="line" data-startTime="1011">Great &mdash; we've motivated </span><span class="line" data-startTime="1011">the use case. </span></p>

<p><span class="line" data-startTime="1013">We know that we should </span><span class="line" data-startTime="1013">be optimizing images. </span> <span class="line" data-startTime="1014">How do I even get started? </span><span class="line" data-startTime="1016">And in a nutshell, there are a </span><span class="line" data-startTime="1016">couple different approaches. </span> <span class="line" data-startTime="1018">You can use server detection, or </span><span class="line" data-startTime="1018">server-side detection, and </span><span class="line" data-startTime="1022">client detection. </span> <span class="line" data-startTime="1023">And we'll talk through </span><span class="line" data-startTime="1023">both paths. </span> <span class="line" data-startTime="1025">But one thing I'll point </span><span class="line" data-startTime="1025">out is they're </span><span class="line" data-startTime="1027">not mutually exclusive. </span> <span class="line" data-startTime="1028">You can and probably should use </span><span class="line" data-startTime="1028">both, depending on your </span><span class="line" data-startTime="1032">application. </span> <span class="line" data-startTime="1034">So the client-side detection </span><span class="line" data-startTime="1034">is an easy case. </span></p>

<p><span class="line" data-startTime="1038">Basically, you just </span><span class="line" data-startTime="1038">want to test &mdash; </span><span class="line" data-startTime="1039">the client loads some </span><span class="line" data-startTime="1039">JavaScript. </span> <span class="line" data-startTime="1041">And you want to find out if </span><span class="line" data-startTime="1041">the client supports WebP. </span> <span class="line" data-startTime="1045">Because then you can dynamically </span><span class="line" data-startTime="1045">inject the image </span><span class="line" data-startTime="1047">tags and fetch the appropriate </span><span class="line" data-startTime="1047">asset. </span> <span class="line" data-startTime="1049">So you can have both a JPEG </span><span class="line" data-startTime="1049">and a WebP on your server. </span> <span class="line" data-startTime="1053">And for example, Modernizr </span><span class="line" data-startTime="1053">provides a one-line test </span><span class="line" data-startTime="1057">function that you can run </span><span class="line" data-startTime="1057">to determine if a </span><span class="line" data-startTime="1059">client supports it. </span> <span class="line" data-startTime="1060">If you actually unroll, and </span><span class="line" data-startTime="1060">you look at the underlying </span><span class="line" data-startTime="1063">implementation, it's basically </span><span class="line" data-startTime="1063">three lines of </span><span class="line" data-startTime="1065">JavaScript in there. </span> <span class="line" data-startTime="1066">They just inject an image tag. </span></p>

<p><span class="line" data-startTime="1067">And they add an on load element </span><span class="line" data-startTime="1067">to make sure that the </span><span class="line" data-startTime="1069">image is decoded properly. </span> <span class="line" data-startTime="1071">So you don't need Modernizr </span><span class="line" data-startTime="1071">to do this. </span> <span class="line" data-startTime="1073">You can just inline this </span><span class="line" data-startTime="1073">code directly. </span> <span class="line" data-startTime="1075">And I mentioned the JavaScript </span><span class="line" data-startTime="1075">decoder. </span> <span class="line" data-startTime="1078">You can use that as well. </span> <span class="line" data-startTime="1079">So in fact, if you only </span><span class="line" data-startTime="1079">want to serve </span><span class="line" data-startTime="1081">WebPs, you can do that. </span> <span class="line" data-startTime="1083">It would just serve the </span><span class="line" data-startTime="1083">JavaScript decoder, and then </span><span class="line" data-startTime="1087">your images would </span><span class="line" data-startTime="1087">load just fine. </span> <span class="line" data-startTime="1090">So that's client-side. </span> <span class="line" data-startTime="1091">Server-side is a little bit, I </span><span class="line" data-startTime="1091">think, more interesting and </span><span class="line" data-startTime="1093">more scalable for a lot </span><span class="line" data-startTime="1093">of applications. </span> <span class="line" data-startTime="1096">So the way this works is when </span><span class="line" data-startTime="1096">the client makes a request for </span><span class="line" data-startTime="1100">an image, it sends an Accept </span><span class="line" data-startTime="1100">header, which advertises which </span><span class="line" data-startTime="1105">file types it supports. </span> <span class="line" data-startTime="1106">So this is very similar to, for </span><span class="line" data-startTime="1106">example, a compression. </span></p>

<p><span class="line" data-startTime="1109">So gzip negotiation, where the </span><span class="line" data-startTime="1109">client advertises their </span><span class="line" data-startTime="1112">support of gzip, and then the </span><span class="line" data-startTime="1112">server returns a response </span><span class="line" data-startTime="1115">which is compressed. </span> <span class="line" data-startTime="1116">Similarly here, the </span><span class="line" data-startTime="1116">client advertises, </span><span class="line" data-startTime="1118">hey, I support WebP. </span> <span class="line" data-startTime="1120">And then the server can select </span><span class="line" data-startTime="1120">the appropriate asset, in this </span><span class="line" data-startTime="1123">case, a WebP file. </span> <span class="line" data-startTime="1124">So Opera provides the Accept </span><span class="line" data-startTime="1124">header, which advertises WebP. </span> <span class="line" data-startTime="1130">And we just recently landed </span><span class="line" data-startTime="1130">support in Chrome </span><span class="line" data-startTime="1132">for that, as well. </span> <span class="line" data-startTime="1133">So it's currently in Canary. </span></p>

<p><span class="line" data-startTime="1134">And it will be making it to </span><span class="line" data-startTime="1134">Stable soon, once we go </span><span class="line" data-startTime="1138">through the release cycles. </span> <span class="line" data-startTime="1139">So with that, basically, your </span><span class="line" data-startTime="1139">server can just look at the </span><span class="line" data-startTime="1142">Accept header and serve the </span><span class="line" data-startTime="1142">appropriate one, such that </span><span class="line" data-startTime="1144">when, for example, an IE user </span><span class="line" data-startTime="1144">comes, they won't advertise </span><span class="line" data-startTime="1149">WebP, for obvious reasons. </span> <span class="line" data-startTime="1151">And you can just serve </span><span class="line" data-startTime="1151">a PNG file. </span> <span class="line" data-startTime="1153">And this logic is handled </span><span class="line" data-startTime="1153">by the server. </span> <span class="line" data-startTime="1155">So you don't have to modify </span><span class="line" data-startTime="1155">your application. </span> <span class="line" data-startTime="1157">This is the best part. </span> <span class="line" data-startTime="1159">And I'll show you some </span><span class="line" data-startTime="1159">examples later </span><span class="line" data-startTime="1161">in an actual demo. </span> <span class="line" data-startTime="1163">A slightly different </span><span class="line" data-startTime="1163">approach &mdash; </span><span class="line" data-startTime="1164">and this is actually very </span><span class="line" data-startTime="1164">popular with a lot of web </span><span class="line" data-startTime="1167">optimization products today &mdash; </span><span class="line" data-startTime="1168">is to rely on user-agent </span><span class="line" data-startTime="1168">sniffing. </span></p>

<p><span class="line" data-startTime="1170">So the reason this exists today </span><span class="line" data-startTime="1170">is because we didn't </span><span class="line" data-startTime="1173">have the Accept header. </span> <span class="line" data-startTime="1174">So we're fixing this problem. </span> <span class="line" data-startTime="1176">We're making it much better </span><span class="line" data-startTime="1176">and easier to deploy. </span> <span class="line" data-startTime="1178">But you will find applications </span><span class="line" data-startTime="1178">or approaches that will use </span><span class="line" data-startTime="1180">this strategy, where they will </span><span class="line" data-startTime="1180">check the user agent and say, </span><span class="line" data-startTime="1183">hey, I know that Chrome </span><span class="line" data-startTime="1183">supports WebP. </span> <span class="line" data-startTime="1186">Hence I will serve the HTML </span><span class="line" data-startTime="1186">markup, which has WebP files </span><span class="line" data-startTime="1192">embedded in it, or references </span><span class="line" data-startTime="1192">to WebP files. </span> <span class="line" data-startTime="1195">Whereas for Internet Explorer, I </span><span class="line" data-startTime="1195">will serve the JPEG version. </span> <span class="line" data-startTime="1200">So then there's a couple of </span><span class="line" data-startTime="1200">other quirks that you need to </span><span class="line" data-startTime="1204">worry about &mdash; for example, </span><span class="line" data-startTime="1204">caching. </span></p>

<p><span class="line" data-startTime="1206">If now we're generating multiple </span><span class="line" data-startTime="1206">versions of the HTML, </span><span class="line" data-startTime="1209">one with WebPs and one with </span><span class="line" data-startTime="1209">JPEGs, how do we make sure </span><span class="line" data-startTime="1211">that the IE user agent doesn't </span><span class="line" data-startTime="1211">get the WebP assets? </span><span class="line" data-startTime="1215">This is why we're marking this </span><span class="line" data-startTime="1215">document as private, which is </span><span class="line" data-startTime="1218">to say, the client </span><span class="line" data-startTime="1218">can cache it, but </span><span class="line" data-startTime="1221">intermediate servers can't. </span> <span class="line" data-startTime="1222">So some intermediate proxy </span><span class="line" data-startTime="1222">can't cache it. </span> <span class="line" data-startTime="1226">So those are the kind of </span><span class="line" data-startTime="1226">do-it-yourself approaches. </span> <span class="line" data-startTime="1231">The good news is we actually </span><span class="line" data-startTime="1231">provide tools that will do all </span><span class="line" data-startTime="1234">of this work for you. </span> <span class="line" data-startTime="1235">So we have a PageSpeed product &mdash; </span><span class="line" data-startTime="1235">or family of </span><span class="line" data-startTime="1239">products, I should say &mdash; which </span><span class="line" data-startTime="1239">are both open source. </span> <span class="line" data-startTime="1240">We have modules available </span><span class="line" data-startTime="1240">for Apache and nginx. </span></p>

<p><span class="line" data-startTime="1243">And we also have a Google </span><span class="line" data-startTime="1243">hosted version, which is </span><span class="line" data-startTime="1245">PageSpeed Service. </span> <span class="line" data-startTime="1246">So let me show you guys </span><span class="line" data-startTime="1246">an example of </span><span class="line" data-startTime="1248">this actually in action. </span> <span class="line" data-startTime="1250">So I have &mdash; </span><span class="line" data-startTime="1252">I'll make this a little </span><span class="line" data-startTime="1252">bit smaller. </span> <span class="line" data-startTime="1254">On my blog, I have </span><span class="line" data-startTime="1254">a little gallery </span><span class="line" data-startTime="1256">of my favorite photos &mdash; </span><span class="line" data-startTime="1258">beautiful images, or at least </span><span class="line" data-startTime="1258">I think they are. </span> <span class="line" data-startTime="1263">And you can see here </span><span class="line" data-startTime="1263">that I have </span><span class="line" data-startTime="1264">Tokyo, Oxford, and Aurora. </span> <span class="line" data-startTime="1266">And they're about 3 megs. </span> <span class="line" data-startTime="1268">Now, I'm serving them as PNGs. </span> <span class="line" data-startTime="1270">That's just how I happened to </span><span class="line" data-startTime="1270">have saved them on my server. </span></p>

<p><span class="line" data-startTime="1274">3 megs is probably </span><span class="line" data-startTime="1274">a little high. </span> <span class="line" data-startTime="1276">So I think we can do better. </span> <span class="line" data-startTime="1278">So I'm also running </span><span class="line" data-startTime="1278">PageSpeed Service. </span> <span class="line" data-startTime="1279">And the way PageSpeed Service </span><span class="line" data-startTime="1279">works is I have my origin </span><span class="line" data-startTime="1282">server, where all </span><span class="line" data-startTime="1282">my markup lives. </span> <span class="line" data-startTime="1286">But my WWW domain is actually </span><span class="line" data-startTime="1286">routed through Google servers, </span><span class="line" data-startTime="1290">such that when you visit my </span><span class="line" data-startTime="1290">site, you actually hit a </span><span class="line" data-startTime="1292">Google server, which then </span><span class="line" data-startTime="1292">fetches my content. </span> <span class="line" data-startTime="1295">It optimizes it and serves </span><span class="line" data-startTime="1295">the optimized assets. </span> <span class="line" data-startTime="1298">So let me show you </span><span class="line" data-startTime="1298">the dashboard </span><span class="line" data-startTime="1299">for PageSpeed Service. </span></p>

<p><span class="line" data-startTime="1301">We have the overview here. </span> <span class="line" data-startTime="1304">So this is my server, </span><span class="line" data-startTime="1304">Google servers. </span> <span class="line" data-startTime="1306">And then the visitor is hitting </span><span class="line" data-startTime="1306">the Google servers. </span> <span class="line" data-startTime="1312">And all of the magic </span><span class="line" data-startTime="1312">happens here. </span> <span class="line" data-startTime="1314">So we provide a number of </span><span class="line" data-startTime="1314">optimization for things like </span><span class="line" data-startTime="1316">let us optimize your CSS, your </span><span class="line" data-startTime="1316">JavaScript, and all the rest. </span> <span class="line" data-startTime="1319">And optimizing images, for the </span><span class="line" data-startTime="1319">reasons that we mentioned </span><span class="line" data-startTime="1322">previously, is a </span><span class="line" data-startTime="1322">big part of it. </span> <span class="line" data-startTime="1324">So in here, you can see that I </span><span class="line" data-startTime="1324">can enable a whole bunch of </span><span class="line" data-startTime="1326">checkboxes for things like </span><span class="line" data-startTime="1326">resizing images on the server. </span> <span class="line" data-startTime="1329">So I'm just going to </span><span class="line" data-startTime="1329">click that on. </span> <span class="line" data-startTime="1330">And I'm going to also convert </span><span class="line" data-startTime="1330">PNGs to JPEGs. </span> <span class="line" data-startTime="1334">Or I'm going to allow it </span><span class="line" data-startTime="1334">to try to convert. </span></p>

<p><span class="line" data-startTime="1337">It won't necessarily do it. </span> <span class="line" data-startTime="1338">It will try to make sure that </span><span class="line" data-startTime="1338">we get better compression. </span> <span class="line" data-startTime="1341">And let's apply that </span><span class="line" data-startTime="1341">to the site. </span> <span class="line" data-startTime="1345">And let's go back. </span> <span class="line" data-startTime="1346">And we will refresh this page. </span> <span class="line" data-startTime="1348">And we will actually refresh </span><span class="line" data-startTime="1348">it twice, because the way </span><span class="line" data-startTime="1349">PageSpeed Service works is it </span><span class="line" data-startTime="1349">optimizes these images on </span><span class="line" data-startTime="1353">demand and in the background </span><span class="line" data-startTime="1353">such that on the second </span><span class="line" data-startTime="1355">request, you can see that the </span><span class="line" data-startTime="1355">file names have changed. </span></p>

<p><span class="line" data-startTime="1358">And they are now coming </span><span class="line" data-startTime="1358">through as JPEGs. </span> <span class="line" data-startTime="1360">So what we have done is we have </span><span class="line" data-startTime="1360">optimized these images in </span><span class="line" data-startTime="1362">the background. </span> <span class="line" data-startTime="1362">We've determined that </span><span class="line" data-startTime="1362">JPEGs are a better </span><span class="line" data-startTime="1365">version of this file. </span> <span class="line" data-startTime="1366">So we went from multiple </span><span class="line" data-startTime="1366">megabytes </span><span class="line" data-startTime="1368">to hundreds of kilobytes. </span> <span class="line" data-startTime="1370">So now the page is </span><span class="line" data-startTime="1370">468 kilobytes. </span> <span class="line" data-startTime="1372">So this is done automatically. </span> <span class="line" data-startTime="1373">I didn't modify my </span><span class="line" data-startTime="1373">app in any way. </span> <span class="line" data-startTime="1376">And similarly, I can go </span><span class="line" data-startTime="1376">into the API console. </span> <span class="line" data-startTime="1380">And I'm just going </span><span class="line" data-startTime="1380">to enable it all. </span> <span class="line" data-startTime="1382">So I'm going to recompress JPEGs </span><span class="line" data-startTime="1382">and allow it to compress </span><span class="line" data-startTime="1385">it to WebP as well. </span> <span class="line" data-startTime="1389">So once again, Apply to Live. </span></p>

<p><span class="line" data-startTime="1391">And we'll reload the page </span><span class="line" data-startTime="1391">a few more times. </span> <span class="line" data-startTime="1394">And it's going to now try both </span><span class="line" data-startTime="1394">JPEG and WebP and pick the </span><span class="line" data-startTime="1397">best format for these images. </span> <span class="line" data-startTime="1399">And you can see that it actually </span><span class="line" data-startTime="1399">determined that WebP </span><span class="line" data-startTime="1402">is the best format. </span> <span class="line" data-startTime="1403">It detected that I'm </span><span class="line" data-startTime="1403">running Chrome. </span> <span class="line" data-startTime="1405">And now it's serving these </span><span class="line" data-startTime="1405">images, which went from a </span><span class="line" data-startTime="1408">megabyte plus to 80 kilobytes. </span> <span class="line" data-startTime="1410">So in total, the file size of </span><span class="line" data-startTime="1410">this page is 328 kilobytes. </span> <span class="line" data-startTime="1414">So we've just decreased the </span><span class="line" data-startTime="1414">size of this page by 10x </span><span class="line" data-startTime="1417">without actually touching the </span><span class="line" data-startTime="1417">page itself, which, of course, </span><span class="line" data-startTime="1420">is beautiful. </span></p>

<p><span class="line" data-startTime="1420">And notice that this </span><span class="line" data-startTime="1420">was all images. </span> <span class="line" data-startTime="1424">So you can use PageSpeed </span><span class="line" data-startTime="1424">Service, which is </span><span class="line" data-startTime="1427">what you saw here. </span> <span class="line" data-startTime="1428">Or you can use one of our </span><span class="line" data-startTime="1428">open-source modules like </span><span class="line" data-startTime="1432">Apache or the nginx module </span><span class="line" data-startTime="1432">to do this for you. </span></p>

<p class="speaker"><span class="line" data-starttime="1435"><span class="speakerName">Stephen Konig</span>: So let's talk </span><span class="line" data-startTime="1435">a little bit about </span><span class="line" data-startTime="1436">interoperability. </span> <span class="line" data-startTime="1437">I think it's fair to say we live </span><span class="line" data-startTime="1437">in a world in which WebP </span><span class="line" data-startTime="1439">isn't ubiquitous yet. </span> <span class="line" data-startTime="1440">We hope we'll get there. </span> <span class="line" data-startTime="1441">We're confident we'll </span><span class="line" data-startTime="1441">get there. </span> <span class="line" data-startTime="1443">But just like previous formats </span><span class="line" data-startTime="1443">before us, like PNG, there's </span><span class="line" data-startTime="1446">this sort of uncanny valley of </span><span class="line" data-startTime="1446">time where you have mixed </span><span class="line" data-startTime="1450">support across the web. </span> <span class="line" data-startTime="1452">And you have to deal </span><span class="line" data-startTime="1452">with that today. </span> <span class="line" data-startTime="1454">In fact, some of you </span><span class="line" data-startTime="1454">may have seen &mdash; </span><span class="line" data-startTime="1456">a couple weeks ago, Facebook </span><span class="line" data-startTime="1456">actually did a field trial </span><span class="line" data-startTime="1458">where they actually started </span><span class="line" data-startTime="1458">serving user photos as WebP </span><span class="line" data-startTime="1461">instead of as JPEGs. </span></p>

<p><span class="line" data-startTime="1463">It generated a slight </span><span class="line" data-startTime="1463">bit of controversy. </span> <span class="line" data-startTime="1465">Actually, I think overall, from </span><span class="line" data-startTime="1465">what we know, they're </span><span class="line" data-startTime="1468">very pleased with the </span><span class="line" data-startTime="1468">results they saw. </span> <span class="line" data-startTime="1470">But it did highlight some </span><span class="line" data-startTime="1470">interoperability challenges </span><span class="line" data-startTime="1472">that you have to be aware of and </span><span class="line" data-startTime="1472">for which we think there </span><span class="line" data-startTime="1474">are some good solutions. </span> <span class="line" data-startTime="1475">That said, this is a </span><span class="line" data-startTime="1475">short-term problem. </span> <span class="line" data-startTime="1477">And just like PNG eventually </span><span class="line" data-startTime="1477">got ubiquitous support, we </span><span class="line" data-startTime="1480">feel confident WebP </span><span class="line" data-startTime="1480">will as well. </span> <span class="line" data-startTime="1481">And a lot of these issues </span><span class="line" data-startTime="1481">will go away. </span> <span class="line" data-startTime="1483">But in the short term, </span><span class="line" data-startTime="1483">these are some </span><span class="line" data-startTime="1484">things to be aware of. </span> <span class="line" data-startTime="1485">So link sharing is one. </span> <span class="line" data-startTime="1486">So I look at my beautiful </span><span class="line" data-startTime="1486">site. </span> <span class="line" data-startTime="1489">I see this awesome </span><span class="line" data-startTime="1489">image in WebP. </span></p>

<p><span class="line" data-startTime="1490">I'm running Chrome or Opera. </span> <span class="line" data-startTime="1491">It looks beautiful. </span> <span class="line" data-startTime="1492">I right-click, copy </span><span class="line" data-startTime="1492">link to image. </span> <span class="line" data-startTime="1494">I paste it in an email </span><span class="line" data-startTime="1494">to my wife. </span> <span class="line" data-startTime="1496">And I say, honey, this </span><span class="line" data-startTime="1496">is really cool. </span> <span class="line" data-startTime="1497">You should check it out. </span> <span class="line" data-startTime="1498">She happens to be </span><span class="line" data-startTime="1498">running Firefox. </span> <span class="line" data-startTime="1500">And she clicks the link, </span><span class="line" data-startTime="1500">and sad face. </span> <span class="line" data-startTime="1503">Because it can't decode </span><span class="line" data-startTime="1503">a WebP image. </span> <span class="line" data-startTime="1506">So a good way to solve this </span><span class="line" data-startTime="1506">problem is the Accept header </span><span class="line" data-startTime="1508">negotiation that we talked </span><span class="line" data-startTime="1508">about earlier. </span> <span class="line" data-startTime="1510">Because in that case, what the </span><span class="line" data-startTime="1510">server will see when it gets </span><span class="line" data-startTime="1512">the request, even if it has a </span><span class="line" data-startTime="1512">.webp attachment to it, it </span><span class="line" data-startTime="1516">won't see the image/webp </span><span class="line" data-startTime="1516">in the Accept header. </span> <span class="line" data-startTime="1519">It will know it's not safe to </span><span class="line" data-startTime="1519">return WebP to that client. </span> <span class="line" data-startTime="1522">And in that case, you can </span><span class="line" data-startTime="1522">actually return a JPEG. </span></p>

<p><span class="line" data-startTime="1524">It doesn't matter what </span><span class="line" data-startTime="1524">the extension is. </span> <span class="line" data-startTime="1526">You can serve the right image </span><span class="line" data-startTime="1526">format based on Accept header. </span> <span class="line" data-startTime="1529">Similarly, there's an </span><span class="line" data-startTime="1529">issue with Save As. </span> <span class="line" data-startTime="1531">Right click an image, </span><span class="line" data-startTime="1531">Save As to disk. </span> <span class="line" data-startTime="1533">And then I email it to somebody, </span><span class="line" data-startTime="1533">or I happen to just </span><span class="line" data-startTime="1535">double-click it from </span><span class="line" data-startTime="1535">my File Explorer. </span> <span class="line" data-startTime="1538">And oops, I don't have an image </span><span class="line" data-startTime="1538">viewer that's capable of </span><span class="line" data-startTime="1540">rendering that. </span> <span class="line" data-startTime="1541">Or the person I send it to </span><span class="line" data-startTime="1541">doesn't have one, either. </span> <span class="line" data-startTime="1543">So there's a couple of ways to </span><span class="line" data-startTime="1543">fix that, one of which we've </span><span class="line" data-startTime="1546">already taken care of. </span> <span class="line" data-startTime="1547">So starting with M28, Chrome is </span><span class="line" data-startTime="1547">actually a file handler on </span><span class="line" data-startTime="1549">all platforms for WebP. </span> <span class="line" data-startTime="1550">So if the user has Chrome, </span><span class="line" data-startTime="1550">they'll at least be able to </span><span class="line" data-startTime="1552">open a WebP file. </span></p>

<p><span class="line" data-startTime="1554">But another sort of approach </span><span class="line" data-startTime="1554">to this is to provide an </span><span class="line" data-startTime="1556">explicit download option link </span><span class="line" data-startTime="1556">and have that always serve a </span><span class="line" data-startTime="1559">common format such </span><span class="line" data-startTime="1559">as a JPEG or PNG. </span> <span class="line" data-startTime="1562">There's some user experience </span><span class="line" data-startTime="1562">benefits to that as well. </span> <span class="line" data-startTime="1564">Because the image that the user </span><span class="line" data-startTime="1564">sees on the screen might </span><span class="line" data-startTime="1566">not be the one that </span><span class="line" data-startTime="1566">you want to have </span><span class="line" data-startTime="1568">them ability to download. </span> <span class="line" data-startTime="1569">For example, they might want to </span><span class="line" data-startTime="1569">download a full-resolution </span><span class="line" data-startTime="1571">version of the image versus </span><span class="line" data-startTime="1571">something that's scaled down. </span> <span class="line" data-startTime="1573">So there's some other </span><span class="line" data-startTime="1573">reasons why that </span><span class="line" data-startTime="1575">approach might make sense. </span> <span class="line" data-startTime="1578">Let's look at a few case studies </span><span class="line" data-startTime="1578">in the wild and see </span><span class="line" data-startTime="1581">some of the benefits we've </span><span class="line" data-startTime="1581">gotten from WebP. </span></p>

<p><span class="line" data-startTime="1585">So earlier this year, we posted </span><span class="line" data-startTime="1585">a blog post about some </span><span class="line" data-startTime="1588">work we did on the </span><span class="line" data-startTime="1588">Chrome Web Store. </span> <span class="line" data-startTime="1589">So for those of you who aren't </span><span class="line" data-startTime="1589">familiar with it, Chrome Web </span><span class="line" data-startTime="1591">Store is a great site. </span> <span class="line" data-startTime="1592">Lets you browse tons of add-ons, </span><span class="line" data-startTime="1592">extensions, and </span><span class="line" data-startTime="1594">applications for Chrome. </span> <span class="line" data-startTime="1596">But it's a very image-heavy </span><span class="line" data-startTime="1596">site &mdash; </span><span class="line" data-startTime="1597">tons of promotional tiles, big </span><span class="line" data-startTime="1597">tiles, little tiles, tiles </span><span class="line" data-startTime="1601">rotating in and out. </span> <span class="line" data-startTime="1601">It's a gorgeous site, but it's </span><span class="line" data-startTime="1601">definitely very image-heavy. </span> <span class="line" data-startTime="1605">So we went through a process </span><span class="line" data-startTime="1605">of converting all of those </span><span class="line" data-startTime="1607">images to WebP and </span><span class="line" data-startTime="1607">serving them to </span><span class="line" data-startTime="1609">Chrome and Opera users. </span> <span class="line" data-startTime="1610">When we did that, we got an </span><span class="line" data-startTime="1610">average 30% reduction in image </span><span class="line" data-startTime="1613">size across all the images </span><span class="line" data-startTime="1613">on the site. </span> <span class="line" data-startTime="1615">But more importantly, </span><span class="line" data-startTime="1615">we reduced page </span><span class="line" data-startTime="1616">load time by a third. </span> <span class="line" data-startTime="1618">And that was pretty </span><span class="line" data-startTime="1618">significant. </span></p>

<p><span class="line" data-startTime="1620">And it really, at the end of the </span><span class="line" data-startTime="1620">day, turned out to be not </span><span class="line" data-startTime="1622">a tremendous amount of work. </span> <span class="line" data-startTime="1624">Really, we just request &mdash; we </span><span class="line" data-startTime="1624">have a server that serves </span><span class="line" data-startTime="1627">image assets. </span> <span class="line" data-startTime="1628">It's capable of doing </span><span class="line" data-startTime="1628">transcoding. </span> <span class="line" data-startTime="1629">And then we just tell it, hey, </span><span class="line" data-startTime="1629">if the user is Chrome or </span><span class="line" data-startTime="1631">Opera, serve WebP. </span> <span class="line" data-startTime="1633">And magically, things start </span><span class="line" data-startTime="1633">getting faster very easy. </span> <span class="line" data-startTime="1637">And one example is </span><span class="line" data-startTime="1637">the calendar tile </span><span class="line" data-startTime="1639">that you see here &mdash; </span><span class="line" data-startTime="1640">two versions of the same tile. </span> <span class="line" data-startTime="1642">One is 32 and one is 8.3 K. So </span><span class="line" data-startTime="1642">tremendous difference with </span><span class="line" data-startTime="1646">very little plumbing work </span><span class="line" data-startTime="1646">that was needed </span><span class="line" data-startTime="1648">to get that to happen. </span> <span class="line" data-startTime="1651">And we're in the process of </span><span class="line" data-startTime="1651">deploying WebP across all </span><span class="line" data-startTime="1654">Google sites that </span><span class="line" data-startTime="1654">serve images. </span> <span class="line" data-startTime="1655">So some of these are </span><span class="line" data-startTime="1655">supported today. </span> <span class="line" data-startTime="1656">Others you will see support </span><span class="line" data-startTime="1656">rolling out across </span><span class="line" data-startTime="1659">the rest of the year. </span></p>

<p><span class="line" data-startTime="1659">Some of them are in various </span><span class="line" data-startTime="1659">stages of experimental and </span><span class="line" data-startTime="1661">field trial. </span> <span class="line" data-startTime="1662">But literally across the gamut </span><span class="line" data-startTime="1662">of sites across Google, we are </span><span class="line" data-startTime="1666">in the process of doing </span><span class="line" data-startTime="1666">all this transition. </span> <span class="line" data-startTime="1668">And we'll be doing that </span><span class="line" data-startTime="1668">throughout the </span><span class="line" data-startTime="1669">course of the year. </span> <span class="line" data-startTime="1670">We'll talk about one more </span><span class="line" data-startTime="1670">of them in a moment. </span></p>

<p class="speaker"><span class="line" data-starttime="1673"><span class="speakerName">Ilya Grigorik</span>: So we're </span><span class="line" data-startTime="1673">definitely dogfooding a lot of </span><span class="line" data-startTime="1675">the WebP deployment </span><span class="line" data-startTime="1675">strategies today. </span> <span class="line" data-startTime="1678">And one great example is </span><span class="line" data-startTime="1678">actually data compression. </span> <span class="line" data-startTime="1681">So once again, if you saw the </span><span class="line" data-startTime="1681">keynotes, Linus actually </span><span class="line" data-startTime="1684">talked about this, where </span><span class="line" data-startTime="1684">we now have a </span><span class="line" data-startTime="1686">new feature in Chrome. </span> <span class="line" data-startTime="1687">And if you haven't tried </span><span class="line" data-startTime="1687">it, we definitely </span><span class="line" data-startTime="1689">encourage you to. </span> <span class="line" data-startTime="1689">If you go to the Apps Store and </span><span class="line" data-startTime="1689">download Chrome Beta, you </span><span class="line" data-startTime="1692">can go into your settings. </span> <span class="line" data-startTime="1694">There's a new tab called </span><span class="line" data-startTime="1694">Bandwidth Management. </span></p>

<p><span class="line" data-startTime="1696">It can basically enable Chrome </span><span class="line" data-startTime="1696">data compression. </span> <span class="line" data-startTime="1698">So the way that works is when </span><span class="line" data-startTime="1698">you make a request, we will </span><span class="line" data-startTime="1702">actually route the request to </span><span class="line" data-startTime="1702">a Google server, which will </span><span class="line" data-startTime="1704">then fetch the content and all </span><span class="line" data-startTime="1704">the associated images, </span><span class="line" data-startTime="1708">compress it, minify it, optimize </span><span class="line" data-startTime="1708">it, and then deliver </span><span class="line" data-startTime="1710">the optimized version to your </span><span class="line" data-startTime="1710">site or to your phone, rather. </span> <span class="line" data-startTime="1714">And we find that we get, on </span><span class="line" data-startTime="1714">average, 50% data reduction </span><span class="line" data-startTime="1717">when we do that. </span> <span class="line" data-startTime="1718">So this is a huge benefit </span><span class="line" data-startTime="1718">to the user. </span> <span class="line" data-startTime="1720">And guess what? </span><span class="line" data-startTime="1722">Images are once again the </span><span class="line" data-startTime="1722">number one optimization. </span> <span class="line" data-startTime="1725">So in fact, one of the big </span><span class="line" data-startTime="1725">optimizations that we do in </span><span class="line" data-startTime="1727">Flywheel or data compression is </span><span class="line" data-startTime="1727">just re-encoding literally </span><span class="line" data-startTime="1733">every single image to WebP. </span></p>

<p><span class="line" data-startTime="1735">We just transcode everything </span><span class="line" data-startTime="1735">to WebP. </span> <span class="line" data-startTime="1737">And that helps reduce the </span><span class="line" data-startTime="1737">data usage quite a bit. </span> <span class="line" data-startTime="1743">This is a great site. </span> <span class="line" data-startTime="1744">I love to share this site. </span> <span class="line" data-startTime="1746">Let's actually look at </span><span class="line" data-startTime="1746">a demo to appreciate </span><span class="line" data-startTime="1749">it in all its glory. </span> <span class="line" data-startTime="1751">So this is a beautiful animation </span><span class="line" data-startTime="1751">built by Oakley. </span> <span class="line" data-startTime="1754">So as I'm scrolling </span><span class="line" data-startTime="1754">down, we have this </span><span class="line" data-startTime="1756">beautiful parallax effect. </span> <span class="line" data-startTime="1757">We have animations coming </span><span class="line" data-startTime="1757">in and out. </span></p>

<p><span class="line" data-startTime="1760">This is using HTML5, lots </span><span class="line" data-startTime="1760">of images, nothing </span><span class="line" data-startTime="1764">special under the hood. </span> <span class="line" data-startTime="1765">But the one trick to </span><span class="line" data-startTime="1765">this page is &mdash; </span><span class="line" data-startTime="1769">let's just reload it here. </span> <span class="line" data-startTime="1771">This is where we definitely </span><span class="line" data-startTime="1771">need a good connection. </span> <span class="line" data-startTime="1778">Let's see. </span> <span class="line" data-startTime="1779">100% &mdash; </span><span class="line" data-startTime="1780">here we come. </span> <span class="line" data-startTime="1782">86 megabytes of images to </span><span class="line" data-startTime="1782">deliver this great experience. </span> <span class="line" data-startTime="1786">So the way the site is built &mdash; </span><span class="line" data-startTime="1788">and it's a beautiful </span><span class="line" data-startTime="1788">experience. </span> <span class="line" data-startTime="1789">I love it &mdash; </span><span class="line" data-startTime="1790">is it's delivering a lot of PNGs </span><span class="line" data-startTime="1790">with transparencies in </span><span class="line" data-startTime="1794">the background. </span> <span class="line" data-startTime="1795">And so as you move, these are </span><span class="line" data-startTime="1795">basically layers that are </span><span class="line" data-startTime="1799">being positioned right </span><span class="line" data-startTime="1799">within the browser. </span></p>

<p><span class="line" data-startTime="1803">So 86 megs is quite heavy. </span> <span class="line" data-startTime="1806">So as just an experiment, we </span><span class="line" data-startTime="1806">said, look, WebP can probably </span><span class="line" data-startTime="1809">do a bit better, </span><span class="line" data-startTime="1809">especially with </span><span class="line" data-startTime="1810">transparency, as you guys heard. </span> <span class="line" data-startTime="1812">So we can take the 86 meg, </span><span class="line" data-startTime="1812">without any modifications to </span><span class="line" data-startTime="1815">the site, and convert </span><span class="line" data-startTime="1815">it to 28 megs. </span> <span class="line" data-startTime="1819">So let's be clear. </span> <span class="line" data-startTime="1821">28 megs is still massive </span><span class="line" data-startTime="1821">for a web page. </span> <span class="line" data-startTime="1824">But it's 60 or 58 megabytes </span><span class="line" data-startTime="1824">less, which is </span><span class="line" data-startTime="1828">pretty good, I think. </span> <span class="line" data-startTime="1832">And so some cool tools or some </span><span class="line" data-startTime="1832">tips for getting started. </span> <span class="line" data-startTime="1837">And if you just want to </span><span class="line" data-startTime="1837">experiment with WebP, there's </span><span class="line" data-startTime="1840">a great service. </span> <span class="line" data-startTime="1840">It's a free service called </span><span class="line" data-startTime="1840">IMG2WebP.net. </span> <span class="line" data-startTime="1843">You can just go there. </span></p>

<p><span class="line" data-startTime="1844">You can drag in an image, any </span><span class="line" data-startTime="1844">image off your local file </span><span class="line" data-startTime="1847">system, and just play </span><span class="line" data-startTime="1847">with the settings. </span> <span class="line" data-startTime="1849">And you have a bunch </span><span class="line" data-startTime="1849">of sliders. </span> <span class="line" data-startTime="1851">And you can see the </span><span class="line" data-startTime="1851">output without </span><span class="line" data-startTime="1853">installing any other tools. </span> <span class="line" data-startTime="1854">So this is not something that </span><span class="line" data-startTime="1854">you want to use to convert all </span><span class="line" data-startTime="1856">of your images to </span><span class="line" data-startTime="1856">WebP, but it's a </span><span class="line" data-startTime="1858">great way to get started. </span> <span class="line" data-startTime="1859">If you're on Windows, there's </span><span class="line" data-startTime="1859">a great new tool that was </span><span class="line" data-startTime="1862">released just a couple of weeks </span><span class="line" data-startTime="1862">ago where you can punch </span><span class="line" data-startTime="1865">in the name of the site or </span><span class="line" data-startTime="1865">just the URL of the site. </span> <span class="line" data-startTime="1868">It'll download your site. </span> <span class="line" data-startTime="1869">And it'll recompress all the </span><span class="line" data-startTime="1869">images with WebP and basically </span><span class="line" data-startTime="1872">give you a report card saying, </span><span class="line" data-startTime="1872">if you converted to WebP with </span><span class="line" data-startTime="1877">these settings, then you would </span><span class="line" data-startTime="1877">save this amount of bytes. </span></p>

<p><span class="line" data-startTime="1881">And you can actually change and </span><span class="line" data-startTime="1881">tweak the settings, which </span><span class="line" data-startTime="1883">is the cool part. </span> <span class="line" data-startTime="1884">So you can change your </span><span class="line" data-startTime="1884">compression quality levels and </span><span class="line" data-startTime="1886">all the rest. </span></p>

<p class="speaker"><span class="line" data-starttime="1887"><span class="speakerName">Stephen Konig</span>: And it lets </span><span class="line" data-startTime="1887">you see your site </span><span class="line" data-startTime="1888">with WebP as well. </span><span class="line" data-startTime="1890">So you can actually do a little </span><span class="line" data-startTime="1890">side by side visual </span><span class="line" data-startTime="1892">comparison. </span></p>

<p class="speaker"><span class="line" data-starttime="1892"><span class="speakerName">Ilya Grigorik</span>: So </span><span class="line" data-startTime="1892">awesome tool. </span> <span class="line" data-startTime="1894">Definitely check it out. </span> <span class="line" data-startTime="1894">And then finally, if you're </span><span class="line" data-startTime="1894">ready to start converting your </span><span class="line" data-startTime="1897">images, as Stephen mentioned, </span><span class="line" data-startTime="1897">you can do that at deploy time </span><span class="line" data-startTime="1901">or at build time. </span> <span class="line" data-startTime="1902">There's a number of great </span><span class="line" data-startTime="1902">plugins for things like Grunt </span><span class="line" data-startTime="1906">and other build tools which can </span><span class="line" data-startTime="1906">run at build time and just </span><span class="line" data-startTime="1910">convert all of your images </span><span class="line" data-startTime="1910">and make them </span><span class="line" data-startTime="1911">available on the server. </span></p>

<p class="speaker"><span class="line" data-starttime="1916"><span class="speakerName">Stephen Konig</span>: So let's </span><span class="line" data-startTime="1916">talk a little bit </span><span class="line" data-startTime="1917">about WebP on mobile. </span> <span class="line" data-startTime="1919">Full screen. </span> <span class="line" data-startTime="1922">Oh, I want to go </span><span class="line" data-startTime="1922">to full screen. </span> <span class="line" data-startTime="1927">So we talked a lot about </span><span class="line" data-startTime="1927">deploying it on sort of the </span><span class="line" data-startTime="1929">desktop web. </span> <span class="line" data-startTime="1929">The good news is there are great </span><span class="line" data-startTime="1929">ways to deploy this on </span><span class="line" data-startTime="1932">the mobile web as well, on our </span><span class="line" data-startTime="1932">mobile devices for native </span><span class="line" data-startTime="1934">applications. </span> <span class="line" data-startTime="1934">We'll talk a little </span><span class="line" data-startTime="1934">bit about that. </span> <span class="line" data-startTime="1936">One case study &mdash; </span><span class="line" data-startTime="1937">so the Google+ app, today on </span><span class="line" data-startTime="1937">Android, and actually for </span><span class="line" data-startTime="1940">about the last month or so, has </span><span class="line" data-startTime="1940">been serving WebP images. </span> <span class="line" data-startTime="1943">So you probably haven't </span><span class="line" data-startTime="1943">noticed. </span> <span class="line" data-startTime="1945">And that's actually the point, </span><span class="line" data-startTime="1945">that you're getting faster </span><span class="line" data-startTime="1950">performance and faster loads </span><span class="line" data-startTime="1950">for the same quality image, </span><span class="line" data-startTime="1954">and you didn't have </span><span class="line" data-startTime="1954">to do anything. </span> <span class="line" data-startTime="1955">And that's the whole idea. </span></p>

<p><span class="line" data-startTime="1956">But starting about a month and a </span><span class="line" data-startTime="1956">half ago, we've been serving </span><span class="line" data-startTime="1959">WebP images to users of </span><span class="line" data-startTime="1959">the G+ app on Android. </span> <span class="line" data-startTime="1963">On average, we've been actually </span><span class="line" data-startTime="1963">seeing about a 50% </span><span class="line" data-startTime="1965">reduction in image </span><span class="line" data-startTime="1965">sizes with WebP. </span> <span class="line" data-startTime="1967">And the reason for that is WebP </span><span class="line" data-startTime="1967">actually does a pretty </span><span class="line" data-startTime="1969">good job with user-generated </span><span class="line" data-startTime="1969">photos as opposed to other </span><span class="line" data-startTime="1972">types of images, especially </span><span class="line" data-startTime="1972">with photos. </span> <span class="line" data-startTime="1975">So that's why we're able to </span><span class="line" data-startTime="1975">get even more than typical </span><span class="line" data-startTime="1978">kinds of savings. </span> <span class="line" data-startTime="1979">We're literally, as a result </span><span class="line" data-startTime="1979">of that change, saving many </span><span class="line" data-startTime="1981">terabytes of bandwidth </span><span class="line" data-startTime="1981">per day. </span> <span class="line" data-startTime="1982">And literally also because of </span><span class="line" data-startTime="1982">the cost factor &mdash; we're saving </span><span class="line" data-startTime="1985">our users money. </span></p>

<p><span class="line" data-startTime="1986">So it's cheaper to use this app </span><span class="line" data-startTime="1986">now than it was before. </span> <span class="line" data-startTime="1989">And I think that's a </span><span class="line" data-startTime="1989">pretty cool win. </span> <span class="line" data-startTime="1992">So how would you deploy </span><span class="line" data-startTime="1992">this on Android? </span><span class="line" data-startTime="1994">So the code you see here is </span><span class="line" data-startTime="1994">actually using the native </span><span class="line" data-startTime="1996">library, which is supported on </span><span class="line" data-startTime="1996">all versions of Android. </span> <span class="line" data-startTime="1999">So WebP support is baked in at </span><span class="line" data-startTime="1999">the OS level, starting with </span><span class="line" data-startTime="2003">ICS and above. </span> <span class="line" data-startTime="2004">But if you want to be able to </span><span class="line" data-startTime="2004">target versions of Android </span><span class="line" data-startTime="2007">prior to that, you </span><span class="line" data-startTime="2007">can use a native </span><span class="line" data-startTime="2008">library that we provide. </span></p>

<p><span class="line" data-startTime="2009">So it's pretty simple. </span> <span class="line" data-startTime="2010">Basically, you get </span><span class="line" data-startTime="2010">a WebP image. </span> <span class="line" data-startTime="2011">You decode it as a bitmap. </span> <span class="line" data-startTime="2012">And then you render it. </span> <span class="line" data-startTime="2013">So I'll let you guys read </span><span class="line" data-startTime="2013">through all the code. </span> <span class="line" data-startTime="2014">But that's pretty much </span><span class="line" data-startTime="2014">the process &mdash; pretty </span><span class="line" data-startTime="2017">straightforward. </span></p>

<p class="speaker"><span class="line" data-starttime="2017"><span class="speakerName">Ilya Grigorik</span>: I think the </span><span class="line" data-startTime="2017">point here is that it's </span><span class="line" data-startTime="2018">actually no different from </span><span class="line" data-startTime="2018">any other image. </span></p>

<p class="speaker"><span class="line" data-starttime="2020"><span class="speakerName">Stephen Konig</span>: Exactly. </span><span class="line" data-startTime="2022">And same sort of </span><span class="line" data-startTime="2022">story on iOS &mdash; </span><span class="line" data-startTime="2024">we provide a library that you </span><span class="line" data-startTime="2024">can use if you're building </span><span class="line" data-startTime="2026">native apps for iOS. </span><span class="line" data-startTime="2027">Pretty much the same thing &mdash; </span><span class="line" data-startTime="2027">grab the image from the </span><span class="line" data-startTime="2028">server, decode it, stick it into </span><span class="line" data-startTime="2028">a byte array, render it, </span><span class="line" data-startTime="2031">and you're done. </span><span class="line" data-startTime="2032">So it's pretty straightforward </span><span class="line" data-startTime="2032">to deploy and use. </span></p>

<p class="speaker"><span class="line" data-starttime="2037"><span class="speakerName">Ilya Grigorik</span>: So as a recap &mdash; </span><span class="line" data-startTime="2038">I think we've covered a </span><span class="line" data-startTime="2038">lot of ground here. </span> <span class="line" data-startTime="2040">For deploying WebP, you can </span><span class="line" data-startTime="2040">use it on native apps. </span> <span class="line" data-startTime="2043">That's very easy </span><span class="line" data-startTime="2043">to get started. </span> <span class="line" data-startTime="2044">We have iOS solutions. </span> <span class="line" data-startTime="2046">We have Android solutions. </span> <span class="line" data-startTime="2047">You can go far back with the </span><span class="line" data-startTime="2047">backport as well on Android. </span> <span class="line" data-startTime="2051">And on the web, we have server </span><span class="line" data-startTime="2053">detection, client-side detection. </span> <span class="line" data-startTime="2054">We looked at a couple different </span><span class="line" data-startTime="2054">strategies. </span> <span class="line" data-startTime="2057">And personally, I think actually </span><span class="line" data-startTime="2057">the automation part </span><span class="line" data-startTime="2060">of deploying WebP is the easiest </span><span class="line" data-startTime="2060">way to get started. </span> <span class="line" data-startTime="2062">So PageSpeed is one way. </span> <span class="line" data-startTime="2064">There are other providers that </span><span class="line" data-startTime="2064">will convert these images and </span><span class="line" data-startTime="2067">serve them dynamically </span><span class="line" data-startTime="2067">for you. </span> <span class="line" data-startTime="2069">Just recently, we actually had </span><span class="line" data-startTime="2069">an interesting experiment </span><span class="line" data-startTime="2072">deploy with a company called CDN </span><span class="line" data-startTime="2072">Connect, which does image </span><span class="line" data-startTime="2074">optimization. </span> <span class="line" data-startTime="2075">What they allow you to do is </span><span class="line" data-startTime="2075">just upload any image that you </span><span class="line" data-startTime="2078">want into their CDN. </span> <span class="line" data-startTime="2080">They will do all of </span><span class="line" data-startTime="2080">the optimization. </span></p>

<p><span class="line" data-startTime="2081">They'll handle the Accept </span><span class="line" data-startTime="2081">negotiation. </span> <span class="line" data-startTime="2083">You guys don't even have </span><span class="line" data-startTime="2083">to think about it. </span> <span class="line" data-startTime="2085">And the user gets the </span><span class="line" data-startTime="2085">optimized assets. </span> <span class="line" data-startTime="2087">So hopefully, this motivated </span><span class="line" data-startTime="2087">why you should </span><span class="line" data-startTime="2091">take a look at WebP. </span> <span class="line" data-startTime="2092">And hopefully you'll deploy </span><span class="line" data-startTime="2092">them in your applications. </span> <span class="line" data-startTime="2097">And if you guys have any </span><span class="line" data-startTime="2097">questions, please </span><span class="line" data-startTime="2098">grab one of the mics. </span> <span class="line" data-startTime="2099">And we'll be happy </span><span class="line" data-startTime="2099">to answer them. </span> <span class="line" data-startTime="2101">[APPLAUSE] </span></p>

<p class="speaker"><span class="line" data-starttime="2109"><span class="speakerName">Audience</span>: Hi. </span><span class="line" data-startTime="2110">You guys talked about </span><span class="line" data-startTime="2110">encoding &mdash; </span><span class="line" data-startTime="2113">or you showed example of </span><span class="line" data-startTime="2113">decoding on Android and iOS. </span><span class="line" data-startTime="2117">I was just wondering if it's </span><span class="line" data-startTime="2117">likely or realistic to encode </span><span class="line" data-startTime="2120">on Android or iOS in the process </span><span class="line" data-startTime="2120">of an application </span><span class="line" data-startTime="2124">where you'd be taking a picture </span><span class="line" data-startTime="2124">and then want to send </span><span class="line" data-startTime="2126">it to a web service and </span><span class="line" data-startTime="2126">encode it first. </span><span class="line" data-startTime="2129">Can you talk about that? </span></p>

<p class="speaker"><span class="line" data-starttime="2131"><span class="speakerName">Stephen Konig</span>: Yeah, I think you </span><span class="line" data-startTime="2131">could certainly do that. </span><span class="line" data-startTime="2134">The libraries we provide today </span><span class="line" data-startTime="2134">are focused on decode because </span><span class="line" data-startTime="2136">that's the predominant case. </span><span class="line" data-startTime="2138">But literally, they're nothing </span><span class="line" data-startTime="2138">more than a port of the full </span><span class="line" data-startTime="2141">library that you find </span><span class="line" data-startTime="2141">on our site. </span><span class="line" data-startTime="2144">So I think we could certainly </span><span class="line" data-startTime="2144">look at that. </span><span class="line" data-startTime="2145">Or it's something I think you </span><span class="line" data-startTime="2145">could do today, just porting </span><span class="line" data-startTime="2148">that code for the encoder. </span></p>

<p class="speaker"><span class="line" data-starttime="2152"><span class="speakerName">Audience</span>: I have a question </span><span class="line" data-startTime="2152">about using the Accept header </span><span class="line" data-startTime="2154">to serve the right </span><span class="line" data-startTime="2154">image format. </span><span class="line" data-startTime="2156">Right now on our site, all </span><span class="line" data-startTime="2156">image links are complete </span><span class="line" data-startTime="2159">permalinks that gives you the </span><span class="line" data-startTime="2159">same data no matter where you </span><span class="line" data-startTime="2161">are or when you are, which is </span><span class="line" data-startTime="2161">really nice for a CDN, which </span><span class="line" data-startTime="2164">just uses the URL </span><span class="line" data-startTime="2164">as a cache key. </span><span class="line" data-startTime="2165">And also any caching proxy </span><span class="line" data-startTime="2165">between our user and our CDN </span><span class="line" data-startTime="2170">can cache based on </span><span class="line" data-startTime="2170">just the URL. </span><span class="line" data-startTime="2172">So I'm wondering what sort of </span><span class="line" data-startTime="2172">CDN support do you see for </span><span class="line" data-startTime="2176">using that Accept header as </span><span class="line" data-startTime="2176">part of the cache key. </span><span class="line" data-startTime="2179">And also how that affects </span><span class="line" data-startTime="2179">downstream caching proxies &mdash; </span><span class="line" data-startTime="2182">are they able to distinguish </span><span class="line" data-startTime="2182">that? </span><span class="line" data-startTime="2183">Or do we just have to tell them </span><span class="line" data-startTime="2183">that the downstream proxy </span><span class="line" data-startTime="2186">can't cache it? </span></p>

<p class="speaker"><span class="line" data-starttime="2187"><span class="speakerName">Ilya Grigorik</span>: So the other part </span><span class="line" data-startTime="2187">I didn't cover around the </span><span class="line" data-startTime="2190">Accept header is the </span><span class="line" data-startTime="2190">Vary Accept. </span> <span class="line" data-startTime="2192">So when you provide a different </span><span class="line" data-startTime="2192">image based on </span><span class="line" data-startTime="2196">Accept header, you also have </span><span class="line" data-startTime="2196">to basically indicate to </span><span class="line" data-startTime="2199">upstream proxies to say, this </span><span class="line" data-startTime="2199">image is different based on </span><span class="line" data-startTime="2203">certain parameters. </span> <span class="line" data-startTime="2204">So that's why you specify </span><span class="line" data-startTime="2204">Vary Accept. </span> <span class="line" data-startTime="2206">And we actually have a good </span><span class="line" data-startTime="2206">tutorial that I've written up </span><span class="line" data-startTime="2208">recently for how to make this </span><span class="line" data-startTime="2208">work with nginx and Apache and </span><span class="line" data-startTime="2212">other servers. </span> <span class="line" data-startTime="2213">And working with CDN's &mdash; </span><span class="line" data-startTime="2215">I've talked to Akamai </span><span class="line" data-startTime="2215">and others. </span></p>

<p><span class="line" data-startTime="2217">They're in the process of </span><span class="line" data-startTime="2217">deploying support for Accept. </span></p>

<p class="speaker"><span class="line" data-starttime="2220"><span class="speakerName">Audience</span>: And in terms of </span><span class="line" data-startTime="2220">proxies that you see users </span><span class="line" data-startTime="2224">have, do you find that the level </span><span class="line" data-startTime="2224">of support for being </span><span class="line" data-startTime="2226">able to identify that properly </span><span class="line" data-startTime="2226">is high enough that you'd be </span><span class="line" data-startTime="2229">willing to send that </span><span class="line" data-startTime="2229">to your users? </span><span class="line" data-startTime="2230">Or do you see a lot of errors? </span></p>

<p class="speaker"><span class="line" data-starttime="2231"><span class="speakerName">Ilya Grigorik</span>: So the default </span><span class="line" data-startTime="2231">behavior for a lot of proxies </span><span class="line" data-startTime="2233">today is if they see anything </span><span class="line" data-startTime="2233">but Accept in coding, is to </span><span class="line" data-startTime="2237">not cache it. </span><span class="line" data-startTime="2239">So that means that it'll </span><span class="line" data-startTime="2239">just bypass that cache. </span><span class="line" data-startTime="2242">So it won't break your site, </span><span class="line" data-startTime="2242">which I think is a more </span><span class="line" data-startTime="2244">important part. </span></p>

<p class="speaker"><span class="line" data-starttime="2245"><span class="speakerName">Audience</span>: OK. </span><span class="line" data-startTime="2246">Thanks. </span></p>

<p class="speaker"><span class="line" data-starttime="2247"><span class="speakerName">Audience</span>: Yes, hi. </span><span class="line" data-startTime="2248">How do you see WebP being used </span><span class="line" data-startTime="2248">in medical radiology? </span></p>

<p class="speaker"><span class="line" data-starttime="2252"><span class="speakerName">Stephen Konig</span>: In &mdash; </span><span class="line" data-startTime="2252">sorry, which? </span></p>

<p class="speaker"><span class="line" data-starttime="2253"><span class="speakerName">Audience</span>: In radiology. </span></p>

<p class="speaker"><span class="line" data-starttime="2255"><span class="speakerName">Stephen Konig</span>: Good question. </span> <span class="line" data-startTime="2255">I'm not sure. </span> <span class="line" data-startTime="2258">We think there's lots </span><span class="line" data-startTime="2258">of applications. </span> <span class="line" data-startTime="2260">We've been heavily focused </span><span class="line" data-startTime="2260">on the web for </span><span class="line" data-startTime="2263">sort of obvious reasons. </span> <span class="line" data-startTime="2264">But having said that, I think </span><span class="line" data-startTime="2264">there are a lot of additional </span><span class="line" data-startTime="2267">types of applications where </span><span class="line" data-startTime="2267">WebP makes a lot of sense. </span> <span class="line" data-startTime="2270">In the cases where storage is a </span><span class="line" data-startTime="2270">primary concern, WebP is an </span><span class="line" data-startTime="2273">obvious choice. </span> <span class="line" data-startTime="2274">We can get you the same image </span><span class="line" data-startTime="2274">with no loss of visual quality </span><span class="line" data-startTime="2277">or purely lossless if you want </span><span class="line" data-startTime="2277">for 30 to 50% less bytes. </span> <span class="line" data-startTime="2282">So we haven't been focused </span><span class="line" data-startTime="2282">on those kinds of </span><span class="line" data-startTime="2284">applications just yet. </span> <span class="line" data-startTime="2285">But I would expect that as we </span><span class="line" data-startTime="2285">make more progress in getting </span><span class="line" data-startTime="2288">it deployed across the web, </span><span class="line" data-startTime="2288">it makes a lot of sense. </span></p>

<p><span class="line" data-startTime="2290">It would make sense for camera </span><span class="line" data-startTime="2290">and device makers to store </span><span class="line" data-startTime="2293">these images as WebP natively. </span> <span class="line" data-startTime="2295">Literally, you're going to get a </span><span class="line" data-startTime="2295">third more images on your SD </span><span class="line" data-startTime="2297">card by using WebP. </span> <span class="line" data-startTime="2298">But the reality is they're not </span><span class="line" data-startTime="2298">going to do that until there's </span><span class="line" data-startTime="2301">better support in sites across </span><span class="line" data-startTime="2301">the web for uploading WebP. </span> <span class="line" data-startTime="2305">So we have to get there first </span><span class="line" data-startTime="2305">before we can move on to the </span><span class="line" data-startTime="2308">second tier. </span> <span class="line" data-startTime="2308">But I think applications like </span><span class="line" data-startTime="2308">that make a lot of sense. </span></p>

<p class="speaker"><span class="line" data-starttime="2313"><span class="speakerName">Audience</span>: Hi. </span><span class="line" data-startTime="2313">I'm curious about photographs </span><span class="line" data-startTime="2313">in particular. </span><span class="line" data-startTime="2316">Typically, they come off of the </span><span class="line" data-startTime="2316">camera in a JPEG format. </span><span class="line" data-startTime="2319">Re-encoding it &mdash; would you </span><span class="line" data-startTime="2319">want to use the lossless </span><span class="line" data-startTime="2322">re-encoding so as to avoid </span><span class="line" data-startTime="2322">introducing new artifacts? </span><span class="line" data-startTime="2325">If so, what kind of savings </span><span class="line" data-startTime="2325">do you get there? </span><span class="line" data-startTime="2329">And so on and so forth. </span></p>

<p class="speaker"><span class="line" data-starttime="2331"><span class="speakerName">Stephen Konig</span>: You can </span><span class="line" data-startTime="2331">certainly do that. </span> <span class="line" data-startTime="2332">Even if you take a JPEG and </span><span class="line" data-startTime="2332">recompress it as a lossless </span><span class="line" data-startTime="2335">WebP, you're still going to </span><span class="line" data-startTime="2335">get byte savings over the </span><span class="line" data-startTime="2337">original source. </span> <span class="line" data-startTime="2338">So that definitely still </span><span class="line" data-startTime="2338">makes a lot of sense. </span> <span class="line" data-startTime="2340">It depends a little bit on the </span><span class="line" data-startTime="2340">quality setting that's coming </span><span class="line" data-startTime="2342">out of the camera. </span> <span class="line" data-startTime="2342">If the quality is high, </span><span class="line" data-startTime="2342">recompressing into a lossy </span><span class="line" data-startTime="2345">WebP, you're really not going to </span><span class="line" data-startTime="2345">get anything significant in </span><span class="line" data-startTime="2348">terms of additional compression </span><span class="line" data-startTime="2348">artifacts. </span> <span class="line" data-startTime="2350">But it is something that &mdash; </span><span class="line" data-startTime="2350">as you're thinking about </span><span class="line" data-startTime="2352">deploying this &mdash; and one of </span><span class="line" data-startTime="2352">the things that we do </span><span class="line" data-startTime="2353">internally is we do a </span><span class="line" data-startTime="2353">visual comparison. </span> <span class="line" data-startTime="2356">We take like a couple hundred </span><span class="line" data-startTime="2356">to 1,000 images. </span> <span class="line" data-startTime="2359">And we'll recompress </span><span class="line" data-startTime="2359">them as WebPs. </span></p>

<p><span class="line" data-startTime="2361">And we'll compare them against </span><span class="line" data-startTime="2361">the original JPEGs and do </span><span class="line" data-startTime="2364">basically an eyeball </span><span class="line" data-startTime="2364">comparison. </span> <span class="line" data-startTime="2365">And I think that's important </span><span class="line" data-startTime="2365">because depending on the </span><span class="line" data-startTime="2367">nature of the images you have on </span><span class="line" data-startTime="2367">your site, you may want to </span><span class="line" data-startTime="2369">tweak the quality settings </span><span class="line" data-startTime="2369">to get the right mix. </span> <span class="line" data-startTime="2372">The other thing I would say on </span><span class="line" data-startTime="2372">that, too, is that sometimes </span><span class="line" data-startTime="2375">the issue is about improving </span><span class="line" data-startTime="2375">quality with keeping the file </span><span class="line" data-startTime="2377">size constant. </span> <span class="line" data-startTime="2378">We see that, too, in some </span><span class="line" data-startTime="2378">cases, where the site is </span><span class="line" data-startTime="2382">actually more interested in </span><span class="line" data-startTime="2382">saying, you know, gosh, those </span><span class="line" data-startTime="2384">thumbnails we served today </span><span class="line" data-startTime="2384">are really crappy. </span> <span class="line" data-startTime="2386">They look terrible. </span> <span class="line" data-startTime="2387">But we can't afford to increase </span><span class="line" data-startTime="2387">the JPEG quality </span><span class="line" data-startTime="2389">because it would cost </span><span class="line" data-startTime="2389">more bytes and </span><span class="line" data-startTime="2391">make the page slower. </span></p>

<p><span class="line" data-startTime="2392">WebP is actually a great way </span><span class="line" data-startTime="2392">to solve that problem, too. </span> <span class="line" data-startTime="2394">So there's lots of different </span><span class="line" data-startTime="2394">ways you can use WebP. </span> <span class="line" data-startTime="2397">So at the end of the day, it </span><span class="line" data-startTime="2397">just becomes a case where you </span><span class="line" data-startTime="2400">have to compare them and get </span><span class="line" data-startTime="2400">to the level that you're </span><span class="line" data-startTime="2402">comfortable with based on what </span><span class="line" data-startTime="2402">your corpus looks like. </span></p>

<p class="speaker"><span class="line" data-starttime="2404"><span class="speakerName">Audience</span>: Great. </span><span class="line" data-startTime="2405">Thanks. </span></p>

<p class="speaker"><span class="line" data-starttime="2405"><span class="speakerName">Ilya Grigorik</span>: Maybe I'll just </span><span class="line" data-startTime="2405">add one more thing, which is </span><span class="line" data-startTime="2407">in our encoder tool, when you </span><span class="line" data-startTime="2407">look at different quality </span><span class="line" data-startTime="2409">levels, so you can actually say </span><span class="line" data-startTime="2409">75, 80 and others, we also </span><span class="line" data-startTime="2413">have a couple of profiles </span><span class="line" data-startTime="2413">built in. </span><span class="line" data-startTime="2414">There's a photo profile </span><span class="line" data-startTime="2414">and a few others. </span><span class="line" data-startTime="2417">So I still encourage you to play </span><span class="line" data-startTime="2417">with them and kind of get </span><span class="line" data-startTime="2419">a feel for how it looks. </span><span class="line" data-startTime="2420">But there's some presets </span><span class="line" data-startTime="2420">in there. </span></p>

<p class="speaker"><span class="line" data-starttime="2423"><span class="speakerName">Audience</span>: Hi, I've got </span><span class="line" data-startTime="2423">three questions. </span><span class="line" data-startTime="2426">The first one is, is there a way </span><span class="line" data-startTime="2426">to do soft tiling and sub </span><span class="line" data-startTime="2433">resolution image decoding? </span><span class="line" data-startTime="2435">The first question. </span><span class="line" data-startTime="2436">The second one is, is the key </span><span class="line" data-startTime="2436">frames used in VP9 the same </span><span class="line" data-startTime="2443">decoder that WebP is based on? </span><span class="line" data-startTime="2445">And the last question &mdash; </span><span class="line" data-startTime="2447">is there any vector instruction </span><span class="line" data-startTime="2447">supporting iOS, </span><span class="line" data-startTime="2449">for the iOS library? </span></p>

<p class="speaker"><span class="line" data-starttime="2452"><span class="speakerName">Stephen Konig</span>: So your last </span><span class="line" data-startTime="2452">question, I don't know. </span> <span class="line" data-startTime="2454">I'll have to follow up </span><span class="line" data-startTime="2454">on that for you. </span> <span class="line" data-startTime="2456">In terms of VP9, no. </span> <span class="line" data-startTime="2458">So the WebP is based </span><span class="line" data-startTime="2458">on a VP8 key frame. </span> <span class="line" data-startTime="2461">We've looked at, does it make </span><span class="line" data-startTime="2461">sense to transition to VP9? </span><span class="line" data-startTime="2463">And for a variety of reasons </span><span class="line" data-startTime="2463">that I can get into offline, </span><span class="line" data-startTime="2467">we feel like it doesn't. </span> <span class="line" data-startTime="2468">So we're going to be staying </span><span class="line" data-startTime="2468">on the VP8 frame for that. </span> <span class="line" data-startTime="2472">And I apologize. </span> <span class="line" data-startTime="2473">I've forgotten your </span><span class="line" data-startTime="2473">first question. </span> <span class="line" data-startTime="2474">But we can follow up offline. </span></p>

<p class="speaker"><span class="line" data-starttime="2476"><span class="speakerName">Audience</span>: OK, yeah. </span><span class="line" data-startTime="2477">It's to do with like 16 K by </span><span class="line" data-startTime="2477">16 K texture maps or tiles. </span><span class="line" data-startTime="2482">Can you generate a </span><span class="line" data-startTime="2482">thumbnail without </span><span class="line" data-startTime="2484">decoding the entire image? </span><span class="line" data-startTime="2486">That's sub resolution </span><span class="line" data-startTime="2486">image decoding. </span><span class="line" data-startTime="2489">And the last one was soft tiling </span><span class="line" data-startTime="2489">to grab a region of </span><span class="line" data-startTime="2491">that 16 K without decoding </span><span class="line" data-startTime="2491">the entire thing. </span></p>

<p class="speaker"><span class="line" data-starttime="2493"><span class="speakerName">Stephen Konig</span>: We're looking </span><span class="line" data-startTime="2493">at techniques like that. </span><span class="line" data-startTime="2495">We don't have direct support </span><span class="line" data-startTime="2495">for it today. </span><span class="line" data-startTime="2496">But those are things </span><span class="line" data-startTime="2496">we are looking at. </span></p>

<p class="speaker"><span class="line" data-starttime="2500"><span class="speakerName">Audience</span>: You guys mentioned </span><span class="line" data-startTime="2500">that encoding is 5 to 10 times </span><span class="line" data-startTime="2503">slower compared to JPEG. </span><span class="line" data-startTime="2507">Is there anything </span><span class="line" data-startTime="2507">on the horizon </span><span class="line" data-startTime="2509">where that would improve? </span></p>

<p class="speaker"><span class="line" data-starttime="2512"><span class="speakerName">Stephen Konig</span>: So I mentioned </span><span class="line" data-startTime="2512">performance optimizations is </span><span class="line" data-startTime="2514">one of the things we're </span><span class="line" data-startTime="2514">working on. </span><span class="line" data-startTime="2515">And encoding performance is </span><span class="line" data-startTime="2515">probably the top of that list. </span><span class="line" data-startTime="2519">I would say, just in general, </span><span class="line" data-startTime="2519">the reason WebP is smaller is </span><span class="line" data-startTime="2522">because we spend more CPU </span><span class="line" data-startTime="2522">cycles to compress. </span><span class="line" data-startTime="2525">And we use more sophisticated </span><span class="line" data-startTime="2525">algorithms. </span><span class="line" data-startTime="2526">So we will never </span><span class="line" data-startTime="2526">get one to one. </span><span class="line" data-startTime="2529">That's just not going </span><span class="line" data-startTime="2529">to happen. </span><span class="line" data-startTime="2531">What we're shooting for, our </span><span class="line" data-startTime="2531">goal, is somewhere around 2 to </span><span class="line" data-startTime="2533">3x, is where we hope to be. </span></p>

<p class="speaker"><span class="line" data-starttime="2538"><span class="speakerName">Audience</span>: I'd like to mix like </span><span class="line" data-startTime="2538">JPEG and WebP files in the </span><span class="line" data-startTime="2542">cache on Android. </span><span class="line" data-startTime="2544">Does the WebP native library can </span><span class="line" data-startTime="2544">detect that this is a WebP </span><span class="line" data-startTime="2550">image and this is a JPEG image </span><span class="line" data-startTime="2550">and decode that too? </span><span class="line" data-startTime="2554">Does it do redirect to JPEG and </span><span class="line" data-startTime="2554">PNG bitmap decompression? </span></p>

<p class="speaker"><span class="line" data-starttime="2558"><span class="speakerName">Ilya Grigorik</span>: I don't think </span><span class="line" data-startTime="2558">the WebP library </span><span class="line" data-startTime="2559">will do that for you. </span><span class="line" data-startTime="2560">But there are great tools </span><span class="line" data-startTime="2560">available where you can just </span><span class="line" data-startTime="2563">read the header of the file, </span><span class="line" data-startTime="2563">of any file, and basically </span><span class="line" data-startTime="2565">determine the file type and then </span><span class="line" data-startTime="2565">just pick the right path </span><span class="line" data-startTime="2568">in your code. </span></p>

<p class="speaker"><span class="line" data-starttime="2569"><span class="speakerName">Audience</span>: So I have </span><span class="line" data-startTime="2569">to do it manually. </span></p>

<p class="speaker"><span class="line" data-starttime="2570"><span class="speakerName">Ilya Grigorik</span>: Correct. </span></p>

<p class="speaker"><span class="line" data-starttime="2574"><span class="speakerName">Audience</span>: Does the backport </span><span class="line" data-startTime="2574">library support all versions </span><span class="line" data-startTime="2576">of Android? </span></p>

<p class="speaker"><span class="line" data-starttime="2577"><span class="speakerName">Stephen Konig</span>: I believe </span><span class="line" data-startTime="2577">everything Froyo and above. </span></p>

<p class="speaker"><span class="line" data-starttime="2581"><span class="speakerName">Audience</span>: Can you provide some </span><span class="line" data-startTime="2581">insight on how WebP behaves </span><span class="line" data-startTime="2583">with images that are a </span><span class="line" data-startTime="2583">combination of PNG image and </span><span class="line" data-startTime="2589">JPEG image &mdash; </span><span class="line" data-startTime="2590">would be great. </span><span class="line" data-startTime="2592">So for example, a screenshot </span><span class="line" data-startTime="2592">or something like that. </span></p>

<p class="speaker"><span class="line" data-starttime="2595"><span class="speakerName">Stephen Konig</span>: So I'm not sure </span><span class="line" data-startTime="2595">what your question is. </span><span class="line" data-startTime="2598">Can you elaborate </span><span class="line" data-startTime="2598">a little bit? </span></p>

<p class="speaker"><span class="line" data-starttime="2600"><span class="speakerName">Audience</span>: It seems like WebP </span><span class="line" data-startTime="2600">is able to behave great on </span><span class="line" data-startTime="2604">photos or to replace PNG. </span><span class="line" data-startTime="2608">What if the image is a </span><span class="line" data-startTime="2608">combination of both? </span></p>

<p class="speaker"><span class="line" data-starttime="2611"><span class="speakerName">Stephen Konig</span>: I see. </span> <span class="line" data-startTime="2612">So in general, what you saw, </span><span class="line" data-startTime="2612">for example, on G+, is that </span><span class="line" data-startTime="2615">WebP does fantastically well </span><span class="line" data-startTime="2615">in cases of photos, </span><span class="line" data-startTime="2618">traditional photos you </span><span class="line" data-startTime="2618">see from cameras. </span> <span class="line" data-startTime="2620">It does really well on just </span><span class="line" data-startTime="2620">about everything. </span> <span class="line" data-startTime="2622">It just does even better </span><span class="line" data-startTime="2622">on things like photos. </span> <span class="line" data-startTime="2625">So if you look back in </span><span class="line" data-startTime="2625">the slides, I had a </span><span class="line" data-startTime="2627">chart of 1,000 PNGs. </span> <span class="line" data-startTime="2628">And they were different </span><span class="line" data-startTime="2628">types of PNGs. </span> <span class="line" data-startTime="2630">Some of them were photos. </span> <span class="line" data-startTime="2632">Some of them are animated, </span><span class="line" data-startTime="2632">just drawings. </span> <span class="line" data-startTime="2635">Some of them are screenshots. </span> <span class="line" data-startTime="2637">And 98 and 1/2, 99% of those </span><span class="line" data-startTime="2637">images are smaller in WebP </span><span class="line" data-startTime="2642">than they are in PNG. </span> <span class="line" data-startTime="2644">There's a little bit of a thing </span><span class="line" data-startTime="2644">at the end where the PNG </span><span class="line" data-startTime="2647">is smaller. </span></p>

<p><span class="line" data-startTime="2648">Those actually are cases where </span><span class="line" data-startTime="2648">the image itself is like four </span><span class="line" data-startTime="2651">by four, something </span><span class="line" data-startTime="2651">really tiny. </span> <span class="line" data-startTime="2653">And what you find out is that </span><span class="line" data-startTime="2653">the container for WebP </span><span class="line" data-startTime="2655">actually is bigger than </span><span class="line" data-startTime="2655">the image size. </span> <span class="line" data-startTime="2657">And so it winds up being bigger </span><span class="line" data-startTime="2657">than the original one. </span> <span class="line" data-startTime="2660">So if your images are a lot like </span><span class="line" data-startTime="2660">that, then I would tell </span><span class="line" data-startTime="2662">you, stick with PNGs. </span> <span class="line" data-startTime="2665">The other case that we see that </span><span class="line" data-startTime="2665">I highlighted is cases </span><span class="line" data-startTime="2667">where if you're generating </span><span class="line" data-startTime="2667">images as part of </span><span class="line" data-startTime="2670">your serving pipeline &mdash; </span><span class="line" data-startTime="2671">so you have something that </span><span class="line" data-startTime="2671">you're then creating an image </span><span class="line" data-startTime="2673">from, and that's being generated </span><span class="line" data-startTime="2673">dynamically. </span> <span class="line" data-startTime="2676">It's not so much a visual </span><span class="line" data-startTime="2676">quality issue there as more of </span><span class="line" data-startTime="2679">a performance issue. </span> <span class="line" data-startTime="2680">Because it takes longer </span><span class="line" data-startTime="2680">to encode that </span><span class="line" data-startTime="2681">as WebP versus PNG. </span> <span class="line" data-startTime="2682">So that's another case where PNG </span><span class="line" data-startTime="2682">would be a better choice. </span></p>

<p><span class="line" data-startTime="2687">But in general, I would just say </span><span class="line" data-startTime="2687">what I said earlier, which </span><span class="line" data-startTime="2689">is at the end of the day, you </span><span class="line" data-startTime="2689">have to do a visual comparison </span><span class="line" data-startTime="2691">to make sure you're comfortable </span><span class="line" data-startTime="2691">and to make sure </span><span class="line" data-startTime="2693">also all the knobs and buttons </span><span class="line" data-startTime="2693">and things that we provide to </span><span class="line" data-startTime="2696">let you control those settings </span><span class="line" data-startTime="2696">for WebP are where you want </span><span class="line" data-startTime="2699">them to be. </span></p>

<p class="speaker"><span class="line" data-starttime="2701"><span class="speakerName">Ilya Grigorik</span>: Right, so maybe </span><span class="line" data-startTime="2701">one more thing that I'll add </span><span class="line" data-startTime="2704">is if you guys have any </span><span class="line" data-startTime="2704">follow-up questions later </span><span class="line" data-startTime="2706">about WebP, we do have the </span><span class="line" data-startTime="2706">WebP-discuss Google group. </span><span class="line" data-startTime="2710">All of our engineers </span><span class="line" data-startTime="2710">monitor it. </span><span class="line" data-startTime="2711">We monitor it. </span><span class="line" data-startTime="2712">So if at any point you guys are </span><span class="line" data-startTime="2712">experimenting with it or </span><span class="line" data-startTime="2715">have questions about WebP, </span><span class="line" data-startTime="2715">please post there. </span><span class="line" data-startTime="2718">And otherwise, thank </span><span class="line" data-startTime="2718">you for coming up. </span></p>

<p class="speaker"><span class="line" data-starttime="2720"><span class="speakerName">Stephen Konig</span>: Thanks. </span><span class="line" data-startTime="2721">[APPLAUSE] </span></p>