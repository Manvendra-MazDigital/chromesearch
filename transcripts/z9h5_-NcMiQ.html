<style>* {font-family: "Open Sans", sans-serif}
a {color: #77aaff}
a.video {border-bottom: 1px solid #ddd; display: block; margin: 0 0 2em 0; padding: 0 0 2em 0}
h2 {color: #444; font-size: 18px;}
span.speakerName {color: black; font-weight: 900;}
body {padding: 2em}
p {color: #444; margin: 0; text-indent: 1.5em;}
p.speaker {margin: 1em 0 0 0; text-indent: 0;}
div#transcript > p:first-child {text-indent: 0;}
</style>

<h1>Ask the Authors: The Definitive Guide to WebSocket</h1>

<h2>Peter Lubbers, Vanessa Wang, Frank Salim, Peter Moskovits</h2>

<a class="video" href="http://youtu.be/z9h5_-NcMiQ">youtu.be/z9h5_-NcMiQ</a><div id="transcript"><p class="speaker"><span class="line" data-starttime="10"><span class="speakerName">Peter Lubbers</span>: Welcome to </span><span class="line" data-startTime="10">"Google Developers Live" here </span><span class="line" data-startTime="12">on the Chrome channel. </span><span class="line" data-startTime="13">And today we have a really </span><span class="line" data-startTime="13">exciting episode of a new </span><span class="line" data-startTime="16">series, "Ask the Author," where </span><span class="line" data-startTime="16">new book authors explain </span><span class="line" data-startTime="23">about their book and the new, </span><span class="line" data-startTime="23">exciting technologies they're </span><span class="line" data-startTime="25">talking about. </span><span class="line" data-startTime="26">So with me I have talking about </span><span class="line" data-startTime="26">"The Definitive Guide to </span><span class="line" data-startTime="31">HTML5 WebSocket," I have the </span><span class="line" data-startTime="31">three authors that wrote it, </span><span class="line" data-startTime="35">starting with the first one, </span><span class="line" data-startTime="35">Vanessa, Vanessa Wang. </span><span class="line" data-startTime="37">Welcome. </span></p>

<p class="speaker"><span class="line" data-starttime="38"><span class="speakerName">Vanessa Wang</span>: Thanks, Peter. </span><span class="line" data-startTime="38">I'm Vanessa Wang. </span><span class="line" data-startTime="39">I'm one of the authors </span><span class="line" data-startTime="39">of the book. </span><span class="line" data-startTime="41">I'm currently manager of </span><span class="line" data-startTime="41">technical publications at </span><span class="line" data-startTime="44">Kaazing, which is a start-up </span><span class="line" data-startTime="44">in Mountain View, where I </span><span class="line" data-startTime="47">write documentation for our </span><span class="line" data-startTime="47">WebSocket platform. </span></p>

<p class="speaker"><span class="line" data-starttime="51"><span class="speakerName">Peter Lubbers</span>: Great. </span><span class="line" data-startTime="51">And Peter Moskovits. </span><span class="line" data-startTime="52">PETER MOSKOVITS: </span><span class="line" data-startTime="52">Hi, I am Peter. </span><span class="line" data-startTime="54">And I head up real-time </span><span class="line" data-startTime="54">solutions at Kaazing. </span><span class="line" data-startTime="58">And I work very closely </span><span class="line" data-startTime="58">with the developer </span><span class="line" data-startTime="60">community out there. </span></p>

<p class="speaker"><span class="line" data-starttime="61"><span class="speakerName">Peter Lubbers</span>: Great. </span><span class="line" data-startTime="61">And Frank, Frank Salim. </span></p>

<p class="speaker"><span class="line" data-starttime="63"><span class="speakerName">Frank Salim</span>: I'm Frank. </span><span class="line" data-startTime="63">I am a software engineer </span><span class="line" data-startTime="63">at Google and I </span><span class="line" data-startTime="66">used to work at Kaazing. </span></p>

<p class="speaker"><span class="line" data-starttime="67"><span class="speakerName">Peter Lubbers</span>: Full disclosure, </span><span class="line" data-startTime="67">I also used to </span><span class="line" data-startTime="69">work at Kaazing, so it feels </span><span class="line" data-startTime="69">like a little bit </span><span class="line" data-startTime="70">of a reunion here. </span><span class="line" data-startTime="72">So tell us a little about </span><span class="line" data-startTime="72">the book in general. </span><span class="line" data-startTime="78">What can we expect to find </span><span class="line" data-startTime="78">in the book, Vanessa? </span></p>

<p class="speaker"><span class="line" data-starttime="81"><span class="speakerName">Vanessa Wang</span>: We started off the </span><span class="line" data-startTime="81">book with a little history </span><span class="line" data-startTime="83">of why WebSocket. </span><span class="line" data-startTime="85">And then we go into the </span><span class="line" data-startTime="85">API and protocol. </span><span class="line" data-startTime="87">So the standard is comprised of </span><span class="line" data-startTime="87">the WebSocket protocol, the </span><span class="line" data-startTime="90">communication protocol, </span><span class="line" data-startTime="90">and the API that </span><span class="line" data-startTime="93">interfaces with it. </span><span class="line" data-startTime="94">And then we deep dive into three </span><span class="line" data-startTime="94">hands-on examples of how </span><span class="line" data-startTime="97">to use WebSocket with higher </span><span class="line" data-startTime="97">level protocols, such as XMPP, </span><span class="line" data-startTime="101">which is a chat application, and </span><span class="line" data-startTime="101">STOMP for pub/sub and VNC, </span><span class="line" data-startTime="107">which is a binary protocol. </span><span class="line" data-startTime="109">We also go into some of the </span><span class="line" data-startTime="109">security and deployment </span><span class="line" data-startTime="111">considerations at the end. </span></p>

<p class="speaker"><span class="line" data-starttime="112"><span class="speakerName">Peter Lubbers</span>: Great. </span><span class="line" data-startTime="113">Yeah. </span><span class="line" data-startTime="113">I saw a great appendix as </span><span class="line" data-startTime="113">well on how to debug it. </span><span class="line" data-startTime="116">And we'll get back </span><span class="line" data-startTime="116">to that as well. </span><span class="line" data-startTime="118">So why did you think &mdash; </span><span class="line" data-startTime="121">when you started writing the </span><span class="line" data-startTime="121">book, Peter, what prompted you </span><span class="line" data-startTime="124">to do that? </span><span class="line" data-startTime="126">Why was it a good time </span><span class="line" data-startTime="126">to [INAUDIBLE]? </span></p>

<p class="speaker"><span class="line" data-starttime="128"><span class="speakerName">Peter Moskovits</span>: It was a long </span><span class="line" data-startTime="128">time until WebSocket became a </span><span class="line" data-startTime="132">ratified standard. </span><span class="line" data-startTime="134">In December, 2011, </span><span class="line" data-startTime="134">it was accepted. </span><span class="line" data-startTime="138">RFC is out there. </span><span class="line" data-startTime="140">And we felt that there's a need </span><span class="line" data-startTime="140">to share the experience </span><span class="line" data-startTime="145">that we have gathered </span><span class="line" data-startTime="145">at Kaazing. </span><span class="line" data-startTime="148">We started it over 4, 4 and </span><span class="line" data-startTime="148">1/2 years ago there. </span><span class="line" data-startTime="152">And we wanted to share so </span><span class="line" data-startTime="152">that people can get </span><span class="line" data-startTime="156">started and use it. </span></p>

<p class="speaker"><span class="line" data-starttime="158"><span class="speakerName">Peter Lubbers</span>: Great. </span><span class="line" data-startTime="158">All right. </span><span class="line" data-startTime="158">So maybe just for everyone </span><span class="line" data-startTime="158">that's watching and has </span><span class="line" data-startTime="162">questions about WebSocket, by </span><span class="line" data-startTime="162">the way, on the YouTube </span><span class="line" data-startTime="167">channel we have a link to the </span><span class="line" data-startTime="167">questions, the moderator. </span><span class="line" data-startTime="171">So we have a moderator </span><span class="line" data-startTime="171">where you can </span><span class="line" data-startTime="173">vote and ask questions. </span><span class="line" data-startTime="176">Definitely use that. </span><span class="line" data-startTime="177">We're going to get back to those </span><span class="line" data-startTime="177">questions at the end of </span><span class="line" data-startTime="178">this program. </span><span class="line" data-startTime="179">And for now we'll talk a little </span><span class="line" data-startTime="179">bit more about this. </span><span class="line" data-startTime="182">So what are some of the core </span><span class="line" data-startTime="182">concepts, before we dive too </span><span class="line" data-startTime="188">deep into it. </span><span class="line" data-startTime="190">What is WebSocket? </span><span class="line" data-startTime="191">Maybe for those of you </span><span class="line" data-startTime="191">that don't know. </span></p>

<p class="speaker"><span class="line" data-starttime="194"><span class="speakerName">Peter Moskovits</span>: Maybe </span><span class="line" data-startTime="194">I will take that. </span> <span class="line" data-startTime="195">And then others can chime in. </span> <span class="line" data-startTime="197">WebSocket allows you to have </span><span class="line" data-startTime="197">a full duplex always-on </span><span class="line" data-startTime="201">connection between your browser </span><span class="line" data-startTime="203">and a WebSocket server. </span> <span class="line" data-startTime="205">And it allows you to build </span><span class="line" data-startTime="205">applications that we've been </span><span class="line" data-startTime="209">trying to build for </span><span class="line" data-startTime="209">a long time. </span> <span class="line" data-startTime="212">When we first moved to the web, </span><span class="line" data-startTime="212">initially it was around </span><span class="line" data-startTime="215">static and then later on dynamic </span><span class="line" data-startTime="215">documents, getting </span><span class="line" data-startTime="218">these documents into </span><span class="line" data-startTime="218">the browser. </span> <span class="line" data-startTime="219">And the browser was used </span><span class="line" data-startTime="219">in a pretty dumb way. </span> <span class="line" data-startTime="222">And then as a browsers evolved </span><span class="line" data-startTime="222">and JavaScript engines became </span><span class="line" data-startTime="225">more powerful, clearly we could </span><span class="line" data-startTime="225">start moving some of the </span><span class="line" data-startTime="229">business logic that was running </span><span class="line" data-startTime="229">on the application </span><span class="line" data-startTime="231">servers and the middlewares </span><span class="line" data-startTime="231">over to the browser. </span></p>

<p><span class="line" data-startTime="234">And around the same time, it </span><span class="line" data-startTime="234">was clear that we needed a </span><span class="line" data-startTime="238">better way to connect these </span><span class="line" data-startTime="238">applications that are running </span><span class="line" data-startTime="241">in the browser. </span> <span class="line" data-startTime="242">And WebSocket addresses that. </span> <span class="line" data-startTime="245">And not only does it have </span><span class="line" data-startTime="245">this very low latency </span><span class="line" data-startTime="249">communication, it's also </span><span class="line" data-startTime="249">designed to be web-friendly. </span> <span class="line" data-startTime="253">I mean, we can talk about this </span><span class="line" data-startTime="253">a little bit later on. </span> <span class="line" data-startTime="256">But the whole idea that with </span><span class="line" data-startTime="256">HTML5 basically applications </span><span class="line" data-startTime="261">running natively in the browser </span><span class="line" data-startTime="261">without the need of </span><span class="line" data-startTime="263">extra plug-ins and extra </span><span class="line" data-startTime="263">extensions, it </span><span class="line" data-startTime="266">can become very powerful. </span></p>

<p class="speaker"><span class="line" data-starttime="268"><span class="speakerName">Peter Lubbers</span>: Right. </span><span class="line" data-startTime="268">For example, Flash has </span><span class="line" data-startTime="268">a socket, right? </span><span class="line" data-startTime="270">I think there was a question </span><span class="line" data-startTime="270">about that on the moderator </span><span class="line" data-startTime="272">we'll get back to later. </span></p>

<p class="speaker"><span class="line" data-starttime="273"><span class="speakerName">Peter Moskovits</span>: Exactly. </span><span class="line" data-startTime="274">Flash has socket. </span><span class="line" data-startTime="274">Java has socket. </span><span class="line" data-startTime="276">And doing this whole socket </span><span class="line" data-startTime="276">connection in a </span><span class="line" data-startTime="279">standards-based way, where </span><span class="line" data-startTime="279">everybody does it the same </span><span class="line" data-startTime="282">way, and you can assume that it </span><span class="line" data-startTime="282">works across the board and </span><span class="line" data-startTime="285">how well it works &mdash; again, </span><span class="line" data-startTime="285">I guess we can talk </span><span class="line" data-startTime="286">about that later on &mdash; </span><span class="line" data-startTime="288">is what makes it really </span><span class="line" data-startTime="288">nice and powerful. </span></p>

<p class="speaker"><span class="line" data-starttime="292"><span class="speakerName">Peter Lubbers</span>: Very good. </span><span class="line" data-startTime="293">Yeah. </span><span class="line" data-startTime="293">It's very exciting </span><span class="line" data-startTime="293">to see a complete </span><span class="line" data-startTime="295">book devoted to WebSocket. </span><span class="line" data-startTime="297">One of the things I liked about </span><span class="line" data-startTime="297">your book was the demo </span><span class="line" data-startTime="301">VM that you shipped. </span><span class="line" data-startTime="303">So most books, of course, have </span><span class="line" data-startTime="303">a GitHub repository. </span><span class="line" data-startTime="306">I believe you have that too. </span><span class="line" data-startTime="307">But to get started with </span><span class="line" data-startTime="307">WebSocket, of course it </span><span class="line" data-startTime="311">requires a client, but </span><span class="line" data-startTime="311">also a server. </span><span class="line" data-startTime="314">And that's maybe different from </span><span class="line" data-startTime="314">other parts of HTML5, </span><span class="line" data-startTime="317">which is usually sort of </span><span class="line" data-startTime="317">like a client-side API </span><span class="line" data-startTime="320">and you can use that. </span><span class="line" data-startTime="322">But for WebSocket, you do need </span><span class="line" data-startTime="322">that other endpoint. </span><span class="line" data-startTime="325">So tell us a little bit, or </span><span class="line" data-startTime="325">maybe you can demo it. </span></p>

<p class="speaker"><span class="line" data-starttime="328"><span class="speakerName">Peter Moskovits</span>: Sure. </span><span class="line" data-startTime="328">Maybe I can give you a quick </span><span class="line" data-startTime="328">idea here on my machine. </span><span class="line" data-startTime="333">So the first thing that you </span><span class="line" data-startTime="333">mentioned was GitHub. </span><span class="line" data-startTime="336">If you go to GitHub and you </span><span class="line" data-startTime="336">search for WebSocket book, the </span><span class="line" data-startTime="341">source code is easily </span><span class="line" data-startTime="341">accessible, grouped by </span><span class="line" data-startTime="346">chapters here. </span><span class="line" data-startTime="348">In addition to this, you can </span><span class="line" data-startTime="348">also download a VM along with </span><span class="line" data-startTime="353">the source code from the </span><span class="line" data-startTime="353">publisher's website. </span><span class="line" data-startTime="355">So all you need to do is again, </span><span class="line" data-startTime="355">search for WebSocket on </span><span class="line" data-startTime="359">the Apress site. </span><span class="line" data-startTime="360">And here you see the book. </span><span class="line" data-startTime="362">And on the bottom of this page, </span><span class="line" data-startTime="362">there is a Source Code </span><span class="line" data-startTime="366">and Downloads. </span><span class="line" data-startTime="367">And this is where you </span><span class="line" data-startTime="367">can download the VM. </span><span class="line" data-startTime="370">The VM is very </span><span class="line" data-startTime="371">straightforward, relatively small. </span><span class="line" data-startTime="374">Its starts up in no time. </span><span class="line" data-startTime="376">It's a virtual box VM and </span><span class="line" data-startTime="376">has Ubuntu on it. </span></p>

<p class="speaker"><span class="line" data-starttime="380"><span class="speakerName">Peter Lubbers</span>: And you just </span><span class="line" data-startTime="380">need a VirtualBox player. </span></p>

<p class="speaker"><span class="line" data-starttime="382"><span class="speakerName">Peter Moskovits</span>: Yes. </span><span class="line" data-startTime="383">That's all you need. </span><span class="line" data-startTime="384">You get VirtualBox and you </span><span class="line" data-startTime="384">can open up the VM. </span></p>

<p class="speaker"><span class="line" data-starttime="388"><span class="speakerName">Peter Lubbers</span>: Perfect. </span><span class="line" data-startTime="390">Cool. </span><span class="line" data-startTime="392">So can you give a quick </span><span class="line" data-startTime="392">demo of how you would </span><span class="line" data-startTime="395">start it and use it? </span></p>

<p class="speaker"><span class="line" data-starttime="397"><span class="speakerName">Peter Moskovits</span>: Sure. </span><span class="line" data-startTime="397">So actually I have already </span><span class="line" data-startTime="397">started up the VM. </span><span class="line" data-startTime="401">When you take a look at it here, </span><span class="line" data-startTime="401">you see the chapters out </span><span class="line" data-startTime="404">there on the desktop. </span><span class="line" data-startTime="406">There is a readme file that </span><span class="line" data-startTime="406">comes with every chapter. </span><span class="line" data-startTime="409">So when you open it up, you see </span><span class="line" data-startTime="409">the readme file that gives </span><span class="line" data-startTime="414">you the steps that are related </span><span class="line" data-startTime="414">to the actual chapter. </span><span class="line" data-startTime="418">All the source code </span><span class="line" data-startTime="418">is obviously </span><span class="line" data-startTime="419">included here as well. </span><span class="line" data-startTime="421">And in addition, we also have </span><span class="line" data-startTime="421">a video that is in every </span><span class="line" data-startTime="425">folder here. </span><span class="line" data-startTime="426">So this is a set of screencasts </span><span class="line" data-startTime="426">that walk you </span><span class="line" data-startTime="429">through the steps of doing </span><span class="line" data-startTime="429">these hands-on kind of </span><span class="line" data-startTime="433">exercises in this environment, </span><span class="line" data-startTime="433">step by step. </span><span class="line" data-startTime="436">So it's really easy and really </span><span class="line" data-startTime="436">straightforward. </span><span class="line" data-startTime="439">Maybe I can quickly start one. </span><span class="line" data-startTime="442">And just basically this </span><span class="line" data-startTime="442">is the experience. </span></p>

<p class="speaker"><span class="line" data-starttime="446"><span class="speakerName">Vanessa Wang</span>: One of the </span><span class="line" data-startTime="446">purposes of the VM was really </span><span class="line" data-startTime="448">just to give different access </span><span class="line" data-startTime="448">points to the code. </span><span class="line" data-startTime="451">So you can walk through the code </span><span class="line" data-startTime="451">in GitHub, but also if </span><span class="line" data-startTime="454">you don't really learn that way, </span><span class="line" data-startTime="454">you can just start it up </span><span class="line" data-startTime="457">on the VM and then walk </span><span class="line" data-startTime="457">backwards following the </span><span class="line" data-startTime="460">examples in the book, and then </span><span class="line" data-startTime="460">figure out how it was built </span><span class="line" data-startTime="463">just by looking at the VM. </span></p>

<p class="speaker"><span class="line" data-starttime="464"><span class="speakerName">Peter Lubbers</span>: Yeah. </span><span class="line" data-startTime="465">I like that, because that's </span><span class="line" data-startTime="465">often the problem. </span><span class="line" data-startTime="467">Sometimes you don't have time </span><span class="line" data-startTime="467">to see the whole thing. </span><span class="line" data-startTime="469">You can see the finished </span><span class="line" data-startTime="469">solution and </span><span class="line" data-startTime="471">quickly get to the &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="474"><span class="speakerName">Frank Salim</span>: Without having </span><span class="line" data-startTime="474">to bootstrap a lot of </span><span class="line" data-startTime="475">environments. </span><span class="line" data-startTime="476">Each of these chapters might </span><span class="line" data-startTime="476">have a different server that </span><span class="line" data-startTime="479">comes with it that's </span><span class="line" data-startTime="479">pre-configured in the VM. </span><span class="line" data-startTime="481">There's a chat server and </span><span class="line" data-startTime="481">a messaging server. </span><span class="line" data-startTime="482">And they're all in there. </span></p>

<p class="speaker"><span class="line" data-starttime="484"><span class="speakerName">Peter Lubbers</span>: It's like </span><span class="line" data-startTime="484">pre-seated servers. </span></p>

<p class="speaker"><span class="line" data-starttime="486"><span class="speakerName">Frank Salim</span>: Right. </span></p>

<p class="speaker"><span class="line" data-starttime="486"><span class="speakerName">Peter Lubbers</span>: Awesome. </span><span class="line" data-startTime="488">Great. </span><span class="line" data-startTime="488">So we talked a little bit </span><span class="line" data-startTime="488">about what WebSocket is. </span><span class="line" data-startTime="492">But what are some of the </span><span class="line" data-startTime="492">practical applications today </span><span class="line" data-startTime="496">that you can accomplish </span><span class="line" data-startTime="496">by using the standard? </span></p>

<p class="speaker"><span class="line" data-starttime="500"><span class="speakerName">Peter Moskovits</span>: So maybe </span><span class="line" data-startTime="500">I can show a couple. </span> <span class="line" data-startTime="502">And then we can take the </span><span class="line" data-startTime="502">discussion from there. </span> <span class="line" data-startTime="506">The first one is going to be a </span><span class="line" data-startTime="506">demo that we like to call the </span><span class="line" data-startTime="512">portfolio demo. </span> <span class="line" data-startTime="513">One of the typical use cases for </span><span class="line" data-startTime="513">WebSocket is that you have </span><span class="line" data-startTime="517">a large amount of data available </span><span class="line" data-startTime="517">on the server. </span> <span class="line" data-startTime="520">And you want to get this data </span><span class="line" data-startTime="520">to a number of clients, to </span><span class="line" data-startTime="524">typically a large number of </span><span class="line" data-startTime="524">clients, very quickly and then </span><span class="line" data-startTime="528">basically at real-time. </span> <span class="line" data-startTime="529">And this is one of the demos </span><span class="line" data-startTime="529">that showcases this. </span> <span class="line" data-startTime="534">So what you see here </span><span class="line" data-startTime="534">is imaginary data. </span> <span class="line" data-startTime="538">It's not real market </span><span class="line" data-startTime="538">data, obviously &mdash; </span><span class="line" data-startTime="540">[INTERPOSING VOICES] </span><span class="line" data-startTime="542">that we are showing here. </span> <span class="line" data-startTime="544">And depending on your network </span><span class="line" data-startTime="544">connection, I saw a bit of a </span><span class="line" data-startTime="549">stop there, you see </span><span class="line" data-startTime="549">the data come in. </span> <span class="line" data-startTime="552">So one of the things that you </span><span class="line" data-startTime="552">can do is you can open a new </span><span class="line" data-startTime="556">browser window. </span> <span class="line" data-startTime="557">And this demo is available on </span><span class="line" data-startTime="557">the public internet, so you </span><span class="line" data-startTime="559">can go to the URL that </span><span class="line" data-startTime="559">you see here. </span></p>

<p><span class="line" data-startTime="562">And you can run this </span><span class="line" data-startTime="562">demo yourself. </span> <span class="line" data-startTime="566">You can execute &mdash; </span><span class="line" data-startTime="568">basically the data is coming </span><span class="line" data-startTime="568">from the server to the client. </span> <span class="line" data-startTime="570">This is something that's not </span><span class="line" data-startTime="570">very easy to do when you're </span><span class="line" data-startTime="572">using HTTP. </span> <span class="line" data-startTime="574">But it also shows the </span><span class="line" data-startTime="574">bi-directional nature of </span><span class="line" data-startTime="577">WebSocket, where not only do you </span><span class="line" data-startTime="577">see the data coming in but </span><span class="line" data-startTime="580">you can also initiate trading. </span></p>

<p class="speaker"><span class="line" data-starttime="582"><span class="speakerName">Peter Lubbers</span>: So to </span><span class="line" data-startTime="582">buy a stock, you </span><span class="line" data-startTime="583">would send a message. </span> <span class="line" data-startTime="585">And they receive messages. </span> <span class="line" data-startTime="586">Right. </span> <span class="line" data-startTime="586">Exactly. </span> <span class="line" data-startTime="587">Yeah. </span> <span class="line" data-startTime="587">I think that demo really </span><span class="line" data-startTime="587">highlights a lot of the cool </span><span class="line" data-startTime="591">parts about WebSocket as opposed </span><span class="line" data-startTime="591">to what are typically </span><span class="line" data-startTime="596">called Comet implementations </span><span class="line" data-startTime="596">that are basically HTTP </span><span class="line" data-startTime="602">requests that are either polling </span><span class="line" data-startTime="602">or long polling. </span> <span class="line" data-startTime="605">So what's the typical reduction </span><span class="line" data-startTime="605">of overhead in </span><span class="line" data-startTime="610">something like this that </span><span class="line" data-startTime="610">you would find? </span></p>

<p class="speaker"><span class="line" data-starttime="613"><span class="speakerName">Peter Moskovits</span>: So when you </span><span class="line" data-startTime="613">speak HTTP, along with the </span><span class="line" data-startTime="616">request and the response there </span><span class="line" data-startTime="616">is a number of headers that </span><span class="line" data-startTime="618">are sent over. </span><span class="line" data-startTime="619">And these headers can range from </span><span class="line" data-startTime="619">800 to 1,500, sometimes </span><span class="line" data-startTime="624">even 2,000 bytes. </span><span class="line" data-startTime="625">And when it comes to sending and </span><span class="line" data-startTime="625">receiving small amounts of </span><span class="line" data-startTime="629">data at a high frequency, </span><span class="line" data-startTime="629">then it all adds </span><span class="line" data-startTime="632">up very, very quickly. </span><span class="line" data-startTime="633">With WebSocket, the header and </span><span class="line" data-startTime="633">the overhead is in the number </span><span class="line" data-startTime="638">of bytes, four, six, </span><span class="line" data-startTime="638">eight, bytes. </span><span class="line" data-startTime="641">So when you're sending over a </span><span class="line" data-startTime="641">character or a small number or </span><span class="line" data-startTime="644">something really small, then </span><span class="line" data-startTime="644">it can be 100- or even </span><span class="line" data-startTime="647">1,00-fold, the speed improvement </span><span class="line" data-startTime="647">that you can </span><span class="line" data-startTime="649">achieve, which is impressive, </span><span class="line" data-startTime="649">especially when you have </span><span class="line" data-startTime="652">hundreds of thousands or </span><span class="line" data-startTime="652">millions of users out there. </span></p>

<p class="speaker"><span class="line" data-starttime="657"><span class="speakerName">Peter Lubbers</span>: Cool. </span><span class="line" data-startTime="658">So in the book, you </span><span class="line" data-startTime="658">said here JMS. </span><span class="line" data-startTime="662">So in the book I noticed you </span><span class="line" data-startTime="662">talk a lot about of course </span><span class="line" data-startTime="666">there's the core WebSocket, </span><span class="line" data-startTime="666">that is </span><span class="line" data-startTime="669">the API and the protocol. </span><span class="line" data-startTime="672">But then you also talked </span><span class="line" data-startTime="672">about XMPP. </span><span class="line" data-startTime="674">You mentioned STOMP or remote </span><span class="line" data-startTime="674">frame buffers, the VNC </span><span class="line" data-startTime="680">protocol, I guess, </span><span class="line" data-startTime="680">if you will. </span><span class="line" data-startTime="683">Tell us a little bit about </span><span class="line" data-startTime="683">what the architecture for </span><span class="line" data-startTime="687">something like that </span><span class="line" data-startTime="687">would look like. </span></p>

<p class="speaker"><span class="line" data-starttime="688"><span class="speakerName">Frank Salim</span>: Yeah. </span><span class="line" data-startTime="689">So WebSocket really lends </span><span class="line" data-startTime="689">itself to a layered </span><span class="line" data-startTime="692">architecture where if </span><span class="line" data-startTime="692">you treat it like a </span><span class="line" data-startTime="694">transport-level protocol, like </span><span class="line" data-startTime="694">an analog-to-TCP, and speak </span><span class="line" data-startTime="698">application-level protocols </span><span class="line" data-startTime="698">on top of that, that's an </span><span class="line" data-startTime="701">approach that we think works </span><span class="line" data-startTime="701">really nicely and we describe </span><span class="line" data-startTime="704">at length in the book. </span></p>

<p class="speaker"><span class="line" data-starttime="706"><span class="speakerName">Peter Lubbers</span>: Is it also </span><span class="line" data-startTime="706">part of the standard? </span></p>

<p class="speaker"><span class="line" data-starttime="710"><span class="speakerName">Frank Salim</span>: Yeah. </span><span class="line" data-startTime="710">So the standard contains </span><span class="line" data-startTime="710">support for </span><span class="line" data-startTime="714">higher-level protocols. </span><span class="line" data-startTime="714">They're called sub-protocols, </span><span class="line" data-startTime="714">which maybe isn't the most </span><span class="line" data-startTime="718">straightforward term. </span><span class="line" data-startTime="719">But with the standard you can </span><span class="line" data-startTime="719">create a connection that </span><span class="line" data-startTime="723">negotiates a protocol with </span><span class="line" data-startTime="723">a name, a named protocol. </span><span class="line" data-startTime="727">And the contents of the </span><span class="line" data-startTime="727">WebSocket conversation will </span><span class="line" data-startTime="731">adhere to that other protocol. </span></p>

<p class="speaker"><span class="line" data-starttime="733"><span class="speakerName">Peter Lubbers</span>: But have any </span><span class="line" data-startTime="733">browsers shipped with any </span><span class="line" data-startTime="735">sub-protocol support </span><span class="line" data-startTime="735">today, or not yet? </span></p>

<p class="speaker"><span class="line" data-starttime="740"><span class="speakerName">Frank Salim</span>: Support for </span><span class="line" data-startTime="740">the sub-protocol </span><span class="line" data-startTime="741">feature is baked in. </span><span class="line" data-startTime="743">And it's more up to the </span><span class="line" data-startTime="743">application to bring along </span><span class="line" data-startTime="746">sub-protocol support as part </span><span class="line" data-startTime="746">of a JavaScript library. </span></p>

<p class="speaker"><span class="line" data-starttime="750"><span class="speakerName">Peter Lubbers</span>: OK. </span><span class="line" data-startTime="750">I see. </span></p>

<p class="speaker"><span class="line" data-starttime="751"><span class="speakerName">Peter Moskovits</span>: So here on my </span><span class="line" data-startTime="751">screen I quickly brought up a </span><span class="line" data-startTime="754">diagram that kind of talks to </span><span class="line" data-startTime="754">this point, where you have </span><span class="line" data-startTime="758">your clients on the </span><span class="line" data-startTime="758">left-hand side. </span> <span class="line" data-startTime="760">You have the WebSocket </span><span class="line" data-startTime="760">connection going all the way </span><span class="line" data-startTime="764">to your WebSocket server. </span> <span class="line" data-startTime="765">And then you have a TCP </span><span class="line" data-startTime="765">connection all the </span><span class="line" data-startTime="769">way to the back end. </span> <span class="line" data-startTime="770">And typically, the TCP </span><span class="line" data-startTime="770">connection that you have on </span><span class="line" data-startTime="772">the back end can be really any </span><span class="line" data-startTime="772">rich business protocol. </span></p>

<p><span class="line" data-startTime="777">But when you have a traditional </span><span class="line" data-startTime="777">web application, </span><span class="line" data-startTime="781">you basically break that </span><span class="line" data-startTime="781">bidirectional connection as </span><span class="line" data-startTime="785">you go out to your </span><span class="line" data-startTime="785">web clients. </span> <span class="line" data-startTime="787">And this is what WebSocket </span><span class="line" data-startTime="787">is addressing. </span> <span class="line" data-startTime="790">And not only do you have the </span><span class="line" data-startTime="790">full duplex connectivity </span><span class="line" data-startTime="793">between your clients and your </span><span class="line" data-startTime="793">WebSocket server that can then </span><span class="line" data-startTime="797">be basically connected all the </span><span class="line" data-startTime="797">way to the back end, but very </span><span class="line" data-startTime="802">much like on TCP, you can build </span><span class="line" data-startTime="802">these higher level, </span><span class="line" data-startTime="805">richer protocols. </span> <span class="line" data-startTime="806">So interestingly from a server's </span><span class="line" data-startTime="806">perspective, you </span><span class="line" data-startTime="810">don't necessarily or don't even </span><span class="line" data-startTime="810">know whether the client </span><span class="line" data-startTime="813">that is connecting is connecting </span><span class="line" data-startTime="813">over TCP or over </span><span class="line" data-startTime="816">WebSocket, as long as it speaks </span><span class="line" data-startTime="816">that specific protocol. </span></p>

<p><span class="line" data-startTime="821">XMPP is a good example. </span> <span class="line" data-startTime="823">And we have an example </span><span class="line" data-startTime="823">for that in the book. </span></p>

<p class="speaker"><span class="line" data-starttime="826"><span class="speakerName">Peter Lubbers</span>: Great. </span><span class="line" data-startTime="827">Well, before we dive into any </span><span class="line" data-startTime="827">further examples, what's the </span><span class="line" data-startTime="830">level of support </span><span class="line" data-startTime="830">like right now? </span><span class="line" data-startTime="832">Like what browsers and </span><span class="line" data-startTime="832">especially the mobile </span><span class="line" data-startTime="834">browsers, what's the </span><span class="line" data-startTime="834">support landscape? </span><span class="line" data-startTime="837">And Where can I find out? </span></p>

<p class="speaker"><span class="line" data-starttime="840"><span class="speakerName">Peter Moskovits</span>: So maybe here </span><span class="line" data-startTime="840">I can show caniuse.com. </span><span class="line" data-startTime="846">So if you filter this for </span><span class="line" data-startTime="846">WebSocket, you see where we </span><span class="line" data-startTime="850">stand today. </span><span class="line" data-startTime="851">It shows that the currently-used </span><span class="line" data-startTime="851">browsers, 58%, </span><span class="line" data-startTime="855">59% of them do support WebSocket </span><span class="line" data-startTime="855">natively, which is </span><span class="line" data-startTime="859">good on one hand. </span><span class="line" data-startTime="861">It's pretty bad if you consider </span><span class="line" data-startTime="861">that you may be </span><span class="line" data-startTime="863">losing 30%, 33% percent of </span><span class="line" data-startTime="863">your users who are going </span><span class="line" data-startTime="868">against the WebSocket-enabled </span><span class="line" data-startTime="868">application. </span><span class="line" data-startTime="870">So that is a challenge. </span><span class="line" data-startTime="871">This is something that we see </span><span class="line" data-startTime="871">out there that people are </span><span class="line" data-startTime="874">struggling with. </span><span class="line" data-startTime="874">So it's very important that you </span><span class="line" data-startTime="874">make sure that whatever </span><span class="line" data-startTime="879">server you're using, you have </span><span class="line" data-startTime="879">the right level of emulation </span><span class="line" data-startTime="882">or fallback to support all those </span><span class="line" data-startTime="882">browsers that do not </span><span class="line" data-startTime="886">have native support. </span></p>

<p class="speaker"><span class="line" data-starttime="887"><span class="speakerName">Peter Lubbers</span>: Yeah, like </span><span class="line" data-startTime="887">polyfill libraries and so on. </span></p>

<p class="speaker"><span class="line" data-starttime="892"><span class="speakerName">Frank Salim</span>: It's worth </span><span class="line" data-startTime="892">mentioning that the latest </span><span class="line" data-startTime="893">version of all the </span><span class="line" data-startTime="893">major desktop </span><span class="line" data-startTime="895">browsers support WebSocket. </span></p>

<p class="speaker"><span class="line" data-starttime="896"><span class="speakerName">Peter Lubbers</span>: Yeah. </span><span class="line" data-startTime="896">That's a big deal, right? </span><span class="line" data-startTime="898">So IE10 joined. </span></p>

<p class="speaker"><span class="line" data-starttime="899"><span class="speakerName">Frank Salim</span>: The future </span><span class="line" data-startTime="899">looks good. </span></p>

<p class="speaker"><span class="line" data-starttime="902"><span class="speakerName">Peter Lubbers</span>: Yeah, that's </span><span class="line" data-startTime="902">actually pretty good, the </span><span class="line" data-startTime="905">percentage there, because you're </span><span class="line" data-startTime="905">always going to have </span><span class="line" data-startTime="907">sort of the old ID that's </span><span class="line" data-startTime="907">not going to support it. </span><span class="line" data-startTime="909">I mean, it's more like what's </span><span class="line" data-startTime="909">happening in the future </span><span class="line" data-startTime="914">browsers that's important. </span></p>

<p class="speaker"><span class="line" data-starttime="917"><span class="speakerName">Peter Moskovits</span>: I was thinking </span><span class="line" data-startTime="917">I have another demo </span><span class="line" data-startTime="919">that maybe we can show. </span></p>

<p class="speaker"><span class="line" data-starttime="920"><span class="speakerName">Peter Lubbers</span>: Perfect. </span><span class="line" data-startTime="921">Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="922"><span class="speakerName">Peter Moskovits</span>: So we saw the </span><span class="line" data-startTime="922">use case where we have a lot </span><span class="line" data-startTime="927">of data coming in from the </span><span class="line" data-startTime="927">server and we want to share </span><span class="line" data-startTime="930">this with a number of clients. </span> <span class="line" data-startTime="933">Another interesting use case </span><span class="line" data-startTime="933">that was really hard to </span><span class="line" data-startTime="935">achieve before the world of </span><span class="line" data-startTime="935">WebSocket is this peer-to-peer </span><span class="line" data-startTime="939">or pseudo-peer-to-peer </span><span class="line" data-startTime="939">kind of connection. </span> <span class="line" data-startTime="942">So one of the first kind of </span><span class="line" data-startTime="942">quick demos that I built when </span><span class="line" data-startTime="947">I started looking into WebSocket </span><span class="line" data-startTime="947">is a demo called the </span><span class="line" data-startTime="954">Bouncy Ball Demo. </span> <span class="line" data-startTime="957">And I'm going to bring up a </span><span class="line" data-startTime="957">simulator here and open the </span><span class="line" data-startTime="963">same page here in </span><span class="line" data-startTime="963">the simulator. </span> <span class="line" data-startTime="965">And just to play safe, I'll </span><span class="line" data-startTime="965">reload this page. </span> <span class="line" data-startTime="967">And what we see here is that </span><span class="line" data-startTime="967">the two are side by side. </span> <span class="line" data-startTime="971">And maybe I can resize this </span><span class="line" data-startTime="971">Chrome window here a little </span><span class="line" data-startTime="974">bit so they can be truly </span><span class="line" data-startTime="974">side by side. </span></p>

<p><span class="line" data-startTime="979">And what we can do is with a </span><span class="line" data-startTime="979">simple tap gesture on the </span><span class="line" data-startTime="983">phone, we can connect </span><span class="line" data-startTime="983">these two screens. </span> <span class="line" data-startTime="985">You see there are basically two </span><span class="line" data-startTime="985">HTML pages with canvases </span><span class="line" data-startTime="988">rendered in there. </span> <span class="line" data-startTime="989">And when I tap and &mdash; </span><span class="line" data-startTime="993">demo is not behaving. </span> <span class="line" data-startTime="995">Let's try again. </span> <span class="line" data-startTime="1006">Let's try that again. </span> <span class="line" data-startTime="1013">They would basically </span><span class="line" data-startTime="1013">share the screen. </span> <span class="line" data-startTime="1015">Here we go. </span> <span class="line" data-startTime="1016">And when we actually &mdash; </span><span class="line" data-startTime="1019">ah. </span> <span class="line" data-startTime="1019">I may need to. </span> <span class="line" data-startTime="1020">Here we go. </span></p>

<p><span class="line" data-startTime="1021">So what happens is the two </span><span class="line" data-startTime="1021">screens are connected, so </span><span class="line" data-startTime="1027">basically they negotiate </span><span class="line" data-startTime="1027">who is on the left and </span><span class="line" data-startTime="1029">who is on the right. </span> <span class="line" data-startTime="1029">And when the ball comes to a </span><span class="line" data-startTime="1029">shared wall, then a message is </span><span class="line" data-startTime="1033">sent from one browser to the </span><span class="line" data-startTime="1033">other through the WebSocket </span><span class="line" data-startTime="1038">server indicating that the </span><span class="line" data-startTime="1038">ball is coming at this </span><span class="line" data-startTime="1040">position, this is the speed, </span><span class="line" data-startTime="1040">this is the direction where </span><span class="line" data-startTime="1043">it's heading, you take over </span><span class="line" data-startTime="1043">the rendering now. </span> <span class="line" data-startTime="1046">And then the other browser </span><span class="line" data-startTime="1046">can render. </span> <span class="line" data-startTime="1048">It's important to mention </span><span class="line" data-startTime="1048">that this is not a true </span><span class="line" data-startTime="1051">peer-to-peer connection. </span> <span class="line" data-startTime="1052">It goes through the server. </span> <span class="line" data-startTime="1053">But you can achieve the &mdash; </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="1057"><span class="speakerName">Peter Lubbers</span>: Yeah. </span><span class="line" data-startTime="1057">There have actually been a few </span><span class="line" data-startTime="1057">moderator questions we'll get </span><span class="line" data-startTime="1060">to later talking about the </span><span class="line" data-startTime="1060">connection with WebRTC. </span><span class="line" data-startTime="1063">So let's come back to that. </span><span class="line" data-startTime="1065">So that's just basically a </span><span class="line" data-startTime="1065">canvas implementation on both </span><span class="line" data-startTime="1068">clients, right? </span></p>

<p class="speaker"><span class="line" data-starttime="1069"><span class="speakerName">Peter Moskovits</span>: Right. </span></p>

<p class="speaker"><span class="line" data-starttime="1069"><span class="speakerName">Peter Lubbers</span>: OK. </span></p>

<p class="speaker"><span class="line" data-starttime="1070"><span class="speakerName">Peter Moskovits</span>: Actually, I </span><span class="line" data-startTime="1070">happen to have another one if </span><span class="line" data-startTime="1073">this is a good time. </span> <span class="line" data-startTime="1075">This one is a video that shows </span><span class="line" data-startTime="1075">a WebGL car on a screen. </span> <span class="line" data-startTime="1082">This is a pretty cool </span><span class="line" data-startTime="1082">car by itself. </span> <span class="line" data-startTime="1085">And in the bottom right </span><span class="line" data-startTime="1085">corner, what </span><span class="line" data-startTime="1087">you see is my phone. </span> <span class="line" data-startTime="1089">And as I am tilting the phone, </span><span class="line" data-startTime="1089">I am time driving the car. </span> <span class="line" data-startTime="1093">And the way it happens is I have </span><span class="line" data-startTime="1093">a browser run on my phone </span><span class="line" data-startTime="1096">as well detect the </span><span class="line" data-startTime="1096">tilt status. </span> <span class="line" data-startTime="1099">And as quickly as I can, I'm </span><span class="line" data-startTime="1099">sending messages to the </span><span class="line" data-startTime="1103">connected WebSocket server. </span> <span class="line" data-startTime="1105">And since they share a server, </span><span class="line" data-startTime="1105">it can be bounced back using </span><span class="line" data-startTime="1109">this reflector model. </span></p>

<p><span class="line" data-startTime="1112">And it can be done very quickly </span><span class="line" data-startTime="1112">and very easily if you </span><span class="line" data-startTime="1115">are using concepts like pub/sub </span><span class="line" data-startTime="1115">on top of WebSocket. </span></p>

<p class="speaker"><span class="line" data-starttime="1122"><span class="speakerName">Peter Lubbers</span>: High speed </span><span class="line" data-startTime="1122">messaging, basically. </span></p>

<p class="speaker"><span class="line" data-starttime="1124"><span class="speakerName">Peter Moskovits</span>: Yeah. </span><span class="line" data-startTime="1124">Exactly. </span></p>

<p class="speaker"><span class="line" data-starttime="1124"><span class="speakerName">Peter Lubbers</span>: That's </span><span class="line" data-startTime="1124">excellent. </span><span class="line" data-startTime="1125">Yeah. </span><span class="line" data-startTime="1126">I like that demo a lot. </span><span class="line" data-startTime="1127">That's really cool. </span><span class="line" data-startTime="1129">So what do you see &mdash; </span><span class="line" data-startTime="1131">what other sort of applications </span><span class="line" data-startTime="1131">are being built </span><span class="line" data-startTime="1133">today with WebSocket? </span><span class="line" data-startTime="1135">What's happening </span><span class="line" data-startTime="1135">in that world? </span></p>

<p class="speaker"><span class="line" data-starttime="1139"><span class="speakerName">Vanessa Wang</span>: So in addition to </span><span class="line" data-startTime="1139">some of the examples Peter </span><span class="line" data-startTime="1141">outlined, which is large amounts </span><span class="line" data-startTime="1141">of small bits of data </span><span class="line" data-startTime="1145">being sent out to multiple </span><span class="line" data-startTime="1145">clients at the same time, </span><span class="line" data-startTime="1148">we're also seeing a lot of </span><span class="line" data-startTime="1148">gaming being developed. </span><span class="line" data-startTime="1152">Browser-based games are using </span><span class="line" data-startTime="1152">WebSocket, especially like </span><span class="line" data-startTime="1154">MMO-type games. </span><span class="line" data-startTime="1156">I think Mozilla did a </span><span class="line" data-startTime="1156">BrowserQuest game a little </span><span class="line" data-startTime="1158">while ago, so did Rob Hawkes </span><span class="line" data-startTime="1158">with twitterrocks.com. </span><span class="line" data-startTime="1163">Sorry. </span><span class="line" data-startTime="1163">It was called Rawkets, </span><span class="line" data-startTime="1163">I think. </span></p>

<p class="speaker"><span class="line" data-starttime="1165"><span class="speakerName">Peter Lubbers</span>: Oh </span><span class="line" data-startTime="1165">yeah, Rawkets. </span></p>

<p class="speaker"><span class="line" data-starttime="1166"><span class="speakerName">Vanessa Wang</span>: Yeah. </span><span class="line" data-startTime="1167">But we also see some other </span><span class="line" data-startTime="1167">ways that people might be </span><span class="line" data-startTime="1170">using this for like </span><span class="line" data-startTime="1170">crowdsourcing-type apps, like </span><span class="line" data-startTime="1173">Waze, something like a GPS for </span><span class="line" data-startTime="1173">traffic conditions, where a </span><span class="line" data-startTime="1178">lot of people need to </span><span class="line" data-startTime="1178">send lots of data </span><span class="line" data-startTime="1179">over the web in real-time. </span></p>

<p class="speaker"><span class="line" data-starttime="1181"><span class="speakerName">Peter Moskovits</span>: Yeah. </span><span class="line" data-startTime="1182">Waze is really cool. </span><span class="line" data-startTime="1183">One of their recent </span><span class="line" data-startTime="1183">features is that &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1185"><span class="speakerName">Peter Lubbers</span>: The GPS app. </span></p>

<p class="speaker"><span class="line" data-starttime="1186"><span class="speakerName">Peter Moskovits</span>: The </span><span class="line" data-startTime="1186">GPS app, yeah. </span><span class="line" data-startTime="1187">You enter an address. </span><span class="line" data-startTime="1189">You navigate somewhere. </span><span class="line" data-startTime="1190">And then you can share your </span><span class="line" data-startTime="1190">trip with somebody else. </span><span class="line" data-startTime="1193">So in their browser, they can </span><span class="line" data-startTime="1193">basically follow how you're </span><span class="line" data-startTime="1196">getting to a given point. </span><span class="line" data-startTime="1198">So you go and pick up somebody, </span><span class="line" data-startTime="1198">and they can see </span><span class="line" data-startTime="1200">where you are stuck in traffic </span><span class="line" data-startTime="1200">and how it goes. </span><span class="line" data-startTime="1202">Now, I don't believe </span><span class="line" data-startTime="1202">they use WebSocket. </span><span class="line" data-startTime="1204">And I actually I think their </span><span class="line" data-startTime="1204">refresh rate is somewhere in </span><span class="line" data-startTime="1206">the 30 second or maybe </span><span class="line" data-startTime="1206">1 minute rate. </span><span class="line" data-startTime="1209">But if they would be using </span><span class="line" data-startTime="1209">WebSocket, then they would be </span><span class="line" data-startTime="1213">able to see true </span><span class="line" data-startTime="1213">real-time data. </span></p>

<p class="speaker"><span class="line" data-starttime="1217"><span class="speakerName">Peter Lubbers</span>: That's cool. </span><span class="line" data-startTime="1220">That's great. </span><span class="line" data-startTime="1221">Where do you see &mdash; </span><span class="line" data-startTime="1223">IE only added the support, what, </span><span class="line" data-startTime="1223">like last year, right, </span><span class="line" data-startTime="1226">when IE10 came out. </span><span class="line" data-startTime="1228">So fast forward two to three </span><span class="line" data-startTime="1228">years, even five years. </span><span class="line" data-startTime="1233">Where do you see like with </span><span class="line" data-startTime="1233">ubiquitous, fast connections </span><span class="line" data-startTime="1237">and everything on mobile, what </span><span class="line" data-startTime="1237">sort of applications do you </span><span class="line" data-startTime="1241">envision for WebSocket? </span></p>

<p class="speaker"><span class="line" data-starttime="1245"><span class="speakerName">Peter Moskovits</span>: We already </span><span class="line" data-startTime="1245">see a lot of interest in </span><span class="line" data-startTime="1250">machine-to-machine </span><span class="line" data-startTime="1250">communication, [INAUDIBLE] </span><span class="line" data-startTime="1252">of things. </span> <span class="line" data-startTime="1254">There's an interesting company </span><span class="line" data-startTime="1254">that I talked to not too long </span><span class="line" data-startTime="1258">ago where they have the ability </span><span class="line" data-startTime="1258">to produce these </span><span class="line" data-startTime="1260">little devices in a very cheap </span><span class="line" data-startTime="1260">and very efficient manner </span><span class="line" data-startTime="1264">where they can basically put </span><span class="line" data-startTime="1264">out and monitor things like </span><span class="line" data-startTime="1270">parking spots that are available </span><span class="line" data-startTime="1270">in cities, or attach </span><span class="line" data-startTime="1274">them to fire extinguishers. </span> <span class="line" data-startTime="1278">So when basically the amount of </span><span class="line" data-startTime="1278">data that you want to send </span><span class="line" data-startTime="1281">over is typically very small, </span><span class="line" data-startTime="1281">most of the time the data that </span><span class="line" data-startTime="1285">you want to send over doesn't </span><span class="line" data-startTime="1285">have the real-time </span><span class="line" data-startTime="1290">requirement, but potentially </span><span class="line" data-startTime="1290">there is a very large number </span><span class="line" data-startTime="1293">of these devices that are out </span><span class="line" data-startTime="1293">there, so basically the </span><span class="line" data-startTime="1297">communication can be </span><span class="line" data-startTime="1297">done really well. </span> <span class="line" data-startTime="1299">The monitoring aspect, when you </span><span class="line" data-startTime="1299">are building dashboards </span><span class="line" data-startTime="1303">that can be an interesting </span><span class="line" data-startTime="1303">use case. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="1307"><span class="speakerName">Peter Lubbers</span>: That's great. </span><span class="line" data-startTime="1308">Any other &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1309"><span class="speakerName">Vanessa Wang</span>: Similarly, we're </span><span class="line" data-startTime="1309">seeing some use cases in </span><span class="line" data-startTime="1312">transportation, also like </span><span class="line" data-startTime="1312">tracking cars, where cars are </span><span class="line" data-startTime="1317">going and being able to </span><span class="line" data-startTime="1317">report back, trains, </span><span class="line" data-startTime="1319">planes, you name it. </span></p>

<p class="speaker"><span class="line" data-starttime="1322"><span class="speakerName">Peter Moskovits</span>: Another tricky </span><span class="line" data-startTime="1322">one is second-screen </span><span class="line" data-startTime="1325">kinds of applications, where </span><span class="line" data-startTime="1325">you're watching a show or you </span><span class="line" data-startTime="1328">are watching a sports event, and </span><span class="line" data-startTime="1328">then you can interact with </span><span class="line" data-startTime="1333">kind of the system and </span><span class="line" data-startTime="1333">you can interact with </span><span class="line" data-startTime="1335">other viewers as well. </span><span class="line" data-startTime="1337">We helped a film festival </span><span class="line" data-startTime="1337">last year. </span><span class="line" data-startTime="1342">And they were doing a quiz and </span><span class="line" data-startTime="1342">trivia game before the movies. </span><span class="line" data-startTime="1345">And they had real-time voting </span><span class="line" data-startTime="1345">after the movies. </span><span class="line" data-startTime="1349">It's a nice alternative to </span><span class="line" data-startTime="1349">basically marking up or </span><span class="line" data-startTime="1352">writing your vote for an </span><span class="line" data-startTime="1352">audience award movie when you </span><span class="line" data-startTime="1358">can use your phone. </span></p>

<p class="speaker"><span class="line" data-starttime="1359"><span class="speakerName">Peter Lubbers</span>: Yeah. </span><span class="line" data-startTime="1360">One of the chapters in your book </span><span class="line" data-startTime="1360">that I really liked was </span><span class="line" data-startTime="1362">the RFB protocol, the </span><span class="line" data-startTime="1362">remote desktop. </span><span class="line" data-startTime="1366">I think that's another very </span><span class="line" data-startTime="1366">powerful way to use it. </span><span class="line" data-startTime="1371">So in your VM, you actually </span><span class="line" data-startTime="1371">have a VNC server set up? </span></p>

<p class="speaker"><span class="line" data-starttime="1376"><span class="speakerName">Frank Salim</span>: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="1377"><span class="speakerName">Peter Lubbers</span>: That's cool. </span></p>

<p class="speaker"><span class="line" data-starttime="1380"><span class="speakerName">Frank Salim</span>: You get the kind of </span><span class="line" data-startTime="1380">hall of mirrors effect with </span><span class="line" data-startTime="1383">the default configuration, </span><span class="line" data-startTime="1383">because the VNC server is the </span><span class="line" data-startTime="1387">same VM where you have </span><span class="line" data-startTime="1387">the browser. </span><span class="line" data-startTime="1390">You get the infinite </span><span class="line" data-startTime="1390">recursive window. </span></p>

<p class="speaker"><span class="line" data-starttime="1393"><span class="speakerName">Peter Lubbers</span>: But </span><span class="line" data-startTime="1393">still, very cool. </span></p>

<p class="speaker"><span class="line" data-starttime="1395"><span class="speakerName">Frank Salim</span>: That's there. </span><span class="line" data-startTime="1396">You can easily reconfigure </span><span class="line" data-startTime="1396">to point to a </span><span class="line" data-startTime="1398">different VNC server. </span></p>

<p class="speaker"><span class="line" data-starttime="1399"><span class="speakerName">Peter Lubbers</span>: Right. </span><span class="line" data-startTime="1399">Is that using sort of the </span><span class="line" data-startTime="1399">binary message types of </span><span class="line" data-startTime="1403">WebSocket or just &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1404"><span class="speakerName">Frank Salim</span>: Yeah. </span><span class="line" data-startTime="1405">That's sending binary </span><span class="line" data-startTime="1405">data over WebSocket. </span><span class="line" data-startTime="1406">And there's a JavaScript library </span><span class="line" data-startTime="1406">that implements the </span><span class="line" data-startTime="1410">Remote Frame Buffer protocol. </span></p>

<p class="speaker"><span class="line" data-starttime="1414"><span class="speakerName">Peter Lubbers</span>: There's so many </span><span class="line" data-startTime="1414">great things out there. </span><span class="line" data-startTime="1416">So one of the things I want to </span><span class="line" data-startTime="1416">talk about a little bit is the </span><span class="line" data-startTime="1419">debugging of these </span><span class="line" data-startTime="1419">connections. </span><span class="line" data-startTime="1421">So we have for example, in </span><span class="line" data-startTime="1421">Chrome Dev Tools, good ways to </span><span class="line" data-startTime="1426">look under the hood and let </span><span class="line" data-startTime="1426">us see what's happening. </span><span class="line" data-startTime="1428">What is your debugging workflow </span><span class="line" data-startTime="1428">for a WebSocket </span><span class="line" data-startTime="1432">application? </span></p>

<p class="speaker"><span class="line" data-starttime="1433"><span class="speakerName">Peter Moskovits</span>: So let </span><span class="line" data-startTime="1433">me get started with </span><span class="line" data-startTime="1436">that here on my machine. </span> <span class="line" data-startTime="1439">Let's bring up Chrome </span><span class="line" data-startTime="1439">Dev Tools. </span> <span class="line" data-startTime="1444">And connect to websocket.org. </span> <span class="line" data-startTime="1449">websocket.org is an </span><span class="line" data-startTime="1449">awesome website. </span> <span class="line" data-startTime="1452">It has a lot of nice resources, </span><span class="line" data-startTime="1454">examples, good articles. </span> <span class="line" data-startTime="1456">So it's a good place </span><span class="line" data-startTime="1456">to get started. </span> <span class="line" data-startTime="1460">The echo test is a very nice </span><span class="line" data-startTime="1460">service where basically you </span><span class="line" data-startTime="1464">can create a WebSocket </span><span class="line" data-startTime="1464">connection, send some data to </span><span class="line" data-startTime="1467">the server. </span> <span class="line" data-startTime="1468">And all the server does is </span><span class="line" data-startTime="1468">it echoes it back to you. </span> <span class="line" data-startTime="1471">So it's pretty much the first </span><span class="line" data-startTime="1471">test that people use if they </span><span class="line" data-startTime="1476">want to basically test </span><span class="line" data-startTime="1476">what they have. </span></p>

<p><span class="line" data-startTime="1480">So I'm going to create </span><span class="line" data-startTime="1480">a connection. </span> <span class="line" data-startTime="1483">And when you switch over to </span><span class="line" data-startTime="1483">the Network tab and we can </span><span class="line" data-startTime="1486">filter by WebSocket, what we </span><span class="line" data-startTime="1486">see here is the actual </span><span class="line" data-startTime="1490">WebSocket connection. </span> <span class="line" data-startTime="1492">And then we talked about </span><span class="line" data-startTime="1492">WebSocket beating </span><span class="line" data-startTime="1495">web-friendly, which means that </span><span class="line" data-startTime="1495">actually it starts its life as </span><span class="line" data-startTime="1499">an HTTP connection. </span> <span class="line" data-startTime="1501">So interestingly, WebSocket </span><span class="line" data-startTime="1501">connection is symmetric. </span> <span class="line" data-startTime="1505">So the server can send </span><span class="line" data-startTime="1505">data asynchronously. </span> <span class="line" data-startTime="1507">And the client can send </span><span class="line" data-startTime="1507">data asynchronously. </span></p>

<p><span class="line" data-startTime="1510">So it's bi-directional. </span> <span class="line" data-startTime="1511">But the way it gets created, </span><span class="line" data-startTime="1511">that is asymmetric in the </span><span class="line" data-startTime="1516">sense that it's always the </span><span class="line" data-startTime="1516">client that has to initiate </span><span class="line" data-startTime="1519">the connection. </span> <span class="line" data-startTime="1519">So basically the browser says </span><span class="line" data-startTime="1519">or the client, the WebSocket </span><span class="line" data-startTime="1522">client, says that, hey, I want </span><span class="line" data-startTime="1522">to create a connection and </span><span class="line" data-startTime="1526">then, do you speak WebSocket? </span><span class="line" data-startTime="1526">And the server responds, yes, </span><span class="line" data-startTime="1526">I do speak WebSocket. </span> <span class="line" data-startTime="1530">And that's when the HTTP </span><span class="line" data-startTime="1530">connection breaks down and the </span><span class="line" data-startTime="1534">new connection, the WebSocket </span><span class="line" data-startTime="1534">connection, takes over. </span></p>

<p class="speaker"><span class="line" data-starttime="1538"><span class="speakerName">Frank Salim</span>: And we can see </span><span class="line" data-startTime="1538">the handshake here, the </span><span class="line" data-startTime="1539">request and response, with </span><span class="line" data-startTime="1539">all of the headers. </span></p>

<p class="speaker"><span class="line" data-starttime="1543"><span class="speakerName">Peter Moskovits</span>: Right. </span></p>

<p class="speaker"><span class="line" data-starttime="1543"><span class="speakerName">Frank Salim</span>: Might want to make </span><span class="line" data-startTime="1543">it a little bit bigger. </span></p>

<p class="speaker"><span class="line" data-starttime="1549"><span class="speakerName">Peter Moskovits</span>: Here we go. </span><span class="line" data-startTime="1552">So here is the upgrade </span><span class="line" data-startTime="1552">header that is sent. </span><span class="line" data-startTime="1556">And here in the response is </span><span class="line" data-startTime="1556">the upgrade header too. </span></p>

<p class="speaker"><span class="line" data-starttime="1560"><span class="speakerName">Peter Lubbers</span>: Cool. </span></p>

<p class="speaker"><span class="line" data-starttime="1561"><span class="speakerName">Peter Moskovits</span>: OK. </span><span class="line" data-startTime="1561">And so once we have the </span><span class="line" data-startTime="1561">connection established &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1565"><span class="speakerName">Peter Lubbers</span>: Yeah. </span><span class="line" data-startTime="1565">Then you have the messaging </span><span class="line" data-startTime="1565">that goes back and forth. </span></p>

<p class="speaker"><span class="line" data-starttime="1567"><span class="speakerName">Peter Moskovits</span>: Exactly. </span> <span class="line" data-startTime="1568">So what you can do here </span><span class="line" data-startTime="1568">on websocket.org is </span><span class="line" data-startTime="1571">you can send a message. </span> <span class="line" data-startTime="1573">And we see the message </span><span class="line" data-startTime="1573">was sent. </span> <span class="line" data-startTime="1575">And the response was sent back, </span><span class="line" data-startTime="1576">which is the same message. </span> <span class="line" data-startTime="1578">So let's click on the </span><span class="line" data-startTime="1578">connection again. </span> <span class="line" data-startTime="1580">And here we can inspect </span><span class="line" data-startTime="1580">the frames. </span> <span class="line" data-startTime="1582">Here the background color </span><span class="line" data-startTime="1582">indicates whether it was an </span><span class="line" data-startTime="1585">upstream or a downstream. </span> <span class="line" data-startTime="1587">You can see the length </span><span class="line" data-startTime="1587">of the message. </span> <span class="line" data-startTime="1589">And you can see the </span><span class="line" data-startTime="1589">time as well. </span> <span class="line" data-startTime="1595">So if you are sending a new </span><span class="line" data-startTime="1595">message, you would need to </span><span class="line" data-startTime="1597">click on the connection </span><span class="line" data-startTime="1597">again to refresh the </span><span class="line" data-startTime="1602">actual frames in here. </span> <span class="line" data-startTime="1603">So another thing that we </span><span class="line" data-startTime="1603">could do here is &mdash; </span><span class="line" data-startTime="1608">let me bring up the console. </span> <span class="line" data-startTime="1610">And from the console itself, </span><span class="line" data-startTime="1610">we do have a WebSocket </span><span class="line" data-startTime="1613">connection variable here. </span></p>

<p><span class="line" data-startTime="1616">So here you can see the actual </span><span class="line" data-startTime="1616">connected WebSockets. </span> <span class="line" data-startTime="1621">You see the endpoint here. </span> <span class="line" data-startTime="1623">And we can do websocket.send. </span> <span class="line" data-startTime="1626">And here we can say something </span><span class="line" data-startTime="1626">like, "Hi there." And when you </span><span class="line" data-startTime="1632">do this, what happens is the </span><span class="line" data-startTime="1632">message is sent from the </span><span class="line" data-startTime="1635">console, not from </span><span class="line" data-startTime="1635">the application. </span> <span class="line" data-startTime="1637">So actually, I did say </span><span class="line" data-startTime="1637">"hi there" again. </span> <span class="line" data-startTime="1641">I should have said </span><span class="line" data-startTime="1641">something else. </span> <span class="line" data-startTime="1642">But basically &mdash; </span><span class="line" data-startTime="1646">thank you. </span></p>

<p class="speaker"><span class="line" data-starttime="1649"><span class="speakerName">Frank Salim</span>: Excuse me. </span></p>

<p class="speaker"><span class="line" data-starttime="1651"><span class="speakerName">Peter Moskovits</span>: Here we go. </span><span class="line" data-startTime="1652">So from the application </span><span class="line" data-startTime="1652">we don't log </span><span class="line" data-startTime="1656">the outgoing message. </span><span class="line" data-startTime="1657">We only get back the incoming </span><span class="line" data-startTime="1657">message, simply because the </span><span class="line" data-startTime="1660">message was not sent </span><span class="line" data-startTime="1660">from the app. </span><span class="line" data-startTime="1661">It was sent from the console. </span><span class="line" data-startTime="1663">So it kind of gives you an idea </span><span class="line" data-startTime="1663">of how you can use Chrome </span><span class="line" data-startTime="1666">to kind of visualize WebSocket, </span><span class="line" data-startTime="1666">which by the way is </span><span class="line" data-startTime="1669">quite a challenge, because </span><span class="line" data-startTime="1669">it's all kind </span><span class="line" data-startTime="1671">of under the covers. </span><span class="line" data-startTime="1672">And it's very handy. </span><span class="line" data-startTime="1673">And it's there. </span><span class="line" data-startTime="1674">You don't have to install </span><span class="line" data-startTime="1674">or get anything. </span><span class="line" data-startTime="1676">It's just there at your </span><span class="line" data-startTime="1676">fingertips right away. </span></p>

<p class="speaker"><span class="line" data-starttime="1679"><span class="speakerName">Peter Lubbers</span>: What are some of </span><span class="line" data-startTime="1679">the other tools you might </span><span class="line" data-startTime="1680">be using for the analysis? </span></p>

<p class="speaker"><span class="line" data-starttime="1683"><span class="speakerName">Frank Salim</span>: Do we </span><span class="line" data-startTime="1683">want to look at </span><span class="line" data-startTime="1684">Netinternals maybe first? </span></p>

<p class="speaker"><span class="line" data-starttime="1687"><span class="speakerName">Peter Moskovits</span>: Sure. </span></p>

<p class="speaker"><span class="line" data-starttime="1695"><span class="speakerName">Peter Lubbers</span>: So where </span><span class="line" data-startTime="1695">are you going? </span><span class="line" data-startTime="1696">Chrome. </span><span class="line" data-startTime="1698">Right. </span><span class="line" data-startTime="1699">Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="1700"><span class="speakerName">Frank Salim</span>: Even more </span><span class="line" data-startTime="1700">under the hood. </span><span class="line" data-startTime="1705">Tools for inspecting </span><span class="line" data-startTime="1705">the network stack. </span><span class="line" data-startTime="1709">So even if a WebSocket doesn't </span><span class="line" data-startTime="1709">connect and maybe you have a </span><span class="line" data-startTime="1713">DNS stall out or some other </span><span class="line" data-startTime="1713">connection issue before you </span><span class="line" data-startTime="1716">get that far, you can look </span><span class="line" data-startTime="1716">in Netinternals. </span><span class="line" data-startTime="1721">But I think where you're going </span><span class="line" data-startTime="1721">is, what if that's not enough? </span></p>

<p class="speaker"><span class="line" data-starttime="1724"><span class="speakerName">Peter Lubbers</span>: Right. </span></p>

<p class="speaker"><span class="line" data-starttime="1726"><span class="speakerName">Frank Salim</span>: In the case where </span><span class="line" data-startTime="1726">you have a WebSocket client, </span><span class="line" data-startTime="1728">your browser and a WebSocket </span><span class="line" data-startTime="1728">server that speaks the </span><span class="line" data-startTime="1730">protocol, and everything is </span><span class="line" data-startTime="1730">working fine, this is almost </span><span class="line" data-startTime="1734">always enough information. </span> <span class="line" data-startTime="1735">You can see your handshake. </span> <span class="line" data-startTime="1735">You can see the payload </span><span class="line" data-startTime="1735">of WebSocket messages </span><span class="line" data-startTime="1738">flying back and forth. </span> <span class="line" data-startTime="1739">If you're writing a new </span><span class="line" data-startTime="1739">WebSocket server and you need </span><span class="line" data-startTime="1741">to make sure that the syntax of </span><span class="line" data-startTime="1741">the WebSocket messages is </span><span class="line" data-startTime="1745">correct, you might go for </span><span class="line" data-startTime="1745">network-level tracing, where </span><span class="line" data-startTime="1749">Wireshark is an incredibly </span><span class="line" data-startTime="1749">powerful tool. </span></p>

<p class="speaker"><span class="line" data-starttime="1752"><span class="speakerName">Peter Lubbers</span>: OK. </span><span class="line" data-startTime="1753">Show us that. </span></p>

<p class="speaker"><span class="line" data-starttime="1754"><span class="speakerName">Frank Salim</span>: Let's take </span><span class="line" data-startTime="1754">a look at that. </span></p>

<p class="speaker"><span class="line" data-starttime="1754"><span class="speakerName">Peter Lubbers</span>: The power. </span></p>

<p class="speaker"><span class="line" data-starttime="1755"><span class="speakerName">Frank Salim</span>: I'll just refresh </span><span class="line" data-startTime="1755">websocket.org again and bring </span><span class="line" data-startTime="1760">up Wireshark. </span></p>

<p class="speaker"><span class="line" data-starttime="1769"><span class="speakerName">Peter Lubbers</span>: So Wireshark, </span><span class="line" data-startTime="1769">you can just </span><span class="line" data-startTime="1770">download that for free? </span></p>

<p class="speaker"><span class="line" data-starttime="1771"><span class="speakerName">Frank Salim</span>: Yes. </span><span class="line" data-startTime="1771">Open source application. </span><span class="line" data-startTime="1773">We'll start a capture on the </span><span class="line" data-startTime="1773">wireless device here, and </span><span class="line" data-startTime="1778">filter for port 80, where web </span><span class="line" data-startTime="1778">traffic will be found. </span><span class="line" data-startTime="1787">All right. </span><span class="line" data-startTime="1788">And we'll start this WebSocket </span><span class="line" data-startTime="1788">connection </span><span class="line" data-startTime="1794">and send a few messages. </span><span class="line" data-startTime="1797">And over here, we should see </span><span class="line" data-startTime="1797">the complete bytes of both </span><span class="line" data-startTime="1807">sides of the network session, </span><span class="line" data-startTime="1807">including framing and masking, </span><span class="line" data-startTime="1813">which are below the level </span><span class="line" data-startTime="1813">of where the JavaScript </span><span class="line" data-startTime="1817">application would have </span><span class="line" data-startTime="1817">visibility or care about. </span></p>

<p class="speaker"><span class="line" data-starttime="1820"><span class="speakerName">Peter Lubbers</span>: Yes. </span><span class="line" data-startTime="1821">So you could never get from </span><span class="line" data-startTime="1821">within the [INAUDIBLE]. </span></p>

<p class="speaker"><span class="line" data-starttime="1823"><span class="speakerName">Frank Salim</span>: Right. </span><span class="line" data-startTime="1825">And it looks like with later </span><span class="line" data-startTime="1825">versions of Wireshark, it will </span><span class="line" data-startTime="1829">actually dissect the WebSocket </span><span class="line" data-startTime="1829">message and show you the </span><span class="line" data-startTime="1834">fields in the WebSocket </span><span class="line" data-startTime="1834">message header. </span></p>

<p class="speaker"><span class="line" data-starttime="1836"><span class="speakerName">Peter Lubbers</span>: OK. </span><span class="line" data-startTime="1837">Well, that's great. </span><span class="line" data-startTime="1838">So basically for </span><span class="line" data-startTime="1838">anything that &mdash; </span><span class="line" data-startTime="1841">like your regular JavaScript </span><span class="line" data-startTime="1841">applications that are let's </span><span class="line" data-startTime="1843">say working, you can get it </span><span class="line" data-startTime="1843">from Chrome Dev Tools. </span><span class="line" data-startTime="1847">If you're building things more </span><span class="line" data-startTime="1847">advanced, like a server, then </span><span class="line" data-startTime="1851">you might go to the </span><span class="line" data-startTime="1851">Wireshark layer. </span></p>

<p class="speaker"><span class="line" data-starttime="1854"><span class="speakerName">Frank Salim</span>: Yeah. </span><span class="line" data-startTime="1854">If you're doing a new </span><span class="line" data-startTime="1854">implementation of the </span><span class="line" data-startTime="1856">protocol, Wireshark </span><span class="line" data-startTime="1856">can be very handy. </span></p>

<p class="speaker"><span class="line" data-starttime="1859"><span class="speakerName">Peter Lubbers</span>: Right. </span></p>

<p class="speaker"><span class="line" data-starttime="1860"><span class="speakerName">Vanessa Wang</span>: Yeah. </span><span class="line" data-startTime="1860">We walk through using Chrome Dev </span><span class="line" data-startTime="1860">Tools, Netinternals, and </span><span class="line" data-startTime="1864">Wireshark in the book as well. </span></p>

<p class="speaker"><span class="line" data-starttime="1865"><span class="speakerName">Peter Lubbers</span>: In the final </span><span class="line" data-startTime="1865">appendix, right, or one of the </span><span class="line" data-startTime="1867">appendices. </span></p>

<p class="speaker"><span class="line" data-starttime="1868"><span class="speakerName">Frank Salim</span>: We do write a </span><span class="line" data-startTime="1868">WebSocket server in Chapter 3, </span><span class="line" data-startTime="1870">so there is an occasion where </span><span class="line" data-startTime="1870">you might want to do this kind </span><span class="line" data-startTime="1873">of debugging. </span></p>

<p class="speaker"><span class="line" data-starttime="1874"><span class="speakerName">Vanessa Wang</span>: Exactly. </span></p>

<p class="speaker"><span class="line" data-starttime="1875"><span class="speakerName">Peter Lubbers</span>: That's great. </span><span class="line" data-startTime="1876">All right. </span><span class="line" data-startTime="1877">So before we jump into the </span><span class="line" data-startTime="1877">questions on the moderator, </span><span class="line" data-startTime="1883">Vanessa, you're a doc manager. </span><span class="line" data-startTime="1887">You've written tons </span><span class="line" data-startTime="1887">of documentation. </span><span class="line" data-startTime="1888">How did you find this writing an </span><span class="line" data-startTime="1888">actual book different from </span><span class="line" data-startTime="1893">writing docs? </span></p>

<p class="speaker"><span class="line" data-starttime="1894"><span class="speakerName">Vanessa Wang</span>: Well, first it </span><span class="line" data-startTime="1894">was we're bringing about a </span><span class="line" data-startTime="1897">technology, a standard, </span><span class="line" data-startTime="1897">rather than a product. </span><span class="line" data-startTime="1900">And that was definitely a shift </span><span class="line" data-startTime="1900">in just the process. </span><span class="line" data-startTime="1904">And then thinking about the best </span><span class="line" data-startTime="1904">way to explain something </span><span class="line" data-startTime="1909">that people will be approaching </span><span class="line" data-startTime="1909">in a number of </span><span class="line" data-startTime="1912">different ways, and not </span><span class="line" data-startTime="1912">having any sort of </span><span class="line" data-startTime="1914">predictability there. </span><span class="line" data-startTime="1916">So it was a really </span><span class="line" data-startTime="1916">good process. </span><span class="line" data-startTime="1918">It was a really intense </span><span class="line" data-startTime="1918">process. </span></p>

<p class="speaker"><span class="line" data-starttime="1923"><span class="speakerName">Peter Lubbers</span>: Having written </span><span class="line" data-startTime="1923">a book on the side, I'm sure </span><span class="line" data-startTime="1927">you're happy that it's done. </span> <span class="line" data-startTime="1929">Great. </span> <span class="line" data-startTime="1929">Well, let's take a look </span><span class="line" data-startTime="1929">at a couple of </span><span class="line" data-startTime="1931">questions on the moderator. </span> <span class="line" data-startTime="1934">So if you have any questions, </span><span class="line" data-startTime="1934">on the YouTube live stream </span><span class="line" data-startTime="1938">there are links to ask and </span><span class="line" data-startTime="1938">vote for more questions. </span> <span class="line" data-startTime="1943">So let's go to the presentation </span><span class="line" data-startTime="1943">view here. </span> <span class="line" data-startTime="1949">All right. </span> <span class="line" data-startTime="1950">So what considerations in terms </span><span class="line" data-startTime="1950">of scalability should </span><span class="line" data-startTime="1956">you take when deploying a </span><span class="line" data-startTime="1956">WebSocket-based service. </span> <span class="line" data-startTime="1958">In particular, what limits do </span><span class="line" data-startTime="1958">you hit easier due to having </span><span class="line" data-startTime="1962">to keep many connections open? </span><span class="line" data-startTime="1964">So that's I guess a commonly </span><span class="line" data-startTime="1964">asked question, right? </span><span class="line" data-startTime="1967">Because with HTTP requests, </span><span class="line" data-startTime="1967">it's sort of the request, </span><span class="line" data-startTime="1973">response, and it's done. </span> <span class="line" data-startTime="1975">Here you now have a whole new </span><span class="line" data-startTime="1975">paradigm of potentially </span><span class="line" data-startTime="1979">thousands or millions of </span><span class="line" data-startTime="1979">concurrent connections. </span></p>

<p><span class="line" data-startTime="1984">So how do you deal with the </span><span class="line" data-startTime="1984">scalability of that? </span><span class="line" data-startTime="1988">This is from Vlad from London. </span></p>

<p class="speaker"><span class="line" data-starttime="1991"><span class="speakerName">Peter Moskovits</span>: Sure. </span> <span class="line" data-startTime="1992">Maybe I'll start and then </span><span class="line" data-startTime="1992">others can chime in. </span> <span class="line" data-startTime="1995">So one of the challenges that </span><span class="line" data-startTime="1995">we've been facing in the </span><span class="line" data-startTime="1998">pre-WebSocket world is that </span><span class="line" data-startTime="1998">as we moved to the web, we </span><span class="line" data-startTime="2004">started using the web in a way </span><span class="line" data-startTime="2004">that we expected kind of the </span><span class="line" data-startTime="2009">client-server world to work. </span> <span class="line" data-startTime="2010">So just because we moved to the </span><span class="line" data-startTime="2010">web and just because the </span><span class="line" data-startTime="2013">web was not designed for the </span><span class="line" data-startTime="2013">richness and the interactivity </span><span class="line" data-startTime="2018">that we had in the client-server </span><span class="line" data-startTime="2018">world, that </span><span class="line" data-startTime="2020">doesn't mean that customers and </span><span class="line" data-startTime="2020">people basically gave up </span><span class="line" data-startTime="2025">on that need or on </span><span class="line" data-startTime="2025">that demand. </span> <span class="line" data-startTime="2026">So we came up with a number of </span><span class="line" data-startTime="2026">these very creative ways of </span><span class="line" data-startTime="2031">introducing interactivity. </span> <span class="line" data-startTime="2032">And we were using HTTP, a very </span><span class="line" data-startTime="2032">scalable and stateless </span><span class="line" data-startTime="2036">protocol for something that </span><span class="line" data-startTime="2036">it was not designed for. </span> <span class="line" data-startTime="2040">And by using something that was </span><span class="line" data-startTime="2040">specifically designed for </span><span class="line" data-startTime="2044">this use case, I think we can </span><span class="line" data-startTime="2044">write our applications in a </span><span class="line" data-startTime="2048">way more efficient manner. </span></p>

<p><span class="line" data-startTime="2050">Very often I get the question </span><span class="line" data-startTime="2050">whether HTTP gets replaced by </span><span class="line" data-startTime="2054">WebSocket, or what this whole </span><span class="line" data-startTime="2054">coexistence story is. </span> <span class="line" data-startTime="2058">And basically HTTP is there for </span><span class="line" data-startTime="2058">all the document-oriented </span><span class="line" data-startTime="2063">resources, things like images </span><span class="line" data-startTime="2063">and HTML5 files and CSS and </span><span class="line" data-startTime="2067">JavaScript. </span> <span class="line" data-startTime="2068">And WebSocket can be used for </span><span class="line" data-startTime="2068">where it's really good, where </span><span class="line" data-startTime="2073">you need to have this permanent </span><span class="line" data-startTime="2073">connection for the </span><span class="line" data-startTime="2079">bidirectional communication. </span> <span class="line" data-startTime="2080">On the scalability side, yes, it </span><span class="line" data-startTime="2080">can be a challenge, simply </span><span class="line" data-startTime="2086">because when you get started </span><span class="line" data-startTime="2086">with WebSocket, basically you </span><span class="line" data-startTime="2091">can build amazing things. </span></p>

<p><span class="line" data-startTime="2093">And as you start rolling it out </span><span class="line" data-startTime="2093">to the web, you can face </span><span class="line" data-startTime="2096">thousands, tens of thousands, </span><span class="line" data-startTime="2096">hundreds of </span><span class="line" data-startTime="2097">thousands of users. </span> <span class="line" data-startTime="2098">And suddenly things </span><span class="line" data-startTime="2098">can break down. </span> <span class="line" data-startTime="2101">How you do clustering, how you </span><span class="line" data-startTime="2101">do failover, how you do </span><span class="line" data-startTime="2105">disaster recovery, all these </span><span class="line" data-startTime="2105">kinds of questions come up. </span> <span class="line" data-startTime="2108">We did a benchmark </span><span class="line" data-startTime="2108">not too long ago. </span> <span class="line" data-startTime="2112">And in that benchmark, we had a </span><span class="line" data-startTime="2112">million concurrent connected </span><span class="line" data-startTime="2117">users served by one server. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="2123"><span class="speakerName">Vanessa Wang</span>: A server </span><span class="line" data-startTime="2123">rack, right? </span></p>

<p class="speaker"><span class="line" data-starttime="2124"><span class="speakerName">Peter Moskovits</span>: It was a rack. </span><span class="line" data-startTime="2125">Exactly. </span><span class="line" data-startTime="2126">We had 10 messages sent </span><span class="line" data-startTime="2126">per second to </span><span class="line" data-startTime="2130">these 1 million users. </span><span class="line" data-startTime="2132">The message size </span><span class="line" data-startTime="2132">was 512 bytes. </span><span class="line" data-startTime="2135">The protocol overhead was </span><span class="line" data-startTime="2135">another 100 or 200 bytes. </span><span class="line" data-startTime="2139">And we did not have a single </span><span class="line" data-startTime="2139">dropped connection. </span><span class="line" data-startTime="2143">And the overhead that we added </span><span class="line" data-startTime="2143">on top of the actual physical </span><span class="line" data-startTime="2146">network overhead, that the </span><span class="line" data-startTime="2146">WebSocket stack added on top </span><span class="line" data-startTime="2150">of that the average was I think </span><span class="line" data-startTime="2150">3 and 1/2 milliseconds. </span><span class="line" data-startTime="2154">So it can scale. </span><span class="line" data-startTime="2156">But if you want to scale to a </span><span class="line" data-startTime="2156">very large number of users, </span><span class="line" data-startTime="2159">then you have to have those </span><span class="line" data-startTime="2159">capabilities in the server </span><span class="line" data-startTime="2163">that you are using. </span></p>

<p class="speaker"><span class="line" data-starttime="2165"><span class="speakerName">Peter Lubbers</span>: Sure. </span><span class="line" data-startTime="2165">Makes sense. </span></p>

<p class="speaker"><span class="line" data-starttime="2168"><span class="speakerName">Vanessa Wang</span>: Actually, </span><span class="line" data-startTime="2168">that brings up </span><span class="line" data-startTime="2168">an interesting point. </span><span class="line" data-startTime="2170">One of the things that we talk </span><span class="line" data-startTime="2170">about in the book is enabling </span><span class="line" data-startTime="2173">your server to speak </span><span class="line" data-startTime="2173">WebSocket. </span><span class="line" data-startTime="2175">So that would be your browser </span><span class="line" data-startTime="2175">or your client talking to </span><span class="line" data-startTime="2178">WebSocket, to a WebSocket </span><span class="line" data-startTime="2178">server, versus using a server </span><span class="line" data-startTime="2182">in between that translates </span><span class="line" data-startTime="2182">WebSocket traffic into TCP </span><span class="line" data-startTime="2186">through the back end. </span><span class="line" data-startTime="2187">And those are two different </span><span class="line" data-startTime="2187">options that we go </span><span class="line" data-startTime="2189">through in the book. </span></p>

<p class="speaker"><span class="line" data-starttime="2190"><span class="speakerName">Peter Lubbers</span>: Cool. </span></p>

<p class="speaker"><span class="line" data-starttime="2193"><span class="speakerName">Peter Moskovits</span>: So speaking of </span><span class="line" data-startTime="2193">the book, and I don't know </span><span class="line" data-startTime="2196">whether that would fit into </span><span class="line" data-startTime="2196">any of the questions. </span><span class="line" data-startTime="2198">Maybe it would. </span></p>

<p class="speaker"><span class="line" data-starttime="2199"><span class="speakerName">Peter Lubbers</span>: Buy it. </span><span class="line" data-startTime="2201">Buy the book. </span></p>

<p class="speaker"><span class="line" data-starttime="2205"><span class="speakerName">Peter Moskovits</span>: There are a </span><span class="line" data-startTime="2205">couple of very, very neat </span><span class="line" data-startTime="2207">examples that I think we </span><span class="line" data-startTime="2207">built for the book. </span><span class="line" data-startTime="2210">So maybe we can show </span><span class="line" data-startTime="2210">some of them. </span><span class="line" data-startTime="2212">We have some here in the VM. </span><span class="line" data-startTime="2214">And maybe we can walk through </span><span class="line" data-startTime="2214">what whole experience is just </span><span class="line" data-startTime="2218">to basically show how easy </span><span class="line" data-startTime="2218">it is to get started. </span><span class="line" data-startTime="2224">So the first one is Chapter 3. </span></p>

<p class="speaker"><span class="line" data-starttime="2228"><span class="speakerName">Frank Salim</span>: Right. </span> <span class="line" data-startTime="2228">So in Chapter 3, we go through </span><span class="line" data-startTime="2228">building a WebSocket server </span><span class="line" data-startTime="2232">from scratch, using nojs </span><span class="line" data-startTime="2232">on the server side. </span> <span class="line" data-startTime="2235">And that's really nice that we </span><span class="line" data-startTime="2235">get to keep the same language </span><span class="line" data-startTime="2238">for these examples on the client </span><span class="line" data-startTime="2238">and on the server. </span> <span class="line" data-startTime="2241">So we write the server. </span> <span class="line" data-startTime="2242">And we have a couple of fun </span><span class="line" data-startTime="2242">little things you can do with </span><span class="line" data-startTime="2246">it, the basic just echoing </span><span class="line" data-startTime="2246">messages back and forth, and </span><span class="line" data-startTime="2249">also a WebSocket REPL. </span> <span class="line" data-startTime="2251">So we have a read-eval-print </span><span class="line" data-startTime="2251">loop that you run on the </span><span class="line" data-startTime="2254">server side that executes </span><span class="line" data-startTime="2254">JavaScript remotely on all the </span><span class="line" data-startTime="2258">connected clients. </span> <span class="line" data-startTime="2260">So I'll just start </span><span class="line" data-startTime="2260">that up here. </span> <span class="line" data-startTime="2264">I'll go to the Chapter 3 </span><span class="line" data-startTime="2264">directory and run start REPL </span><span class="line" data-startTime="2273">server dot sh, which is just </span><span class="line" data-startTime="2273">executing node and this </span><span class="line" data-startTime="2277">WebSocket REPL JavaScript </span><span class="line" data-startTime="2277">application. </span> <span class="line" data-startTime="2282">I'll open a couple of browser </span><span class="line" data-startTime="2282">windows, I hope, and just open </span><span class="line" data-startTime="2304">the client in each window. </span></p>

<p><span class="line" data-startTime="2307">And we'll see here on the </span><span class="line" data-startTime="2307">server a couple of </span><span class="line" data-startTime="2309">connections came in. </span> <span class="line" data-startTime="2310">And so whatever we type here in </span><span class="line" data-startTime="2310">the console is going to be </span><span class="line" data-startTime="2313">executed by each of </span><span class="line" data-startTime="2313">the browsers. </span> <span class="line" data-startTime="2315">And the results going to be </span><span class="line" data-startTime="2315">returned over WebSocket. </span> <span class="line" data-startTime="2317">And it's going to print out </span><span class="line" data-startTime="2317">here again on the console. </span> <span class="line" data-startTime="2319">So just 1 plus 1, each browser </span><span class="line" data-startTime="2319">ran the JavaScript </span><span class="line" data-startTime="2322">expression 1 plus 1. </span> <span class="line" data-startTime="2324">That was delivered to it </span><span class="line" data-startTime="2324">over the WebSocket. </span> <span class="line" data-startTime="2326">It comes back it's 2. </span> <span class="line" data-startTime="2327">So each session printed out 2. </span> <span class="line" data-startTime="2329">So we can do some pretty </span><span class="line" data-startTime="2329">fun things with that. </span> <span class="line" data-startTime="2331">For instance, we can manipulate </span><span class="line" data-startTime="2331">the actual pages </span><span class="line" data-startTime="2341">run in each of these browsers. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="2347"><span class="speakerName">Peter Lubbers</span>: Oh wow. </span><span class="line" data-startTime="2349">That's great. </span></p>

<p class="speaker"><span class="line" data-starttime="2355"><span class="speakerName">Peter Moskovits</span>: So you're </span><span class="line" data-startTime="2355">basically writing JavaScript </span><span class="line" data-startTime="2359">commands that are sent over, </span><span class="line" data-startTime="2359">executed on each of these </span><span class="line" data-startTime="2363">browsers, and you are </span><span class="line" data-startTime="2367">controlling the browser remotely. </span></p>

<p class="speaker"><span class="line" data-starttime="2368"><span class="speakerName">Frank Salim</span>: Yeah. </span><span class="line" data-startTime="2369">It's a remote control </span><span class="line" data-startTime="2369">application, driven by a </span><span class="line" data-startTime="2372">WebSocket server. </span></p>

<p class="speaker"><span class="line" data-starttime="2373"><span class="speakerName">Peter Moskovits</span>: It's pretty </span><span class="line" data-startTime="2373">impressive, especially when </span><span class="line" data-startTime="2374">you have a browser on the other </span><span class="line" data-startTime="2374">side of the planet and </span><span class="line" data-startTime="2377">you are remotely </span><span class="line" data-startTime="2377">controlling it. </span><span class="line" data-startTime="2378">It can have a pretty </span><span class="line" data-startTime="2378">interesting effect. </span></p>

<p class="speaker"><span class="line" data-starttime="2381"><span class="speakerName">Peter Lubbers</span>: It brings </span><span class="line" data-startTime="2381">up the question </span><span class="line" data-startTime="2382">of security, Frank. </span></p>

<p class="speaker"><span class="line" data-starttime="2385"><span class="speakerName">Frank Salim</span>: Security's </span><span class="line" data-startTime="2385">very important. </span></p>

<p class="speaker"><span class="line" data-starttime="2389"><span class="speakerName">Peter Lubbers</span>: Let's take </span><span class="line" data-startTime="2389">another quick question from </span><span class="line" data-startTime="2392">the moderator. </span><span class="line" data-startTime="2392">So from Frank G. in New York. </span><span class="line" data-startTime="2394">We have, what is the </span><span class="line" data-startTime="2394">relationship between WebRTC </span><span class="line" data-startTime="2398">and WebSocket. </span><span class="line" data-startTime="2399">And we talked about this </span><span class="line" data-startTime="2399">briefly before. </span></p>

<p class="speaker"><span class="line" data-starttime="2402"><span class="speakerName">Frank Salim</span>: Yeah. </span><span class="line" data-startTime="2402">This comes up a lot, because the </span><span class="line" data-startTime="2402">one-sentence description </span><span class="line" data-startTime="2405">of WebRTC is this real-time </span><span class="line" data-startTime="2407">communication feature for browsers. </span><span class="line" data-startTime="2408">And the one-sentence description </span><span class="line" data-startTime="2408">of WebSocket is a </span><span class="line" data-startTime="2411">real-time communication </span><span class="line" data-startTime="2411">feature for browsers. </span><span class="line" data-startTime="2413">So the headline is </span><span class="line" data-startTime="2413">very similar. </span><span class="line" data-startTime="2416">But WebSocket has a </span><span class="line" data-startTime="2416">client-server model. </span><span class="line" data-startTime="2419">It's a very data-centric </span><span class="line" data-startTime="2419">use case. </span><span class="line" data-startTime="2421">And WebRTC is peer-to-peer with </span><span class="line" data-startTime="2421">a really heavy focus on </span><span class="line" data-startTime="2425">real-time media. </span><span class="line" data-startTime="2426">That's what it's really </span><span class="line" data-startTime="2426">designed for. </span></p>

<p class="speaker"><span class="line" data-starttime="2427"><span class="speakerName">Peter Lubbers</span>: Right. </span><span class="line" data-startTime="2428">Video, audio. </span></p>

<p class="speaker"><span class="line" data-starttime="2428"><span class="speakerName">Frank Salim</span>: And it supports </span><span class="line" data-startTime="2428">peer-to-peer data with </span><span class="line" data-startTime="2430">optional reliability. </span><span class="line" data-startTime="2432">And so there are some </span><span class="line" data-startTime="2432">overlapping use cases. </span><span class="line" data-startTime="2434">But they're really on the </span><span class="line" data-startTime="2434">margins of what they're </span><span class="line" data-startTime="2437">designed for. </span></p>

<p class="speaker"><span class="line" data-starttime="2438"><span class="speakerName">Peter Lubbers</span>: Right. </span><span class="line" data-startTime="2439">Cool. </span><span class="line" data-startTime="2440">Actually, speaking of security, </span><span class="line" data-startTime="2440">what type of </span><span class="line" data-startTime="2443">security should big companies </span><span class="line" data-startTime="2443">consider when offering a </span><span class="line" data-startTime="2445">persistent connection to their </span><span class="line" data-startTime="2445">back end services? </span><span class="line" data-startTime="2448">Also from Frank in New York. </span></p>

<p class="speaker"><span class="line" data-starttime="2452"><span class="speakerName">Frank Salim</span>: Well, should big </span><span class="line" data-startTime="2452">companies offer connections </span><span class="line" data-startTime="2455">directly to their back </span><span class="line" data-startTime="2455">end services? </span></p>

<p class="speaker"><span class="line" data-starttime="2457"><span class="speakerName">Peter Lubbers</span>: That's </span><span class="line" data-startTime="2457">a good question. </span></p>

<p class="speaker"><span class="line" data-starttime="2459"><span class="speakerName">Frank Salim</span>: Well, first of </span><span class="line" data-startTime="2459">all, should they offer </span><span class="line" data-startTime="2461">connections directly to </span><span class="line" data-startTime="2461">the back end services? </span></p>

<p class="speaker"><span class="line" data-starttime="2462"><span class="speakerName">Peter Lubbers</span>: Let's </span><span class="line" data-startTime="2462">take a step back. </span><span class="line" data-startTime="2463">So what are some of the </span><span class="line" data-startTime="2463">WebSocket security </span><span class="line" data-startTime="2467">considerations like you talked </span><span class="line" data-startTime="2467">about in the book? </span><span class="line" data-startTime="2470">What does it boil down to? </span></p>

<p class="speaker"><span class="line" data-starttime="2473"><span class="speakerName">Frank Salim</span>: So it has </span><span class="line" data-startTime="2473">transport-level security, much </span><span class="line" data-startTime="2475">like HTTPS with WebSocket </span><span class="line" data-startTime="2475">Secure, the </span><span class="line" data-startTime="2478">WSS scheme over TLS. </span><span class="line" data-startTime="2481">And it starts with an HTTP </span><span class="line" data-startTime="2481">connection, so you have </span><span class="line" data-startTime="2483">headers there that you can </span><span class="line" data-startTime="2483">use for authentication. </span><span class="line" data-startTime="2485">You can use cookies. </span><span class="line" data-startTime="2487">And then if you use it as a </span><span class="line" data-startTime="2487">transport-layer protocol, </span><span class="line" data-startTime="2490">that's basically what you get. </span><span class="line" data-startTime="2492">You can have application-level </span><span class="line" data-startTime="2492">security on top, basically </span><span class="line" data-startTime="2495">bring your own. </span><span class="line" data-startTime="2496">Otherwise, it's a pipe which </span><span class="line" data-startTime="2496">can be encrypted. </span></p>

<p class="speaker"><span class="line" data-starttime="2500"><span class="speakerName">Peter Lubbers</span>: Anything </span><span class="line" data-startTime="2500">to add? </span></p>

<p class="speaker"><span class="line" data-starttime="2502"><span class="speakerName">Peter Moskovits</span>: And then </span><span class="line" data-startTime="2502">there are a number of </span><span class="line" data-startTime="2504">additional security-related </span><span class="line" data-startTime="2504">capabilities that </span><span class="line" data-startTime="2507">some servers offer. </span><span class="line" data-startTime="2510">So when it comes to kind of </span><span class="line" data-startTime="2510">real-life deployments, then </span><span class="line" data-startTime="2512">you may be interested in SSO </span><span class="line" data-startTime="2512">integration, Kerberos </span><span class="line" data-startTime="2516">integration. </span><span class="line" data-startTime="2517">You may be interested in </span><span class="line" data-startTime="2517">protecting your environment. </span><span class="line" data-startTime="2524">There are some ways of </span><span class="line" data-startTime="2524">establishing a WebSocket </span><span class="line" data-startTime="2528">connection without opening </span><span class="line" data-startTime="2528">up any inbound </span><span class="line" data-startTime="2530">ports on your firewall. </span><span class="line" data-startTime="2532">So there's a large number of </span><span class="line" data-startTime="2532">things that you can deploy and </span><span class="line" data-startTime="2538">you can consider using when you </span><span class="line" data-startTime="2538">want to basically offer </span><span class="line" data-startTime="2542">these services to the web. </span></p>

<p class="speaker"><span class="line" data-starttime="2545"><span class="speakerName">Peter Lubbers</span>: So once you get </span><span class="line" data-startTime="2545">into this enterprise scenario, </span><span class="line" data-startTime="2549">does WebSocket offer anything </span><span class="line" data-startTime="2549">specifically to go through </span><span class="line" data-startTime="2553">load balancers, firewalls, </span><span class="line" data-startTime="2553">by itself? </span><span class="line" data-startTime="2556">Or how should you </span><span class="line" data-startTime="2556">consider that? </span><span class="line" data-startTime="2560">That's pretty common in an </span><span class="line" data-startTime="2560">enterprise scenario, right? </span></p>

<p class="speaker"><span class="line" data-starttime="2562"><span class="speakerName">Peter Moskovits</span>: Right. </span><span class="line" data-startTime="2562">So this is a major challenge, </span><span class="line" data-startTime="2562">because the plain WebSocket </span><span class="line" data-startTime="2567">connection very often gets cut </span><span class="line" data-startTime="2567">off by these proxies and </span><span class="line" data-startTime="2572">routers and firewalls. </span><span class="line" data-startTime="2574">So one typical thing that </span><span class="line" data-startTime="2574">improves the penetration is </span><span class="line" data-startTime="2578">when you use WebSocket Secure, </span><span class="line" data-startTime="2578">when you tunnel your WebSocket </span><span class="line" data-startTime="2581">connection over TLS then </span><span class="line" data-startTime="2581">it gets a lot better. </span><span class="line" data-startTime="2585">But even that doesn't get </span><span class="line" data-startTime="2585">you beyond 90% or 95%. </span><span class="line" data-startTime="2589">So at that point the question </span><span class="line" data-startTime="2589">is whether you can afford to </span><span class="line" data-startTime="2592">lose 5% or 10% of your potential </span><span class="line" data-startTime="2592">users or customers </span><span class="line" data-startTime="2596">or whether you want to have </span><span class="line" data-startTime="2596">complete coverage. </span><span class="line" data-startTime="2599">And again, this is </span><span class="line" data-startTime="2599">something where </span><span class="line" data-startTime="2601">implementations can differ. </span><span class="line" data-startTime="2603">So there are various </span><span class="line" data-startTime="2603">solutions. </span><span class="line" data-startTime="2605">You can fall back </span><span class="line" data-startTime="2605">to emulation. </span><span class="line" data-startTime="2608">And if you do that, then there </span><span class="line" data-startTime="2608">are ways you can penetrate </span><span class="line" data-startTime="2612">these intermediaries. </span></p>

<p class="speaker"><span class="line" data-starttime="2614"><span class="speakerName">Peter Lubbers</span>: OK. </span><span class="line" data-startTime="2614">Cool. </span><span class="line" data-startTime="2617">We'll take another question. </span><span class="line" data-startTime="2618">So that's basically the question </span><span class="line" data-startTime="2618">I just answered. </span><span class="line" data-startTime="2623">I didn't see that before. </span><span class="line" data-startTime="2623">So network entities, firewalls, </span><span class="line" data-startTime="2623">and proxies are not </span><span class="line" data-startTime="2625">very friendly to WebSocket. </span><span class="line" data-startTime="2626">What's the best way to use </span><span class="line" data-startTime="2626">WebSocket for connections that </span><span class="line" data-startTime="2629">traverse those entities? </span><span class="line" data-startTime="2631">So I guess the answer use WSS, </span><span class="line" data-startTime="2631">the WebSocket Secure. </span></p>

<p class="speaker"><span class="line" data-starttime="2634"><span class="speakerName">Peter Moskovits</span>: That's a good </span><span class="line" data-startTime="2634">starting point, yes. </span></p>

<p class="speaker"><span class="line" data-starttime="2636"><span class="speakerName">Frank Salim</span>: That's a great </span><span class="line" data-startTime="2636">starting point. </span></p>

<p class="speaker"><span class="line" data-starttime="2637"><span class="speakerName">Peter Moskovits</span>: Yes. </span></p>

<p class="speaker"><span class="line" data-starttime="2638"><span class="speakerName">Frank Salim</span>: Much better </span><span class="line" data-startTime="2638">[INAUDIBLE] with an encrypted </span><span class="line" data-startTime="2640">connection. </span></p>

<p class="speaker"><span class="line" data-starttime="2642"><span class="speakerName">Peter Moskovits</span>: Basically, </span><span class="line" data-startTime="2642">very much like SPDY, you </span><span class="line" data-startTime="2644">probably would not want to have </span><span class="line" data-startTime="2644">a WebSocket connection, </span><span class="line" data-startTime="2649">just plain WebSocket connection, </span><span class="line" data-startTime="2649">unless you are in </span><span class="line" data-startTime="2651">a development or testing </span><span class="line" data-startTime="2651">environment. </span><span class="line" data-startTime="2653">In a production environment, </span><span class="line" data-startTime="2653">you do want to have TLS. </span></p>

<p class="speaker"><span class="line" data-starttime="2656"><span class="speakerName">Frank Salim</span>: Some otherwise </span><span class="line" data-startTime="2656">controlled network. </span></p>

<p class="speaker"><span class="line" data-starttime="2658"><span class="speakerName">Peter Moskovits</span>: Exactly. </span></p>

<p class="speaker"><span class="line" data-starttime="2660"><span class="speakerName">Peter Lubbers</span>: Cool. </span><span class="line" data-startTime="2661">So there's a question from </span><span class="line" data-startTime="2661">Shafir in Israel. </span><span class="line" data-startTime="2664">What about better tooling </span><span class="line" data-startTime="2664">to debug problems in the </span><span class="line" data-startTime="2666">WebSocket protocol, such as </span><span class="line" data-startTime="2666">bad Unicode encoding. </span><span class="line" data-startTime="2670">If the server generates a </span><span class="line" data-startTime="2670">WebSocket message the browser </span><span class="line" data-startTime="2672">doesn't like, it's almost </span><span class="line" data-startTime="2672">impossible to find where the </span><span class="line" data-startTime="2675">problem is. </span><span class="line" data-startTime="2675">Have you run into that? </span></p>

<p class="speaker"><span class="line" data-starttime="2679"><span class="speakerName">Frank Salim</span>: I have </span><span class="line" data-startTime="2679">not run into that. </span><span class="line" data-startTime="2682">I can imagine the problem. </span><span class="line" data-startTime="2683">So WebSocket text messages are </span><span class="line" data-startTime="2683">required to be UTF-8 encoded. </span><span class="line" data-startTime="2687">So if there's some </span><span class="line" data-startTime="2687">other encoding &mdash; </span><span class="line" data-startTime="2691">and ASCII will fly by, because </span><span class="line" data-startTime="2691">ASCII is a valid subset. </span><span class="line" data-startTime="2695">So most the time during </span><span class="line" data-startTime="2695">development you might be not </span><span class="line" data-startTime="2699">encoding and get away with </span><span class="line" data-startTime="2699">it on your server. </span><span class="line" data-startTime="2701">But if you have a UTF-16 </span><span class="line" data-startTime="2701">encoded string in your </span><span class="line" data-startTime="2705">WebSocket payload, the browser </span><span class="line" data-startTime="2705">will reject that message. </span></p>

<p class="speaker"><span class="line" data-starttime="2708"><span class="speakerName">Peter Lubbers</span>: But wouldn't </span><span class="line" data-startTime="2708">that be like a server </span><span class="line" data-startTime="2710">configuration issue in </span><span class="line" data-startTime="2710">general, or is that </span><span class="line" data-startTime="2713">something &mdash; </span><span class="line" data-startTime="2714">because your client is going </span><span class="line" data-startTime="2714">to speak &mdash; your browser is </span><span class="line" data-startTime="2716">going to do the right </span><span class="line" data-startTime="2716">thing, right? </span></p>

<p class="speaker"><span class="line" data-starttime="2718"><span class="speakerName">Frank Salim</span>: Yes. </span><span class="line" data-startTime="2718">That's a server bug. </span><span class="line" data-startTime="2719">But it seems like it could be </span><span class="line" data-startTime="2719">a reasonably easy mistake to </span><span class="line" data-startTime="2724">make on the server. </span></p>

<p class="speaker"><span class="line" data-starttime="2725"><span class="speakerName">Peter Lubbers</span>: I see. </span><span class="line" data-startTime="2726">Right. </span><span class="line" data-startTime="2726">Is there currently </span><span class="line" data-startTime="2726">something in, for </span><span class="line" data-startTime="2728">example, Chrome Dev Tools? </span><span class="line" data-startTime="2729">What would happen if you got </span><span class="line" data-startTime="2729">a message like that? </span></p>

<p class="speaker"><span class="line" data-starttime="2733"><span class="speakerName">Frank Salim</span>: It might just close </span><span class="line" data-startTime="2733">the connection silently </span><span class="line" data-startTime="2735">or it might surface </span><span class="line" data-startTime="2735">some error. </span><span class="line" data-startTime="2737">So I guess the question is, </span><span class="line" data-startTime="2737">can the browsers complain </span><span class="line" data-startTime="2741">about that more coherently? </span></p>

<p class="speaker"><span class="line" data-starttime="2745"><span class="speakerName">Peter Lubbers</span>: Would Wireshark </span><span class="line" data-startTime="2745">be an answer here? </span><span class="line" data-startTime="2748">What do you think? </span><span class="line" data-startTime="2751">Maybe? </span></p>

<p class="speaker"><span class="line" data-starttime="2751"><span class="speakerName">Frank Salim</span>: I'm not sure. </span><span class="line" data-startTime="2752">Maybe. </span></p>

<p class="speaker"><span class="line" data-starttime="2752"><span class="speakerName">Peter Lubbers</span>: OK. </span><span class="line" data-startTime="2753">Cool. </span><span class="line" data-startTime="2754">All right. </span><span class="line" data-startTime="2755">Another question from Shafir </span><span class="line" data-startTime="2755">again in Israel. </span><span class="line" data-startTime="2758">When will we have built-in </span><span class="line" data-startTime="2758">compression for WebSocket? </span><span class="line" data-startTime="2762">So I think that was a proposal, </span><span class="line" data-startTime="2762">right, for something </span><span class="line" data-startTime="2765">to be added on top of the &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2770"><span class="speakerName">Frank Salim</span>: Yeah. </span><span class="line" data-startTime="2770">There's a draft for compression </span><span class="line" data-startTime="2770">on WebSockets. </span><span class="line" data-startTime="2774">I don't know the status </span><span class="line" data-startTime="2774">or direction of that. </span><span class="line" data-startTime="2777">But it's under discussion. </span></p>

<p class="speaker"><span class="line" data-starttime="2780"><span class="speakerName">Peter Lubbers</span>: Is there any </span><span class="line" data-startTime="2780">implementation that you're </span><span class="line" data-startTime="2782">aware of that has done </span><span class="line" data-startTime="2782">anything with that? </span></p>

<p class="speaker"><span class="line" data-starttime="2787"><span class="speakerName">Frank Salim</span>: I wouldn't know. </span></p>

<p class="speaker"><span class="line" data-starttime="2788"><span class="speakerName">Peter Lubbers</span>: Right. </span><span class="line" data-startTime="2788">OK. </span><span class="line" data-startTime="2790">All right. </span><span class="line" data-startTime="2792">Lena in LA asked, is there a </span><span class="line" data-startTime="2792">good way to gracefully degrade </span><span class="line" data-startTime="2797">the use of WebSocket on browsers </span><span class="line" data-startTime="2797">that are capable of </span><span class="line" data-startTime="2799">versus those that are not? </span><span class="line" data-startTime="2801">So this is where it comes into </span><span class="line" data-startTime="2801">like polyfills for WebSocket. </span><span class="line" data-startTime="2806">So, Vanessa, do you have a &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2809"><span class="speakerName">Vanessa Wang</span>: Well, we do talk </span><span class="line" data-startTime="2809">about that a little bit in our </span><span class="line" data-startTime="2812">deployment chapter. </span><span class="line" data-startTime="2813">We talk an emulation. </span><span class="line" data-startTime="2815">The company we work, Kaazing, </span><span class="line" data-startTime="2815">actually does provide some </span><span class="line" data-startTime="2818">libraries out of the box </span><span class="line" data-startTime="2818">to help with that. </span><span class="line" data-startTime="2821">And it's designed for any </span><span class="line" data-startTime="2821">platform that you're using, </span><span class="line" data-startTime="2823">like JavaScript, .NET, Flash. </span><span class="line" data-startTime="2826">There's also other ways to </span><span class="line" data-startTime="2826">do it that Peter can </span><span class="line" data-startTime="2829">probably speak to. </span></p>

<p class="speaker"><span class="line" data-starttime="2831"><span class="speakerName">Peter Lubbers</span>: Do you have any </span><span class="line" data-startTime="2831">libraries out there, like I </span><span class="line" data-startTime="2833">think nojs comes </span><span class="line" data-startTime="2833">with Socket.IO. </span></p>

<p class="speaker"><span class="line" data-starttime="2837"><span class="speakerName">Peter Moskovits</span>: Right. </span><span class="line" data-startTime="2837">Right. </span><span class="line" data-startTime="2838">So there's a wide variety </span><span class="line" data-startTime="2838">of WebSocket servers and </span><span class="line" data-startTime="2844">libraries out there. </span><span class="line" data-startTime="2845">Actually in the book, we do have </span><span class="line" data-startTime="2845">an appendix where we list </span><span class="line" data-startTime="2848">those that were available </span><span class="line" data-startTime="2848">when we had to submit </span><span class="line" data-startTime="2851">the book for print. </span><span class="line" data-startTime="2852">And many of them do </span><span class="line" data-startTime="2852">have better or </span><span class="line" data-startTime="2855">worse fallback or emulation. </span><span class="line" data-startTime="2858">Again, it boils down to how </span><span class="line" data-startTime="2858">important it is for you, </span><span class="line" data-startTime="2863">whether you're OK with a certain </span><span class="line" data-startTime="2863">percentage of your </span><span class="line" data-startTime="2865">users or not and where that </span><span class="line" data-startTime="2865">threshold is for you. </span></p>

<p class="speaker"><span class="line" data-starttime="2871"><span class="speakerName">Peter Lubbers</span>: So another </span><span class="line" data-startTime="2871">question from </span><span class="line" data-startTime="2872">Shafir, maybe for Frank. </span><span class="line" data-startTime="2874">What is the default binary type </span><span class="line" data-startTime="2874">for a WebSocket blob when </span><span class="line" data-startTime="2878">that blob has no MIME type? </span><span class="line" data-startTime="2880">Does it make it useless? </span><span class="line" data-startTime="2882">Doesn't that make it useless? </span></p>

<p class="speaker"><span class="line" data-starttime="2885"><span class="speakerName">Frank Salim</span>: That's an </span><span class="line" data-startTime="2885">interesting question. </span><span class="line" data-startTime="2887">So WebSocket messages don't </span><span class="line" data-startTime="2887">have MIME types. </span><span class="line" data-startTime="2893">But your higher-level protocol </span><span class="line" data-startTime="2893">can contain that information. </span><span class="line" data-startTime="2897">So you could have some </span><span class="line" data-startTime="2897">description of the content </span><span class="line" data-startTime="2899">type in a previous message or </span><span class="line" data-startTime="2899">in some framing around that </span><span class="line" data-startTime="2903">blob or some headers that you </span><span class="line" data-startTime="2903">send along before reading the </span><span class="line" data-startTime="2908">blob in that can tell the </span><span class="line" data-startTime="2908">application what to do with </span><span class="line" data-startTime="2912">that blob, whether to </span><span class="line" data-startTime="2912">put into a video </span><span class="line" data-startTime="2914">or an image or texture. </span></p>

<p class="speaker"><span class="line" data-starttime="2917"><span class="speakerName">Peter Lubbers</span>: Is that how you </span><span class="line" data-startTime="2917">would typically code that up? </span></p>

<p class="speaker"><span class="line" data-starttime="2921"><span class="speakerName">Frank Salim</span>: Yeah. </span><span class="line" data-startTime="2922">I think it would be atypical to </span><span class="line" data-startTime="2922">just blast blobs from the </span><span class="line" data-startTime="2924">server and expect the client to </span><span class="line" data-startTime="2924">know what to do with them. </span><span class="line" data-startTime="2926">Although I guess that's </span><span class="line" data-startTime="2926">possible, because the server </span><span class="line" data-startTime="2929">and the client might both </span><span class="line" data-startTime="2929">be under the same &mdash; </span><span class="line" data-startTime="2933">control the same application. </span><span class="line" data-startTime="2934">The client could know what to </span><span class="line" data-startTime="2934">expect the encoding of the </span><span class="line" data-startTime="2937">blob to be. </span></p>

<p class="speaker"><span class="line" data-starttime="2938"><span class="speakerName">Peter Lubbers</span>: Right. </span><span class="line" data-startTime="2938">So let's take a step </span><span class="line" data-startTime="2938">back here. </span><span class="line" data-startTime="2941">The default binary </span><span class="line" data-startTime="2941">type is blob. </span><span class="line" data-startTime="2943">So what other types </span><span class="line" data-startTime="2943">can you use? </span><span class="line" data-startTime="2946">And how hard is it </span><span class="line" data-startTime="2946">to set that? </span></p>

<p class="speaker"><span class="line" data-starttime="2949"><span class="speakerName">Frank Salim</span>: Setting </span><span class="line" data-startTime="2949">is pretty easy. </span><span class="line" data-startTime="2950">There's a property on the </span><span class="line" data-startTime="2950">WebSocket object you set to </span><span class="line" data-startTime="2953">the name of the type you want. </span><span class="line" data-startTime="2954">The other option is you can </span><span class="line" data-startTime="2954">have a typed array. </span></p>

<p class="speaker"><span class="line" data-starttime="2957"><span class="speakerName">Peter Lubbers</span>: Right. </span><span class="line" data-startTime="2958">OK. </span><span class="line" data-startTime="2959">All right. </span><span class="line" data-startTime="2960">So a question from Stephen </span><span class="line" data-startTime="2960">Kagel in San Francisco. </span><span class="line" data-startTime="2963">Are content delivery networks </span><span class="line" data-startTime="2963">able to cache </span><span class="line" data-startTime="2966">WebSockets at all? </span><span class="line" data-startTime="2968">For instance, if I send a </span><span class="line" data-startTime="2968">request to retrieve some data </span><span class="line" data-startTime="2971">through the socket, will a CDN </span><span class="line" data-startTime="2971">be able to cache that response </span><span class="line" data-startTime="2974">if appropriate? </span><span class="line" data-startTime="2974">So I think that's a really </span><span class="line" data-startTime="2974">good question. </span><span class="line" data-startTime="2979">Answers? </span></p>

<p class="speaker"><span class="line" data-starttime="2980"><span class="speakerName">Peter Moskovits</span>: I don't </span><span class="line" data-startTime="2980">have an answer. </span><span class="line" data-startTime="2981">I think we'll have to get </span><span class="line" data-startTime="2981">back to him on that. </span></p>

<p class="speaker"><span class="line" data-starttime="2984"><span class="speakerName">Peter Lubbers</span>: Yeah. </span><span class="line" data-startTime="2984">But I mean typically </span><span class="line" data-startTime="2984">this would be like </span><span class="line" data-startTime="2987">real-time data, right? </span><span class="line" data-startTime="2989">But I guess it sounds like a </span><span class="line" data-startTime="2989">pretty interesting use case </span><span class="line" data-startTime="2995">for public messages something </span><span class="line" data-startTime="2995">could be cached. </span><span class="line" data-startTime="2999">OK. </span><span class="line" data-startTime="3001">So we'll get back </span><span class="line" data-startTime="3001">to you on that. </span><span class="line" data-startTime="3003">WebSocket plus UDP-based </span><span class="line" data-startTime="3003">functionality, asked Oswald in </span><span class="line" data-startTime="3008">San Francisco. </span><span class="line" data-startTime="3010">What are your thoughts? </span></p>

<p class="speaker"><span class="line" data-starttime="3012"><span class="speakerName">Frank Salim</span>: Well, there's data </span><span class="line" data-startTime="3012">channels in WebRTC, which </span><span class="line" data-startTime="3015">is a WebSocket-like API with </span><span class="line" data-startTime="3015">a UDP-based protocol. </span></p>

<p class="speaker"><span class="line" data-starttime="3021"><span class="speakerName">Peter Lubbers</span>: That's </span><span class="line" data-startTime="3021">part of WebRTC. </span><span class="line" data-startTime="3023">Yeah. </span><span class="line" data-startTime="3024">Exactly. </span><span class="line" data-startTime="3025">OK. </span></p>

<p class="speaker"><span class="line" data-starttime="3027"><span class="speakerName">Peter Moskovits</span>: But WebSocket </span><span class="line" data-startTime="3027">doesn't support UDP. </span></p>

<p class="speaker"><span class="line" data-starttime="3031"><span class="speakerName">Frank Salim</span>: No. </span><span class="line" data-startTime="3033">WebSocket is on top of TCP. </span><span class="line" data-startTime="3036">Once it's no longer on TCP, it </span><span class="line" data-startTime="3036">wouldn't be a WebSocket. </span></p>

<p class="speaker"><span class="line" data-starttime="3038"><span class="speakerName">Peter Lubbers</span>: Right. </span><span class="line" data-startTime="3039">So that's pretty fundamental. </span><span class="line" data-startTime="3041">Yeah. </span><span class="line" data-startTime="3041">I guess the next step would </span><span class="line" data-startTime="3041">then be to look to explore </span><span class="line" data-startTime="3045">WebRTC and the data </span><span class="line" data-startTime="3045">channels, right? </span><span class="line" data-startTime="3047">So there's another question. </span><span class="line" data-startTime="3049">How do WebSockets work </span><span class="line" data-startTime="3049">with proxies? </span><span class="line" data-startTime="3052">Brandon Zachary. </span><span class="line" data-startTime="3053">So we've just discussed </span><span class="line" data-startTime="3053">that a little bit. </span><span class="line" data-startTime="3056">I guess the main thing is that </span><span class="line" data-startTime="3056">proxy servers typically tend </span><span class="line" data-startTime="3059">to strip some of the </span><span class="line" data-startTime="3059">headers off. </span><span class="line" data-startTime="3063">And there's a pretty extensive </span><span class="line" data-startTime="3063">diagram in the book that shows </span><span class="line" data-startTime="3068">the sort of possible scenarios </span><span class="line" data-startTime="3068">through that. </span><span class="line" data-startTime="3070">So definitely check </span><span class="line" data-startTime="3070">that out, Brandon. </span><span class="line" data-startTime="3074">Steven, again, does holding a </span><span class="line" data-startTime="3074">WebSocket connection open </span><span class="line" data-startTime="3079">involve holding a phone </span><span class="line" data-startTime="3079">radio connection open? </span><span class="line" data-startTime="3083">If so, does this have much of </span><span class="line" data-startTime="3083">an effect on battery life? </span><span class="line" data-startTime="3088">That's also a pretty </span><span class="line" data-startTime="3088">good question. </span></p>

<p class="speaker"><span class="line" data-starttime="3090"><span class="speakerName">Peter Moskovits</span>: Yes. </span> <span class="line" data-startTime="3091">So actually we haven't </span><span class="line" data-startTime="3091">specifically talked about </span><span class="line" data-startTime="3094">mobile devices. </span> <span class="line" data-startTime="3095">But clearly slowly we are </span><span class="line" data-startTime="3095">getting to a point where the </span><span class="line" data-startTime="3099">web is accessed through more </span><span class="line" data-startTime="3099">mobile devices than desktop </span><span class="line" data-startTime="3101">devices and how it affects </span><span class="line" data-startTime="3101">this whole WebSocket and </span><span class="line" data-startTime="3105">always-on world. </span> <span class="line" data-startTime="3106">So there are a number of </span><span class="line" data-startTime="3106">challenges with mobile. </span> <span class="line" data-startTime="3109">I mean, the classic ones in </span><span class="line" data-startTime="3109">the HTML5 world would be </span><span class="line" data-startTime="3112">screen real estate. </span> <span class="line" data-startTime="3113">But when it comes to </span><span class="line" data-startTime="3113">communication, one is the </span><span class="line" data-startTime="3116">level of connectivity that you </span><span class="line" data-startTime="3116">have, whether you can stay </span><span class="line" data-startTime="3120">connected all the time. </span></p>

<p><span class="line" data-startTime="3121">And very often when you are </span><span class="line" data-startTime="3121">driving through a tunnel or </span><span class="line" data-startTime="3123">you are flying, you do </span><span class="line" data-startTime="3123">get disconnected. </span> <span class="line" data-startTime="3127">So that is one challenge, what </span><span class="line" data-startTime="3127">can you do about that? </span><span class="line" data-startTime="3130">And briefly the answer to that </span><span class="line" data-startTime="3130">challenge is that the </span><span class="line" data-startTime="3136">WebSocket layer does not </span><span class="line" data-startTime="3136">provide any reconnect </span><span class="line" data-startTime="3139">capabilities. </span> <span class="line" data-startTime="3140">So it's a higher level that </span><span class="line" data-startTime="3140">would have to provide that </span><span class="line" data-startTime="3142">functionality, either a higher </span><span class="line" data-startTime="3142">level protocol, or you have to </span><span class="line" data-startTime="3145">do that on the application </span><span class="line" data-startTime="3145">level. </span> <span class="line" data-startTime="3147">And to answer the question </span><span class="line" data-startTime="3147">specifically on battery life, </span><span class="line" data-startTime="3152">if you have a connection </span><span class="line" data-startTime="3152">open, that does affect </span><span class="line" data-startTime="3155">your battery life. </span></p>

<p><span class="line" data-startTime="3156">The amount of data that you are </span><span class="line" data-startTime="3156">transferring does affect </span><span class="line" data-startTime="3159">your battery life. </span> <span class="line" data-startTime="3161">So in an ideal world you should </span><span class="line" data-startTime="3161">be aware on the server </span><span class="line" data-startTime="3166">side what kind of device you </span><span class="line" data-startTime="3166">are talking to, what </span><span class="line" data-startTime="3169">capabilities it has, and talk </span><span class="line" data-startTime="3169">to that device accordingly. </span> <span class="line" data-startTime="3175">Let's say you have some </span><span class="line" data-startTime="3175">streaming kind of application. </span> <span class="line" data-startTime="3178">You don't necessarily want to </span><span class="line" data-startTime="3178">send 100 or 200 messages per </span><span class="line" data-startTime="3181">second to a mobile device or </span><span class="line" data-startTime="3181">you can have a kind of a </span><span class="line" data-startTime="3186">slowdown, slowing down of the </span><span class="line" data-startTime="3186">messages as time goes by. </span> <span class="line" data-startTime="3189">So there are a number of </span><span class="line" data-startTime="3189">strategies that you can use. </span> <span class="line" data-startTime="3191">But it's definitely something </span><span class="line" data-startTime="3191">that you need to have in mind </span><span class="line" data-startTime="3195">and design your apps for. </span></p>

<p class="speaker"><span class="line" data-starttime="3197"><span class="speakerName">Peter Lubbers</span>: Perfect. </span><span class="line" data-startTime="3199">So here's an interesting </span><span class="line" data-startTime="3199">question. </span><span class="line" data-startTime="3201">Fabito asks, what are the </span><span class="line" data-startTime="3201">main advantages of </span><span class="line" data-startTime="3205">WebSockets over Bayeux? </span><span class="line" data-startTime="3208">Remember Bayeux, Frank? </span></p>

<p class="speaker"><span class="line" data-starttime="3209"><span class="speakerName">Frank Salim</span>: I very vaguely </span><span class="line" data-startTime="3209">remember Bayeux from the </span><span class="line" data-startTime="3211">distant past. </span></p>

<p class="speaker"><span class="line" data-starttime="3212"><span class="speakerName">Peter Lubbers</span>: I think as I </span><span class="line" data-startTime="3212">recall Bayeux was sort of </span><span class="line" data-startTime="3215">pub/sub-based? </span></p>

<p class="speaker"><span class="line" data-starttime="3216"><span class="speakerName">Frank Salim</span>: Pub/sub, </span><span class="line" data-startTime="3216">Comet stack? </span></p>

<p class="speaker"><span class="line" data-starttime="3218"><span class="speakerName">Peter Lubbers</span>: Right. </span><span class="line" data-startTime="3220">It's been a while. </span></p>

<p class="speaker"><span class="line" data-starttime="3221"><span class="speakerName">Frank Salim</span>: Well, WebSocket is </span><span class="line" data-startTime="3221">in browsers, standardized. </span><span class="line" data-startTime="3224">I'm sure it has a number of </span><span class="line" data-startTime="3224">technical advantages, but </span><span class="line" data-startTime="3227">without remembering the details </span><span class="line" data-startTime="3227">of Bayeux, that's </span><span class="line" data-startTime="3229">going to be hard to </span><span class="line" data-startTime="3229">come up with. </span></p>

<p class="speaker"><span class="line" data-starttime="3231"><span class="speakerName">Peter Lubbers</span>: Well, I think </span><span class="line" data-startTime="3231">you hit on it pretty well, </span><span class="line" data-startTime="3233">like WebSocket is the standard </span><span class="line" data-startTime="3233">and is implemented everywhere. </span><span class="line" data-startTime="3237">And it's not hard, as you've </span><span class="line" data-startTime="3237">shown in the book, to really </span><span class="line" data-startTime="3241">build some great applications </span><span class="line" data-startTime="3241">very quickly using some of </span><span class="line" data-startTime="3247">these other pub/sub protocols </span><span class="line" data-startTime="3247">on top of that stack. </span></p>

<p class="speaker"><span class="line" data-starttime="3249"><span class="speakerName">Peter Moskovits</span>: Yeah. pub/sub </span><span class="line" data-startTime="3249">makes a giant difference. </span><span class="line" data-startTime="3251">And one point I wanted to make </span><span class="line" data-startTime="3251">earlier, actually, is that the </span><span class="line" data-startTime="3255">WebSocket API is very easy </span><span class="line" data-startTime="3255">to use and it's very </span><span class="line" data-startTime="3258">straightforward. </span><span class="line" data-startTime="3259">At the same time, it's very </span><span class="line" data-startTime="3259">low level as well. </span><span class="line" data-startTime="3261">And using something like pub/sub </span><span class="line" data-startTime="3261">or something that is </span><span class="line" data-startTime="3265">the right tool for the job </span><span class="line" data-startTime="3265">is highly recommended. </span><span class="line" data-startTime="3270">You can get your very </span><span class="line" data-startTime="3270">first, very easy </span><span class="line" data-startTime="3273">chat app up and running. </span><span class="line" data-startTime="3274">But when it comes to doing </span><span class="line" data-startTime="3274">something for real, you do </span><span class="line" data-startTime="3277">want to use some more </span><span class="line" data-startTime="3277">targeted tools. </span><span class="line" data-startTime="3280">And pub/sub is a great way. </span><span class="line" data-startTime="3282">Actually, most of the demos </span><span class="line" data-startTime="3282">that we showed in the </span><span class="line" data-startTime="3285">beginning use some pub/sub. </span><span class="line" data-startTime="3287">And in the book, we are </span><span class="line" data-startTime="3287">talking about STOMP </span><span class="line" data-startTime="3290">specifically. </span><span class="line" data-startTime="3292">And we use ActiveMQ as </span><span class="line" data-startTime="3292">a message broker. </span></p>

<p class="speaker"><span class="line" data-starttime="3295"><span class="speakerName">Peter Lubbers</span>: What does </span><span class="line" data-startTime="3295">STOMP stand for? </span></p>

<p class="speaker"><span class="line" data-starttime="3297"><span class="speakerName">Peter Moskovits</span>: Simple or </span><span class="line" data-startTime="3297">Streaming Text-Oriented </span><span class="line" data-startTime="3300">Message Protocol, which is a </span><span class="line" data-startTime="3300">very simple protocol, despite </span><span class="line" data-startTime="3305">the fact that it has the word </span><span class="line" data-startTime="3305">simple in its name. </span> <span class="line" data-startTime="3309">So it is a simple protocol. </span> <span class="line" data-startTime="3311">And you can learn. </span> <span class="line" data-startTime="3312">And the demo that we give, </span><span class="line" data-startTime="3312">actually it's a game that's in </span><span class="line" data-startTime="3315">the VM that is a </span><span class="line" data-startTime="3315">rock-paper-scissors game. </span> <span class="line" data-startTime="3319">So the idea is similar to what </span><span class="line" data-startTime="3319">we described earlier on. </span> <span class="line" data-startTime="3322">So there are two players in </span><span class="line" data-startTime="3322">two separate browsers. </span> <span class="line" data-startTime="3327">And they connect to each other </span><span class="line" data-startTime="3327">through a WebSocket server. </span></p>

<p><span class="line" data-startTime="3332">And they're publishing and </span><span class="line" data-startTime="3332">subscribing to these messages. </span> <span class="line" data-startTime="3334">And that's how they </span><span class="line" data-startTime="3334">communicate. </span></p>

<p class="speaker"><span class="line" data-starttime="3338"><span class="speakerName">Peter Lubbers</span>: So another </span><span class="line" data-startTime="3338">question from </span><span class="line" data-startTime="3339">Frank in New York. </span><span class="line" data-startTime="3341">Is WebSocket a replacement </span><span class="line" data-startTime="3341">for REST? </span><span class="line" data-startTime="3344">Any thoughts on that? </span></p>

<p class="speaker"><span class="line" data-starttime="3345"><span class="speakerName">Frank Salim</span>: So I </span><span class="line" data-startTime="3345">would say no. </span><span class="line" data-startTime="3348">And why? </span><span class="line" data-startTime="3348">Because they're pretty much </span><span class="line" data-startTime="3348">apples and oranges. </span><span class="line" data-startTime="3351">REST is an architectural </span><span class="line" data-startTime="3351">style and WebSocket </span><span class="line" data-startTime="3353">is a network protocol. </span><span class="line" data-startTime="3355">And you can build applications </span><span class="line" data-startTime="3355">in a RESTful style on top of </span><span class="line" data-startTime="3358">WebSockets. </span></p>

<p class="speaker"><span class="line" data-starttime="3360"><span class="speakerName">Peter Lubbers</span>: Are there </span><span class="line" data-startTime="3360">examples of that out there </span><span class="line" data-startTime="3363">that you know of? </span></p>

<p class="speaker"><span class="line" data-starttime="3365"><span class="speakerName">Frank Salim</span>: I would </span><span class="line" data-startTime="3365">imagine there are </span><span class="line" data-startTime="3366">examples of that out there. </span></p>

<p class="speaker"><span class="line" data-starttime="3370"><span class="speakerName">Peter Lubbers</span>: Efram from the </span><span class="line" data-startTime="3370">Canary Islands in Spain, what </span><span class="line" data-startTime="3374">is the best way to send binary </span><span class="line" data-startTime="3374">data through a WebSocket </span><span class="line" data-startTime="3377">connection? </span><span class="line" data-startTime="3379">That should be pretty </span><span class="line" data-startTime="3379">straightforward, right? </span></p>

<p class="speaker"><span class="line" data-starttime="3383"><span class="speakerName">Frank Salim</span>: Yeah. </span><span class="line" data-startTime="3383">You have your JavaScript object </span><span class="line" data-startTime="3383">representing the binary </span><span class="line" data-startTime="3386">data and you call </span><span class="line" data-startTime="3386">websocket.send. </span><span class="line" data-startTime="3388">You do have a choice of types. </span><span class="line" data-startTime="3389">But really it's the same on the </span><span class="line" data-startTime="3389">network, so whatever type </span><span class="line" data-startTime="3393">makes the most sense in </span><span class="line" data-startTime="3393">your application on </span><span class="line" data-startTime="3395">the JavaScript side. </span></p>

<p class="speaker"><span class="line" data-starttime="3397"><span class="speakerName">Peter Lubbers</span>: Yeah. </span><span class="line" data-startTime="3397">But I think a lot of the </span><span class="line" data-startTime="3397">examples that are out there </span><span class="line" data-startTime="3400">are still very much </span><span class="line" data-startTime="3400">text-based. </span></p>

<p class="speaker"><span class="line" data-starttime="3402"><span class="speakerName">Peter Moskovits</span>: Actually, we do </span><span class="line" data-startTime="3402">have an example in the book </span><span class="line" data-startTime="3403">that exercises this. </span><span class="line" data-startTime="3405">When you drop the image in the </span><span class="line" data-startTime="3405">browser and it's sent and it's </span><span class="line" data-startTime="3408">sent back again. </span></p>

<p class="speaker"><span class="line" data-starttime="3409"><span class="speakerName">Frank Salim</span>: Yeah. </span><span class="line" data-startTime="3410">We have examples in the </span><span class="line" data-startTime="3410">book of using &mdash; </span><span class="line" data-startTime="3413">I think that was using a blob, </span><span class="line" data-startTime="3413">maybe the file reader API, to </span><span class="line" data-startTime="3419">get the contents of the image. </span><span class="line" data-startTime="3420">And once you have the binary </span><span class="line" data-startTime="3420">data available, just call on </span><span class="line" data-startTime="3424">websocket.send on a built-in, </span><span class="line" data-startTime="3424">browser-supported WebSocket. </span></p>

<p class="speaker"><span class="line" data-starttime="3429"><span class="speakerName">Peter Lubbers</span>: Yeah. </span><span class="line" data-startTime="3429">I think mainly because in the </span><span class="line" data-startTime="3429">early days of WebSocket it was </span><span class="line" data-startTime="3433">a text-based protocol. </span><span class="line" data-startTime="3434">So I think &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="3436"><span class="speakerName">Frank Salim</span>: Right. </span><span class="line" data-startTime="3436">And I think some of the </span><span class="line" data-startTime="3436">libraries, some of the </span><span class="line" data-startTime="3438">polyfills don't support binary </span><span class="line" data-startTime="3438">or don't support binary in all </span><span class="line" data-startTime="3441">situations. </span><span class="line" data-startTime="3442">And if you can only send </span><span class="line" data-startTime="3442">text-based data, then you have </span><span class="line" data-startTime="3445">to encode it in some way. </span><span class="line" data-startTime="3446">But if you're using standard </span><span class="line" data-startTime="3446">WebSockets, you don't have to </span><span class="line" data-startTime="3448">really compromise there. </span><span class="line" data-startTime="3449">You can just send a </span><span class="line" data-startTime="3449">binary message. </span></p>

<p class="speaker"><span class="line" data-starttime="3451"><span class="speakerName">Peter Lubbers</span>: Like a data URI </span><span class="line" data-startTime="3451">or something you would have to </span><span class="line" data-startTime="3453">use instead. </span></p>

<p class="speaker"><span class="line" data-starttime="3453"><span class="speakerName">Frank Salim</span>: Yeah. </span><span class="line" data-startTime="3454">Base 64. </span><span class="line" data-startTime="3455">PETER MOSKOVITS: </span><span class="line" data-startTime="3455">Base 64, yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="3455"><span class="speakerName">Peter Lubbers</span>: OK. </span><span class="line" data-startTime="3457">So Vlad from London asked, what </span><span class="line" data-startTime="3457">are the most important </span><span class="line" data-startTime="3461">differences between WebSocket </span><span class="line" data-startTime="3461">and Flash sockets? </span><span class="line" data-startTime="3463">So we mentioned earlier that </span><span class="line" data-startTime="3463">were all these other </span><span class="line" data-startTime="3465">alternatives. </span><span class="line" data-startTime="3467">I guess you don't have </span><span class="line" data-startTime="3467">to install a plug-in. </span></p>

<p class="speaker"><span class="line" data-starttime="3469"><span class="speakerName">Frank Salim</span>: Flash has support </span><span class="line" data-startTime="3469">for opening TCP connections </span><span class="line" data-startTime="3473">with the flash net socket API. </span><span class="line" data-startTime="3475">And it's not really anything </span><span class="line" data-startTime="3475">like a WebSocket. </span><span class="line" data-startTime="3478">It doesn't have an HTTP </span><span class="line" data-startTime="3478">connection up front. </span><span class="line" data-startTime="3481">It doesn't have any kind </span><span class="line" data-startTime="3481">of framing of the data. </span><span class="line" data-startTime="3485">But it does have a separate </span><span class="line" data-startTime="3485">out-of-band request to enforce </span><span class="line" data-startTime="3489">the security policy in sort of </span><span class="line" data-startTime="3489">a strange, nonstandard way. </span></p>

<p class="speaker"><span class="line" data-starttime="3497"><span class="speakerName">Peter Moskovits</span>: Yeah. </span><span class="line" data-startTime="3498">So in a nutshell, if you have </span><span class="line" data-startTime="3498">socket connections from Flash </span><span class="line" data-startTime="3503">or Java, you should seriously </span><span class="line" data-startTime="3503">take a look at WebSocket, </span><span class="line" data-startTime="3506">because that is the </span><span class="line" data-startTime="3506">way you want to </span><span class="line" data-startTime="3509">move your apps forward. </span><span class="line" data-startTime="3514">I think one more thing on the </span><span class="line" data-startTime="3514">Flash socket one is that in </span><span class="line" data-startTime="3518">order for it to work if you are </span><span class="line" data-startTime="3518">behind firewalls, you have </span><span class="line" data-startTime="3521">to open a port on those. </span><span class="line" data-startTime="3524">With WebSocket, by default </span><span class="line" data-startTime="3524">WebSocket being on port 80 and </span><span class="line" data-startTime="3528">port 443, you don't </span><span class="line" data-startTime="3528">need to do that. </span><span class="line" data-startTime="3531">So that's an extra level of the </span><span class="line" data-startTime="3533">web-friendliness of WebSocket. </span></p>

<p class="speaker"><span class="line" data-starttime="3535"><span class="speakerName">Peter Lubbers</span>: Pretty big. </span></p>

<p class="speaker"><span class="line" data-starttime="3537"><span class="speakerName">Peter Moskovits</span>: That's </span><span class="line" data-startTime="3537">a big one. </span></p>

<p class="speaker"><span class="line" data-starttime="3539"><span class="speakerName">Peter Lubbers</span>: Right. </span><span class="line" data-startTime="3539">OK. </span><span class="line" data-startTime="3540">So Don from San Diego is asking </span><span class="line" data-startTime="3540">is WebSocket path to </span><span class="line" data-startTime="3544">using Bonjour zeroconf </span><span class="line" data-startTime="3544">using HTML5? </span></p>

<p class="speaker"><span class="line" data-starttime="3549"><span class="speakerName">Peter Moskovits</span>: I'm not sure. </span></p>

<p class="speaker"><span class="line" data-starttime="3551"><span class="speakerName">Peter Lubbers</span>: Any </span><span class="line" data-startTime="3551">thoughts on that? </span><span class="line" data-startTime="3552">I'm not too familiar </span><span class="line" data-startTime="3552">with that. </span></p>

<p class="speaker"><span class="line" data-starttime="3555"><span class="speakerName">Frank Salim</span>: Yeah. </span><span class="line" data-startTime="3558">That's a protocol </span><span class="line" data-startTime="3558">for configuring </span><span class="line" data-startTime="3560">devices on a local network. </span></p>

<p class="speaker"><span class="line" data-starttime="3564"><span class="speakerName">Peter Moskovits</span>: That's what </span><span class="line" data-startTime="3564">Apple uses, right? </span></p>

<p class="speaker"><span class="line" data-starttime="3566"><span class="speakerName">Frank Salim</span>: Yeah. </span><span class="line" data-startTime="3566">I think that &mdash; </span><span class="line" data-startTime="3568">yeah. </span><span class="line" data-startTime="3572">Personally I don't know if </span><span class="line" data-startTime="3572">that would be a path to </span><span class="line" data-startTime="3576">letting web applications </span><span class="line" data-startTime="3576">participate with local network </span><span class="line" data-startTime="3579">devices or if that would even be </span><span class="line" data-startTime="3579">desirable generally from a </span><span class="line" data-startTime="3583">security standpoint. </span></p>

<p class="speaker"><span class="line" data-starttime="3585"><span class="speakerName">Peter Lubbers</span>: OK. </span><span class="line" data-startTime="3585">Well, we can come </span><span class="line" data-startTime="3585">back to that. </span><span class="line" data-startTime="3589">From Bangalore, NTRK, what is </span><span class="line" data-startTime="3589">the significance of the URL in </span><span class="line" data-startTime="3594">WebSockets? </span><span class="line" data-startTime="3595">And are they similar </span><span class="line" data-startTime="3595">to HTTP URLs? </span></p>

<p class="speaker"><span class="line" data-starttime="3598"><span class="speakerName">Frank Salim</span>: Yeah. </span><span class="line" data-startTime="3599">So since a WebSocket connection </span><span class="line" data-startTime="3599">starts with an HTTP </span><span class="line" data-startTime="3601">request and response, that </span><span class="line" data-startTime="3601">is the URL to which </span><span class="line" data-startTime="3605">the request is made. </span><span class="line" data-startTime="3607">And yeah, it's an HTTP URL. </span></p>

<p class="speaker"><span class="line" data-starttime="3610"><span class="speakerName">Peter Lubbers</span>: Cool. </span><span class="line" data-startTime="3611">So we've got a couple of other </span><span class="line" data-startTime="3611">questions and then </span><span class="line" data-startTime="3613">we'll wrap it up. </span><span class="line" data-startTime="3615">Maybe remind me to have the </span><span class="line" data-startTime="3615">coupon for the book. </span><span class="line" data-startTime="3618">So are there any hardware </span><span class="line" data-startTime="3618">implementations that use </span><span class="line" data-startTime="3622">WebSockets, from Fabito, any </span><span class="line" data-startTime="3622">hardware-based WebSockets? </span><span class="line" data-startTime="3629">Interesting. </span></p>

<p class="speaker"><span class="line" data-starttime="3631"><span class="speakerName">Peter Moskovits</span>: I'm </span><span class="line" data-startTime="3631">sure there are. </span><span class="line" data-startTime="3632">So there are all these little </span><span class="line" data-startTime="3632">devices out there Arduinos and </span><span class="line" data-startTime="3636">the Pi, Raspberry Pi. </span><span class="line" data-startTime="3639">Yeah. </span><span class="line" data-startTime="3639">So we have played around </span><span class="line" data-startTime="3639">with those. </span><span class="line" data-startTime="3643">There's nothing that would </span><span class="line" data-startTime="3643">stop these devices from </span><span class="line" data-startTime="3648">speaking WebSocket. </span><span class="line" data-startTime="3650">I can't think off the </span><span class="line" data-startTime="3650">top of my head. </span></p>

<p class="speaker"><span class="line" data-starttime="3654"><span class="speakerName">Peter Lubbers</span>: So we have </span><span class="line" data-startTime="3654">two more questions. </span><span class="line" data-startTime="3655">Let's just quickly </span><span class="line" data-startTime="3655">run through them. </span><span class="line" data-startTime="3656">John from San Diego. </span><span class="line" data-startTime="3658">Why not use Socket.IO, which </span><span class="line" data-startTime="3658">provides the same functions </span><span class="line" data-startTime="3662">and also falls back </span><span class="line" data-startTime="3662">to Flash and Ajax. </span><span class="line" data-startTime="3668">I think, again, it comes back to </span><span class="line" data-startTime="3668">the standard, right, having </span><span class="line" data-startTime="3671">the WebSocket standard </span><span class="line" data-startTime="3672">implemented in all the browsers. </span><span class="line" data-startTime="3675">Anything to add there? </span></p>

<p class="speaker"><span class="line" data-starttime="3676"><span class="speakerName">Peter Moskovits</span>: Why </span><span class="line" data-startTime="3676">not use Socket.IO? </span></p>

<p class="speaker"><span class="line" data-starttime="3678"><span class="speakerName">Peter Lubbers</span>: Yeah. </span><span class="line" data-startTime="3678">Why not use Socket.IO? </span></p>

<p class="speaker"><span class="line" data-starttime="3680"><span class="speakerName">Peter Moskovits</span>: I think there's </span><span class="line" data-startTime="3680">a lot of people who </span><span class="line" data-startTime="3682">use Socket.IO and it </span><span class="line" data-startTime="3682">suits their needs. </span> <span class="line" data-startTime="3686">So it's an excellent choice </span><span class="line" data-startTime="3686">in some cases. </span> <span class="line" data-startTime="3692">It's an open source, </span><span class="line" data-startTime="3692">free solution. </span> <span class="line" data-startTime="3695">So many people find that </span><span class="line" data-startTime="3695">as the right tool. </span> <span class="line" data-startTime="3701">What we found, what we saw was </span><span class="line" data-startTime="3701">we had a couple of customers </span><span class="line" data-startTime="3706">and prospects who came to us &mdash; </span><span class="line" data-startTime="3706">we have a commercial product </span><span class="line" data-startTime="3709">that scales to larger </span><span class="line" data-startTime="3709">enterprises and financial </span><span class="line" data-startTime="3712">services at Kaazing. </span> <span class="line" data-startTime="3714">And what we found was that </span><span class="line" data-startTime="3714">there were certain corner </span><span class="line" data-startTime="3717">cases that did not quite </span><span class="line" data-startTime="3717">work with Socket.IO. </span></p>

<p><span class="line" data-startTime="3720">So they came to us and </span><span class="line" data-startTime="3720">asked for some help. </span> <span class="line" data-startTime="3724">But Socket.IO is the right tool </span><span class="line" data-startTime="3724">for many people and many </span><span class="line" data-startTime="3730">companies out there. </span> <span class="line" data-startTime="3732">And basically Socket.IO has a </span><span class="line" data-startTime="3732">big role that it contributed </span><span class="line" data-startTime="3738">to the success of </span><span class="line" data-startTime="3738">the technology. </span> <span class="line" data-startTime="3740">So there's a lot to </span><span class="line" data-startTime="3740">be said about it. </span></p>

<p class="speaker"><span class="line" data-starttime="3743"><span class="speakerName">Frank Salim</span>: And Socket.IO </span><span class="line" data-startTime="3743">uses WebSocket. </span><span class="line" data-startTime="3744">It's not exactly an either/or. </span><span class="line" data-startTime="3746">It's one of the polyfill </span><span class="line" data-startTime="3746">libraries for communications </span><span class="line" data-startTime="3748">that uses WebSocket as a </span><span class="line" data-startTime="3748">connection strategy. </span></p>

<p class="speaker"><span class="line" data-starttime="3750"><span class="speakerName">Peter Moskovits</span>: That's the </span><span class="line" data-startTime="3750">primary one, yeah, I think. </span></p>

<p class="speaker"><span class="line" data-starttime="3753"><span class="speakerName">Peter Lubbers</span>: All right. </span><span class="line" data-startTime="3753">So if there's any other </span><span class="line" data-startTime="3753">questions, we'll </span><span class="line" data-startTime="3757">take a look at them. </span><span class="line" data-startTime="3758">And we'll put in some comments </span><span class="line" data-startTime="3758">after the show. </span><span class="line" data-startTime="3761">We have to wrap it up. </span><span class="line" data-startTime="3763">Two quick questions. </span><span class="line" data-startTime="3764">What about any upcoming events </span><span class="line" data-startTime="3764">where I can learn more? </span><span class="line" data-startTime="3768">I mean, of course, people can </span><span class="line" data-startTime="3768">buy the book but, where can we </span><span class="line" data-startTime="3772">find you guys? </span><span class="line" data-startTime="3773">And how can we get </span><span class="line" data-startTime="3773">more information? </span></p>

<p class="speaker"><span class="line" data-starttime="3775"><span class="speakerName">Vanessa Wang</span>: We're doing a live </span><span class="line" data-startTime="3775">appearance on Thursday in </span><span class="line" data-startTime="3777">San Francisco, for the San </span><span class="line" data-startTime="3777">Francisco HTML5 User Group. </span><span class="line" data-startTime="3780">Ilya Grigorik, who wrote the </span><span class="line" data-startTime="3780">forward to our book, is going </span><span class="line" data-startTime="3783">to be doing a talk and </span><span class="line" data-startTime="3783">performance, which will be a </span><span class="line" data-startTime="3784">really great talk. </span><span class="line" data-startTime="3785">And the three of us will be </span><span class="line" data-startTime="3785">presenting about the book and </span><span class="line" data-startTime="3787">doing a book signing. </span></p>

<p class="speaker"><span class="line" data-starttime="3788"><span class="speakerName">Peter Lubbers</span>: Perfect. </span></p>

<p class="speaker"><span class="line" data-starttime="3789"><span class="speakerName">Vanessa Wang</span>: So we'll be there </span><span class="line" data-startTime="3789">to answer questions and </span><span class="line" data-startTime="3791">talk more about it. </span></p>

<p class="speaker"><span class="line" data-starttime="3792"><span class="speakerName">Peter Lubbers</span>: OK. </span><span class="line" data-startTime="3792">And if people &mdash; </span><span class="line" data-startTime="3793">PETER MOSKOVITS: </span><span class="line" data-startTime="3793">HTML5 Dev Con. </span></p>

<p class="speaker"><span class="line" data-starttime="3794"><span class="speakerName">Vanessa Wang</span>: Yes. </span></p>

<p class="speaker"><span class="line" data-starttime="3795"><span class="speakerName">Peter Lubbers</span>: That's right. </span><span class="line" data-startTime="3795">All right. </span><span class="line" data-startTime="3796">You're going to be there. </span></p>

<p class="speaker"><span class="line" data-starttime="3797"><span class="speakerName">Vanessa Wang</span>: Yeah. </span><span class="line" data-startTime="3797">We'll also be hosting a booth </span><span class="line" data-startTime="3797">at the HTML5 Dev Conf. </span><span class="line" data-startTime="3801">I think that's April </span><span class="line" data-startTime="3801">1 through 3. </span></p>

<p class="speaker"><span class="line" data-starttime="3803"><span class="speakerName">Peter Lubbers</span>: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="3803"><span class="speakerName">Vanessa Wang</span>: And that's going </span><span class="line" data-startTime="3803">to be in San Francisco also. </span><span class="line" data-startTime="3805">And our colleague will be doing </span><span class="line" data-startTime="3805">a panel discussion about </span><span class="line" data-startTime="3807">WebSocket there. </span></p>

<p class="speaker"><span class="line" data-starttime="3809"><span class="speakerName">Peter Lubbers</span>: OK. </span><span class="line" data-startTime="3809">And finally the book, you </span><span class="line" data-startTime="3809">have a coupon available. </span><span class="line" data-startTime="3815">Can you tell us about </span><span class="line" data-startTime="3815">the coupon? </span><span class="line" data-startTime="3817">40% off? </span></p>

<p class="speaker"><span class="line" data-starttime="3818"><span class="speakerName">Vanessa Wang</span>: Sure. </span><span class="line" data-startTime="3818">Yeah. </span><span class="line" data-startTime="3818">We have a 40% off the </span><span class="line" data-startTime="3818">ebook, I think. </span></p>

<p class="speaker"><span class="line" data-starttime="3821"><span class="speakerName">Peter Lubbers</span>: OK. </span><span class="line" data-startTime="3821">So we can post it in the </span><span class="line" data-startTime="3821">moderator afterwards. </span><span class="line" data-startTime="3824">Great. </span><span class="line" data-startTime="3825">OK. </span><span class="line" data-startTime="3826">So with that, I would like to </span><span class="line" data-startTime="3826">thank you, Vanessa, Peter, </span><span class="line" data-startTime="3829">Frank for joining us in studio </span><span class="line" data-startTime="3829">answering all of everyone's </span><span class="line" data-startTime="3834">WebSocket questions. </span><span class="line" data-startTime="3835">And congratulations on </span><span class="line" data-startTime="3835">finishing the book. </span><span class="line" data-startTime="3838">That's a huge accomplishment. </span></p>

<p class="speaker"><span class="line" data-starttime="3839"><span class="speakerName">Frank Salim</span>: Thank you. </span></p>

<p class="speaker"><span class="line" data-starttime="3840"><span class="speakerName">Vanessa Wang</span>: Thanks, Peter. </span></p>

<p class="speaker"><span class="line" data-starttime="3840"><span class="speakerName">Peter Lubbers</span>: Congrats. </span><span class="line" data-startTime="3841">And for those of you online, </span><span class="line" data-startTime="3841">thanks for hanging out here. </span><span class="line" data-startTime="3845">And I hope to see you soon. </span><span class="line" data-startTime="3846">Thank you. </span></p></div>