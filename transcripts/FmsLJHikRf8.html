<p><span class="line" data-startTime="0">[MUSIC PLAYING] </span><span class="line" data-startTime="3">MALE SPEAKER 1: Shanghai GDG </span><span class="line" data-startTime="3">is a very interesting </span><span class="line" data-startTime="6">developer community. </span><span class="line" data-startTime="7">FEMALE SPEAKER 1: I'm </span><span class="line" data-startTime="7">glad somebody </span><span class="line" data-startTime="7">has asked this question. </span><span class="line" data-startTime="9">MALE SPEAKER 2: This is where </span><span class="line" data-startTime="9">the magic happens. </span><span class="line" data-startTime="10">FEMALE SPEAKER 2:This is </span><span class="line" data-startTime="10">primarily a question and </span><span class="line" data-startTime="11">answer show, so if any </span><span class="line" data-startTime="11">of you out there </span><span class="line" data-startTime="13">would like to ask questions. </span></p>

<p class="speaker"><span class="line" data-starttime="20"><span class="speakerName">Ilya Grigorik</span>: Hello everyone, </span><span class="line" data-startTime="20">and welcome to our Make The </span><span class="line" data-startTime="24">Web Fast series here at Google </span><span class="line" data-startTime="24">Developers Live. </span><span class="line" data-startTime="27">Today, we'll be talking about </span><span class="line" data-startTime="27">the HTTP Archive data formats. </span><span class="line" data-startTime="31">And boy, do we have a loaded </span><span class="line" data-startTime="31">episode of tools, tips, and </span><span class="line" data-startTime="36">tricks for you. </span><span class="line" data-startTime="37">But before we get to that, </span><span class="line" data-startTime="37">my name is Ilya Grigorik. </span><span class="line" data-startTime="40">I'm a developer advocate for </span><span class="line" data-startTime="40">the Make The Web Fast team </span><span class="line" data-startTime="43">here at Google. </span></p>

<p class="speaker"><span class="line" data-starttime="44"><span class="speakerName">Peter Lubbers</span>: I'm </span><span class="line" data-startTime="44">Peter Lubbers. </span><span class="line" data-startTime="45">I'm a programs manager in the </span><span class="line" data-startTime="45">Chrome Developer relations </span><span class="line" data-startTime="47">team, and really excited about </span><span class="line" data-startTime="47">a lot of the tools that &mdash; </span><span class="line" data-startTime="53">or the ability that Chrome has </span><span class="line" data-startTime="53">to track a lot of these things </span><span class="line" data-startTime="56">to make the web faster. </span><span class="line" data-startTime="58">Today we're going to </span><span class="line" data-startTime="58">talk about this </span><span class="line" data-startTime="59">HTTP Archive format. </span><span class="line" data-startTime="61">There's a lot of cool features </span><span class="line" data-startTime="61">in here, probably a lot of </span><span class="line" data-startTime="64">things that you may not </span><span class="line" data-startTime="64">even have thought of. </span></p>

<p class="speaker"><span class="line" data-starttime="67"><span class="speakerName">Ilya Grigorik</span>: Yeah, exactly. </span><span class="line" data-startTime="67">So actually, Peter, yesterday we </span><span class="line" data-startTime="67">got together to do a quick </span><span class="line" data-startTime="71">run-through through all the </span><span class="line" data-startTime="71">different demos that we want </span><span class="line" data-startTime="74">to go through. </span><span class="line" data-startTime="74">And it took us what? </span><span class="line" data-startTime="75">An hour and a half or an </span><span class="line" data-startTime="75">hour and 40 minutes? </span></p>

<p class="speaker"><span class="line" data-starttime="77"><span class="speakerName">Peter Lubbers</span>: And </span><span class="line" data-startTime="77">we discovered </span><span class="line" data-startTime="78">even some new stuff. </span></p>

<p class="speaker"><span class="line" data-starttime="79"><span class="speakerName">Ilya Grigorik</span>: So tons </span><span class="line" data-startTime="79">and tons of stuff. </span> <span class="line" data-startTime="82">Just a little bit of logistics </span><span class="line" data-startTime="82">up front, we're going to do a </span><span class="line" data-startTime="84">lot of demos. </span> <span class="line" data-startTime="85">So don't worry about trying to </span><span class="line" data-startTime="85">capture links or figure out </span><span class="line" data-startTime="90">which specific tool we're </span><span class="line" data-startTime="90">talking about. </span> <span class="line" data-startTime="92">We'll actually share a URL at </span><span class="line" data-startTime="92">the end where you can find all </span><span class="line" data-startTime="95">of the resources. </span> <span class="line" data-startTime="96">So just kind of sit back and </span><span class="line" data-startTime="96">watch and hopefully learn a </span><span class="line" data-startTime="99">few new things. </span> <span class="line" data-startTime="100">Because we certainly learned a </span><span class="line" data-startTime="100">lot of new tools just through </span><span class="line" data-startTime="103">researching. </span> <span class="line" data-startTime="105">And I think the reason for </span><span class="line" data-startTime="105">this is one of the most </span><span class="line" data-startTime="108">important things, in my </span><span class="line" data-startTime="108">opinion at least, for </span><span class="line" data-startTime="110">performance optimization, </span><span class="line" data-startTime="110">working on performance in </span><span class="line" data-startTime="114">general, is having good </span><span class="line" data-startTime="114">instrumentation. </span></p>

<p><span class="line" data-startTime="117">So a few weeks back, we were </span><span class="line" data-startTime="117">actually talking with Justin </span><span class="line" data-startTime="119">Cutroni from the Google </span><span class="line" data-startTime="119">Analytics team about how you </span><span class="line" data-startTime="122">can use navigation timing to </span><span class="line" data-startTime="122">capture performance data out </span><span class="line" data-startTime="125">of the browser for things like </span><span class="line" data-startTime="125">network timing, JavaScript, </span><span class="line" data-startTime="130">web browser performance, </span><span class="line" data-startTime="130">and all the rest. </span> <span class="line" data-startTime="132">And today I think we're going </span><span class="line" data-startTime="132">to go a little bit deeper. </span> <span class="line" data-startTime="134">We are going to look at a tool </span><span class="line" data-startTime="134">that a lot of us use, and we </span><span class="line" data-startTime="139">don't necessarily think about </span><span class="line" data-startTime="139">how the data underneath is </span><span class="line" data-startTime="142">structured and how we can reuse </span><span class="line" data-startTime="142">it in different ways. </span></p>

<p><span class="line" data-startTime="144">And the tool I'm talking </span><span class="line" data-startTime="144">about is packet </span><span class="line" data-startTime="146">sniffers or HTTP monitors. </span> <span class="line" data-startTime="148">Now, you guys probably don't </span><span class="line" data-startTime="148">think about it that way </span><span class="line" data-startTime="150">because most of us are used to </span><span class="line" data-startTime="150">actually thinking about it as </span><span class="line" data-startTime="154">Chrome Developer Tools has a </span><span class="line" data-startTime="154">built-in tool which is a </span><span class="line" data-startTime="156">network panel, which is actually </span><span class="line" data-startTime="156">a packet sniffer, or </span><span class="line" data-startTime="158">an HTTP monitor. </span> <span class="line" data-startTime="161">So I'm going to share my screen </span><span class="line" data-startTime="161">here for you guys. </span> <span class="line" data-startTime="164">So I'm looking at the </span><span class="line" data-startTime="164">Google Developers </span><span class="line" data-startTime="166">Live page right here. </span> <span class="line" data-startTime="168">And I'm going to open the Chrome </span><span class="line" data-startTime="168">Developer tools and </span><span class="line" data-startTime="171">just reload this page. </span> <span class="line" data-startTime="172">So I have the network </span><span class="line" data-startTime="172">tab open. </span> <span class="line" data-startTime="174">And if the demo gods are with </span><span class="line" data-startTime="174">us, the page will reload. </span></p>

<p><span class="line" data-startTime="177">There it goes. </span></p>

<p class="speaker"><span class="line" data-starttime="180"><span class="speakerName">Peter Lubbers</span>: We're going </span><span class="line" data-startTime="180">to need their help today. </span></p>

<p class="speaker"><span class="line" data-starttime="181"><span class="speakerName">Ilya Grigorik</span>: Yes, exactly. </span><span class="line" data-startTime="182">So speaking of making the web </span><span class="line" data-startTime="182">fast, this page is taking a </span><span class="line" data-startTime="185">long, long time to load. </span><span class="line" data-startTime="187">Here we go. </span><span class="line" data-startTime="188">So now we have this network </span><span class="line" data-startTime="188">graph in here. </span><span class="line" data-startTime="190">And this is an invaluable tool </span><span class="line" data-startTime="190">for debugging what's happening </span><span class="line" data-startTime="194">with the site. </span><span class="line" data-startTime="195">So we can actually see that </span><span class="line" data-startTime="195">it took a half a second to </span><span class="line" data-startTime="197">connect to this page and </span><span class="line" data-startTime="197">all kinds of other </span><span class="line" data-startTime="199">data within this tool. </span><span class="line" data-startTime="201">So we can click on </span><span class="line" data-startTime="201">each resource. </span><span class="line" data-startTime="203">Now, this is very, </span><span class="line" data-startTime="203">very useful. </span><span class="line" data-startTime="206">But what if you could actually </span><span class="line" data-startTime="206">export this data? </span><span class="line" data-startTime="209">Or maybe to put it another way, </span><span class="line" data-startTime="209">what if we could actually </span><span class="line" data-startTime="214">take this data out of this tool </span><span class="line" data-startTime="214">and maybe import it into </span><span class="line" data-startTime="217">another tool? </span><span class="line" data-startTime="218">You can do a lot of interesting </span><span class="line" data-startTime="218">things with that </span><span class="line" data-startTime="219">type of data. </span></p>

<p class="speaker"><span class="line" data-starttime="220"><span class="speakerName">Peter Lubbers</span>: Up until now, the </span><span class="line" data-startTime="220">only way to really do that </span><span class="line" data-startTime="223">was to take a screenshot. </span></p>

<p class="speaker"><span class="line" data-starttime="225"><span class="speakerName">Ilya Grigorik</span>: Right, yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="226"><span class="speakerName">Peter Lubbers</span>: Maybe annotate </span><span class="line" data-startTime="226">the screenshot, put a few </span><span class="line" data-startTime="228">arrows, like look at this one or </span><span class="line" data-startTime="228">look at the timing on this. </span><span class="line" data-startTime="231">That's obviously not </span><span class="line" data-startTime="231">a great way. </span></p>

<p class="speaker"><span class="line" data-starttime="233"><span class="speakerName">Ilya Grigorik</span>: So I've </span><span class="line" data-startTime="233">done exactly </span><span class="line" data-startTime="233">this, and this is terrible. </span><span class="line" data-startTime="235">I would find a problem. </span><span class="line" data-startTime="236">I'm like, oh, I need to email </span><span class="line" data-startTime="236">Peter about this. </span><span class="line" data-startTime="240">So I take a screenshot, annotate </span><span class="line" data-startTime="240">it with like, OK, </span><span class="line" data-startTime="242">here's our problem. </span><span class="line" data-startTime="243">And then I send it over, and </span><span class="line" data-startTime="243">then I get a question back </span><span class="line" data-startTime="245">like, OK, that's cool, but </span><span class="line" data-startTime="245">what was the status code? </span><span class="line" data-startTime="248">Or what were the headers? </span><span class="line" data-startTime="248">And I'm like, well &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="249"><span class="speakerName">Peter Lubbers</span>: Lost it. </span></p>

<p class="speaker"><span class="line" data-starttime="250"><span class="speakerName">Ilya Grigorik</span>: Grrrr. </span> <span class="line" data-startTime="251">We lost all the data because we </span><span class="line" data-startTime="251">froze it in the screenshot. </span> <span class="line" data-startTime="253">So it would be really nice if we </span><span class="line" data-startTime="253">could actually export this </span><span class="line" data-startTime="256">data with all of its fidelity, </span><span class="line" data-startTime="256">all of the data that's </span><span class="line" data-startTime="260">actually hidden within here, </span><span class="line" data-startTime="260">and then reuse it in a </span><span class="line" data-startTime="262">different way. </span> <span class="line" data-startTime="263">So that's precisely what </span><span class="line" data-startTime="263">the HTTP Archive </span><span class="line" data-startTime="266">data format is for. </span> <span class="line" data-startTime="268">So I'm going to show </span><span class="line" data-startTime="268">you guys this. </span> <span class="line" data-startTime="269">We're not going to go into </span><span class="line" data-startTime="269">details of the spec, but there </span><span class="line" data-startTime="271">is a spec for it. </span> <span class="line" data-startTime="272">So the HTTP Archive, the </span><span class="line" data-startTime="272">extension is HAR, so hence, </span><span class="line" data-startTime="276">the HAR show. </span></p>

<p><span class="line" data-startTime="277">Ha, ha. </span> <span class="line" data-startTime="278">And the HAR data format itself </span><span class="line" data-startTime="278">is just a simple JSON schema, </span><span class="line" data-startTime="283">which contains all the metadata </span><span class="line" data-startTime="283">that you would need </span><span class="line" data-startTime="286">to reconstruct the network </span><span class="line" data-startTime="286">waterfall. </span> <span class="line" data-startTime="289">So you can think of it as just </span><span class="line" data-startTime="289">an underlying data of the </span><span class="line" data-startTime="291">network pane in your Chrome </span><span class="line" data-startTime="291">Developer Tools or another </span><span class="line" data-startTime="294">HTTP monitoring tool. </span> <span class="line" data-startTime="295">So you can see that it contains </span><span class="line" data-startTime="295">a lot of different </span><span class="line" data-startTime="297">data, like which browser, which </span><span class="line" data-startTime="297">pages you accessed. </span></p>

<p><span class="line" data-startTime="300">And entries are the individual </span><span class="line" data-startTime="300">requests that the browser </span><span class="line" data-startTime="302">makes for all of the resources </span><span class="line" data-startTime="302">on a page. </span> <span class="line" data-startTime="305">So I actually have </span><span class="line" data-startTime="305">a live file here. </span> <span class="line" data-startTime="309">So this is a long file. </span> <span class="line" data-startTime="311">I'm not going to go </span><span class="line" data-startTime="311">through in detail. </span> <span class="line" data-startTime="312">But I just want to show you guys </span><span class="line" data-startTime="312">how does this thing look. </span> <span class="line" data-startTime="315">So what I was doing &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="316"><span class="speakerName">Peter Lubbers</span>: You're doing </span><span class="line" data-startTime="316">JSON format, right? </span></p>

<p class="speaker"><span class="line" data-starttime="317"><span class="speakerName">Ilya Grigorik</span>: Exactly. </span> <span class="line" data-startTime="318">So it's very simple </span><span class="line" data-startTime="318">to create and </span><span class="line" data-startTime="320">consume, which is actually &mdash; </span><span class="line" data-startTime="321">we'll see later &mdash; is very, </span><span class="line" data-startTime="321">very important. </span> <span class="line" data-startTime="324">So I'll just show you </span><span class="line" data-startTime="324">guys what this data </span><span class="line" data-startTime="326">actually looks like. </span> <span class="line" data-startTime="327">So here I'm trying to access an </span><span class="line" data-startTime="327">archives page, so I typed </span><span class="line" data-startTime="331">in igvita.com/archives. </span> <span class="line" data-startTime="334">So let me close that. </span> <span class="line" data-startTime="336">Now we're looking </span><span class="line" data-startTime="336">at the entries. </span> <span class="line" data-startTime="337">So we see the first entry, which </span><span class="line" data-startTime="337">is the actual request. </span> <span class="line" data-startTime="339">We see that the browser is </span><span class="line" data-startTime="339">sending a get request for this </span><span class="line" data-startTime="342">actual page. </span></p>

<p><span class="line" data-startTime="343">And now, all of a sudden, </span><span class="line" data-startTime="343">look at this. </span> <span class="line" data-startTime="345">You have all the header </span><span class="line" data-startTime="345">information. </span> <span class="line" data-startTime="347">Every header that the browser </span><span class="line" data-startTime="347">appends is here, even cookies. </span> <span class="line" data-startTime="351">I probably don't want </span><span class="line" data-startTime="351">to show you that. </span> <span class="line" data-startTime="353">And then it has the response, </span><span class="line" data-startTime="353">which is, OK, so </span><span class="line" data-startTime="356">it's doing a redirect. </span> <span class="line" data-startTime="357">And it will actually </span><span class="line" data-startTime="357">kick me out. </span> <span class="line" data-startTime="359">So let me close this. </span> <span class="line" data-startTime="360">And we can look at </span><span class="line" data-startTime="360">the next request. </span> <span class="line" data-startTime="363">Here is the same page asking </span><span class="line" data-startTime="363">for a Google web font. </span> <span class="line" data-startTime="366">So all of this performance </span><span class="line" data-startTime="366">timing data, all of the header </span><span class="line" data-startTime="370">data is all captured here, </span><span class="line" data-startTime="370">which is very, very </span><span class="line" data-startTime="373">convenient. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="375"><span class="speakerName">Peter Lubbers</span>: Tell the audience </span><span class="line" data-startTime="375">a little bit more </span><span class="line" data-startTime="377">about the httparchive.org site, </span><span class="line" data-startTime="377">and then how that came </span><span class="line" data-startTime="381">about to really set </span><span class="line" data-startTime="381">the context here. </span></p>

<p class="speaker"><span class="line" data-starttime="384"><span class="speakerName">Ilya Grigorik</span>: A good example of </span><span class="line" data-startTime="384">how you could use this data </span><span class="line" data-startTime="387">is actually httparchive.org. </span> <span class="line" data-startTime="389">So the HTTP Archive format and </span><span class="line" data-startTime="389">httparchive.org are actually </span><span class="line" data-startTime="393">two separate things. </span> <span class="line" data-startTime="393">They just happen to share the </span><span class="line" data-startTime="393">same name, confusingly enough. </span> <span class="line" data-startTime="397">But they actually have </span><span class="line" data-startTime="397">a common history. </span> <span class="line" data-startTime="400">The idea behind HTTP Archive, </span><span class="line" data-startTime="400">you guys may be familiar with </span><span class="line" data-startTime="402">the Internet Archive, which </span><span class="line" data-startTime="402">continuously crawls the web </span><span class="line" data-startTime="405">and takes snapshots </span><span class="line" data-startTime="405">of certain pages. </span> <span class="line" data-startTime="408">So actually, you can rewind </span><span class="line" data-startTime="408">history, and you can say, I </span><span class="line" data-startTime="410">want to see this page how </span><span class="line" data-startTime="410">it looked back in 2008. </span> <span class="line" data-startTime="413">So think of HTTP Archive as a </span><span class="line" data-startTime="413">very similar tool, except that </span><span class="line" data-startTime="416">we don't actually care for what </span><span class="line" data-startTime="416">the pages looked like. </span> <span class="line" data-startTime="419">We care about how </span><span class="line" data-startTime="419">do they perform. </span> <span class="line" data-startTime="421">So things like let's capture how </span><span class="line" data-startTime="421">many JavaScript files were </span><span class="line" data-startTime="425">on a page, what was the total </span><span class="line" data-startTime="425">size of the page, how many </span><span class="line" data-startTime="427">images did you fetch, all </span><span class="line" data-startTime="427">of that metadata. </span> <span class="line" data-startTime="430">And this is actually an </span><span class="line" data-startTime="430">important point for the HTTP </span><span class="line" data-startTime="433">Archive format. </span></p>

<p><span class="line" data-startTime="435">When you export it, by default, </span><span class="line" data-startTime="435">it won't export the </span><span class="line" data-startTime="439">body of the request. </span> <span class="line" data-startTime="440">So if you fetch a 1-megabyte </span><span class="line" data-startTime="440">image, we're not going to </span><span class="line" data-startTime="443">include that. </span> <span class="line" data-startTime="443">We just include the </span><span class="line" data-startTime="443">actual metadata. </span> <span class="line" data-startTime="447">Because that's all we need </span><span class="line" data-startTime="447">for the waterfall. </span> <span class="line" data-startTime="449">So what can you do this? </span><span class="line" data-startTime="450">Well, the idea behind HTTP </span><span class="line" data-startTime="450">Archive is that we can crawl a </span><span class="line" data-startTime="455">lot of sites. </span> <span class="line" data-startTime="455">So HTTP Archive actually does </span><span class="line" data-startTime="455">about 100,000 sites right now </span><span class="line" data-startTime="459">based on the &mdash; it elects the </span><span class="line" data-startTime="459">top, I guess, 100,000. </span> <span class="line" data-startTime="463">And it aggregates all of these </span><span class="line" data-startTime="463">HTTP archives, so all of that </span><span class="line" data-startTime="468">metadata for all the network </span><span class="line" data-startTime="468">waterfalls, and then extracts </span><span class="line" data-startTime="472">meta-trends for things like are </span><span class="line" data-startTime="472">the pages growing in size, </span><span class="line" data-startTime="474">or what's happening. </span></p>

<p><span class="line" data-startTime="475">So let me show you this. </span> <span class="line" data-startTime="476">We'll go to trends. </span> <span class="line" data-startTime="480">And it'll take us </span><span class="line" data-startTime="480">one second here. </span> <span class="line" data-startTime="483">And you can see that we're </span><span class="line" data-startTime="483">analyzing about 200,000 sites </span><span class="line" data-startTime="487">now, so it's growing. </span> <span class="line" data-startTime="488">And we can see total transfer </span><span class="line" data-startTime="488">size and total request. </span> <span class="line" data-startTime="491">So it's a little bit small. </span> <span class="line" data-startTime="492">But an average page within those </span><span class="line" data-startTime="492">200,000 sites today is </span><span class="line" data-startTime="497">over 1 megabyte in size and </span><span class="line" data-startTime="497">takes over 85 requests. </span> <span class="line" data-startTime="501">That's shocking. </span> <span class="line" data-startTime="503">I see this number all the time, </span><span class="line" data-startTime="503">but it still shocks me </span><span class="line" data-startTime="506">every time I see it. </span> <span class="line" data-startTime="507">The HTML part itself takes </span><span class="line" data-startTime="507">48 kilobytes, right? </span><span class="line" data-startTime="510">So all of this metadata is just </span><span class="line" data-startTime="510">aggregated between all </span><span class="line" data-startTime="513">the different runs &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="514"><span class="speakerName">Peter Lubbers</span>: From HAR files. </span></p>

<p class="speaker"><span class="line" data-starttime="515"><span class="speakerName">Ilya Grigorik</span>: From HAR files. </span></p>

<p class="speaker"><span class="line" data-starttime="516"><span class="speakerName">Peter Lubbers</span>: Yeah, exactly. </span></p>

<p class="speaker"><span class="line" data-starttime="516"><span class="speakerName">Ilya Grigorik</span>: So this is a </span><span class="line" data-startTime="516">really good example of we've </span><span class="line" data-startTime="519">accumulated many </span><span class="line" data-startTime="519">of these files. </span><span class="line" data-startTime="521">We have them over time. </span><span class="line" data-startTime="522">And now we're just collapsing </span><span class="line" data-startTime="522">them together to </span><span class="line" data-startTime="524">create these formats &mdash; </span><span class="line" data-startTime="526">sorry, not formats, to create </span><span class="line" data-startTime="526">these graphs to show you </span><span class="line" data-startTime="529">general trends on the web. </span><span class="line" data-startTime="531">And you can definitely see that </span><span class="line" data-startTime="531">the pages are growing in </span><span class="line" data-startTime="533">size, more requests, </span><span class="line" data-startTime="533">so on and so forth. </span></p>

<p class="speaker"><span class="line" data-starttime="537"><span class="speakerName">Peter Lubbers</span>: Let me show you </span><span class="line" data-startTime="537">something in the Chrome </span><span class="line" data-startTime="540">Developer tools that </span><span class="line" data-startTime="540">you can use. </span><span class="line" data-startTime="542">Maybe some people are not </span><span class="line" data-startTime="542">aware of that yet. </span><span class="line" data-startTime="545">Let's open it up again and </span><span class="line" data-startTime="545">then reload the page. </span></p>

<p class="speaker"><span class="line" data-starttime="551"><span class="speakerName">Peter Lubbers</span>: Now we get a </span><span class="line" data-startTime="551">network waterfall here. </span></p>

<p class="speaker"><span class="line" data-starttime="554"><span class="speakerName">Peter Lubbers</span>: So once </span><span class="line" data-startTime="554">you get that &mdash; </span><span class="line" data-startTime="559">so now you can actually </span><span class="line" data-startTime="559">just right click on </span><span class="line" data-startTime="562">the left side there. </span></p>

<p class="speaker"><span class="line" data-starttime="563"><span class="speakerName">Ilya Grigorik</span>: Just </span><span class="line" data-startTime="563">anywhere in here? </span></p>

<p class="speaker"><span class="line" data-starttime="564"><span class="speakerName">Peter Lubbers</span>: Just </span><span class="line" data-startTime="564">anywhere, yeah. </span><span class="line" data-startTime="565">And notice the option here. </span><span class="line" data-startTime="567">We have actually two options. </span><span class="line" data-startTime="569">And you can also do this </span><span class="line" data-startTime="569">in Firefox, I believe. </span><span class="line" data-startTime="572">Copy entry as HAR. </span><span class="line" data-startTime="574">You can click on an individual </span><span class="line" data-startTime="574">file and save the HAR </span><span class="line" data-startTime="577">information. </span></p>

<p class="speaker"><span class="line" data-starttime="578"><span class="speakerName">Ilya Grigorik</span>: So if I clicked </span><span class="line" data-startTime="578">on style.css, it </span><span class="line" data-startTime="579">would just grab that? </span></p>

<p class="speaker"><span class="line" data-starttime="581"><span class="speakerName">Peter Lubbers</span>: Just </span><span class="line" data-startTime="581">the style.css. </span><span class="line" data-startTime="582">And of course, typically I </span><span class="line" data-startTime="582">think you would be more </span><span class="line" data-startTime="585">interested in the entire page </span><span class="line" data-startTime="585">with all its resources. </span><span class="line" data-startTime="587">So, copy all as HAR would </span><span class="line" data-startTime="587">copy the HAR JSON </span><span class="line" data-startTime="592">directly to the clipboard. </span><span class="line" data-startTime="594">Now, if you want to save it as </span><span class="line" data-startTime="594">a file, there is an option </span><span class="line" data-startTime="596">there to save entry as HAR. </span><span class="line" data-startTime="598">And that just saves </span><span class="line" data-startTime="598">it as a file. </span><span class="line" data-startTime="599">So yeah, let's go ahead and </span><span class="line" data-startTime="599">do that at the moment. </span></p>

<p class="speaker"><span class="line" data-starttime="602"><span class="speakerName">Ilya Grigorik</span>: If I just copy </span><span class="line" data-startTime="602">this and if I go into my text </span><span class="line" data-startTime="604">editor and just create a </span><span class="line" data-startTime="604">new file here, so it's </span><span class="line" data-startTime="609">5,000 lines of JSON. </span><span class="line" data-startTime="612">And this is basically all the </span><span class="line" data-startTime="612">metadata that's inside of this </span><span class="line" data-startTime="616">network waterfall. </span></p>

<p class="speaker"><span class="line" data-starttime="617"><span class="speakerName">Peter Lubbers</span>: So with that </span><span class="line" data-startTime="617">data you could effectively </span><span class="line" data-startTime="619">reconstruct the network panel. </span><span class="line" data-startTime="622">We'll have an example </span><span class="line" data-startTime="622">of that later. </span><span class="line" data-startTime="624">But also you can pull out </span><span class="line" data-startTime="624">specific bits and </span><span class="line" data-startTime="628">pieces that you want. </span><span class="line" data-startTime="629">You want to see a specific &mdash; </span><span class="line" data-startTime="632">the size of the request </span><span class="line" data-startTime="632">or the headers. </span></p>

<p class="speaker"><span class="line" data-starttime="636"><span class="speakerName">Ilya Grigorik</span>: Actually, this </span><span class="line" data-startTime="636">is worth pausing on. </span><span class="line" data-startTime="638">Because previously, I would </span><span class="line" data-startTime="638">just take a snapshot or a </span><span class="line" data-startTime="641">screenshot, annotate it, </span><span class="line" data-startTime="641">and send it over. </span><span class="line" data-startTime="644">Now, I can right click on this, </span><span class="line" data-startTime="644">copy, and maybe if I'm </span><span class="line" data-startTime="648">making a bug report, </span><span class="line" data-startTime="648">I can actually </span><span class="line" data-startTime="650">attach the entire trace. </span><span class="line" data-startTime="652">And then the developer has full </span><span class="line" data-startTime="652">metadata about everything </span><span class="line" data-startTime="656">that's happened in </span><span class="line" data-startTime="656">the browser. </span></p>

<p class="speaker"><span class="line" data-starttime="657"><span class="speakerName">Peter Lubbers</span>: You could </span><span class="line" data-startTime="657">still send me the </span><span class="line" data-startTime="658">screenshot as well. </span></p>

<p class="speaker"><span class="line" data-starttime="659"><span class="speakerName">Ilya Grigorik</span>: OK, sure. </span></p>

<p class="speaker"><span class="line" data-starttime="661"><span class="speakerName">Peter Lubbers</span>: But we can </span><span class="line" data-startTime="661">reconstruct the screenshot, </span><span class="line" data-startTime="663">effectively, with that data. </span><span class="line" data-startTime="666">So that's cool. </span></p>

<p class="speaker"><span class="line" data-starttime="667"><span class="speakerName">Ilya Grigorik</span>: So that's </span><span class="line" data-startTime="667">interesting. </span><span class="line" data-startTime="668">That actually brings </span><span class="line" data-startTime="668">up a good point. </span><span class="line" data-startTime="670">So OK, great, we took this </span><span class="line" data-startTime="670">very nice visual </span><span class="line" data-startTime="674">representation. </span><span class="line" data-startTime="675">I copied it into a 5,000 line </span><span class="line" data-startTime="675">JSON file which is very </span><span class="line" data-startTime="679">useful, but &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="679"><span class="speakerName">Peter Lubbers</span>: You've got </span><span class="line" data-startTime="679">to deal with it now. </span></p>

<p class="speaker"><span class="line" data-starttime="680"><span class="speakerName">Ilya Grigorik</span>: Right. </span><span class="line" data-startTime="681">If I get this 5,000 line </span><span class="line" data-startTime="681">JSON file, boy. </span></p>

<p class="speaker"><span class="line" data-starttime="685"><span class="speakerName">Peter Lubbers</span>: You're </span><span class="line" data-startTime="685">going to need some </span><span class="line" data-startTime="685">visualization of that data. </span><span class="line" data-startTime="688">And fortunately, there's </span><span class="line" data-startTime="688">tons of tools that </span><span class="line" data-startTime="690">can help with this. </span><span class="line" data-startTime="692">Let's take a look at one. </span><span class="line" data-startTime="694">Probably the best one for that </span><span class="line" data-startTime="694">at the moment is the HAR </span><span class="line" data-startTime="699">viewer that you've got here. </span><span class="line" data-startTime="700">It's an open source project. </span><span class="line" data-startTime="703">You can just open </span><span class="line" data-startTime="703">it up on the &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="706"><span class="speakerName">Ilya Grigorik</span>: So it </span><span class="line" data-startTime="706">looks like actually </span><span class="line" data-startTime="707">I can run it myself. </span><span class="line" data-startTime="709">So we can just embed </span><span class="line" data-startTime="709">it on any page. </span><span class="line" data-startTime="711">So it's PHP and JavaScript, </span><span class="line" data-startTime="711">which is really cool. </span><span class="line" data-startTime="712">But they also have an online </span><span class="line" data-startTime="712">demo, so we're </span><span class="line" data-startTime="714">going to try that. </span><span class="line" data-startTime="715">I actually have it </span><span class="line" data-startTime="715">preopened here. </span><span class="line" data-startTime="717">So this is &mdash; </span><span class="line" data-startTime="719">what do I do here? </span></p>

<p class="speaker"><span class="line" data-starttime="721"><span class="speakerName">Peter Lubbers</span>: Basically, </span><span class="line" data-startTime="721">remember how you copied the </span><span class="line" data-startTime="723">HAR information stuff? </span><span class="line" data-startTime="724">You could obviously &mdash; </span><span class="line" data-startTime="725">actually, this supports </span><span class="line" data-startTime="725">drag and drop as well. </span><span class="line" data-startTime="727">You could take the HAR file and </span><span class="line" data-startTime="727">drag it onto this page. </span><span class="line" data-startTime="730">But for now, you have it in </span><span class="line" data-startTime="730">the clipboard already. </span><span class="line" data-startTime="731">So go ahead and paste </span><span class="line" data-startTime="731">it in there. </span></p>

<p class="speaker"><span class="line" data-starttime="733"><span class="speakerName">Ilya Grigorik</span>: So I'm going to </span><span class="line" data-startTime="733">paste the entire 5,000 lines </span><span class="line" data-startTime="735">of JSON in here. </span></p>

<p class="speaker"><span class="line" data-starttime="738"><span class="speakerName">Peter Lubbers</span>: Keep your </span><span class="line" data-startTime="738">fingers crossed. </span><span class="line" data-startTime="739">And there we go. </span></p>

<p class="speaker"><span class="line" data-starttime="740"><span class="speakerName">Ilya Grigorik</span>: Wow. </span><span class="line" data-startTime="741">Look at that. </span></p>

<p class="speaker"><span class="line" data-starttime="742"><span class="speakerName">Peter Lubbers</span>: Pretty </span><span class="line" data-startTime="742">informative as well. </span></p>

<p class="speaker"><span class="line" data-starttime="743"><span class="speakerName">Ilya Grigorik</span>: So that </span><span class="line" data-startTime="743">took no time. </span><span class="line" data-startTime="745">And look at this. </span><span class="line" data-startTime="746">Now, I have &mdash; </span><span class="line" data-startTime="748">actually no, this is a </span><span class="line" data-startTime="748">little bit different. </span><span class="line" data-startTime="750">I think that's something </span><span class="line" data-startTime="750">else on my clipboard. </span></p>

<p class="speaker"><span class="line" data-starttime="752"><span class="speakerName">Peter Lubbers</span>: Well, </span><span class="line" data-startTime="752">let's do it again. </span></p>

<p class="speaker"><span class="line" data-starttime="755"><span class="speakerName">Ilya Grigorik</span>: Well, it probably </span><span class="line" data-startTime="755">doesn't even matter. </span></p>

<p class="speaker"><span class="line" data-starttime="757"><span class="speakerName">Peter Lubbers</span>: So now </span><span class="line" data-startTime="757">you get the whole </span><span class="line" data-startTime="758">visualization of all that data. </span></p>

<p class="speaker"><span class="line" data-starttime="762"><span class="speakerName">Ilya Grigorik</span>: Now that I have </span><span class="line" data-startTime="762">this JSON file, I can go to </span><span class="line" data-startTime="764">this thing, paste it in, and </span><span class="line" data-startTime="764">basically reconstruct exactly </span><span class="line" data-startTime="768">what happened in your browser. </span> <span class="line" data-startTime="770">And the nice thing is, I still </span><span class="line" data-startTime="770">have all the fidelity of all </span><span class="line" data-startTime="774">of the header information, </span><span class="line" data-startTime="774">requests, the </span><span class="line" data-startTime="778">actual timing data. </span> <span class="line" data-startTime="779">That actually gives you a little </span><span class="line" data-startTime="779">bit more than Chrome </span><span class="line" data-startTime="781">Developer Tools, things like </span><span class="line" data-startTime="781">these pie charts, where was </span><span class="line" data-startTime="785">the time spent. </span> <span class="line" data-startTime="786">You can see that within this </span><span class="line" data-startTime="786">session, we fetched &mdash; </span><span class="line" data-startTime="789">out of all the content that was </span><span class="line" data-startTime="789">fetched, more than half </span><span class="line" data-startTime="791">was images, which is actually </span><span class="line" data-startTime="791">pretty typical. </span> <span class="line" data-startTime="794">So this is really nice. </span></p>

<p class="speaker"><span class="line" data-starttime="796"><span class="speakerName">Peter Lubbers</span>: Then you can </span><span class="line" data-startTime="796">compare it with other loads of </span><span class="line" data-startTime="798">your page or other sites and </span><span class="line" data-startTime="798">see the trends over time. </span><span class="line" data-startTime="803">So actually, one thing I wanted </span><span class="line" data-startTime="803">point out, if you can </span><span class="line" data-startTime="807">just jump back a moment to the </span><span class="line" data-startTime="807">Chrome Developer Tools, one </span><span class="line" data-startTime="810">really cool thing that </span><span class="line" data-startTime="810">I particularly like &mdash; </span><span class="line" data-startTime="815">if you, for example, </span><span class="line" data-startTime="815">refresh this page. </span><span class="line" data-startTime="818">And let's go ahead and </span><span class="line" data-startTime="818">do that a moment. </span><span class="line" data-startTime="820">So refresh the page. </span><span class="line" data-startTime="821">And you notice how in the </span><span class="line" data-startTime="821">network panel it will reload </span><span class="line" data-startTime="827">everything. </span><span class="line" data-startTime="830">Right now, it sort of wiped </span><span class="line" data-startTime="830">out all of the previous </span><span class="line" data-startTime="833">information, and it's got the </span><span class="line" data-startTime="833">new &mdash; and that's typically </span><span class="line" data-startTime="836">what you want. </span><span class="line" data-startTime="837">But now if you want to </span><span class="line" data-startTime="837">actually track &mdash; </span><span class="line" data-startTime="840">navigating from page to page </span><span class="line" data-startTime="840">to page, you can hit the </span><span class="line" data-startTime="845">Record button on the bottom. </span></p>

<p class="speaker"><span class="line" data-starttime="847"><span class="speakerName">Ilya Grigorik</span>: I've often </span><span class="line" data-startTime="847">wondered what </span><span class="line" data-startTime="849">that thing was for. </span></p>

<p class="speaker"><span class="line" data-starttime="850"><span class="speakerName">Peter Lubbers</span>: So click that. </span><span class="line" data-startTime="851">And then why don't you go to </span><span class="line" data-startTime="851">the trends page or stats. </span></p>

<p class="speaker"><span class="line" data-starttime="855"><span class="speakerName">Ilya Grigorik</span>: I think I'm </span><span class="line" data-startTime="855">on the trends now, </span><span class="line" data-startTime="856">so I'll go to Stats. </span></p>

<p class="speaker"><span class="line" data-starttime="857"><span class="speakerName">Peter Lubbers</span>: Click on Stats. </span><span class="line" data-startTime="858">And now let's click </span><span class="line" data-startTime="858">on websites. </span></p>

<p class="speaker"><span class="line" data-starttime="860"><span class="speakerName">Ilya Grigorik</span>: Sure. </span></p>

<p class="speaker"><span class="line" data-starttime="862"><span class="speakerName">Peter Lubbers</span>: And why don't we </span><span class="line" data-startTime="862">just go finish it off with </span><span class="line" data-startTime="864">the About page. </span><span class="line" data-startTime="865">So basically what's happening </span><span class="line" data-startTime="865">is the information is not </span><span class="line" data-startTime="870">thrown away. </span><span class="line" data-startTime="871">It's just added on. </span></p>

<p class="speaker"><span class="line" data-starttime="873"><span class="speakerName">Ilya Grigorik</span>: Let me stop the </span><span class="line" data-startTime="873">recording here for a second. </span><span class="line" data-startTime="875">And now look at this timeline. </span><span class="line" data-startTime="876">It actually says 50 seconds. </span><span class="line" data-startTime="879">It's not that any one of those </span><span class="line" data-startTime="879">pages took 50 seconds. </span><span class="line" data-startTime="881">It's just that the timeline </span><span class="line" data-startTime="881">is appended across all the </span><span class="line" data-startTime="885">different sessions. </span></p>

<p class="speaker"><span class="line" data-starttime="886"><span class="speakerName">Peter Lubbers</span>: It's a complete </span><span class="line" data-startTime="886">trace of what you're renewing. </span></p>

<p class="speaker"><span class="line" data-starttime="888"><span class="speakerName">Ilya Grigorik</span>: That's </span><span class="line" data-startTime="888">really cool. </span><span class="line" data-startTime="888">So now I can actually do a thing </span><span class="line" data-startTime="888">like come to the Home </span><span class="line" data-startTime="892">page, press Record, go to Login </span><span class="line" data-startTime="892">page, go to the Checkout </span><span class="line" data-startTime="896">cart, and record that </span><span class="line" data-startTime="896">entire trace. </span></p>

<p class="speaker"><span class="line" data-starttime="899"><span class="speakerName">Peter Lubbers</span>: So now actually, </span><span class="line" data-startTime="899">you can go ahead and </span><span class="line" data-startTime="900">do it in a moment. </span><span class="line" data-startTime="901">There's an interesting </span><span class="line" data-startTime="901">thing at the viewer. </span></p>

<p class="speaker"><span class="line" data-starttime="903"><span class="speakerName">Ilya Grigorik</span>: OK, so </span><span class="line" data-startTime="903">let me copy this. </span><span class="line" data-startTime="905">So this is probably like </span><span class="line" data-startTime="905">50,000 lines of JSON. </span><span class="line" data-startTime="909">And go to the &mdash; </span><span class="line" data-startTime="910">so let me hit Back. </span></p>

<p class="speaker"><span class="line" data-starttime="911"><span class="speakerName">Peter Lubbers</span>: Back </span><span class="line" data-startTime="911">to the Home page. </span></p>

<p class="speaker"><span class="line" data-starttime="915"><span class="speakerName">Ilya Grigorik</span>: Here's </span><span class="line" data-startTime="915">our online demo. </span><span class="line" data-startTime="916">HAR Viewer online. </span><span class="line" data-startTime="919">Close some of these tabs. </span></p>

<p class="speaker"><span class="line" data-starttime="920"><span class="speakerName">Peter Lubbers</span>: So we're going </span><span class="line" data-startTime="920">to put it in there. </span><span class="line" data-startTime="922">And the nice thing is, if we hit </span><span class="line" data-startTime="922">the Preview there, you'll </span><span class="line" data-startTime="925">see actually four pages. </span><span class="line" data-startTime="927">And you can actually in the top </span><span class="line" data-startTime="927">part, even if just hover </span><span class="line" data-startTime="932">over them, you see a lot </span><span class="line" data-startTime="932">of detail already. </span></p>

<p class="speaker"><span class="line" data-starttime="935"><span class="speakerName">Ilya Grigorik</span>: So then within </span><span class="line" data-startTime="935">the session, we just recorded </span><span class="line" data-startTime="937">four different pages. </span><span class="line" data-startTime="939">And then for each page, we can </span><span class="line" data-startTime="939">look at these pie charts. </span><span class="line" data-startTime="942">And we also have the full </span><span class="line" data-startTime="942">waterfall chart for each one. </span><span class="line" data-startTime="948">And this is just spread over </span><span class="line" data-startTime="948">the entire session. </span></p>

<p class="speaker"><span class="line" data-starttime="952"><span class="speakerName">Peter Lubbers</span>: That's </span><span class="line" data-startTime="952">pretty awesome. </span><span class="line" data-startTime="953">Also, what I like about it is, </span><span class="line" data-startTime="953">you can actually have a site </span><span class="line" data-startTime="955">that has multiple pages. </span><span class="line" data-startTime="958">You can really see </span><span class="line" data-startTime="958">the outliers. </span><span class="line" data-startTime="961">You can say, oh, all of them are </span><span class="line" data-startTime="961">about the same, but this </span><span class="line" data-startTime="963">one is way out there. </span><span class="line" data-startTime="964">What's happening to that? </span><span class="line" data-startTime="965">You can zoom in, and you </span><span class="line" data-startTime="965">have some context. </span></p>

<p class="speaker"><span class="line" data-starttime="968"><span class="speakerName">Ilya Grigorik</span>: So </span><span class="line" data-startTime="968">you know what? </span><span class="line" data-startTime="969">Now that I see this, what I want </span><span class="line" data-startTime="969">this a record button in </span><span class="line" data-startTime="972">Chrome, where I can actually </span><span class="line" data-startTime="972">tell my users to just say, oh, </span><span class="line" data-startTime="976">you're having a problem? </span><span class="line" data-startTime="977">Hit Record. </span><span class="line" data-startTime="979">Go through a couple pages. </span><span class="line" data-startTime="980">Now stop and sent </span><span class="line" data-startTime="980">me that trace. </span><span class="line" data-startTime="981">That would be really cool. </span></p>

<p class="speaker"><span class="line" data-starttime="982"><span class="speakerName">Peter Lubbers</span>: That </span><span class="line" data-startTime="982">would be cool. </span></p>

<p class="speaker"><span class="line" data-starttime="984"><span class="speakerName">Ilya Grigorik</span>: There's an </span><span class="line" data-startTime="984">extension in the making right </span><span class="line" data-startTime="987">after this show. </span><span class="line" data-startTime="988">OK, that's really cool. </span><span class="line" data-startTime="992">So what's next on our agenda? </span></p>

<p class="speaker"><span class="line" data-starttime="995"><span class="speakerName">Peter Lubbers</span>: We talked </span><span class="line" data-startTime="995">about the viewer. </span><span class="line" data-startTime="998">Let's talk about some </span><span class="line" data-startTime="998">other tools. </span><span class="line" data-startTime="1000">And one of the nice things &mdash; </span><span class="line" data-startTime="1000">it's not an actual official </span><span class="line" data-startTime="1003">standard or specification. </span><span class="line" data-startTime="1006">I mean, there is a spec. </span><span class="line" data-startTime="1007">But it's sort of the de-facto </span><span class="line" data-startTime="1007">standard, if you will, for a </span><span class="line" data-startTime="1012">lot of this information. </span><span class="line" data-startTime="1014">Not just Chrome, but Firefox </span><span class="line" data-startTime="1014">supports it. </span><span class="line" data-startTime="1016">But there's a lot </span><span class="line" data-startTime="1016">of other tools. </span><span class="line" data-startTime="1018">And so maybe you could just go </span><span class="line" data-startTime="1018">to the HAR adopter's page. </span></p>

<p class="speaker"><span class="line" data-starttime="1021"><span class="speakerName">Ilya Grigorik</span>: Right, the "har" </span><span class="line" data-startTime="1021">HAR adopter's page. </span> <span class="line" data-startTime="1024">So it turns out Chrome supports </span><span class="line" data-startTime="1024">HAR, as we just saw. </span> <span class="line" data-startTime="1029">But it turns out that most other </span><span class="line" data-startTime="1029">tools that you guys are </span><span class="line" data-startTime="1032">familiar with also have </span><span class="line" data-startTime="1032">a HAR export. </span> <span class="line" data-startTime="1035">In fact, the whole point for </span><span class="line" data-startTime="1035">creating the standard was </span><span class="line" data-startTime="1038">originally when Firebug and </span><span class="line" data-startTime="1038">NetExport or HttpWatch were </span><span class="line" data-startTime="1042">trying to figure out, how do </span><span class="line" data-startTime="1042">we come up with a single </span><span class="line" data-startTime="1045">standard so we don't </span><span class="line" data-startTime="1045">end up creating </span><span class="line" data-startTime="1047">different export files? </span><span class="line" data-startTime="1048">So this is probably three </span><span class="line" data-startTime="1048">or four years back. </span> <span class="line" data-startTime="1051">So, obviously, Firebug and </span><span class="line" data-startTime="1051">HttpWatch support this. </span> <span class="line" data-startTime="1054">But if you look through this, </span><span class="line" data-startTime="1054">IE, Chrome Developer Tools, we </span><span class="line" data-startTime="1057">just saw HAR Viewer, and there's </span><span class="line" data-startTime="1057">probably three dozen </span><span class="line" data-startTime="1061">different tools in here. </span> <span class="line" data-startTime="1062">And so Charles Proxy is another </span><span class="line" data-startTime="1062">very popular tool. </span> <span class="line" data-startTime="1065">So this is actually an </span><span class="line" data-startTime="1065">important point. </span> <span class="line" data-startTime="1068">This is not just in a browser. </span></p>

<p><span class="line" data-startTime="1069">So if I have a proxy running and </span><span class="line" data-startTime="1069">I configure my browser to </span><span class="line" data-startTime="1072">go through it, I can still </span><span class="line" data-startTime="1072">capture all the same data, </span><span class="line" data-startTime="1075">which is really nice. </span></p>

<p class="speaker"><span class="line" data-starttime="1076"><span class="speakerName">Peter Lubbers</span>: This will come </span><span class="line" data-startTime="1076">in very handy, for example, </span><span class="line" data-startTime="1078">with mobile browsers. </span></p>

<p class="speaker"><span class="line" data-starttime="1081"><span class="speakerName">Ilya Grigorik</span>: And we'll </span><span class="line" data-startTime="1081">actually see </span><span class="line" data-startTime="1082">an example of that. </span><span class="line" data-startTime="1084">And then I guess the other thing </span><span class="line" data-startTime="1084">to mention is the format </span><span class="line" data-startTime="1087">itself is very flexible, </span><span class="line" data-startTime="1087">JSON, which is nice. </span><span class="line" data-startTime="1090">Because most every language </span><span class="line" data-startTime="1090">out there today has a very </span><span class="line" data-startTime="1093">good JSON library, because it </span><span class="line" data-startTime="1093">just maps very easily to your </span><span class="line" data-startTime="1097">basic data types. </span><span class="line" data-startTime="1098">But if you want, there are </span><span class="line" data-startTime="1098">wrappers in each language. </span><span class="line" data-startTime="1102">So things like the Java HarLib, </span><span class="line" data-startTime="1102">where you just give it </span><span class="line" data-startTime="1105">the HAR file, and it gives you </span><span class="line" data-startTime="1105">a nice object back which you </span><span class="line" data-startTime="1108">can iterate over. </span><span class="line" data-startTime="1110">There's Perl. </span><span class="line" data-startTime="1110">There's Ruby. </span><span class="line" data-startTime="1111">I found a whole bunch </span><span class="line" data-startTime="1111">of different tools. </span></p>

<p class="speaker"><span class="line" data-starttime="1114"><span class="speakerName">Peter Lubbers</span>: It's pretty </span><span class="line" data-startTime="1114">amazing the amount </span><span class="line" data-startTime="1115">of support for this. </span><span class="line" data-startTime="1116">Actually, just over the weekend, </span><span class="line" data-startTime="1116">we got a mail from </span><span class="line" data-startTime="1121">Eric Duran from New York who </span><span class="line" data-startTime="1121">built this great little </span><span class="line" data-startTime="1124">viewer, which I thought it was </span><span class="line" data-startTime="1124">awesome, because this is </span><span class="line" data-startTime="1126">actually just a &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1127"><span class="speakerName">Ilya Grigorik</span>: This looks </span><span class="line" data-startTime="1127">very familiar. </span><span class="line" data-startTime="1130">This looks like Chrome </span><span class="line" data-startTime="1130">Developer Tools. </span></p>

<p class="speaker"><span class="line" data-starttime="1132"><span class="speakerName">Peter Lubbers</span>: It really does. </span><span class="line" data-startTime="1133">He sort of re-implemented </span><span class="line" data-startTime="1133">all of that with </span><span class="line" data-startTime="1136">drag-and-drop support. </span></p>

<p class="speaker"><span class="line" data-starttime="1137"><span class="speakerName">Ilya Grigorik</span>: So this </span><span class="line" data-startTime="1137">is a page, right? </span></p>

<p class="speaker"><span class="line" data-starttime="1138"><span class="speakerName">Peter Lubbers</span>: Right. </span></p>

<p class="speaker"><span class="line" data-starttime="1138"><span class="speakerName">Ilya Grigorik</span>: We're looking </span><span class="line" data-startTime="1138">at. github.com/chromeHAR. </span><span class="line" data-startTime="1140">So drag and drop a HAR file. </span><span class="line" data-startTime="1142">OK, so I happen to </span><span class="line" data-startTime="1142">have a HAR file. </span><span class="line" data-startTime="1146">I've come prepared. </span></p>

<p class="speaker"><span class="line" data-starttime="1150"><span class="speakerName">Peter Lubbers</span>: Isn't </span><span class="line" data-startTime="1150">that awesome? </span></p>

<p class="speaker"><span class="line" data-starttime="1150"><span class="speakerName">Ilya Grigorik</span>: Look at that. </span><span class="line" data-startTime="1152">It's the same tools that </span><span class="line" data-startTime="1152">we know and love. </span><span class="line" data-startTime="1155">I can click on this. </span><span class="line" data-startTime="1156">You can see all the headers, the </span><span class="line" data-startTime="1156">cookies, the timing, and </span><span class="line" data-startTime="1159">this is just a web app. </span><span class="line" data-startTime="1161">So it's really cool. </span><span class="line" data-startTime="1162">I think this is actually a good </span><span class="line" data-startTime="1162">demo of something that </span><span class="line" data-startTime="1165">not many people realize, which </span><span class="line" data-startTime="1165">is Chrome Developer </span><span class="line" data-startTime="1168">Tools is a web app. </span><span class="line" data-startTime="1171">So I think what Eric is doing </span><span class="line" data-startTime="1171">here is he's actually pulling </span><span class="line" data-startTime="1173">out a lot of the styling </span><span class="line" data-startTime="1173">and perhaps even </span><span class="line" data-startTime="1176">the JavaScript logic. </span></p>

<p class="speaker"><span class="line" data-starttime="1177"><span class="speakerName">Peter Lubbers</span>: I think so. </span><span class="line" data-startTime="1178">I haven't completely had enough </span><span class="line" data-startTime="1178">time to look at it yet, </span><span class="line" data-startTime="1181">but it's pretty. </span></p>

<p class="speaker"><span class="line" data-starttime="1183"><span class="speakerName">Ilya Grigorik</span>: That's </span><span class="line" data-startTime="1183">a pretty cool demo. </span><span class="line" data-startTime="1184">So if you guys want, there's </span><span class="line" data-startTime="1184">a HAR Viewer. </span><span class="line" data-startTime="1187">Now there's this. </span><span class="line" data-startTime="1188">And it looks like he's even </span><span class="line" data-startTime="1188">thinking about adding some PHP </span><span class="line" data-startTime="1191">functionality. </span></p>

<p class="speaker"><span class="line" data-starttime="1192"><span class="speakerName">Peter Lubbers</span>: We'll come back </span><span class="line" data-startTime="1192">to that one as well. </span></p>

<p class="speaker"><span class="line" data-starttime="1194"><span class="speakerName">Ilya Grigorik</span>: Unfortunately, </span><span class="line" data-startTime="1194">I can't click on </span><span class="line" data-startTime="1195">it right now, but &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1196"><span class="speakerName">Peter Lubbers</span>: So one of the </span><span class="line" data-startTime="1196">things about all of this is, </span><span class="line" data-startTime="1198">of course, getting kind of </span><span class="line" data-startTime="1198">already a little bit tired of </span><span class="line" data-startTime="1202">the manual parts of this. </span><span class="line" data-startTime="1204">Let's focus on that a bit. </span><span class="line" data-startTime="1205">Because if you have to actually </span><span class="line" data-startTime="1205">download this HAR </span><span class="line" data-startTime="1209">file that's great. </span><span class="line" data-startTime="1211">But if you have to do this more </span><span class="line" data-startTime="1211">often, like, for example, </span><span class="line" data-startTime="1214">if you want to start seeing </span><span class="line" data-startTime="1214">trends over time, then it's </span><span class="line" data-startTime="1217">going to be a little </span><span class="line" data-startTime="1217">bit problematic. </span><span class="line" data-startTime="1218">You're going to see &mdash; </span><span class="line" data-startTime="1220">you're constantly doing </span><span class="line" data-startTime="1220">this manual work. </span><span class="line" data-startTime="1222">So what tools are there, Ilya, </span><span class="line" data-startTime="1222">for automating this process? </span></p>

<p class="speaker"><span class="line" data-starttime="1228"><span class="speakerName">Ilya Grigorik</span>: Well, short of </span><span class="line" data-startTime="1228">getting an army of monkeys, </span><span class="line" data-startTime="1232">the other way to do it is &mdash; </span><span class="line" data-startTime="1234">so actually, there's a lot </span><span class="line" data-startTime="1234">of different ways. </span><span class="line" data-startTime="1236">And I'm actually really excited </span><span class="line" data-startTime="1236">about this stuff. </span><span class="line" data-startTime="1240">Let me show you some examples. </span><span class="line" data-startTime="1242">So first of all, I don't </span><span class="line" data-startTime="1242">know if you guys are </span><span class="line" data-startTime="1243">familiar with PhantomJS. </span></p>

<p class="speaker"><span class="line" data-starttime="1246"><span class="speakerName">Peter Lubbers</span>: That's </span><span class="line" data-startTime="1246">the headless router? </span></p>

<p class="speaker"><span class="line" data-starttime="1247"><span class="speakerName">Ilya Grigorik</span>: Yeah, exactly. </span> <span class="line" data-startTime="1250">It's a headless WebKit </span><span class="line" data-startTime="1250">browser. </span> <span class="line" data-startTime="1251">And the cool thing about it &mdash; </span><span class="line" data-startTime="1251">well, there's so many cool </span><span class="line" data-startTime="1254">things about it. </span> <span class="line" data-startTime="1254">We could probably do an </span><span class="line" data-startTime="1254">entire show on it. </span> <span class="line" data-startTime="1256">But one of things I like about </span><span class="line" data-startTime="1256">it is it's very easy to </span><span class="line" data-startTime="1258">download and install. </span> <span class="line" data-startTime="1259">It's a statically compiled </span><span class="line" data-startTime="1259">binary, so you just download </span><span class="line" data-startTime="1262">this zip file. </span> <span class="line" data-startTime="1262">You unpack it, and it's </span><span class="line" data-startTime="1262">basically a browser, a </span><span class="line" data-startTime="1266">full-featured WebKit browser, </span><span class="line" data-startTime="1266">which means it can execute </span><span class="line" data-startTime="1268">JavaScript. </span> <span class="line" data-startTime="1269">It'll download your CSS images, </span><span class="line" data-startTime="1271">everything, which is nice. </span> <span class="line" data-startTime="1273">And you can run it from </span><span class="line" data-startTime="1273">the command line. </span> <span class="line" data-startTime="1274">So this is what I have here. </span> <span class="line" data-startTime="1275">I just downloaded </span><span class="line" data-startTime="1275">the actual file. </span> <span class="line" data-startTime="1278">I unpacked it. </span></p>

<p><span class="line" data-startTime="1279">I just have it sitting here. </span> <span class="line" data-startTime="1281">Now I can do "bin phantom," </span><span class="line" data-startTime="1281">and if you look at this &mdash; </span><span class="line" data-startTime="1287">so it just gives you a little </span><span class="line" data-startTime="1287">bit of help information. </span> <span class="line" data-startTime="1290">You can configure it </span><span class="line" data-startTime="1290">any way you like. </span> <span class="line" data-startTime="1292">But the way it basically works </span><span class="line" data-startTime="1292">is you need to give Phantom a </span><span class="line" data-startTime="1296">script to tell it what to do. </span> <span class="line" data-startTime="1298">So think of it as this is a </span><span class="line" data-startTime="1298">browser, and we need to tell </span><span class="line" data-startTime="1301">it, hey, I want you to open </span><span class="line" data-startTime="1301">a file or a URL and </span><span class="line" data-startTime="1305">do something there. </span> <span class="line" data-startTime="1305">So It comes with a couple of </span><span class="line" data-startTime="1305">different example scripts, one </span><span class="line" data-startTime="1310">of which is NetSniff. </span> <span class="line" data-startTime="1313">I think you can guess what </span><span class="line" data-startTime="1313">it's going to do. </span></p>

<p><span class="line" data-startTime="1315">It's going to sniff on </span><span class="line" data-startTime="1315">the network traffic </span><span class="line" data-startTime="1317">and log that data. </span> <span class="line" data-startTime="1318">Let me do this. </span> <span class="line" data-startTime="1320">I'll actually download </span><span class="line" data-startTime="1320">a page here. </span> <span class="line" data-startTime="1325">And if all goes well, this </span><span class="line" data-startTime="1325">should run Phantom. </span> <span class="line" data-startTime="1328">And look, it spit out what </span><span class="line" data-startTime="1328">looks like a JSON file. </span> <span class="line" data-startTime="1331">In fact, it looks </span><span class="line" data-startTime="1331">like a HAR file. </span> <span class="line" data-startTime="1334">Surprise! </span></p>

<p class="speaker"><span class="line" data-starttime="1335"><span class="speakerName">Peter Lubbers</span>: Very surprised. </span></p>

<p class="speaker"><span class="line" data-starttime="1336"><span class="speakerName">Ilya Grigorik</span>: So let me </span><span class="line" data-startTime="1336">actually just to save that to </span><span class="line" data-startTime="1340">an out file instead of just </span><span class="line" data-startTime="1340">printing it to screen. </span><span class="line" data-startTime="1345">So we're looking at this. </span><span class="line" data-startTime="1348">Once again, we have </span><span class="line" data-startTime="1348">all the JSON data. </span><span class="line" data-startTime="1349">So what just happened? </span><span class="line" data-startTime="1351">I think this is really </span><span class="line" data-startTime="1351">important. </span><span class="line" data-startTime="1353">We have a fully-featured browser </span><span class="line" data-startTime="1353">that went in and </span><span class="line" data-startTime="1356">captured all the network data. </span><span class="line" data-startTime="1358">Now imagine if you take &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1359"><span class="speakerName">Peter Lubbers</span>: But you run </span><span class="line" data-startTime="1359">it on the command line. </span></p>

<p class="speaker"><span class="line" data-starttime="1360"><span class="speakerName">Ilya Grigorik</span>: Right. </span><span class="line" data-startTime="1361">So imagine now you take this, </span><span class="line" data-startTime="1361">and you have your CI build </span><span class="line" data-startTime="1365">running on your &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1366"><span class="speakerName">Peter Lubbers</span>: Exactly. </span></p>

<p class="speaker"><span class="line" data-starttime="1367"><span class="speakerName">Ilya Grigorik</span>:  &mdash; instance. </span><span class="line" data-startTime="1369">And after each check-in, </span><span class="line" data-startTime="1369">you run this and you </span><span class="line" data-startTime="1371">captured a HAR file. </span><span class="line" data-startTime="1374">Now you have the </span><span class="line" data-startTime="1374">full timeline. </span><span class="line" data-startTime="1376">On every check-in, you have </span><span class="line" data-startTime="1376">a history of what happens. </span><span class="line" data-startTime="1380">Maybe you added more resources </span><span class="line" data-startTime="1380">and all the rest. </span></p>

<p class="speaker"><span class="line" data-starttime="1385"><span class="speakerName">Peter Lubbers</span>: That actually is </span><span class="line" data-startTime="1385">interesting, because if you </span><span class="line" data-startTime="1387">do that and you combine it </span><span class="line" data-startTime="1387">with running that through </span><span class="line" data-startTime="1393">analysis tools like PageSpeed, </span><span class="line" data-startTime="1393">YSlow, is </span><span class="line" data-startTime="1397">that already supported? </span></p>

<p class="speaker"><span class="line" data-starttime="1399"><span class="speakerName">Ilya Grigorik</span>: You guys </span><span class="line" data-startTime="1399">can see that we </span><span class="line" data-startTime="1400">practiced this yesterday. </span> <span class="line" data-startTime="1401">So here's another tool </span><span class="line" data-startTime="1401">that you'll love. </span> <span class="line" data-startTime="1403">So if you guys use Node, </span><span class="line" data-startTime="1403">there's actually &mdash; </span><span class="line" data-startTime="1407">YSlow is available </span><span class="line" data-startTime="1407">as a Node module. </span> <span class="line" data-startTime="1409">You can just run it. </span> <span class="line" data-startTime="1410">I already have it installed </span><span class="line" data-startTime="1410">on my machine. </span> <span class="line" data-startTime="1411">But if you run NPM, install </span><span class="line" data-startTime="1411">YSlow, that's what you're </span><span class="line" data-startTime="1415">going to get. </span> <span class="line" data-startTime="1417">Let me just &mdash; </span><span class="line" data-startTime="1419">so once you install it, you just </span><span class="line" data-startTime="1419">get this YSlow binary. </span> <span class="line" data-startTime="1423">It gives you a couple different </span><span class="line" data-startTime="1423">examples here. </span> <span class="line" data-startTime="1425">I'm just going to copy </span><span class="line" data-startTime="1425">the guy right here. </span></p>

<p><span class="line" data-startTime="1429">I think there's actually </span><span class="line" data-startTime="1429">a typo in the Readme. </span> <span class="line" data-startTime="1431">So we need two double dashes. </span> <span class="line" data-startTime="1433">And guess what it takes? </span></p>

<p class="speaker"><span class="line" data-starttime="1434"><span class="speakerName">Peter Lubbers</span>: A HAR file. </span></p>

<p class="speaker"><span class="line" data-starttime="1435"><span class="speakerName">Ilya Grigorik</span>: It takes </span><span class="line" data-startTime="1435">the HAR file. </span></p>

<p class="speaker"><span class="line" data-starttime="1437"><span class="speakerName">Peter Lubbers</span>: It's </span><span class="line" data-startTime="1437">getting old. </span></p>

<p class="speaker"><span class="line" data-starttime="1439"><span class="speakerName">Ilya Grigorik</span>: Right. </span> <span class="line" data-startTime="1440">So what we're going to </span><span class="line" data-startTime="1440">do is we're just </span><span class="line" data-startTime="1442">going to print out &mdash; </span><span class="line" data-startTime="1444">actually, let me change </span><span class="line" data-startTime="1444">this for one second. </span> <span class="line" data-startTime="1446">We're going to print out </span><span class="line" data-startTime="1446">a basic summary. </span> <span class="line" data-startTime="1449">And format plain is </span><span class="line" data-startTime="1449">just plain text. </span> <span class="line" data-startTime="1452">And feed it this HAR file. </span> <span class="line" data-startTime="1454">And it analyzes the HAR file, </span><span class="line" data-startTime="1454">and says OK, there's 80 </span><span class="line" data-startTime="1457">kilobytes of data that </span><span class="line" data-startTime="1457">we downloaded here. </span> <span class="line" data-startTime="1459">The score according to all of </span><span class="line" data-startTime="1459">the YSlow rules is 100. </span> <span class="line" data-startTime="1463">Hooray. </span> <span class="line" data-startTime="1463">And there's a total of seven </span><span class="line" data-startTime="1463">requests for this. </span> <span class="line" data-startTime="1466">So that's kind of interesting. </span></p>

<p><span class="line" data-startTime="1468">Now let's dig in a little </span><span class="line" data-startTime="1468">bit deeper. </span> <span class="line" data-startTime="1473">Let's run all. </span> <span class="line" data-startTime="1474">And if you run all, all </span><span class="line" data-startTime="1474">of a sudden, you </span><span class="line" data-startTime="1475">get a ton more output. </span> <span class="line" data-startTime="1477">So what happens here is, YSlow </span><span class="line" data-startTime="1477">has a set of rules or </span><span class="line" data-startTime="1482">categories of rules for things </span><span class="line" data-startTime="1482">like, are you using a CDN? </span><span class="line" data-startTime="1486">Are you setting expire </span><span class="line" data-startTime="1486">setters? </span><span class="line" data-startTime="1488">Are you compressing your data </span><span class="line" data-startTime="1488">on all these things? </span><span class="line" data-startTime="1490">As you can see, it's actually </span><span class="line" data-startTime="1490">scored that entire HAR file </span><span class="line" data-startTime="1494">with respect to all </span><span class="line" data-startTime="1494">those rules. </span> <span class="line" data-startTime="1495">And it's giving you </span><span class="line" data-startTime="1495">a specific score. </span> <span class="line" data-startTime="1497">So it just so happens </span><span class="line" data-startTime="1497">that this page is </span><span class="line" data-startTime="1499">actually fairly optimized. </span></p>

<p><span class="line" data-startTime="1501">There's no offenders in the </span><span class="line" data-startTime="1501">sense that if there was a file </span><span class="line" data-startTime="1503">that wasn't compressed, it </span><span class="line" data-startTime="1503">would show up in here. </span> <span class="line" data-startTime="1506">So now we have two things. </span> <span class="line" data-startTime="1509">We've captured the HAR file </span><span class="line" data-startTime="1509">from command line. </span> <span class="line" data-startTime="1511">We ran it through YSlow. </span> <span class="line" data-startTime="1513">And, of course, you don't </span><span class="line" data-startTime="1513">actually have </span><span class="line" data-startTime="1515">to print this out &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1516"><span class="speakerName">Peter Lubbers</span>: All from </span><span class="line" data-startTime="1516">the command line. </span></p>

<p class="speaker"><span class="line" data-starttime="1516"><span class="speakerName">Ilya Grigorik</span>: Right. </span><span class="line" data-startTime="1517">And you don't have to print </span><span class="line" data-startTime="1517">this out in plain text. </span><span class="line" data-startTime="1520">To feed into your own tool, </span><span class="line" data-startTime="1520">you have JSON output. </span><span class="line" data-startTime="1525">So now, literally in two lines </span><span class="line" data-startTime="1525">of batch script, you can get </span><span class="line" data-startTime="1530">access to all the performance </span><span class="line" data-startTime="1530">data. </span><span class="line" data-startTime="1531">So now in every CI check-in, </span><span class="line" data-startTime="1531">I can run this and raise an </span><span class="line" data-startTime="1536">alarm if all of a sudden &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1538"><span class="speakerName">Peter Lubbers</span>: Yeah, exactly. </span><span class="line" data-startTime="1539">You can set alarms for when you </span><span class="line" data-startTime="1539">drop a certain score, or </span><span class="line" data-startTime="1542">like, for example, images that </span><span class="line" data-startTime="1542">are not compressed or it </span><span class="line" data-startTime="1545">thinks that it picks up the </span><span class="line" data-startTime="1545">typical YSlow rules. </span><span class="line" data-startTime="1550">And then that can trigger </span><span class="line" data-startTime="1550">a whole chain of alarms </span><span class="line" data-startTime="1554">and ways to fix it. </span><span class="line" data-startTime="1556">That's awesome. </span></p>

<p class="speaker"><span class="line" data-starttime="1556"><span class="speakerName">Ilya Grigorik</span>: Exactly. </span></p>

<p class="speaker"><span class="line" data-starttime="1558"><span class="speakerName">Peter Lubbers</span>: So is that also </span><span class="line" data-startTime="1558">supported in PageSpeed? </span></p>

<p class="speaker"><span class="line" data-starttime="1561"><span class="speakerName">Ilya Grigorik</span>: It is. </span> <span class="line" data-startTime="1561">So it will require a little </span><span class="line" data-startTime="1561">bit more work. </span> <span class="line" data-startTime="1563">But if you go to the PageSpeed </span><span class="line" data-startTime="1563">site &mdash; so I'm just looking at </span><span class="line" data-startTime="1565">the PageSpeed SDK. </span> <span class="line" data-startTime="1567">You can actually download </span><span class="line" data-startTime="1567">the entire SDK. </span> <span class="line" data-startTime="1569">It's an open source project. </span> <span class="line" data-startTime="1570">And if you build the SDK, </span><span class="line" data-startTime="1570">you'll actually get this </span><span class="line" data-startTime="1573">binary called &mdash; </span><span class="line" data-startTime="1574">guess what? </span><span class="line" data-startTime="1575">HAR to PageSpeed. </span> <span class="line" data-startTime="1576">And you feed it a HAR file, and </span><span class="line" data-startTime="1576">you get a similar output, </span><span class="line" data-startTime="1580">but perhaps slightly different </span><span class="line" data-startTime="1580">rules and slightly different </span><span class="line" data-startTime="1583">waitings as YSlow. </span> <span class="line" data-startTime="1584">If you're a PageSpeed fan, </span><span class="line" data-startTime="1584">you can also use this. </span> <span class="line" data-startTime="1587">And by the way, PageSpeed SDK </span><span class="line" data-startTime="1587">also comes with some really </span><span class="line" data-startTime="1591">awesome tools like the PageSpeed </span><span class="line" data-startTime="1591">Optimize Image. </span></p>

<p><span class="line" data-startTime="1594">Nicely named, very </span><span class="line" data-startTime="1594">descriptive. </span> <span class="line" data-startTime="1597">So you just pass it an image </span><span class="line" data-startTime="1597">file, and it'll automatically </span><span class="line" data-startTime="1601">pick out the right format and </span><span class="line" data-startTime="1601">optimize the stuff for you. </span> <span class="line" data-startTime="1603">That's something you </span><span class="line" data-startTime="1603">can also do as part </span><span class="line" data-startTime="1604">of your build process. </span></p>

<p class="speaker"><span class="line" data-starttime="1608"><span class="speakerName">Peter Lubbers</span>: So I think when </span><span class="line" data-startTime="1608">I first started looking the </span><span class="line" data-startTime="1611">HAR format and everything, I </span><span class="line" data-startTime="1611">really thought of it primarily </span><span class="line" data-startTime="1615">from a browser perspective. </span><span class="line" data-startTime="1616">And actually, after looking at </span><span class="line" data-startTime="1616">this more, obviously it's the </span><span class="line" data-startTime="1621">browser making that HTTP request </span><span class="line" data-startTime="1621">to the server and the </span><span class="line" data-startTime="1624">server responding. </span><span class="line" data-startTime="1625">So when you start thinking about </span><span class="line" data-startTime="1625">it that way, it's like, </span><span class="line" data-startTime="1627">OK, we can actually do </span><span class="line" data-startTime="1627">a lot more with it. </span><span class="line" data-startTime="1629">We can actually go beyond the </span><span class="line" data-startTime="1629">browser, if you will, and </span><span class="line" data-startTime="1633">start implementing HAR </span><span class="line" data-startTime="1633">on the server side. </span></p>

<p class="speaker"><span class="line" data-starttime="1637"><span class="speakerName">Ilya Grigorik</span>: That's </span><span class="line" data-startTime="1637">a cool idea. </span></p>

<p class="speaker"><span class="line" data-starttime="1639"><span class="speakerName">Peter Lubbers</span>: I don't think </span><span class="line" data-startTime="1639">there's a whole lot of tools </span><span class="line" data-startTime="1641">around that yet. </span><span class="line" data-startTime="1642">But it's the same format. </span></p>

<p class="speaker"><span class="line" data-starttime="1645"><span class="speakerName">Ilya Grigorik</span>: So just to </span><span class="line" data-startTime="1645">elaborate this a little bit, a </span><span class="line" data-startTime="1647">lot of API servers or app </span><span class="line" data-startTime="1647">servers that you build kind of </span><span class="line" data-startTime="1650">follow the same pattern. </span><span class="line" data-startTime="1650">A request comes in then you have </span><span class="line" data-startTime="1650">a dispatch to a database </span><span class="line" data-startTime="1654">or maybe another HTTP server </span><span class="line" data-startTime="1654">that does something. </span><span class="line" data-startTime="1657">And it's the same waterfall, </span><span class="line" data-startTime="1657">basically. </span></p>

<p class="speaker"><span class="line" data-starttime="1660"><span class="speakerName">Peter Lubbers</span>: But </span><span class="line" data-startTime="1660">on the inside. </span></p>

<p class="speaker"><span class="line" data-starttime="1661"><span class="speakerName">Ilya Grigorik</span>: So it would be </span><span class="line" data-startTime="1661">kind of cool if we could </span><span class="line" data-startTime="1662">visualize the same data. </span><span class="line" data-startTime="1664">And we saw a whole number of </span><span class="line" data-startTime="1664">different rules &mdash; or tools, </span><span class="line" data-startTime="1667">rather, that we can use for </span><span class="line" data-startTime="1667">this kind of stuff. </span></p>

<p class="speaker"><span class="line" data-starttime="1670"><span class="speakerName">Peter Lubbers</span>: So let's take a </span><span class="line" data-startTime="1670">look at a sample file that you </span><span class="line" data-startTime="1673">put together already for this, </span><span class="line" data-startTime="1673">just to get the idea of what's </span><span class="line" data-startTime="1678">happening here. </span></p>

<p class="speaker"><span class="line" data-starttime="1679"><span class="speakerName">Ilya Grigorik</span>: So I've created </span><span class="line" data-startTime="1679">this mock file, and how that's </span><span class="line" data-startTime="1685">created is a separate story. </span><span class="line" data-startTime="1687">You can instrument your </span><span class="line" data-startTime="1687">own app server. </span><span class="line" data-startTime="1690">Or you can actually use some </span><span class="line" data-startTime="1690">other tricks which we'll talk </span><span class="line" data-startTime="1692">about in a second. </span></p>

<p class="speaker"><span class="line" data-starttime="1693"><span class="speakerName">Peter Lubbers</span>: Some </span><span class="line" data-startTime="1693">sort of logging. </span></p>

<p class="speaker"><span class="line" data-starttime="1695"><span class="speakerName">Ilya Grigorik</span>: Exactly. </span><span class="line" data-startTime="1696">So actually, I'm going to </span><span class="line" data-startTime="1696">sneak in another demo. </span><span class="line" data-startTime="1699">So if you guys are working with </span><span class="line" data-startTime="1699">HAR files, and you have </span><span class="line" data-startTime="1701">them on disk, there is this &mdash; </span><span class="line" data-startTime="1704">and you have Ruby installed, </span><span class="line" data-startTime="1704">which you probably do, you can </span><span class="line" data-startTime="1708">actually do "gem install har," </span><span class="line" data-startTime="1708">which creates this very, very </span><span class="line" data-startTime="1713">handy utility. </span><span class="line" data-startTime="1714">What you do is then you say </span><span class="line" data-startTime="1714">"har" and it installs this </span><span class="line" data-startTime="1717">kind of dense script, and </span><span class="line" data-startTime="1717">you pass it a file. </span><span class="line" data-startTime="1721">And check this out. </span><span class="line" data-startTime="1722">So I'm going to run this. </span><span class="line" data-startTime="1724">And it starts a local server, </span><span class="line" data-startTime="1724">which embeds the HAR viewer </span><span class="line" data-startTime="1731">and fires up a new tab on your </span><span class="line" data-startTime="1731">thing and just visualizes it </span><span class="line" data-startTime="1734">right here. </span><span class="line" data-startTime="1735">How awesome was that? </span></p>

<p class="speaker"><span class="line" data-starttime="1736"><span class="speakerName">Peter Lubbers</span>: Wow. </span></p>

<p class="speaker"><span class="line" data-starttime="1737"><span class="speakerName">Ilya Grigorik</span>: So we don't </span><span class="line" data-startTime="1737">even have to copy </span><span class="line" data-startTime="1738">it, go to the site. </span> <span class="line" data-startTime="1739">You just kind of like feed it </span><span class="line" data-startTime="1739">a file and there you go. </span> <span class="line" data-startTime="1741">So next time somebody emails you </span><span class="line" data-startTime="1741">or you have a bug report </span><span class="line" data-startTime="1744">with a HAR file, download it, </span><span class="line" data-startTime="1744">run it with this, you're up </span><span class="line" data-startTime="1747">and running. </span> <span class="line" data-startTime="1749">So let's look at this. </span> <span class="line" data-startTime="1750">What's happening here? </span><span class="line" data-startTime="1752">This is a simple request where </span><span class="line" data-startTime="1752">we're kind of simulating in </span><span class="line" data-startTime="1757">let's say an RSS feed </span><span class="line" data-startTime="1757">application, where a request </span><span class="line" data-startTime="1762">comes in for this feed ABC. </span> <span class="line" data-startTime="1764">And the next thing that happens </span><span class="line" data-startTime="1764">is we dispatch a </span><span class="line" data-startTime="1766">search request for ABC, which </span><span class="line" data-startTime="1766">is basically like, what are </span><span class="line" data-startTime="1769">the articles that </span><span class="line" data-startTime="1769">I should show? </span><span class="line" data-startTime="1770">What are the article IDs? </span><span class="line" data-startTime="1773">Let's say that returns a couple </span><span class="line" data-startTime="1773">different IDs, three. </span></p>

<p><span class="line" data-startTime="1775">So that request takes some time, </span><span class="line" data-startTime="1775">136 milliseconds, and we </span><span class="line" data-startTime="1780">have all of the header </span><span class="line" data-startTime="1780">information on all the other </span><span class="line" data-startTime="1782">metadata from our API server. </span> <span class="line" data-startTime="1785">And then we, in parallel, </span><span class="line" data-startTime="1785">dispatch three requests to </span><span class="line" data-startTime="1788">fetch the articles, and then </span><span class="line" data-startTime="1788">the response is returned. </span></p>

<p class="speaker"><span class="line" data-starttime="1791"><span class="speakerName">Peter Lubbers</span>: Yeah, you can </span><span class="line" data-startTime="1791">really trace right into that </span><span class="line" data-startTime="1794">and see where you're taking </span><span class="line" data-startTime="1794">most of the time. </span></p>

<p class="speaker"><span class="line" data-starttime="1798"><span class="speakerName">Ilya Grigorik</span>: So now you can </span><span class="line" data-startTime="1798">think about instrumenting your </span><span class="line" data-startTime="1800">app server and reusing </span><span class="line" data-startTime="1800">the same tools. </span><span class="line" data-startTime="1803">This is great visualization. </span></p>

<p class="speaker"><span class="line" data-starttime="1806"><span class="speakerName">Peter Lubbers</span>: Yeah, by sticking </span><span class="line" data-startTime="1806">to the format, you </span><span class="line" data-startTime="1807">really get a lot of benefits. </span></p>

<p class="speaker"><span class="line" data-starttime="1810"><span class="speakerName">Ilya Grigorik</span>: Yeah, </span><span class="line" data-startTime="1810">there's so many </span><span class="line" data-startTime="1811">different tools out there. </span> <span class="line" data-startTime="1812">And speaking of tools &mdash; so now </span><span class="line" data-startTime="1812">let's take this use case. </span> <span class="line" data-startTime="1815">So we've captured a HAR </span><span class="line" data-startTime="1815">file, let's say, </span><span class="line" data-startTime="1818">on the command line. </span> <span class="line" data-startTime="1819">We can run it through YSlow, </span><span class="line" data-startTime="1819">which is very good for </span><span class="line" data-startTime="1821">capturing, let's say, </span><span class="line" data-startTime="1821">regressions or anomalies if </span><span class="line" data-startTime="1824">somebody checks in, </span><span class="line" data-startTime="1828">So it'll ingest this data. </span> <span class="line" data-startTime="1830">But now it gets smarter, which </span><span class="line" data-startTime="1830">is to say, it looks at the URL </span><span class="line" data-startTime="1835">which you were accessing, and it </span><span class="line" data-startTime="1835">says, hey, you've actually </span><span class="line" data-startTime="1838">uploaded not one, but three </span><span class="line" data-startTime="1838">traces of this file, spread </span><span class="line" data-startTime="1843">across time. </span> <span class="line" data-startTime="1844">So what I'm going to do is I'm </span><span class="line" data-startTime="1844">going to visualize the </span><span class="line" data-startTime="1847">difference in page loading </span><span class="line" data-startTime="1847">time or total size. </span> <span class="line" data-startTime="1851">So we actually have &mdash; </span><span class="line" data-startTime="1851">as you can see here, </span><span class="line" data-startTime="1853">we have three runs. </span> <span class="line" data-startTime="1854">I was playing with this </span><span class="line" data-startTime="1854">on the weekend. </span></p>

<p><span class="line" data-startTime="1856">And between these three </span><span class="line" data-startTime="1856">different runs &mdash; so the yellow </span><span class="line" data-startTime="1859">line here is the </span><span class="line" data-startTime="1859">full load time. </span> <span class="line" data-startTime="1861">So the load time went up from </span><span class="line" data-startTime="1861">0.75 seconds to about 1 second </span><span class="line" data-startTime="1865">between the three runs. </span> <span class="line" data-startTime="1867">This graph is also very </span><span class="line" data-startTime="1867">interactive, which I didn't </span><span class="line" data-startTime="1869">realize for a while. </span> <span class="line" data-startTime="1870">For example, I can disable this </span><span class="line" data-startTime="1870">and load things like the </span><span class="line" data-startTime="1873">onLoad time and time </span><span class="line" data-startTime="1873">to first byte. </span> <span class="line" data-startTime="1877">Imagine having this data for </span><span class="line" data-startTime="1877">your site across two weeks, </span><span class="line" data-startTime="1880">and now you can go in and look </span><span class="line" data-startTime="1880">at, well, am I just putting </span><span class="line" data-startTime="1884">more images? </span><span class="line" data-startTime="1884">Or why did for my load </span><span class="line" data-startTime="1884">time get worse? </span><span class="line" data-startTime="1889">And then you can also- &mdash; </span><span class="line" data-startTime="1890">if you need a nice artifact for </span><span class="line" data-startTime="1890">your next presentation, </span><span class="line" data-startTime="1895">you can also just save that </span><span class="line" data-startTime="1895">as a PNG image, or an SVG. </span></p>

<p><span class="line" data-startTime="1899">So that's cool. </span> <span class="line" data-startTime="1899">That allows you to trend </span><span class="line" data-startTime="1899">it over time. </span> <span class="line" data-startTime="1903">And within here, for each </span><span class="line" data-startTime="1903">specific run, you, of course, </span><span class="line" data-startTime="1907">still have access to all of the </span><span class="line" data-startTime="1907">metadata within each one. </span> <span class="line" data-startTime="1911">Domains from which we fetched </span><span class="line" data-startTime="1911">all the resources, it even </span><span class="line" data-startTime="1914">embeds PageSpeed scoring. </span> <span class="line" data-startTime="1916">So it says, well, </span><span class="line" data-startTime="1916">for this page &mdash; </span><span class="line" data-startTime="1918">let's see, cache validator. </span> <span class="line" data-startTime="1920">So some of the resources didn't </span><span class="line" data-startTime="1920">have a cache validator. </span> <span class="line" data-startTime="1923">So it gave me an 83. </span> <span class="line" data-startTime="1925">OK, interesting. </span> <span class="line" data-startTime="1927">The HAR Viewer, as you would </span><span class="line" data-startTime="1927">expect, embedded in here, and </span><span class="line" data-startTime="1931">you can toggle between all </span><span class="line" data-startTime="1931">the different runs. </span> <span class="line" data-startTime="1933">So here's a little tip. </span> <span class="line" data-startTime="1937">We've talked about those any </span><span class="line" data-startTime="1937">number of times now, but </span><span class="line" data-startTime="1939">you've captured on CLI. </span> <span class="line" data-startTime="1941">You run it through YSlow, </span><span class="line" data-startTime="1941">and then you can </span><span class="line" data-startTime="1943">push it into here. </span></p>

<p><span class="line" data-startTime="1944">And all of a sudden, you have a </span><span class="line" data-startTime="1945">performance monitoring solution &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1946"><span class="speakerName">Peter Lubbers</span>: Exactly. </span></p>

<p class="speaker"><span class="line" data-starttime="1947"><span class="speakerName">Ilya Grigorik</span>:  &mdash; in like three </span><span class="line" data-startTime="1947">lines of batch script. </span><span class="line" data-startTime="1950">And if you guys are interested, </span><span class="line" data-startTime="1950">I actually found </span><span class="line" data-startTime="1953">this example on the </span><span class="line" data-startTime="1953">HAR storage Wiki. </span><span class="line" data-startTime="1956">I uploaded the file manually, </span><span class="line" data-startTime="1956">but you can just &mdash; </span><span class="line" data-startTime="1960">here's four lines of </span><span class="line" data-startTime="1960">Python where you </span><span class="line" data-startTime="1962">just encode the data. </span><span class="line" data-startTime="1964">You push it in. </span><span class="line" data-startTime="1965">And that's it. </span><span class="line" data-startTime="1966">You're done. </span></p>

<p class="speaker"><span class="line" data-starttime="1970"><span class="speakerName">Peter Lubbers</span>: We've looked </span><span class="line" data-startTime="1970">at it from the browser </span><span class="line" data-startTime="1971">perspective now. </span><span class="line" data-startTime="1972">We've looked at it from the </span><span class="line" data-startTime="1972">server side in the automation. </span><span class="line" data-startTime="1976">And one thing we talked about </span><span class="line" data-startTime="1976">briefly is the mobile support. </span><span class="line" data-startTime="1981">Obviously, you don't always have </span><span class="line" data-startTime="1981">Chrome Developer Tools on </span><span class="line" data-startTime="1985">your mobile device. </span><span class="line" data-startTime="1987">So how would you use some of </span><span class="line" data-startTime="1987">these tools to set that up? </span></p>

<p class="speaker"><span class="line" data-starttime="1990"><span class="speakerName">Ilya Grigorik</span>: So I </span><span class="line" data-startTime="1990">actually made &mdash; </span><span class="line" data-startTime="1991">I cheated. </span> <span class="line" data-startTime="1992">I made us a little </span><span class="line" data-startTime="1993">presentation there, two slides. </span> <span class="line" data-startTime="1996">You bring up a really good </span><span class="line" data-startTime="1996">point, which is if you're </span><span class="line" data-startTime="1998">using Chrome on Android, you </span><span class="line" data-startTime="1998">actually have remote </span><span class="line" data-startTime="2002">debugging, which is absolutely </span><span class="line" data-startTime="2002">awesome. </span> <span class="line" data-startTime="2003">Because you have access to the </span><span class="line" data-startTime="2003">same network panel plus all of </span><span class="line" data-startTime="2007">the other &mdash; </span><span class="line" data-startTime="2007">even JavaScript debugging. </span> <span class="line" data-startTime="2009">But what happens when you're </span><span class="line" data-startTime="2009">running an older or another </span><span class="line" data-startTime="2014">browser which doesn't have </span><span class="line" data-startTime="2014">that capability? </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="2016"><span class="speakerName">Peter Lubbers</span>: And just for </span><span class="line" data-startTime="2016">those of you attending, we did </span><span class="line" data-startTime="2019">do a show on &mdash; the Chrome Mobile </span><span class="line" data-startTime="2019">show just last week on </span><span class="line" data-startTime="2023">Chrome Mobile debugging. </span></p>

<p class="speaker"><span class="line" data-starttime="2027"><span class="speakerName">Ilya Grigorik</span>: It's </span><span class="line" data-startTime="2027">an awesome tool. </span><span class="line" data-startTime="2028">If you guys haven't used it </span><span class="line" data-startTime="2028">before, we definitely </span><span class="line" data-startTime="2030">recommend it. </span><span class="line" data-startTime="2031">But here we're talking about a </span><span class="line" data-startTime="2031">slightly different use case, </span><span class="line" data-startTime="2033">which is let's say I have an </span><span class="line" data-startTime="2033">older phone or a phone with a </span><span class="line" data-startTime="2036">browser that doesn't support </span><span class="line" data-startTime="2036">this kind of thing. </span><span class="line" data-startTime="2038">Could I still get access </span><span class="line" data-startTime="2038">to this data? </span><span class="line" data-startTime="2041">It's actually a little bit </span><span class="line" data-startTime="2041">tricky if you think about it. </span><span class="line" data-startTime="2044">How do you do that? </span><span class="line" data-startTime="2046">So there's a trick. </span><span class="line" data-startTime="2049">I made a diagram just </span><span class="line" data-startTime="2049">to explain it. </span></p>

<p class="speaker"><span class="line" data-starttime="2051"><span class="speakerName">Peter Lubbers</span>: It involves </span><span class="line" data-startTime="2051">a proxy server. </span></p>

<p class="speaker"><span class="line" data-starttime="2052"><span class="speakerName">Ilya Grigorik</span>: Yes, it involves </span><span class="line" data-startTime="2052">a proxy server. </span> <span class="line" data-startTime="2054">So here's the trick. </span> <span class="line" data-startTime="2056">You have your phone. </span> <span class="line" data-startTime="2057">And I will assume that </span><span class="line" data-startTime="2057">your phone can </span><span class="line" data-startTime="2059">connect to a Wi-Fi hotspot. </span> <span class="line" data-startTime="2062">That's a requirement, </span><span class="line" data-startTime="2062">unfortunately. </span> <span class="line" data-startTime="2063">If you can't do that, then </span><span class="line" data-startTime="2063">you can't use this trick. </span> <span class="line" data-startTime="2066">But let's assume it does. </span> <span class="line" data-startTime="2067">So what we do is we take our </span><span class="line" data-startTime="2067">laptop, and we actually start </span><span class="line" data-startTime="2070">a Wi-Fi hotspot on it, </span><span class="line" data-startTime="2070">so it becomes &mdash; </span><span class="line" data-startTime="2075">starts to broadcast. </span> <span class="line" data-startTime="2077">We then connect our phone </span><span class="line" data-startTime="2077">to the laptop. </span> <span class="line" data-startTime="2081">And now if I'm browsing on my </span><span class="line" data-startTime="2081">phone, I'm actually going </span><span class="line" data-startTime="2083">through my laptop. </span> <span class="line" data-startTime="2085">So far, so good? </span><span class="line" data-startTime="2087">So what's going to happen is </span><span class="line" data-startTime="2087">when I make a request in my </span><span class="line" data-startTime="2089">mobile browser, it'll </span><span class="line" data-startTime="2089">go to my laptop. </span> <span class="line" data-startTime="2092">My laptop will go to the server </span><span class="line" data-startTime="2092">and just kind of funnel </span><span class="line" data-startTime="2094">data back and forth. </span> <span class="line" data-startTime="2095">Now, given that the data is </span><span class="line" data-startTime="2095">flowing through the laptop, we </span><span class="line" data-startTime="2098">can actually capture the data </span><span class="line" data-startTime="2098">with a low-level tool like a </span><span class="line" data-startTime="2102">TCP dump, or Wireshark. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="2103"><span class="speakerName">Peter Lubbers</span>: Exactly. </span><span class="line" data-startTime="2104">I was going to say with </span><span class="line" data-startTime="2104">Wireshark, you can capture </span><span class="line" data-startTime="2107">everything. </span></p>

<p class="speaker"><span class="line" data-starttime="2107"><span class="speakerName">Ilya Grigorik</span>: We can just say </span><span class="line" data-startTime="2107">capture on this interface, or </span><span class="line" data-startTime="2110">this specific port, or this IP, </span><span class="line" data-startTime="2110">all that kind of stuff. </span><span class="line" data-startTime="2113">So you run that capture, and </span><span class="line" data-startTime="2113">what you get out of it is a </span><span class="line" data-startTime="2117">PCAP file, which is just </span><span class="line" data-startTime="2117">a very low-level &mdash; </span><span class="line" data-startTime="2120">here are the IP packets and TCP </span><span class="line" data-startTime="2120">packets that are flowing </span><span class="line" data-startTime="2124">over the wire. </span><span class="line" data-startTime="2124">So this is nothing that you </span><span class="line" data-startTime="2124">would consume without an </span><span class="line" data-startTime="2128">additional tool. </span></p>

<p class="speaker"><span class="line" data-starttime="2129"><span class="speakerName">Peter Lubbers</span>: It's not </span><span class="line" data-startTime="2129">in a HAR format. </span></p>

<p class="speaker"><span class="line" data-starttime="2130"><span class="speakerName">Ilya Grigorik</span>: No. </span><span class="line" data-startTime="2131">Unfortunately not. </span><span class="line" data-startTime="2132">I actually have a file that </span><span class="line" data-startTime="2132">I'll show you guys. </span><span class="line" data-startTime="2137">I have a sample Wikipedia file </span><span class="line" data-startTime="2137">where I captured a PCAP file. </span><span class="line" data-startTime="2141">If I just open this in </span><span class="line" data-startTime="2141">Vim, it's gibberish. </span><span class="line" data-startTime="2144">Because it's a binary format, </span><span class="line" data-startTime="2144">not anything too interesting. </span><span class="line" data-startTime="2148">Now it turns out that there is </span><span class="line" data-startTime="2148">actually a tool called PCAP to </span><span class="line" data-startTime="2153">HAR, which will take those </span><span class="line" data-startTime="2153">IP packets and basically </span><span class="line" data-startTime="2157">reconstruct &mdash; </span><span class="line" data-startTime="2158">or TCP packets, and reconstruct </span><span class="line" data-startTime="2158">the entire flow </span><span class="line" data-startTime="2162">and create a HAR file. </span><span class="line" data-startTime="2166">Actually, let me see if I </span><span class="line" data-startTime="2166">can find this tool here. </span><span class="line" data-startTime="2171">You can use PCAP to HAR </span><span class="line" data-startTime="2171">to manually do this. </span><span class="line" data-startTime="2173">So you capture the PCAP file. </span><span class="line" data-startTime="2174">And then you get a HAR file out </span><span class="line" data-startTime="2174">of it, and then you can </span><span class="line" data-startTime="2177">use the HAR Ruby gem </span><span class="line" data-startTime="2177">to visualize it. </span><span class="line" data-startTime="2179">Or there's this web app which </span><span class="line" data-startTime="2179">allows you to just </span><span class="line" data-startTime="2182">upload a PCAP file. </span><span class="line" data-startTime="2184">And it'll do the encoding, </span><span class="line" data-startTime="2184">and it will just </span><span class="line" data-startTime="2185">show you the thing. </span><span class="line" data-startTime="2187">Let me show you this. </span><span class="line" data-startTime="2189">So I have my Wikipedia </span><span class="line" data-startTime="2189">HAR file here. </span></p>

<p class="speaker"><span class="line" data-starttime="2191"><span class="speakerName">Peter Lubbers</span>: No, </span><span class="line" data-startTime="2191">it's a PCAP file. </span></p>

<p class="speaker"><span class="line" data-starttime="2193"><span class="speakerName">Ilya Grigorik</span>: Sorry, </span><span class="line" data-startTime="2193">PCAP file. </span><span class="line" data-startTime="2196">And I'm just going </span><span class="line" data-startTime="2196">to hit Upload. </span><span class="line" data-startTime="2198">And so we're doing is we're </span><span class="line" data-startTime="2198">uploading the raw binary data. </span><span class="line" data-startTime="2201">It's going to run the </span><span class="line" data-startTime="2201">transform to HAR. </span><span class="line" data-startTime="2204">And look at that. </span><span class="line" data-startTime="2205">Now we're looking at are the </span><span class="line" data-startTime="2205">waterfall chart as captured </span><span class="line" data-startTime="2209">from a mobile phone that perhaps </span><span class="line" data-startTime="2209">you couldn't configure </span><span class="line" data-startTime="2213">a proxy server on it or using </span><span class="line" data-startTime="2213">some browser that doesn't </span><span class="line" data-startTime="2216">support remote debugging. </span></p>

<p class="speaker"><span class="line" data-starttime="2218"><span class="speakerName">Peter Lubbers</span>: Can you </span><span class="line" data-startTime="2218">grab the HAR &mdash; </span><span class="line" data-startTime="2219">the raw data on the </span><span class="line" data-startTime="2219">other tab there? </span><span class="line" data-startTime="2222">The HAR JSON, yeah, OK. </span></p>

<p class="speaker"><span class="line" data-starttime="2225"><span class="speakerName">Ilya Grigorik</span>: You can also </span><span class="line" data-startTime="2225">explore it, or you can click </span><span class="line" data-startTime="2227">on the Download HAR File, </span><span class="line" data-startTime="2227">and there you go. </span></p>

<p class="speaker"><span class="line" data-starttime="2230"><span class="speakerName">Peter Lubbers</span>: Full circle. </span></p>

<p class="speaker"><span class="line" data-starttime="2230"><span class="speakerName">Ilya Grigorik</span>: So this tool &mdash; </span><span class="line" data-startTime="2232">and we're only scratching </span><span class="line" data-startTime="2232">the surface, here. </span><span class="line" data-startTime="2234">We just spent what? </span><span class="line" data-startTime="2235">40 minutes talking about </span><span class="line" data-startTime="2235">all the different </span><span class="line" data-startTime="2237">ways we can use this. </span><span class="line" data-startTime="2239">But I think we've only scratched </span><span class="line" data-startTime="2239">the surface. </span><span class="line" data-startTime="2242">Because we can use </span><span class="line" data-startTime="2242">it on the server. </span><span class="line" data-startTime="2243">We can use it to automate </span><span class="line" data-startTime="2243">performance monitoring. </span><span class="line" data-startTime="2247">I think instrumentation </span><span class="line" data-startTime="2247">is key. </span><span class="line" data-startTime="2249">So having tools like &mdash; combining </span><span class="line" data-startTime="2249">tools like HAR </span><span class="line" data-startTime="2252">Storage, HAR Viewer and others, </span><span class="line" data-startTime="2252">you can literally </span><span class="line" data-startTime="2255">build a performance monitoring </span><span class="line" data-startTime="2255">dashboard for your site or for </span><span class="line" data-startTime="2260">your company in a </span><span class="line" data-startTime="2260">couple of hours. </span></p>

<p class="speaker"><span class="line" data-starttime="2263"><span class="speakerName">Peter Lubbers</span>: Yeah, because </span><span class="line" data-startTime="2263">there's so many </span><span class="line" data-startTime="2264">tools around it. </span><span class="line" data-startTime="2268">So let's see if we have </span><span class="line" data-startTime="2268">any other questions. </span><span class="line" data-startTime="2273">Oh, first of all, the links. </span></p>

<p class="speaker"><span class="line" data-starttime="2277"><span class="speakerName">Ilya Grigorik</span>: We covered </span><span class="line" data-startTime="2277">a lot of stuff in here. </span><span class="line" data-startTime="2279">So I actually created a quick </span><span class="line" data-startTime="2279">gist of a whole bunch of </span><span class="line" data-startTime="2282">different links for some of </span><span class="line" data-startTime="2282">the tools that we covered. </span><span class="line" data-startTime="2285">I tried to capture </span><span class="line" data-startTime="2285">them all here. </span><span class="line" data-startTime="2286">So if you guys go to </span><span class="line" data-startTime="2286">bit.ly/har-show, you'll find </span><span class="line" data-startTime="2290">all the links in there. </span><span class="line" data-startTime="2291">And we'll actually also push </span><span class="line" data-startTime="2291">out a blog post later today </span><span class="line" data-startTime="2294">with a little bit more </span><span class="line" data-startTime="2294">information on it. </span></p>

<p class="speaker"><span class="line" data-starttime="2295"><span class="speakerName">Peter Lubbers</span>: Put it on their </span><span class="line" data-startTime="2295">Chrome Developers, Google+ </span><span class="line" data-startTime="2299">page and link to it. </span></p>

<p class="speaker"><span class="line" data-starttime="2299"><span class="speakerName">Ilya Grigorik</span>: But I would </span><span class="line" data-startTime="2299">definitely encourage you guys </span><span class="line" data-startTime="2300">to just explore it, play </span><span class="line" data-startTime="2300">with the HAR viewer. </span><span class="line" data-startTime="2305">Definitely try Phantom and see </span><span class="line" data-startTime="2305">what you can do with it. </span><span class="line" data-startTime="2307">Actually, one quick </span><span class="line" data-startTime="2307">note on Phantom. </span><span class="line" data-startTime="2310">When you download the file, it </span><span class="line" data-startTime="2310">comes with example files. </span><span class="line" data-startTime="2313">I showed you the NetSniff. </span><span class="line" data-startTime="2314">There's actually a small </span><span class="line" data-startTime="2314">bug in the NetSniff </span><span class="line" data-startTime="2316">file, which I fixed. </span><span class="line" data-startTime="2317">And you guys should go to the </span><span class="line" data-startTime="2317">GitHub page for Phantom and </span><span class="line" data-startTime="2323">just copy the latest </span><span class="line" data-startTime="2323">NetSniff file. </span><span class="line" data-startTime="2325">So it's there, it's fixed. </span><span class="line" data-startTime="2326">It's just not on the latest </span><span class="line" data-startTime="2326">release, so just FYI. </span></p>

<p class="speaker"><span class="line" data-starttime="2329"><span class="speakerName">Peter Lubbers</span>: We'll make </span><span class="line" data-startTime="2329">a note of it on here. </span><span class="line" data-startTime="2332">Let's take a look if there's </span><span class="line" data-startTime="2332">any questions on the &mdash; </span><span class="line" data-startTime="2334">OK, there's a couple. </span></p>

<p class="speaker"><span class="line" data-starttime="2336"><span class="speakerName">Ilya Grigorik</span>: So we got a </span><span class="line" data-startTime="2336">question from Steve Sauders. </span> <span class="line" data-startTime="2339">Wow, I think I know that guy. </span> <span class="line" data-startTime="2341">"Does a HAR file contain </span><span class="line" data-startTime="2341">the response bodies?" </span><span class="line" data-startTime="2344">So by default, when you export </span><span class="line" data-startTime="2344">out of, let's say, Chrome </span><span class="line" data-startTime="2347">Developer Tools, it does not </span><span class="line" data-startTime="2347">contain the response body. </span> <span class="line" data-startTime="2350">But there is no reason </span><span class="line" data-startTime="2350">why it can't. </span> <span class="line" data-startTime="2353">So if you're writing your own </span><span class="line" data-startTime="2353">tool, so for example, if </span><span class="line" data-startTime="2354">you're scripting Phantom or </span><span class="line" data-startTime="2354">something like that, no reason </span><span class="line" data-startTime="2359">why you can't include it. </span> <span class="line" data-startTime="2360">And I think would be really </span><span class="line" data-startTime="2360">cool if, for example, HTTP </span><span class="line" data-startTime="2364">Archive actually stored </span><span class="line" data-startTime="2364">the bodies &mdash; </span><span class="line" data-startTime="2366">sorry, httparchive.org, </span><span class="line" data-startTime="2366">the site. </span> <span class="line" data-startTime="2370">And then you could do </span><span class="line" data-startTime="2370">more interesting </span><span class="line" data-startTime="2371">analysis over time. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="2373"><span class="speakerName">Peter Lubbers</span>: Sure. </span><span class="line" data-startTime="2374">They would require a lot </span><span class="line" data-startTime="2374">more storage space. </span></p>

<p class="speaker"><span class="line" data-starttime="2376"><span class="speakerName">Ilya Grigorik</span>: Yes, </span><span class="line" data-startTime="2376">absolutely. </span></p>

<p class="speaker"><span class="line" data-starttime="2377"><span class="speakerName">Peter Lubbers</span>: I think that's </span><span class="line" data-startTime="2377">why it's not there by default. </span></p>

<p class="speaker"><span class="line" data-starttime="2380"><span class="speakerName">Ilya Grigorik</span>: Yes. </span><span class="line" data-startTime="2380">Well, exactly. </span><span class="line" data-startTime="2382">PETER LUBBERS: "What about </span><span class="line" data-startTime="2382">compressing HAR files?" </span><span class="line" data-startTime="2385">Interesting. </span><span class="line" data-startTime="2386">ILYA GRIGORIK:Well, yeah, as we </span><span class="line" data-startTime="2386">saw, we exported one trace, </span><span class="line" data-startTime="2388">5,000 lines of JSON. </span><span class="line" data-startTime="2390">If you're storing these things </span><span class="line" data-startTime="2390">over time, you probably want </span><span class="line" data-startTime="2393">to compress them, and they will </span><span class="line" data-startTime="2393">compress incredibly well. </span><span class="line" data-startTime="2401">Coming out of Chrome Dev Tools </span><span class="line" data-startTime="2401">or other tools, you're just </span><span class="line" data-startTime="2403">going to get the raw </span><span class="line" data-startTime="2403">file, the raw JSON. </span><span class="line" data-startTime="2405">It's up to you if you want to </span><span class="line" data-startTime="2405">store it, to archive it &mdash; or, </span><span class="line" data-startTime="2408">sorry, to compress it. </span></p>

<p class="speaker"><span class="line" data-starttime="2410"><span class="speakerName">Peter Lubbers</span>: So "can the HAR </span><span class="line" data-startTime="2410">format be extended to support </span><span class="line" data-startTime="2413">information about requests </span><span class="line" data-startTime="2413">that don't make it to the </span><span class="line" data-startTime="2415">server, but instead hit the </span><span class="line" data-startTime="2415">cache?" Interesting. </span></p>

<p class="speaker"><span class="line" data-starttime="2419"><span class="speakerName">Ilya Grigorik</span>: Actually, if </span><span class="line" data-startTime="2419">you capture the &mdash; if you </span><span class="line" data-startTime="2422">export out of Chrome </span><span class="line" data-startTime="2422">Dev Tools, it will </span><span class="line" data-startTime="2423">contain that data. </span><span class="line" data-startTime="2427">If you load your developer </span><span class="line" data-startTime="2427">tools, it does show requests </span><span class="line" data-startTime="2430">that are coming from </span><span class="line" data-startTime="2430">the cache. </span><span class="line" data-startTime="2432">It actually indicates that. </span><span class="line" data-startTime="2433">And it will be there in </span><span class="line" data-startTime="2433">the exported HAR data. </span><span class="line" data-startTime="2438">And the reason they &mdash; usually </span><span class="line" data-startTime="2438">the quick way to spot it is </span><span class="line" data-startTime="2441">when you look at those chunks </span><span class="line" data-startTime="2441">of JSON, you will see that </span><span class="line" data-startTime="2444">some requests don't have </span><span class="line" data-startTime="2444">any HTTP headers. </span><span class="line" data-startTime="2446">That's a giveaway that this </span><span class="line" data-startTime="2446">came out of the cache. </span></p>

<p class="speaker"><span class="line" data-starttime="2452"><span class="speakerName">Peter Lubbers</span>: A couple more. </span></p>

<p class="speaker"><span class="line" data-starttime="2458"><span class="speakerName">Ilya Grigorik</span>: So "BrowserMob </span><span class="line" data-startTime="2458">proxy will capture and produce </span><span class="line" data-startTime="2460">a HAR file. </span><span class="line" data-startTime="2461">And Charles can also be used as </span><span class="line" data-startTime="2461">a proxy to generate HAR." </span><span class="line" data-startTime="2465">right, so I think this is more </span><span class="line" data-startTime="2465">of a note from Andy, which is </span><span class="line" data-startTime="2468">a really good point, which is we </span><span class="line" data-startTime="2468">talked about exporting this </span><span class="line" data-startTime="2472">out of a browser. </span><span class="line" data-startTime="2473">But you can use a tool like </span><span class="line" data-startTime="2473">Charles Proxy, or Fiddler, or </span><span class="line" data-startTime="2478">something else where it's </span><span class="line" data-startTime="2478">a standalone app. </span><span class="line" data-startTime="2480">So I could actually run a proxy </span><span class="line" data-startTime="2480">server on my laptop, and </span><span class="line" data-startTime="2484">then connect from this laptop </span><span class="line" data-startTime="2484">here to just proxy everything </span><span class="line" data-startTime="2488">through it, and capture this </span><span class="line" data-startTime="2488">data, capture the HAR files on </span><span class="line" data-startTime="2491">this device. </span><span class="line" data-startTime="2493">So that's a really good point. </span></p>

<p class="speaker"><span class="line" data-starttime="2496"><span class="speakerName">Peter Lubbers</span>: OK, one more. </span><span class="line" data-startTime="2497">"When you were looking at the </span><span class="line" data-startTime="2497">HAR viewer, a JPEG appeared as </span><span class="line" data-startTime="2500">the first request rather </span><span class="line" data-startTime="2500">than the HTML page. </span><span class="line" data-startTime="2502">Why does this happen?" </span></p>

<p class="speaker"><span class="line" data-starttime="2505"><span class="speakerName">Ilya Grigorik</span>: That's </span><span class="line" data-startTime="2505">a good question. </span><span class="line" data-startTime="2506">That could be a bug. </span><span class="line" data-startTime="2508">But every request that is made </span><span class="line" data-startTime="2508">has a timestamp within the </span><span class="line" data-startTime="2515">actual export. </span><span class="line" data-startTime="2515">So it'll say when the request </span><span class="line" data-startTime="2515">started, which is how we </span><span class="line" data-startTime="2519">determine in Dev Tools </span><span class="line" data-startTime="2519">where in the </span><span class="line" data-startTime="2521">timeline it should live. </span><span class="line" data-startTime="2523">So I'm not sure if the HAR spec </span><span class="line" data-startTime="2523">specifically says that it </span><span class="line" data-startTime="2526">must be sorted in order. </span><span class="line" data-startTime="2527">Maybe it does, maybe </span><span class="line" data-startTime="2527">it doesn't. </span><span class="line" data-startTime="2529">But you can easily resort that </span><span class="line" data-startTime="2529">data based on the timestamp </span><span class="line" data-startTime="2532">and get the exact timeline. </span><span class="line" data-startTime="2535">Cool. </span><span class="line" data-startTime="2536">So I think that that </span><span class="line" data-startTime="2536">covers it. </span></p>

<p class="speaker"><span class="line" data-starttime="2537"><span class="speakerName">Peter Lubbers</span>: That was great. </span></p>

<p class="speaker"><span class="line" data-starttime="2540"><span class="speakerName">Ilya Grigorik</span>: This is </span><span class="line" data-startTime="2540">definitely a power tool. </span><span class="line" data-startTime="2543">Lots and lots of stuff that </span><span class="line" data-startTime="2543">you can do with it. </span><span class="line" data-startTime="2545">And I think, once again, </span><span class="line" data-startTime="2545">instrumentation is key for </span><span class="line" data-startTime="2549">anything to do with </span><span class="line" data-startTime="2549">performance. </span></p>

<p class="speaker"><span class="line" data-starttime="2552"><span class="speakerName">Peter Lubbers</span>: And all these </span><span class="line" data-startTime="2552">tools, there's so much support </span><span class="line" data-startTime="2554">for it that this is really the </span><span class="line" data-startTime="2554">way to go for all of this &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2557"><span class="speakerName">Ilya Grigorik</span>: Yeah, so I </span><span class="line" data-startTime="2557">definitely encourage you guys </span><span class="line" data-startTime="2558">to play with it. </span></p>

<p class="speaker"><span class="line" data-starttime="2560"><span class="speakerName">Peter Lubbers</span>: So we'll </span><span class="line" data-startTime="2560">post the links. </span><span class="line" data-startTime="2562">We'll post it on the Chrome </span><span class="line" data-startTime="2562">Developer Google+ page. </span><span class="line" data-startTime="2569">You'll be posting your </span><span class="line" data-startTime="2569">blog pretty soon? </span></p>

<p class="speaker"><span class="line" data-starttime="2571"><span class="speakerName">Ilya Grigorik</span>: I'll have a blog </span><span class="line" data-startTime="2571">post up soon as well, </span><span class="line" data-startTime="2573">just documenting some of </span><span class="line" data-startTime="2573">the examples here. </span><span class="line" data-startTime="2575">And then maybe just </span><span class="line" data-startTime="2575">one quick note. </span><span class="line" data-startTime="2577">I think we're done with this. </span><span class="line" data-startTime="2578">But in our next episode, we're </span><span class="line" data-startTime="2578">actually going to take a look </span><span class="line" data-startTime="2581">at Google web fonts, which </span><span class="line" data-startTime="2581">is going to be </span><span class="line" data-startTime="2584">a really fun topic. </span><span class="line" data-startTime="2585">I love web fonts. </span><span class="line" data-startTime="2586">A lot of people have issues with </span><span class="line" data-startTime="2586">web fonts when it comes </span><span class="line" data-startTime="2589">to performance. </span><span class="line" data-startTime="2589">So we're going to do a deep dive </span><span class="line" data-startTime="2589">on what it takes to make </span><span class="line" data-startTime="2594">web fonts fast and what Google </span><span class="line" data-startTime="2594">Web Fonts specifically does to </span><span class="line" data-startTime="2596">make web fonts fast. </span></p>

<p class="speaker"><span class="line" data-starttime="2597"><span class="speakerName">Peter Lubbers</span>: And that's </span><span class="line" data-startTime="2597">in two weeks? </span><span class="line" data-startTime="2599">Same time, right? </span></p>

<p class="speaker"><span class="line" data-starttime="2600"><span class="speakerName">Ilya Grigorik</span>: Yep, two weeks. </span><span class="line" data-startTime="2601">So yeah, Tuesday. </span></p>

<p class="speaker"><span class="line" data-starttime="2602"><span class="speakerName">Peter Lubbers</span>: We'll </span><span class="line" data-startTime="2602">announce it. </span><span class="line" data-startTime="2604">Excellent. </span></p>

<p class="speaker"><span class="line" data-starttime="2605"><span class="speakerName">Ilya Grigorik</span>: Awesome. </span><span class="line" data-startTime="2605">Thank you guys. </span></p>

<p class="speaker"><span class="line" data-starttime="2606"><span class="speakerName">Peter Lubbers</span>: Thanks a lot. </span><span class="line" data-startTime="2607">[MUSIC PLAYING] </span></p>