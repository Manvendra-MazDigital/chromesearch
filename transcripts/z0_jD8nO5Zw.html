<style>* {font-family: "Open Sans", sans-serif}
a {color: #77aaff}
a.video {border-bottom: 1px solid #ddd; display: block; margin: 0 0 2em 0; padding: 0 0 2em 0}
h2 {color: #444; font-size: 18px;}
span.speakerName {color: black; font-weight: 900;}
body {padding: 2em}
p {color: #444; margin: 0; text-indent: 1.5em;}
p.speaker {margin: 1em 0 0 0; text-indent: 0;}
div#transcript > p:first-child {text-indent: 0;}
</style>

<h1>Chrome Office Hours: Performance</h1>

<h2>Paul Irish, Paul Lewis</h2>

<a class="video" href="http://youtu.be/z0_jD8nO5Zw">youtu.be/z0_jD8nO5Zw</a><div id="transcript"><p class="speaker"><span class="line" data-starttime="1"><span class="speakerName">Paul Irish</span>: Hi, I'm Paul. </span></p>

<p class="speaker"><span class="line" data-starttime="2"><span class="speakerName">Paul Lewis</span>: Hi, I'm Paul. </span></p>

<p class="speaker"><span class="line" data-starttime="3"><span class="speakerName">Paul Irish</span>: We're going to </span><span class="line" data-startTime="3">be taking a look at the </span><span class="line" data-startTime="5">performance of your sites </span><span class="line" data-startTime="5">and apps that you've </span><span class="line" data-startTime="7">submitted to us. </span></p>

<p class="speaker"><span class="line" data-starttime="8"><span class="speakerName">Paul Lewis</span>: Now, we've </span><span class="line" data-startTime="8">taken a very quick </span><span class="line" data-startTime="9">look at some of them. </span><span class="line" data-startTime="10">But we haven't spent that long </span><span class="line" data-startTime="10">doing it, just so that we can </span><span class="line" data-startTime="12">show you how we kind of come </span><span class="line" data-startTime="12">at these things fresh. </span></p>

<p class="speaker"><span class="line" data-starttime="14"><span class="speakerName">Paul Irish</span>: So we're going to be </span><span class="line" data-startTime="14">doing an audit of both the </span><span class="line" data-startTime="15">page load time &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="16"><span class="speakerName">Paul Lewis</span>:  &mdash; and </span><span class="line" data-startTime="16">the run time. </span></p>

<p class="speaker"><span class="line" data-starttime="18"><span class="speakerName">Paul Irish</span>: And &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="18"><span class="speakerName">Paul Lewis</span>: Well, let's </span><span class="line" data-startTime="18">get on with i. </span></p>

<p class="speaker"><span class="line" data-starttime="19"><span class="speakerName">Paul Irish</span>: OK, cool. </span><span class="line" data-startTime="20">So these were the sites </span><span class="line" data-startTime="20">that you submitted. </span><span class="line" data-startTime="23">And let's just &mdash; we're going </span><span class="line" data-startTime="23">to just take a few of them. </span><span class="line" data-startTime="27">So the first one to come </span><span class="line" data-startTime="27">up is myunidays. </span><span class="line" data-startTime="30">Uh, Paul. </span></p>

<p class="speaker"><span class="line" data-starttime="31"><span class="speakerName">Paul Lewis</span>: Yes? </span></p>

<p class="speaker"><span class="line" data-starttime="32"><span class="speakerName">Paul Irish</span>: I know that </span><span class="line" data-startTime="32">you took a look. </span><span class="line" data-startTime="33">And it looked interesting. </span></p>

<p class="speaker"><span class="line" data-starttime="34"><span class="speakerName">Paul Lewis</span>: It did. </span><span class="line" data-startTime="35">It did. </span></p>

<p class="speaker"><span class="line" data-starttime="35"><span class="speakerName">Paul Irish</span>: Want </span><span class="line" data-startTime="35">to drive this? </span></p>

<p class="speaker"><span class="line" data-starttime="36"><span class="speakerName">Paul Lewis</span>: All right. </span> <span class="line" data-startTime="37">So step one always for these </span><span class="line" data-startTime="37">things, for me at least, is to </span><span class="line" data-startTime="41">do a timeline. </span> <span class="line" data-startTime="43">So go into DevTools. </span> <span class="line" data-startTime="45">Hit Timeline. </span> <span class="line" data-startTime="46">Go to frames mode. </span> <span class="line" data-startTime="48">And you can hit Command </span><span class="line" data-startTime="48">E, which should </span><span class="line" data-startTime="50">start things recording. </span> <span class="line" data-startTime="51">And then normally, I'll just </span><span class="line" data-startTime="51">do a bit of a scroll test, </span><span class="line" data-startTime="53">maybe interact with a few </span><span class="line" data-startTime="53">things, just kind of get the </span><span class="line" data-startTime="55">sense of what's going on. </span> <span class="line" data-startTime="56">And oh, you've got an unusual </span><span class="line" data-startTime="56">keyboard now. </span></p>

<p><span class="line" data-startTime="59">How do we get back </span><span class="line" data-startTime="59">to &mdash; there we go. </span></p>

<p class="speaker"><span class="line" data-starttime="61"><span class="speakerName">Paul Irish</span>: There we go. </span></p>

<p class="speaker"><span class="line" data-starttime="61"><span class="speakerName">Paul Lewis</span>: All right. </span><span class="line" data-startTime="62">That's good. </span><span class="line" data-startTime="62">Now um &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="63"><span class="speakerName">Paul Irish</span>: So what </span><span class="line" data-startTime="63">do we see here? </span></p>

<p class="speaker"><span class="line" data-starttime="64"><span class="speakerName">Paul Lewis</span>: Yeah, so the first </span><span class="line" data-startTime="64">thing that we really, really </span><span class="line" data-startTime="65">care about is the fact that </span><span class="line" data-startTime="65">we've got this 60 frames a </span><span class="line" data-startTime="67">second line and then the 30 </span><span class="line" data-startTime="67">frames a second line. </span> <span class="line" data-startTime="70">And you can see that that's </span><span class="line" data-startTime="70">on the right hand </span><span class="line" data-startTime="71">side of the top part. </span> <span class="line" data-startTime="73">Now we never want our bars to </span><span class="line" data-startTime="73">go above the 60 frames a </span><span class="line" data-startTime="76">second line. </span> <span class="line" data-startTime="76">This is kind of super </span><span class="line" data-startTime="76">critical. </span> <span class="line" data-startTime="78">If we want a 60 frames a </span><span class="line" data-startTime="78">second app, which we </span><span class="line" data-startTime="79">do, never go above. </span> <span class="line" data-startTime="81">Now you can see, we are </span><span class="line" data-startTime="81">obviously going way above on </span><span class="line" data-startTime="83">some of these. </span></p>

<p><span class="line" data-startTime="84">So just by clicking in the </span><span class="line" data-startTime="84">timeline, you start to figure </span><span class="line" data-startTime="88">out what's actually going on. </span> <span class="line" data-startTime="90">Now this is the thing that </span><span class="line" data-startTime="90">really started to bother me, </span><span class="line" data-startTime="93">which is this little exclamation </span><span class="line" data-startTime="93">mark what you can </span><span class="line" data-startTime="95">see on the left hand side. </span> <span class="line" data-startTime="97">So if we spin this &mdash; </span><span class="line" data-startTime="98">oh. </span></p>

<p class="speaker"><span class="line" data-starttime="99"><span class="speakerName">Paul Irish</span>: Just click </span><span class="line" data-startTime="99">around here. </span><span class="line" data-startTime="100">There you go. </span></p>

<p class="speaker"><span class="line" data-starttime="100"><span class="speakerName">Paul Lewis</span>: OK. </span> <span class="line" data-startTime="100">Spin this down. </span> <span class="line" data-startTime="102">You can see that we get </span><span class="line" data-startTime="102">some recalc style, </span><span class="line" data-startTime="104">and we get some layout. </span> <span class="line" data-startTime="106">And you can see that there's </span><span class="line" data-startTime="106">this little exclamation mark </span><span class="line" data-startTime="108">on the left hand side. </span> <span class="line" data-startTime="109">And that's basically &mdash; when you </span><span class="line" data-startTime="109">roll over the exclamation </span><span class="line" data-startTime="112">mark, you see this note. "Forced </span><span class="line" data-startTime="112">synchronous layout is </span><span class="line" data-startTime="114">a possible performance </span><span class="line" data-startTime="114">bottleneck." </span><span class="line" data-startTime="116">Now what's really happening here </span><span class="line" data-startTime="116">is we've forced Chrome to </span><span class="line" data-startTime="120">answer a question about the </span><span class="line" data-startTime="120">dimension or the position of </span><span class="line" data-startTime="122">an element when it wasn't </span><span class="line" data-startTime="122">really expecting to. </span> <span class="line" data-startTime="125">So it has to go off, and it has </span><span class="line" data-startTime="125">to lay out a whole of the </span><span class="line" data-startTime="128">page &mdash; probably, in this case &mdash; </span><span class="line" data-startTime="128">plus the partial scope. </span> <span class="line" data-startTime="130">So not the whole page, but it </span><span class="line" data-startTime="130">still had to do some work that </span><span class="line" data-startTime="132">it didn't expect to </span><span class="line" data-startTime="132">do in layout. </span> <span class="line" data-startTime="134">Then the next we're actually </span><span class="line" data-startTime="134">going to do is probably change </span><span class="line" data-startTime="137">some style, recalculate. </span></p>

<p><span class="line" data-startTime="138">Recalculate style suggests that </span><span class="line" data-startTime="138">we then change things. </span> <span class="line" data-startTime="141">And that invalidated the </span><span class="line" data-startTime="141">previous calculation we did. </span> <span class="line" data-startTime="144">So then we lay out against. </span> <span class="line" data-startTime="145">So this is called layout </span><span class="line" data-startTime="145">thrashing. </span> <span class="line" data-startTime="147">And it's this idea of stepping </span><span class="line" data-startTime="147">back and forth, going layout, </span><span class="line" data-startTime="149">change some styles, layout, </span><span class="line" data-startTime="149">change some styles. </span></p>

<p class="speaker"><span class="line" data-starttime="151"><span class="speakerName">Paul Irish</span>: You'll see it &mdash; </span><span class="line" data-startTime="152">it'll commonly &mdash; in the </span><span class="line" data-startTime="152">DevTools, it'll visualize as a </span><span class="line" data-startTime="155">number of just purple bars, </span><span class="line" data-startTime="155">just a big kind </span><span class="line" data-startTime="159">of cascade of purple. </span><span class="line" data-startTime="161">Often &mdash; and on the left hand </span><span class="line" data-startTime="161">side, you'll see a kind of </span><span class="line" data-startTime="163">recalc val layout going </span><span class="line" data-startTime="163">back and forth. </span><span class="line" data-startTime="164">And hopefully, this little arrow </span><span class="line" data-startTime="164">indicating that yeah, </span><span class="line" data-startTime="167">this is a problem. </span></p>

<p class="speaker"><span class="line" data-starttime="168"><span class="speakerName">Paul Lewis</span>: Now, don't be </span><span class="line" data-startTime="168">confused by the fact that it's </span><span class="line" data-startTime="169">often wrapped in a yellow bar. </span><span class="line" data-startTime="171">It's triggered by JavaScript. </span><span class="line" data-startTime="172">But it's not JavaScript. </span><span class="line" data-startTime="174">Right? </span></p>

<p class="speaker"><span class="line" data-starttime="175"><span class="speakerName">Paul Irish</span>: Right. </span></p>

<p class="speaker"><span class="line" data-starttime="175"><span class="speakerName">Paul Lewis</span>: It can be triggered </span><span class="line" data-startTime="175">by CSS as well. </span><span class="line" data-startTime="177">But it's the fact that when </span><span class="line" data-startTime="177">it was in here, it was </span><span class="line" data-startTime="181">triggered &mdash; </span><span class="line" data-startTime="182">wherever it was. </span><span class="line" data-startTime="183">I forget now. </span></p>

<p class="speaker"><span class="line" data-starttime="184"><span class="speakerName">Paul Irish</span>: So next, what we can </span><span class="line" data-startTime="184">do is we can take a look </span><span class="line" data-startTime="187">at the actual code </span><span class="line" data-startTime="187">of what happens. </span> <span class="line" data-startTime="189">So we have a few options </span><span class="line" data-startTime="189">for doing this. </span> <span class="line" data-startTime="191">We can just click ahead in right </span><span class="line" data-startTime="191">here on the link for all </span><span class="line" data-startTime="194">JS line number 21. </span> <span class="line" data-startTime="197">So let's do that. </span> <span class="line" data-startTime="199">OK. </span> <span class="line" data-startTime="200">So line number 21 is </span><span class="line" data-startTime="200">the remainder of </span><span class="line" data-startTime="203">the minified jQuery. </span> <span class="line" data-startTime="205">So we'll use the prettify </span><span class="line" data-startTime="205">function down here. </span> <span class="line" data-startTime="208">[HUMMING] </span><span class="line" data-startTime="210">All right. </span> <span class="line" data-startTime="212">Now come back. </span> <span class="line" data-startTime="214">And so what we'll see &mdash; </span><span class="line" data-startTime="217">let's take a look </span><span class="line" data-startTime="217">at this again. </span> <span class="line" data-startTime="221">Oh, no. </span> <span class="line" data-startTime="222">I'm going to record </span><span class="line" data-startTime="222">another timeline. </span></p>

<p><span class="line" data-startTime="225">I'll just scroll like this. </span></p>

<p class="speaker"><span class="line" data-starttime="227"><span class="speakerName">Paul Lewis</span>: Yeah, yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="228"><span class="speakerName">Paul Irish</span>: Come back over, pick </span><span class="line" data-startTime="228">a long frame, go inside. </span></p>

<p class="speaker"><span class="line" data-starttime="234"><span class="speakerName">Paul Lewis</span>: Still doesn't </span><span class="line" data-startTime="234">like a bit &mdash; does </span><span class="line" data-startTime="235">the stack trace change? </span></p>

<p class="speaker"><span class="line" data-starttime="237"><span class="speakerName">Paul Irish</span>: No. </span><span class="line" data-startTime="238">What? </span><span class="line" data-startTime="239">Chrome Canary. </span><span class="line" data-startTime="242">Come on! </span></p>

<p class="speaker"><span class="line" data-starttime="244"><span class="speakerName">Paul Lewis</span>: All right. </span></p>

<p class="speaker"><span class="line" data-starttime="244"><span class="speakerName">Paul Irish</span>: So what I'd </span><span class="line" data-startTime="244">like to see is &mdash; </span><span class="line" data-startTime="246">what you'll normally catch in </span><span class="line" data-startTime="246">this case is &mdash; you'll catch an </span><span class="line" data-startTime="249">instance where the pretty print </span><span class="line" data-startTime="249">will adjust all the line </span><span class="line" data-startTime="255">numbers for the entire </span><span class="line" data-startTime="255">call stack. </span><span class="line" data-startTime="257">This means that after your </span><span class="line" data-startTime="257">pretty print, you can dive </span><span class="line" data-startTime="259">into the original location more </span><span class="line" data-startTime="259">or less and figure out </span><span class="line" data-startTime="263">what the story is. </span><span class="line" data-startTime="264">But the interesting part here is </span><span class="line" data-startTime="264">that we're going to be able </span><span class="line" data-startTime="269">to not only see kind of where </span><span class="line" data-startTime="269">this came &mdash; so let's try it </span><span class="line" data-startTime="272">once more, pretty print, and </span><span class="line" data-startTime="272">come back to timeline. </span></p>

<p class="speaker"><span class="line" data-starttime="278"><span class="speakerName">Paul Lewis</span>: Hey! </span><span class="line" data-startTime="279">So this is stable. </span><span class="line" data-startTime="280">He switched to Stable, in case </span><span class="line" data-startTime="280">you didn't notice that. </span></p>

<p class="speaker"><span class="line" data-starttime="282"><span class="speakerName">Paul Irish</span>: Yeah, yeah, </span><span class="line" data-startTime="282">Chrome Stable. </span><span class="line" data-startTime="283">All right. </span><span class="line" data-startTime="283">So now we have a line </span><span class="line" data-startTime="283">number of 3835. </span><span class="line" data-startTime="287">So if we click through </span><span class="line" data-startTime="287">on this &mdash; </span><span class="line" data-startTime="290">so we're inside of jQuery. </span></p>

<p class="speaker"><span class="line" data-starttime="292"><span class="speakerName">Paul Lewis</span>: What do you know? </span><span class="line" data-startTime="292">Offset width, offset height. </span><span class="line" data-startTime="294">These are kind of classic </span><span class="line" data-startTime="294">candidates for something &mdash; </span><span class="line" data-startTime="297">obviously, this is something </span><span class="line" data-startTime="297">that jQuery is using, which is </span><span class="line" data-startTime="300">perfectly reasonable to use. </span><span class="line" data-startTime="301">But it's something that &mdash; </span><span class="line" data-startTime="302">when you ask for the offset </span><span class="line" data-startTime="302">width or the offset height, </span><span class="line" data-startTime="304">Chrome's going to have </span><span class="line" data-startTime="304">to go off and </span><span class="line" data-startTime="306">figure out the for that. </span><span class="line" data-startTime="306">Right? </span></p>

<p class="speaker"><span class="line" data-starttime="307"><span class="speakerName">Paul Irish</span>: Right. </span> <span class="line" data-startTime="307">And so if we want to figure out </span><span class="line" data-startTime="307">why this happened, we can </span><span class="line" data-startTime="310">look at the call stack </span><span class="line" data-startTime="310">of this layout. </span> <span class="line" data-startTime="312">And so typically, what you're </span><span class="line" data-startTime="312">going to be looking at is this </span><span class="line" data-startTime="315">Layout Forced section </span><span class="line" data-startTime="315">down here. </span> <span class="line" data-startTime="316">Now this is the location that </span><span class="line" data-startTime="316">forced that layout. </span> <span class="line" data-startTime="320">In our case, it is that offset </span><span class="line" data-startTime="320">width, offset height. </span> <span class="line" data-startTime="323">But we can walk back </span><span class="line" data-startTime="323">to call stack. </span> <span class="line" data-startTime="325">See, we're inside jQuery, </span><span class="line" data-startTime="325">jQuery, jQuery. </span> <span class="line" data-startTime="326">But we get back to here, </span><span class="line" data-startTime="326">Get Size Info. </span> <span class="line" data-startTime="330">Here on Get Size Info, we're </span><span class="line" data-startTime="330">able to basically &mdash; </span><span class="line" data-startTime="335">whoops. </span></p>

<p><span class="line" data-startTime="336">Let me try that again. </span> <span class="line" data-startTime="338">I just want to make sure that </span><span class="line" data-startTime="338">this is big enough for </span><span class="line" data-startTime="339">everyone to see. </span> <span class="line" data-startTime="342">How about &mdash; </span><span class="line" data-startTime="344">there we go. </span></p>

<p class="speaker"><span class="line" data-starttime="345"><span class="speakerName">Paul Lewis</span>: How are </span><span class="line" data-startTime="345">we doing now? </span></p>

<p class="speaker"><span class="line" data-starttime="345"><span class="speakerName">Paul Irish</span>: There we go. </span><span class="line" data-startTime="346">Looking good. </span></p>

<p class="speaker"><span class="line" data-starttime="346"><span class="speakerName">Paul Lewis</span>: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="347"><span class="speakerName">Paul Irish</span>: All right. </span><span class="line" data-startTime="347">So Get Size Info, don't </span><span class="line" data-startTime="347">think it's jQuery. </span><span class="line" data-startTime="350">I'll click over to it in here. </span><span class="line" data-startTime="353">All right. </span><span class="line" data-startTime="354">So Get Size Info, we get </span><span class="line" data-startTime="354">the view port width. </span><span class="line" data-startTime="356">We grab the wrapper. </span><span class="line" data-startTime="357">We walk up its parent </span><span class="line" data-startTime="357">chain twice. </span><span class="line" data-startTime="360">And we get the width </span><span class="line" data-startTime="360">of that parent. </span><span class="line" data-startTime="362">And so it looks like Get Size </span><span class="line" data-startTime="362">Info is actually being called </span><span class="line" data-startTime="366">inside of tick. </span><span class="line" data-startTime="369">And tick is being called </span><span class="line" data-startTime="369">how often? </span></p>

<p class="speaker"><span class="line" data-starttime="375"><span class="speakerName">Paul Lewis</span>: Every two </span><span class="line" data-startTime="375">seconds, maybe. </span><span class="line" data-startTime="378">Maybe more. </span><span class="line" data-startTime="380">2,000, there we go. </span></p>

<p class="speaker"><span class="line" data-starttime="382"><span class="speakerName">Paul Irish</span>: Every two seconds. </span><span class="line" data-startTime="383">So that's &mdash; </span><span class="line" data-startTime="384">[INAUDIBLE] intervals. </span></p>

<p class="speaker"><span class="line" data-starttime="385"><span class="speakerName">Paul Lewis</span>: Because we figured </span><span class="line" data-startTime="385">this &mdash; is this part of the </span><span class="line" data-startTime="387">carousel or something </span><span class="line" data-startTime="387">like that? </span><span class="line" data-startTime="389">Do we know? </span></p>

<p class="speaker"><span class="line" data-starttime="390"><span class="speakerName">Paul Irish</span>: Yeah, scroll </span><span class="line" data-startTime="390">up a little bit. </span><span class="line" data-startTime="392">I think &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="394"><span class="speakerName">Paul Lewis</span>: There we go, </span><span class="line" data-startTime="394">function carousel. </span><span class="line" data-startTime="396">So there's a carousel </span><span class="line" data-startTime="396">on this site </span><span class="line" data-startTime="397">ticking every two seconds. </span><span class="line" data-startTime="399">It's kind of going into layout </span><span class="line" data-startTime="399">thrashing for whatever reason. </span><span class="line" data-startTime="402">Yeah, it's probably that one. </span></p>

<p class="speaker"><span class="line" data-starttime="404"><span class="speakerName">Paul Irish</span>: There are a </span><span class="line" data-startTime="404">few carousels there. </span></p>

<p class="speaker"><span class="line" data-starttime="405"><span class="speakerName">Paul Lewis</span>: OK, there </span><span class="line" data-startTime="405">are a few carousels. </span><span class="line" data-startTime="405">OK. </span><span class="line" data-startTime="406">So it's probably several </span><span class="line" data-startTime="406">carousels </span><span class="line" data-startTime="408">that are causing this. </span><span class="line" data-startTime="409">So you're always probably in </span><span class="line" data-startTime="409">some kind of recalc layout </span><span class="line" data-startTime="413">thrashing kind of mode at </span><span class="line" data-startTime="413">some points or other. </span></p>

<p class="speaker"><span class="line" data-starttime="417"><span class="speakerName">Paul Irish</span>: Right. </span><span class="line" data-startTime="418">In this case, there </span><span class="line" data-startTime="418">are a few options. </span><span class="line" data-startTime="419">It's likely that actually the </span><span class="line" data-startTime="419">width of that parent parent </span><span class="line" data-startTime="423">probably isn't going </span><span class="line" data-startTime="423">to be changing. </span><span class="line" data-startTime="425">You can &mdash; so if you're seeing </span><span class="line" data-startTime="425">this, and you want to avoid </span><span class="line" data-startTime="428">this time spent layout </span><span class="line" data-startTime="428">thrashing, you want to be able </span><span class="line" data-startTime="430">to cache these values, </span><span class="line" data-startTime="430">hold on to them. </span><span class="line" data-startTime="431">So you don't need to go back and </span><span class="line" data-startTime="431">re-query the DOM while the </span><span class="line" data-startTime="435">browser is trying to paint </span><span class="line" data-startTime="435">updates to the user. </span><span class="line" data-startTime="438">You want to just let </span><span class="line" data-startTime="438">it paint updates. </span><span class="line" data-startTime="440">And so give it all the </span><span class="line" data-startTime="440">truth ahead of time. </span></p>

<p class="speaker"><span class="line" data-starttime="442"><span class="speakerName">Paul Lewis</span>: If it is a </span><span class="line" data-startTime="442">responsive site, then you </span><span class="line" data-startTime="445">probably want to do it in things </span><span class="line" data-startTime="445">like the resize handler </span><span class="line" data-startTime="447">or something like that, just </span><span class="line" data-startTime="447">somewhere where you can </span><span class="line" data-startTime="449">actually say, look, I'm only </span><span class="line" data-startTime="449">carrying when you actually </span><span class="line" data-startTime="452">definitely resize this stuff. </span></p>

<p class="speaker"><span class="line" data-starttime="453"><span class="speakerName">Paul Irish</span>: So I </span><span class="line" data-startTime="453">would disagree. </span></p>

<p class="speaker"><span class="line" data-starttime="454"><span class="speakerName">Paul Lewis</span>: Ooh, where </span><span class="line" data-startTime="454">would you put it? </span><span class="line" data-startTime="456">PAUL IRISH: [LAUGHS] </span></p>

<p class="speaker"><span class="line" data-starttime="456"><span class="speakerName">Paul Lewis</span>: That's fine. </span><span class="line" data-startTime="456">What'd you do it in? rAF? </span></p>

<p class="speaker"><span class="line" data-starttime="457"><span class="speakerName">Paul Irish</span>: I did it in rAF. </span></p>

<p class="speaker"><span class="line" data-starttime="458"><span class="speakerName">Paul Lewis</span>: OK, he's </span><span class="line" data-startTime="458">just doing it &mdash; </span><span class="line" data-startTime="459">OK, fair enough. </span><span class="line" data-startTime="460">Do the [INAUDIBLE] and just set </span><span class="line" data-startTime="460">a rAF inside your resize </span><span class="line" data-startTime="462">handler, at which point </span><span class="line" data-startTime="462">you'll pick up the &mdash; </span><span class="line" data-startTime="465">PAUL IRISH: </span><span class="line" data-startTime="465">requestAnimationFrame. </span></p>

<p class="speaker"><span class="line" data-starttime="466"><span class="speakerName">Paul Lewis</span>: Yeah. </span><span class="line" data-startTime="467">That's fine. </span></p>

<p class="speaker"><span class="line" data-starttime="468"><span class="speakerName">Paul Irish</span>: So actually, </span><span class="line" data-startTime="468">I want to </span><span class="line" data-startTime="470">spend a moment on this. </span> <span class="line" data-startTime="471">Resize events. </span> <span class="line" data-startTime="474">There's only a few things that </span><span class="line" data-startTime="474">you should ever do inside of a </span><span class="line" data-startTime="477">resize event or a </span><span class="line" data-startTime="477">scroll event. </span> <span class="line" data-startTime="479">Let's take scroll because </span><span class="line" data-startTime="479">it's a little bit more </span><span class="line" data-startTime="480">common of an example. </span> <span class="line" data-startTime="482">Inside a scroll event, you can </span><span class="line" data-startTime="482">ask for, let's say, get the </span><span class="line" data-startTime="489">scroll top, the scroll </span><span class="line" data-startTime="489">top metric. </span> <span class="line" data-startTime="491">You ca also ask for the </span><span class="line" data-startTime="491">time, probably. </span> <span class="line" data-startTime="496">And that's about it. </span> <span class="line" data-startTime="496">You do not want to do any other </span><span class="line" data-startTime="496">work inside the handler. </span> <span class="line" data-startTime="500">So minimizing the amount of work </span><span class="line" data-startTime="500">that you're doing in the </span><span class="line" data-startTime="502">handler, do the work that you </span><span class="line" data-startTime="502">actually have to do inside of </span><span class="line" data-startTime="507">requestAnimationFrame. </span></p>

<p><span class="line" data-startTime="509">So that's where you're going </span><span class="line" data-startTime="509">to do your work. </span> <span class="line" data-startTime="510">And what this allows the </span><span class="line" data-startTime="510">browser to do is &mdash; </span><span class="line" data-startTime="512">it gets out of scroll. </span> <span class="line" data-startTime="514">When you bind a scroll, what it </span><span class="line" data-startTime="514">means is that when a person </span><span class="line" data-startTime="517">puts their finger down on the </span><span class="line" data-startTime="517">site, on your site, and </span><span class="line" data-startTime="522">scrolls the page like that, </span><span class="line" data-startTime="522">everything that you have bound </span><span class="line" data-startTime="525">to a scroll handler means &mdash; </span><span class="line" data-startTime="527">it has to execute that before it </span><span class="line" data-startTime="527">can even update the page to </span><span class="line" data-startTime="533">scroll it, reacting to </span><span class="line" data-startTime="533">that finger move. </span></p>

<p class="speaker"><span class="line" data-starttime="535"><span class="speakerName">Paul Lewis</span>: The other thing </span><span class="line" data-startTime="535">is you might actually get </span><span class="line" data-startTime="537">multiple scroll events </span><span class="line" data-startTime="537">per frame. </span><span class="line" data-startTime="539">Right? </span><span class="line" data-startTime="539">So if you're doing work in the &mdash; </span><span class="line" data-startTime="539">you only probably care </span><span class="line" data-startTime="542">about the last one. </span><span class="line" data-startTime="543">Right? </span></p>

<p class="speaker"><span class="line" data-starttime="543"><span class="speakerName">Paul Irish</span>: Right. </span></p>

<p class="speaker"><span class="line" data-starttime="543"><span class="speakerName">Paul Lewis</span>: And the other things </span><span class="line" data-startTime="543">you want to do is if </span><span class="line" data-startTime="544">you do this debouncing &mdash; </span><span class="line" data-startTime="545">which is what it's often </span><span class="line" data-startTime="545">referred to as &mdash; </span><span class="line" data-startTime="548">you want to make sure that you </span><span class="line" data-startTime="548">don't shed your multiple </span><span class="line" data-startTime="550">requestAnimaitonFrame </span><span class="line" data-startTime="550">call backs. </span><span class="line" data-startTime="551">So you want to make </span><span class="line" data-startTime="551">sure that &mdash; </span><span class="line" data-startTime="553">however many scrolls you've got, </span><span class="line" data-startTime="553">you just say, look, just </span><span class="line" data-startTime="556">set requestAnimaitonFrame call </span><span class="line" data-startTime="556">back, store the value. </span><span class="line" data-startTime="558">OK? </span><span class="line" data-startTime="559">And then inside that </span><span class="line" data-startTime="559">requestAnimationFrame call </span><span class="line" data-startTime="560">back, you say, well, what was </span><span class="line" data-startTime="560">the most recent value? </span><span class="line" data-startTime="562">Now do my visual updates and </span><span class="line" data-startTime="562">paint to the screen. </span></p>

<p class="speaker"><span class="line" data-starttime="565"><span class="speakerName">Paul Irish</span>: This is something </span><span class="line" data-startTime="565">that's really important if </span><span class="line" data-startTime="566">you're doing any sort of </span><span class="line" data-startTime="566">scrolling parallax site. </span><span class="line" data-startTime="568">There are a few parallax </span><span class="line" data-startTime="568">scripts that </span><span class="line" data-startTime="570">do this exact technique. </span><span class="line" data-startTime="572">Stellar.js, I know </span><span class="line" data-startTime="572">is one of them. </span><span class="line" data-startTime="574">But this is something to </span><span class="line" data-startTime="574">watch out for, to make </span><span class="line" data-startTime="575">sure that you do. </span><span class="line" data-startTime="576">Otherwise, the performance of </span><span class="line" data-startTime="576">the scrolling in the parallax </span><span class="line" data-startTime="579">is going to be really poor. </span><span class="line" data-startTime="582">They can get bad. </span></p>

<p class="speaker"><span class="line" data-starttime="582"><span class="speakerName">Paul Lewis</span>: Yeah. </span><span class="line" data-startTime="582">Shall we roll on? </span></p>

<p class="speaker"><span class="line" data-starttime="583"><span class="speakerName">Paul Irish</span>: Yeah, let's </span><span class="line" data-startTime="583">take a look. </span></p>

<p class="speaker"><span class="line" data-starttime="585"><span class="speakerName">Paul Lewis</span>: All right. </span></p>

<p class="speaker"><span class="line" data-starttime="585"><span class="speakerName">Paul Irish</span>: All right. </span> <span class="line" data-startTime="586">So I've got a few more here. </span> <span class="line" data-startTime="589">There's one up here at the </span><span class="line" data-startTime="589">top I want to take </span><span class="line" data-startTime="590">a quick look at. </span> <span class="line" data-startTime="591">So this Voos. </span> <span class="line" data-startTime="592">It is a big, big </span><span class="line" data-startTime="592">Wordpress site. </span> <span class="line" data-startTime="594">They are using mod_pagespeed </span><span class="line" data-startTime="594">already. </span> <span class="line" data-startTime="597">Awesome. </span> <span class="line" data-startTime="598">What else can we do? </span><span class="line" data-startTime="601">So I opened this up earlier. </span> <span class="line" data-startTime="604">It's taking a while right now. </span> <span class="line" data-startTime="605">Actually, the domain was </span><span class="line" data-startTime="605">br.staticcontent. </span> <span class="line" data-startTime="608">So I think actually &mdash; </span><span class="line" data-startTime="608">we're in London. </span></p>

<p><span class="line" data-startTime="610">It's coming over the </span><span class="line" data-startTime="610">wire from Brazil. </span> <span class="line" data-startTime="612">So transfer time is going </span><span class="line" data-startTime="612">to take a while. </span> <span class="line" data-startTime="615">CDN would help for us, but </span><span class="line" data-startTime="615">not help for Brazilians. </span> <span class="line" data-startTime="618">So all right. </span> <span class="line" data-startTime="619">So it's a pretty basic </span><span class="line" data-startTime="619">site here. </span> <span class="line" data-startTime="624">So other than going into the </span><span class="line" data-startTime="624">interaction speed of these </span><span class="line" data-startTime="629">form controls &mdash; </span><span class="line" data-startTime="630">but I thought it would be </span><span class="line" data-startTime="630">interesting to look at it from </span><span class="line" data-startTime="633">a network perspective. </span> <span class="line" data-startTime="634">So I went to a WebPagetest just </span><span class="line" data-startTime="636">before I started recording. </span> <span class="line" data-startTime="638">A I dropped Voos in here. </span> <span class="line" data-startTime="639">And WebPagetest usually </span><span class="line" data-startTime="639">only takes a few. </span> <span class="line" data-startTime="642">Minutes </span></p>

<p class="speaker"><span class="line" data-starttime="644"><span class="speakerName">Paul Lewis</span>: But you changed </span><span class="line" data-startTime="644">the location, right? </span><span class="line" data-startTime="645">For up to &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="646"><span class="speakerName">Paul Irish</span>: Oh, I did, yeah. </span><span class="line" data-startTime="646">So you can actually just say </span><span class="line" data-startTime="646">in here what the test </span><span class="line" data-startTime="650">location should be. </span><span class="line" data-startTime="651">And there's locations </span><span class="line" data-startTime="651">all over the globe. </span><span class="line" data-startTime="654">So if you want to get kind of a </span><span class="line" data-startTime="654">real world, over the network </span><span class="line" data-startTime="657">experience &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="658"><span class="speakerName">Paul Lewis</span>: So you set it to </span><span class="line" data-startTime="658">Buenos Aires, so Argentina, </span><span class="line" data-startTime="659">which is not so far away. </span><span class="line" data-startTime="661">It's still in South America. </span></p>

<p class="speaker"><span class="line" data-starttime="662"><span class="speakerName">Paul Irish</span>: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="662"><span class="speakerName">Paul Lewis</span>: OK. </span><span class="line" data-startTime="663">So it's a little bit nearer. </span><span class="line" data-startTime="664">So it's not skewed by our </span><span class="line" data-startTime="664">London-ness right now. </span></p>

<p class="speaker"><span class="line" data-starttime="668"><span class="speakerName">Paul Irish</span>: Yes, yes, yes. </span> <span class="line" data-startTime="669">So this is the report. </span> <span class="line" data-startTime="671">And so WebPagetest is going </span><span class="line" data-startTime="671">to give us a lot of data. </span> <span class="line" data-startTime="673">And one of the most important </span><span class="line" data-startTime="673">things is the waterfall. </span> <span class="line" data-startTime="678">I'll show right after it. </span> <span class="line" data-startTime="679">This is the connection view. </span> <span class="line" data-startTime="680">This is pretty rad. </span> <span class="line" data-startTime="682">So you'll have &mdash; </span><span class="line" data-startTime="684">so it looks at TCP </span><span class="line" data-startTime="684">connections. </span> <span class="line" data-startTime="685">Sometimes a browser will share </span><span class="line" data-startTime="685">the same TCP pipe. </span> <span class="line" data-startTime="689">So actually it requested a </span><span class="line" data-startTime="689">JavaScript file on a single </span><span class="line" data-startTime="695">connection and then another </span><span class="line" data-startTime="695">JavaScript file to share in </span><span class="line" data-startTime="697">the exact same one. </span> <span class="line" data-startTime="699">This can be helpful sometimes. </span></p>

<p><span class="line" data-startTime="701">But a lot of time, what you're </span><span class="line" data-startTime="701">looking at is the waterfall. </span> <span class="line" data-startTime="704">Now, so this at the very </span><span class="line" data-startTime="704">top is just the </span><span class="line" data-startTime="708">HTML that comes in. </span> <span class="line" data-startTime="710">You can see we're </span><span class="line" data-startTime="710">taking a while. </span> <span class="line" data-startTime="711">We're waiting on the server. </span> <span class="line" data-startTime="712">But then it's downloading </span><span class="line" data-startTime="712">here. </span> <span class="line" data-startTime="716">But what I notice immediately </span><span class="line" data-startTime="716">is I noticed a lot of </span><span class="line" data-startTime="719">JavaScript up at the top. </span> <span class="line" data-startTime="720">So search box helper, functions, </span><span class="line" data-startTime="720">jQuery, jQuery </span><span class="line" data-startTime="723">templating plug-in. </span> <span class="line" data-startTime="725">And since these are </span><span class="line" data-startTime="725">up at the top &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="727"><span class="speakerName">Paul Lewis</span>: Yeah, because </span><span class="line" data-startTime="727">you'd expect &mdash; </span><span class="line" data-startTime="729">if this was in flow, you'd </span><span class="line" data-startTime="729">expect all the images, </span><span class="line" data-startTime="731">everything else. </span><span class="line" data-startTime="731">And then best practice is </span><span class="line" data-startTime="731">JavaScript at the end, right? </span></p>

<p class="speaker"><span class="line" data-starttime="734"><span class="speakerName">Paul Irish</span>: Yes. </span><span class="line" data-startTime="735">So let's take a look. </span><span class="line" data-startTime="736">So we hop over. </span><span class="line" data-startTime="737">We view source. </span><span class="line" data-startTime="739">[HUMMING] </span><span class="line" data-startTime="741">Find, I like just </span><span class="line" data-startTime="741">bracket script. </span></p>

<p class="speaker"><span class="line" data-starttime="744"><span class="speakerName">Paul Lewis</span>: Make it bigger </span><span class="line" data-startTime="744">for everybody. </span></p>

<p class="speaker"><span class="line" data-starttime="748"><span class="speakerName">Paul Irish</span>: Here we go. </span> <span class="line" data-startTime="750">Actually, the most </span><span class="line" data-startTime="750">important thing &mdash; </span><span class="line" data-startTime="751">it's probably hard to see. </span> <span class="line" data-startTime="753">But way over here on the right </span><span class="line" data-startTime="753">is the scroll bar. </span> <span class="line" data-startTime="756">And you can see, there's a lot </span><span class="line" data-startTime="756">of matches in my scroll bar in </span><span class="line" data-startTime="758">the very top right, whereas </span><span class="line" data-startTime="758">there's not matches at the </span><span class="line" data-startTime="761">bottom as much. </span> <span class="line" data-startTime="763">But so if we look up here on </span><span class="line" data-startTime="763">the top, you can see, yup. </span> <span class="line" data-startTime="767">Here's all the scripts </span><span class="line" data-startTime="767">in the head. </span> <span class="line" data-startTime="769">And so we have jQuery and then </span><span class="line" data-startTime="769">templating plug-in, base, all </span><span class="line" data-startTime="773">these things. </span> <span class="line" data-startTime="775">So a browser is going to have </span><span class="line" data-startTime="775">to request and complete </span><span class="line" data-startTime="780">execution of all of these files </span><span class="line" data-startTime="780">before it even starts to </span><span class="line" data-startTime="786">show this sort of content </span><span class="line" data-startTime="786">to a user. </span> <span class="line" data-startTime="789">That's just how it works. </span></p>

<p><span class="line" data-startTime="791">This could be mitigated </span><span class="line" data-startTime="791">potentially with async </span><span class="line" data-startTime="794">attribute up here. </span> <span class="line" data-startTime="797">But generally, the best practice </span><span class="line" data-startTime="797">is to throw all the </span><span class="line" data-startTime="800">scripts at the bottom, </span><span class="line" data-startTime="800">of course. </span> <span class="line" data-startTime="801">Concat as much as you can. </span> <span class="line" data-startTime="805">So that is the obvious </span><span class="line" data-startTime="805">thing that I see </span><span class="line" data-startTime="807">from WebPagetest waterfall. </span> <span class="line" data-startTime="811">Anything else? </span><span class="line" data-startTime="812">It looks like there's flag </span><span class="line" data-startTime="812">images that are sprited. </span></p>

<p class="speaker"><span class="line" data-starttime="816"><span class="speakerName">Paul Lewis</span>: That's usually </span><span class="line" data-startTime="816">a good thing. </span></p>

<p class="speaker"><span class="line" data-starttime="817"><span class="speakerName">Paul Irish</span>: Good thing. </span> <span class="line" data-startTime="818">So the comment actually says </span><span class="line" data-startTime="818">that mod_pagespeed is enabled. </span> <span class="line" data-startTime="821">mod_pagespeed by default is </span><span class="line" data-startTime="821">actually not too aggressive. </span> <span class="line" data-startTime="826">So I would take a look at </span><span class="line" data-startTime="826">configuring a few more filters </span><span class="line" data-startTime="830">to be turned on by default. </span> <span class="line" data-startTime="832">One of my favorites </span><span class="line" data-startTime="832">is around images. </span> <span class="line" data-startTime="837">There is a lot of </span><span class="line" data-startTime="837">images of stuff. </span> <span class="line" data-startTime="841">But yeah. </span> <span class="line" data-startTime="841">Here, this one at the top. </span> <span class="line" data-startTime="842">This is rewrite_images. </span> <span class="line" data-startTime="844">So mod_pagespeed is a module for </span><span class="line" data-startTime="844">Apache, also available for </span><span class="line" data-startTime="847">EngineX, which is rad. </span> <span class="line" data-startTime="849">This rewrite_images </span><span class="line" data-startTime="849">does a few things. </span> <span class="line" data-startTime="852">It in-lines images. </span> <span class="line" data-startTime="853">So if an image is under some </span><span class="line" data-startTime="853">threshold, it'll just do it as </span><span class="line" data-startTime="855">a data URI. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="856"><span class="speakerName">Paul Lewis</span>: So we've now </span><span class="line" data-startTime="856">removed the additional </span><span class="line" data-startTime="858">request, right? </span></p>

<p class="speaker"><span class="line" data-starttime="859"><span class="speakerName">Paul Irish</span>: Yup, absolutely. </span><span class="line" data-startTime="860">It'll recompress images, </span><span class="line" data-startTime="860">losslessly recompress them to </span><span class="line" data-startTime="863">be even smaller than </span><span class="line" data-startTime="863">they should be. </span></p>

<p class="speaker"><span class="line" data-starttime="866"><span class="speakerName">Paul Lewis</span>: How does </span><span class="line" data-startTime="866">it do that? </span></p>

<p class="speaker"><span class="line" data-starttime="867"><span class="speakerName">Paul Irish</span>: Sorry. </span><span class="line" data-startTime="868">Losslessly &mdash; </span><span class="line" data-startTime="869">it's the same quality, </span><span class="line" data-startTime="869">visually. </span></p>

<p class="speaker"><span class="line" data-starttime="871"><span class="speakerName">Paul Lewis</span>: Oh, OK. </span></p>

<p class="speaker"><span class="line" data-starttime="871"><span class="speakerName">Paul Irish</span>: Get rid of </span><span class="line" data-startTime="871">excess stuff that </span><span class="line" data-startTime="873">doesn't need to be there. </span></p>

<p class="speaker"><span class="line" data-starttime="873"><span class="speakerName">Paul Lewis</span>: OK. </span><span class="line" data-startTime="874">Right. </span><span class="line" data-startTime="874">Does it transcode? </span></p>

<p class="speaker"><span class="line" data-starttime="876"><span class="speakerName">Paul Irish</span>: Um, no. </span></p>

<p class="speaker"><span class="line" data-starttime="877"><span class="speakerName">Paul Lewis</span>: Is that a </span><span class="line" data-startTime="877">different filter? </span></p>

<p class="speaker"><span class="line" data-starttime="879"><span class="speakerName">Paul Irish</span>: Different filter. </span></p>

<p class="speaker"><span class="line" data-starttime="879"><span class="speakerName">Paul Lewis</span>: OK. </span><span class="line" data-startTime="880">So you've actually got options </span><span class="line" data-startTime="880">of just optimizing your images </span><span class="line" data-startTime="883">on the fly, but not transcoding </span><span class="line" data-startTime="883">them over to, say, </span><span class="line" data-startTime="884">WebP or &mdash; assuming you've </span><span class="line" data-startTime="884">started with PNT or JPEG. </span></p>

<p class="speaker"><span class="line" data-starttime="888"><span class="speakerName">Paul Irish</span>: Yes. </span><span class="line" data-startTime="888">And resize_images, </span><span class="line" data-startTime="888">which is pretty. </span><span class="line" data-startTime="890">So resize_images will take </span><span class="line" data-startTime="890">effect if you have an inline </span><span class="line" data-startTime="894">width or height attribute </span><span class="line" data-startTime="894">on the image tag </span><span class="line" data-startTime="897">or an inline style. </span><span class="line" data-startTime="898">It will resize the image to fit </span><span class="line" data-startTime="898">natively as that size that </span><span class="line" data-startTime="903">the page is requesting </span><span class="line" data-startTime="903">it be in. </span></p>

<p class="speaker"><span class="line" data-starttime="904"><span class="speakerName">Paul Lewis</span>: I like it. </span></p>

<p class="speaker"><span class="line" data-starttime="906"><span class="speakerName">Paul Irish</span>: Really powerful. </span><span class="line" data-startTime="907">So that gives you all those </span><span class="line" data-startTime="907">things for free. </span><span class="line" data-startTime="910">So if you are digging into </span><span class="line" data-startTime="910">mod_pagespeed or index page </span><span class="line" data-startTime="913">speed, which you should, it does </span><span class="line" data-startTime="913">all this work for you. </span><span class="line" data-startTime="916">So your build script does </span><span class="line" data-startTime="916">not have to be as crazy. </span><span class="line" data-startTime="920">Dig into these filters, try </span><span class="line" data-startTime="920">some out because there's a </span><span class="line" data-startTime="923">lot, a lot power in there. </span></p>

<p class="speaker"><span class="line" data-starttime="924"><span class="speakerName">Paul Lewis</span>: I think that's </span><span class="line" data-startTime="924">really good to point that just </span><span class="line" data-startTime="926">by having pagespeed step </span><span class="line" data-startTime="926">one, but step two &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="928"><span class="speakerName">Paul Irish</span>: Definitely. </span></p>

<p class="speaker"><span class="line" data-starttime="929"><span class="speakerName">Paul Lewis</span>: Step two </span><span class="line" data-startTime="929">is definitely </span><span class="line" data-startTime="929">look at those filters. </span><span class="line" data-startTime="931">So they're not just a kind </span><span class="line" data-startTime="931">of &mdash; and you're done. </span></p>

<p class="speaker"><span class="line" data-starttime="932"><span class="speakerName">Paul Irish</span>: Yup. </span><span class="line" data-startTime="933">Yup. </span><span class="line" data-startTime="935">What's next? </span><span class="line" data-startTime="937">[INAUDIBLE]? </span></p>

<p class="speaker"><span class="line" data-starttime="938"><span class="speakerName">Paul Lewis</span>: Do you want </span><span class="line" data-startTime="938">to meet the Ipsums? </span></p>

<p class="speaker"><span class="line" data-starttime="940"><span class="speakerName">Paul Irish</span>: Meet the Ipsums. </span></p>

<p class="speaker"><span class="line" data-starttime="941"><span class="speakerName">Paul Lewis</span>: Yeah, let's </span><span class="line" data-startTime="941">meet the Ipsums. </span></p>

<p class="speaker"><span class="line" data-starttime="942"><span class="speakerName">Paul Irish</span>: Let's do it. </span></p>

<p class="speaker"><span class="line" data-starttime="943"><span class="speakerName">Paul Lewis</span>: This is a great </span><span class="line" data-startTime="943">little site, very amusing to </span><span class="line" data-startTime="945">me, this whole site, different </span><span class="line" data-startTime="945">forms of lorem ipsum. </span><span class="line" data-startTime="948">This one is featuring cat ipsum </span><span class="line" data-startTime="948">and veggie ipsum, so </span><span class="line" data-startTime="952">celery, seakale, all these </span><span class="line" data-startTime="952">different kinds of veggies, </span><span class="line" data-startTime="956">corporate ipsum. </span><span class="line" data-startTime="957">I like this one. </span><span class="line" data-startTime="958">I've worked in those kind of </span><span class="line" data-startTime="958">environments for a while. </span></p>

<p class="speaker"><span class="line" data-starttime="961"><span class="speakerName">Paul Irish</span>: That's nice. </span></p>

<p class="speaker"><span class="line" data-starttime="961"><span class="speakerName">Paul Lewis</span>: So I was </span><span class="line" data-startTime="961">looking at this. </span><span class="line" data-startTime="962">And I thought, this is great. </span><span class="line" data-startTime="963">It's a really clean, </span><span class="line" data-startTime="963">simple site. </span><span class="line" data-startTime="966">And so I was busy looking at </span><span class="line" data-startTime="966">the time, as I always do. </span><span class="line" data-startTime="968">So I did a run. </span><span class="line" data-startTime="970">And then I was just scrolling </span><span class="line" data-startTime="970">just like that. </span><span class="line" data-startTime="972">And it kind of felt janky. </span><span class="line" data-startTime="974">And I was like, but why? </span><span class="line" data-startTime="976">And then &mdash; </span><span class="line" data-startTime="977">so paint is a thing. </span></p>

<p class="speaker"><span class="line" data-starttime="979"><span class="speakerName">Paul Irish</span>: Yup. </span><span class="line" data-startTime="980">Big thing. </span></p>

<p class="speaker"><span class="line" data-starttime="980"><span class="speakerName">Paul Lewis</span>: It's a big thing. </span> <span class="line" data-startTime="982">And you can see here, it's &mdash; </span><span class="line" data-startTime="983">I mean, you can't see Chrome </span><span class="line" data-startTime="983">so much in the background. </span> <span class="line" data-startTime="986">But as you roll over this </span><span class="line" data-startTime="986">record, you actually see a </span><span class="line" data-startTime="989">blue area highlighted in Chrome, </span><span class="line" data-startTime="989">which is kind of &mdash; </span><span class="line" data-startTime="991">it's the area that had </span><span class="line" data-startTime="991">to be repainted. </span> <span class="line" data-startTime="993">And looking at the size </span><span class="line" data-startTime="993">of this thing &mdash; </span><span class="line" data-startTime="994">1526 by 882 &mdash; </span><span class="line" data-startTime="996">it's like, that's big. </span> <span class="line" data-startTime="998">We want to reduce paint size </span><span class="line" data-startTime="998">and paint complexity. </span> <span class="line" data-startTime="1001">And I'm thinking paint size is </span><span class="line" data-startTime="1001">a good first start here. </span></p>

<p><span class="line" data-startTime="1003">Spin it down. </span> <span class="line" data-startTime="1005">There's a couple of paints in </span><span class="line" data-startTime="1005">here that we can look at. </span> <span class="line" data-startTime="1008">And yeah, there's a couple </span><span class="line" data-startTime="1008">of smaller ones. </span> <span class="line" data-startTime="1010">But clearly, there's </span><span class="line" data-startTime="1010">this big paint. </span> <span class="line" data-startTime="1012">So I'm thinking, well, this </span><span class="line" data-startTime="1012">is just scrolling. </span> <span class="line" data-startTime="1015">It doesn't seem to </span><span class="line" data-startTime="1015">be doing much. </span> <span class="line" data-startTime="1017">I get to end of the page and </span><span class="line" data-startTime="1017">there's this fixed position </span><span class="line" data-startTime="1024">element at the background. </span> <span class="line" data-startTime="1025">Now &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1026"><span class="speakerName">Paul Irish</span>: Now one thing that I </span><span class="line" data-startTime="1026">was wondering &mdash; so normally, </span><span class="line" data-startTime="1029">a paint, when you scroll, at </span><span class="line" data-startTime="1029">least on desktop, the paint </span><span class="line" data-startTime="1034">will just happen at </span><span class="line" data-startTime="1034">the bottom, right? </span><span class="line" data-startTime="1035">As I'm scrolling, the paint </span><span class="line" data-startTime="1035">will supplement the new </span><span class="line" data-startTime="1038">content as that comes in? </span></p>

<p class="speaker"><span class="line" data-starttime="1039"><span class="speakerName">Paul Lewis</span>: It is going </span><span class="line" data-startTime="1039">to paint whatever &mdash; </span><span class="line" data-startTime="1041">yeah. </span><span class="line" data-startTime="1041">So if you're scrolling, yes. </span><span class="line" data-startTime="1042">It's exactly &mdash; if you're up or </span><span class="line" data-startTime="1042">down, it depends on which end </span><span class="line" data-startTime="1045">of the &mdash; the page needs </span><span class="line" data-startTime="1045">to be kind of handled. </span></p>

<p class="speaker"><span class="line" data-starttime="1047"><span class="speakerName">Paul Irish</span>: Yeah But what </span><span class="line" data-startTime="1047">we're seeing here is </span><span class="line" data-startTime="1049">that this paint is &mdash; </span><span class="line" data-startTime="1051">you can see kind of this </span><span class="line" data-startTime="1051">blue highlight. </span><span class="line" data-startTime="1053">It is the entire page. </span><span class="line" data-startTime="1056">And then this one again, </span><span class="line" data-startTime="1056">the entire page. </span></p>

<p class="speaker"><span class="line" data-starttime="1057"><span class="speakerName">Paul Lewis</span>: Now the reason for </span><span class="line" data-startTime="1057">this is most likely that </span><span class="line" data-startTime="1061">Chrome is looking at all the </span><span class="line" data-startTime="1061">styles of all the elements, </span><span class="line" data-startTime="1063">and it's grouping that fixed </span><span class="line" data-startTime="1063">position element with the </span><span class="line" data-startTime="1067">content that's scrolling. </span> <span class="line" data-startTime="1068">So as it scrolls, the that fixed </span><span class="line" data-startTime="1068">position element needs </span><span class="line" data-startTime="1071">to be repainted so that it can </span><span class="line" data-startTime="1071">fill up the view port. </span> <span class="line" data-startTime="1074">And then the scrolling content </span><span class="line" data-startTime="1074">sits over the top. </span> <span class="line" data-startTime="1075">So it's almost like it's </span><span class="line" data-startTime="1075">pointless because &mdash; it's just </span><span class="line" data-startTime="1078">one of these things, definitely </span><span class="line" data-startTime="1078">looking at ways </span><span class="line" data-startTime="1081">that we can make this better. </span> <span class="line" data-startTime="1083">The fix for it, if you're </span><span class="line" data-startTime="1083">interested, would be to go </span><span class="line" data-startTime="1086">into the elements and would be </span><span class="line" data-startTime="1086">to promote the footer, which </span><span class="line" data-startTime="1091">is this fixed &mdash; </span><span class="line" data-startTime="1092">you can see it over here, </span><span class="line" data-startTime="1092">position fixed. </span> <span class="line" data-startTime="1094">Would be to promote this </span><span class="line" data-startTime="1094">to its own layer. </span></p>

<p><span class="line" data-startTime="1096">So that basically, all the </span><span class="line" data-startTime="1096">compositor has to do is just </span><span class="line" data-startTime="1099">leave that there. </span> <span class="line" data-startTime="1100">And the scrolling content </span><span class="line" data-startTime="1100">can move over the </span><span class="line" data-startTime="1101">top in its own layer. </span> <span class="line" data-startTime="1102">And the simplest way to </span><span class="line" data-startTime="1102">do that that I know &mdash; </span><span class="line" data-startTime="1104">whoops, put that back &mdash; </span><span class="line" data-startTime="1106">is to use the 3D transform. </span> <span class="line" data-startTime="1107">So use it sparingly. </span> <span class="line" data-startTime="1108">But this is a classic case for </span><span class="line" data-startTime="1108">it, where we're painting </span><span class="line" data-startTime="1110">something on every frame, </span><span class="line" data-startTime="1110">something that doesn't need to </span><span class="line" data-startTime="1112">be repainted. </span> <span class="line" data-startTime="1112">So let's do that web </span><span class="line" data-startTime="1112">kit transform. </span> <span class="line" data-startTime="1115">Why not? </span></p>

<p class="speaker"><span class="line" data-starttime="1115"><span class="speakerName">Paul Irish</span>: Say it with </span><span class="line" data-startTime="1115">the [INAUDIBLE]. </span></p>

<p class="speaker"><span class="line" data-starttime="1116"><span class="speakerName">Paul Lewis</span>: TranslateZ. </span><span class="line" data-startTime="1117">PAUL IRISH: [SNAPS FINGERS] </span></p>

<p class="speaker"><span class="line" data-starttime="1118"><span class="speakerName">Paul Lewis</span>: Yeah, </span><span class="line" data-startTime="1118">that's right. </span><span class="line" data-startTime="1119">It's so catchy. </span><span class="line" data-startTime="1119">I mean, I've even caught </span><span class="line" data-startTime="1119">my non-nerdy wife </span><span class="line" data-startTime="1122">talking about this. </span><span class="line" data-startTime="1123">No, I haven't really. </span><span class="line" data-startTime="1123">It's a lie. </span><span class="line" data-startTime="1124">It's a lie. </span><span class="line" data-startTime="1125">PAUL IRISH: [LAUGHS] </span></p>

<p class="speaker"><span class="line" data-starttime="1125"><span class="speakerName">Paul Lewis</span>: All right. </span><span class="line" data-startTime="1126">So I've translated it. </span><span class="line" data-startTime="1127">Does it look any different? </span><span class="line" data-startTime="1128">Maybe, maybe not. </span><span class="line" data-startTime="1129">Let's find out. </span><span class="line" data-startTime="1129">Let's do a test and see what </span><span class="line" data-startTime="1129">happens when we scroll. </span></p>

<p class="speaker"><span class="line" data-starttime="1132"><span class="speakerName">Paul Irish</span>: Oh, that </span><span class="line" data-startTime="1132">looks nice. </span></p>

<p class="speaker"><span class="line" data-starttime="1133"><span class="speakerName">Paul Lewis</span>: So now we've much </span><span class="line" data-startTime="1133">reduced our paint costs. </span><span class="line" data-startTime="1138">Now there are things </span><span class="line" data-startTime="1138">going on here. </span><span class="line" data-startTime="1139">But that's the main thing </span><span class="line" data-startTime="1139">in this right now. </span></p>

<p class="speaker"><span class="line" data-starttime="1142"><span class="speakerName">Paul Irish</span>: Can we take a look </span><span class="line" data-startTime="1142">at this with Show Paint </span><span class="line" data-startTime="1145">Rectangles? </span></p>

<p class="speaker"><span class="line" data-starttime="1145"><span class="speakerName">Paul Lewis</span>: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="1147"><span class="speakerName">Paul Irish</span>: Are we going to </span><span class="line" data-startTime="1147">see a difference between </span><span class="line" data-startTime="1149">before and after that? </span></p>

<p class="speaker"><span class="line" data-starttime="1150"><span class="speakerName">Paul Lewis</span>: Yeah. </span><span class="line" data-startTime="1150">So we don't need to do anything </span><span class="line" data-startTime="1150">other than &mdash; we can </span><span class="line" data-startTime="1151">toggle the style on and off. </span><span class="line" data-startTime="1153">So what that'll do is &mdash; we'll </span><span class="line" data-startTime="1153">pop down onto the cog here. </span><span class="line" data-startTime="1155">We can switch on Show </span><span class="line" data-startTime="1155">Paint Rectangles. </span><span class="line" data-startTime="1158">And we do that. </span><span class="line" data-startTime="1160">That's all we need to do. </span><span class="line" data-startTime="1161">And [INAUDIBLE], let's </span><span class="line" data-startTime="1161">just close. </span><span class="line" data-startTime="1164">Yeah, thank you. </span><span class="line" data-startTime="1165">You know all the shortcuts. </span><span class="line" data-startTime="1167">Aw. </span></p>

<p class="speaker"><span class="line" data-starttime="1168"><span class="speakerName">Paul Irish</span>: Escape. </span></p>

<p class="speaker"><span class="line" data-starttime="1168"><span class="speakerName">Paul Lewis</span>: Is that </span><span class="line" data-startTime="1168">what it is? </span></p>

<p class="speaker"><span class="line" data-starttime="1169"><span class="speakerName">Paul Irish</span>: Yeah, </span><span class="line" data-startTime="1169">there you go. </span></p>

<p class="speaker"><span class="line" data-starttime="1170"><span class="speakerName">Paul Lewis</span>: Oh, I feel better </span><span class="line" data-startTime="1170">for knowing that. </span><span class="line" data-startTime="1171">Finding that out on air! </span><span class="line" data-startTime="1173">That's good. </span><span class="line" data-startTime="1173">It's good to go. </span><span class="line" data-startTime="1175">So what I need to do is I need </span><span class="line" data-startTime="1175">to go back to the elements. </span><span class="line" data-startTime="1176">I need to switch off </span><span class="line" data-startTime="1176">my translateZ. </span><span class="line" data-startTime="1179">Now when I scroll, you'll see </span><span class="line" data-startTime="1179">that whole thing is bright </span><span class="line" data-startTime="1183">red, as is the scroll bar </span><span class="line" data-startTime="1183">on the right hand side. </span><span class="line" data-startTime="1185">And that's just Chrome saying, </span><span class="line" data-startTime="1185">you know what? </span><span class="line" data-startTime="1187">These are the things </span><span class="line" data-startTime="1187">I have to paint. </span><span class="line" data-startTime="1188">So the scroll bar makes </span><span class="line" data-startTime="1188">perfect sense. </span><span class="line" data-startTime="1190">That's normal. </span><span class="line" data-startTime="1191">But seeing that whole thing, </span><span class="line" data-startTime="1191">oh, that's not so good. </span><span class="line" data-startTime="1194">So when we switch on the </span><span class="line" data-startTime="1194">translateZ, and we push that </span><span class="line" data-startTime="1199">out to its own layer &mdash; that </span><span class="line" data-startTime="1199">background out to its own </span><span class="line" data-startTime="1201">layer &mdash; what's going to actually </span><span class="line" data-startTime="1201">happen, is the </span><span class="line" data-startTime="1202">content that's sitting on </span><span class="line" data-startTime="1202">the top is also going </span><span class="line" data-startTime="1204">to get its own layer. </span><span class="line" data-startTime="1206">But we basically have </span><span class="line" data-startTime="1206">separated them out. </span><span class="line" data-startTime="1207">We kind of forced Chrome's </span><span class="line" data-startTime="1207">hand a little bit. </span><span class="line" data-startTime="1210">And now when we scroll &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1213"><span class="speakerName">Paul Irish</span>: There it is. </span></p>

<p class="speaker"><span class="line" data-starttime="1213"><span class="speakerName">Paul Lewis</span>: There we go. </span><span class="line" data-startTime="1214">So using Show Paint Rectangles </span><span class="line" data-startTime="1214">or even just DevTools, you'll </span><span class="line" data-startTime="1219">find that you'll actually see </span><span class="line" data-startTime="1219">when things are painting. </span><span class="line" data-startTime="1222">And that's actually &mdash; yeah. </span><span class="line" data-startTime="1223">PAUL IRISH: [MAKES GUN SOUNDS] </span></p>

<p class="speaker"><span class="line" data-starttime="1224"><span class="speakerName">Paul Lewis</span>: So you can see &mdash; </span><span class="line" data-startTime="1225">yeah, including sound effects. </span><span class="line" data-startTime="1228">When you get to the top, </span><span class="line" data-startTime="1228">obviously this is &mdash; </span><span class="line" data-startTime="1231">again, it makes sense for </span><span class="line" data-startTime="1231">this to probably &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1232"><span class="speakerName">Paul Irish</span>: Oh, oh, oh. </span></p>

<p class="speaker"><span class="line" data-starttime="1233"><span class="speakerName">Paul Lewis</span>: But they </span><span class="line" data-startTime="1233">could probably &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1234"><span class="speakerName">Paul Irish</span>: Another </span><span class="line" data-startTime="1234">opportunity. </span></p>

<p class="speaker"><span class="line" data-starttime="1235"><span class="speakerName">Paul Lewis</span>: Yeah, there is </span><span class="line" data-startTime="1235">another opportunity. </span><span class="line" data-startTime="1236">Instead of, I'm guessing, 2D </span><span class="line" data-startTime="1236">transforms here, if it were </span><span class="line" data-startTime="1239">me, I'd look at 3D </span><span class="line" data-startTime="1239">transforms again. </span><span class="line" data-startTime="1240">These are the things that don't </span><span class="line" data-startTime="1240">want to interact with </span><span class="line" data-startTime="1242">each other. </span><span class="line" data-startTime="1243">They just want to move around. </span><span class="line" data-startTime="1245">They want their own layer. </span></p>

<p class="speaker"><span class="line" data-starttime="1246"><span class="speakerName">Paul Irish</span>: OK. </span><span class="line" data-startTime="1247">We need two disclaimers here, </span><span class="line" data-startTime="1247">two separate disclaimers. </span></p>

<p class="speaker"><span class="line" data-starttime="1249"><span class="speakerName">Paul Lewis</span>: OK. </span><span class="line" data-startTime="1250">I like disclaimers. </span></p>

<p class="speaker"><span class="line" data-starttime="1250"><span class="speakerName">Paul Irish</span>: OK, the first </span><span class="line" data-startTime="1250">one, you kind of </span><span class="line" data-startTime="1252">wrote about, I think. </span><span class="line" data-startTime="1254">I'm just going to guess &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1255"><span class="speakerName">Paul Lewis</span>: There it is. </span><span class="line" data-startTime="1255">It just &mdash; </span><span class="line" data-startTime="1255">I &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1256"><span class="speakerName">Paul Irish</span>:  &mdash; layer </span><span class="line" data-startTime="1256">promotion, maybe. </span></p>

<p class="speaker"><span class="line" data-starttime="1258"><span class="speakerName">Paul Lewis</span>: Try it. </span><span class="line" data-startTime="1258">Let's see. </span></p>

<p class="speaker"><span class="line" data-starttime="1260"><span class="speakerName">Paul Irish</span>: All right, yeah. </span><span class="line" data-startTime="1261">OK, cool. </span><span class="line" data-startTime="1262">It's a part of this blog post </span><span class="line" data-startTime="1262">about the layer promotion </span><span class="line" data-startTime="1265">translateZ, translate3d hack. </span></p>

<p class="speaker"><span class="line" data-starttime="1266"><span class="speakerName">Paul Lewis</span>: Yeah. </span><span class="line" data-startTime="1267">It's actually one of about six </span><span class="line" data-startTime="1267">or seven rules that Chrome </span><span class="line" data-startTime="1270">will use when it's </span><span class="line" data-startTime="1270">deciding to put </span><span class="line" data-startTime="1271">something on its own layer. </span><span class="line" data-startTime="1272">And translateZ is the most </span><span class="line" data-startTime="1272">well known of the family. </span></p>

<p class="speaker"><span class="line" data-starttime="1277"><span class="speakerName">Paul Irish</span>: And so it is a </span><span class="line" data-startTime="1277">hack.k and we feel interesting </span><span class="line" data-startTime="1281">about recommend it. </span><span class="line" data-startTime="1284">And this article explains some </span><span class="line" data-startTime="1284">of the downsides and some of </span><span class="line" data-startTime="1288">the things that you need </span><span class="line" data-startTime="1288">to be aware of. </span><span class="line" data-startTime="1289">It's not just a silver bullet. </span><span class="line" data-startTime="1291">It has downsides. </span><span class="line" data-startTime="1291">So read this. </span><span class="line" data-startTime="1294">And the other disclaimer, </span><span class="line" data-startTime="1294">I think, is about </span><span class="line" data-startTime="1296">cross-browserness. </span><span class="line" data-startTime="1297">Of all the things that we're </span><span class="line" data-startTime="1297">talking about today &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1299"><span class="speakerName">Paul Lewis</span>: This is the least </span><span class="line" data-startTime="1299">cross-browser thing, right? </span></p>

<p class="speaker"><span class="line" data-starttime="1301"><span class="speakerName">Paul Irish</span>: Is it? </span></p>

<p class="speaker"><span class="line" data-starttime="1302"><span class="speakerName">Paul Lewis</span>: Because it's </span><span class="line" data-startTime="1302">not going to &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1303"><span class="speakerName">Paul Irish</span>: Oh, yeah. </span><span class="line" data-startTime="1303">Even Chrome on Android, </span><span class="line" data-startTime="1303">it really </span><span class="line" data-startTime="1306">doesn't do these things. </span></p>

<p class="speaker"><span class="line" data-starttime="1307"><span class="speakerName">Paul Lewis</span>: Chrome on Android </span><span class="line" data-startTime="1307">and also word on the street is </span><span class="line" data-startTime="1309">that Safari no longer honors </span><span class="line" data-startTime="1309">it as a layer creation, or </span><span class="line" data-startTime="1313">certainly won't do </span><span class="line" data-startTime="1313">in the future. </span><span class="line" data-startTime="1315">And it's not &mdash; you know, it's </span><span class="line" data-startTime="1315">a webkit prefixed thing, so </span><span class="line" data-startTime="1318">it's not going to </span><span class="line" data-startTime="1318">work in Firefox. </span></p>

<p class="speaker"><span class="line" data-starttime="1319"><span class="speakerName">Paul Irish</span>: But the networked </span><span class="line" data-startTime="1319">stuff that we should before, </span><span class="line" data-startTime="1323">absolute cross-browser. </span><span class="line" data-startTime="1325">Layout thrashing &mdash; </span><span class="line" data-startTime="1327">the way that the specs are </span><span class="line" data-startTime="1327">written for HTML recalculation </span><span class="line" data-startTime="1330">style, browsers have a </span><span class="line" data-startTime="1330">lot of consistency </span><span class="line" data-startTime="1333">between how they work. </span><span class="line" data-startTime="1334">So layout thrashing is </span><span class="line" data-startTime="1334">real everywhere. </span></p>

<p class="speaker"><span class="line" data-starttime="1337"><span class="speakerName">Paul Lewis</span>: It's called </span><span class="line" data-startTime="1337">reflow in Firefox. </span></p>

<p class="speaker"><span class="line" data-starttime="1339"><span class="speakerName">Paul Irish</span>: Reflow, yeah. </span><span class="line" data-startTime="1339">It's the exact same thing. </span><span class="line" data-startTime="1340">And so when you see reflow as </span><span class="line" data-startTime="1340">a term, it's this issue. </span><span class="line" data-startTime="1345">So it's a cross-browser </span><span class="line" data-startTime="1345">situation. </span><span class="line" data-startTime="1347">Anything else? </span><span class="line" data-startTime="1349">Expensive paints. </span><span class="line" data-startTime="1351">Expensive paints can be &mdash; </span><span class="line" data-startTime="1353">it's hard to say. </span><span class="line" data-startTime="1355">And right now, there's &mdash; </span><span class="line" data-startTime="1356">for what's expensive to </span><span class="line" data-startTime="1356">paint in Firefox and </span><span class="line" data-startTime="1358">IE is a little unclear. </span><span class="line" data-startTime="1361">We're hoping to find out </span><span class="line" data-startTime="1361">more about that. </span></p>

<p class="speaker"><span class="line" data-starttime="1363"><span class="speakerName">Paul Lewis</span>: Yeah, yeah. </span><span class="line" data-startTime="1364">I think that's the thing. </span><span class="line" data-startTime="1364">I mean, you have </span><span class="line" data-startTime="1364">to profile it. </span><span class="line" data-startTime="1366">It's not always easy to do that </span><span class="line" data-startTime="1366">in a cross-browser way. </span><span class="line" data-startTime="1369">And you obviously don't want </span><span class="line" data-startTime="1369">to do anything that is an </span><span class="line" data-startTime="1371">anti-pattern elsewhere. </span><span class="line" data-startTime="1372">But generally speaking, </span><span class="line" data-startTime="1372">not painting is a </span><span class="line" data-startTime="1375">good pattern for everybody. </span><span class="line" data-startTime="1376">Not paintings is not painting, </span><span class="line" data-startTime="1376">irrespective of your browser. </span><span class="line" data-startTime="1379">So it's a good thing. </span><span class="line" data-startTime="1380">Do you want to hear </span><span class="line" data-startTime="1380">another one? </span></p>

<p class="speaker"><span class="line" data-starttime="1381"><span class="speakerName">Paul Irish</span>: Yeah. </span><span class="line" data-startTime="1382">I want to show you this one. </span><span class="line" data-startTime="1383">Whew. </span><span class="line" data-startTime="1384">OK. </span><span class="line" data-startTime="1385">Let's take a look. </span><span class="line" data-startTime="1387">All right. </span><span class="line" data-startTime="1387">So &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1387"><span class="speakerName">Paul Lewis</span>: Oh wow, yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="1388"><span class="speakerName">Paul Irish</span>: There's a bit </span><span class="line" data-startTime="1388">of load time right here. </span><span class="line" data-startTime="1391">Is that slow? </span><span class="line" data-startTime="1392">I'm just going to bump that into </span><span class="line" data-startTime="1392">a WebPagetest while we </span><span class="line" data-startTime="1395">kind of wait for it. </span></p>

<p class="speaker"><span class="line" data-starttime="1397"><span class="speakerName">Paul Lewis</span>: It's like </span><span class="line" data-startTime="1397">two tests in one. </span></p>

<p class="speaker"><span class="line" data-starttime="1399"><span class="speakerName">Paul Irish</span>: Yeah. </span><span class="line" data-startTime="1399">Let's go for it. </span><span class="line" data-startTime="1401">We'll use &mdash; </span><span class="line" data-startTime="1402">oh, what's up? </span></p>

<p class="speaker"><span class="line" data-starttime="1404"><span class="speakerName">Paul Lewis</span>: Sounds like </span><span class="line" data-startTime="1404">it's got sound. </span></p>

<p class="speaker"><span class="line" data-starttime="1407"><span class="speakerName">Paul Irish</span>: We've got </span><span class="line" data-startTime="1407">sound coming here. </span><span class="line" data-startTime="1408">I'm going to turn it off just </span><span class="line" data-startTime="1408">because &mdash; whoa, whoa, whoa, </span><span class="line" data-startTime="1410">whoa, whoa. </span><span class="line" data-startTime="1411">Chill out, guys. </span><span class="line" data-startTime="1414">All right. </span><span class="line" data-startTime="1414">We're in the front </span><span class="line" data-startTime="1414">of the queue. </span><span class="line" data-startTime="1416">Good. </span><span class="line" data-startTime="1416">Go back. </span><span class="line" data-startTime="1418">What do we do? </span></p>

<p class="speaker"><span class="line" data-starttime="1419"><span class="speakerName">Paul Lewis</span>: Click. </span></p>

<p class="speaker"><span class="line" data-starttime="1420"><span class="speakerName">Paul Irish</span>: Click. </span></p>

<p class="speaker"><span class="line" data-starttime="1421"><span class="speakerName">Paul Lewis</span>: And then </span><span class="line" data-startTime="1421">you hit the &mdash; </span><span class="line" data-startTime="1423">I think it's &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1425"><span class="speakerName">Paul Irish</span>: OK. </span></p>

<p class="speaker"><span class="line" data-starttime="1426"><span class="speakerName">Paul Lewis</span>: Yeah, try </span><span class="line" data-startTime="1426">using &mdash; there we go. </span><span class="line" data-startTime="1427">OK, now you roll your </span><span class="line" data-startTime="1427">mouse around and &mdash; </span><span class="line" data-startTime="1431">now I don't know if you can </span><span class="line" data-startTime="1431">see this on the video, but </span><span class="line" data-startTime="1432">this is hideously janky. </span><span class="line" data-startTime="1435">This is really bad. </span></p>

<p class="speaker"><span class="line" data-starttime="1437"><span class="speakerName">Paul Irish</span>: This was submitted </span><span class="line" data-startTime="1437">by someone who wanted us to </span><span class="line" data-startTime="1440">talk about it. </span><span class="line" data-startTime="1442">I mean &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1442"><span class="speakerName">Paul Lewis</span>: Sorry. </span></p>

<p class="speaker"><span class="line" data-starttime="1442"><span class="speakerName">Paul Irish</span>: I feel like you're </span><span class="line" data-startTime="1442">being a bit mean here. </span></p>

<p class="speaker"><span class="line" data-starttime="1445"><span class="speakerName">Paul Lewis</span>: I mean, this is </span><span class="line" data-startTime="1445">taking upwards of a second to </span><span class="line" data-startTime="1449">update the screen. </span></p>

<p class="speaker"><span class="line" data-starttime="1450"><span class="speakerName">Paul Irish</span>: These </span><span class="line" data-startTime="1450">are Voronois. </span><span class="line" data-startTime="1451">There's a Voronoi </span><span class="line" data-startTime="1451">map behind it. </span></p>

<p class="speaker"><span class="line" data-starttime="1453"><span class="speakerName">Paul Lewis</span>: Yeah. </span><span class="line" data-startTime="1454">Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="1455"><span class="speakerName">Paul Irish</span>: OK. </span><span class="line" data-startTime="1456">So let's take a look at why. </span><span class="line" data-startTime="1459">All right. </span><span class="line" data-startTime="1460">So I'm going to Command Option </span><span class="line" data-startTime="1460">I into DevTools. </span><span class="line" data-startTime="1464">We're going to head into </span><span class="line" data-startTime="1464">Timeline soon. </span><span class="line" data-startTime="1471">Come on. </span><span class="line" data-startTime="1471">Play nice. </span></p>

<p class="speaker"><span class="line" data-starttime="1473"><span class="speakerName">Paul Lewis</span>: You making it mad? </span></p>

<p class="speaker"><span class="line" data-starttime="1475"><span class="speakerName">Paul Irish</span>: I'm making </span><span class="line" data-startTime="1475">it very mad. </span><span class="line" data-startTime="1477">Hey, we're just friends. </span></p>

<p class="speaker"><span class="line" data-starttime="1480"><span class="speakerName">Paul Lewis</span>: Did you </span><span class="line" data-startTime="1480">crash the browser? </span></p>

<p class="speaker"><span class="line" data-starttime="1481"><span class="speakerName">Paul Irish</span>: We can &mdash; </span><span class="line" data-startTime="1483">and you can &mdash; </span><span class="line" data-startTime="1484">come on. </span><span class="line" data-startTime="1486">Oh, it is really mad. </span></p>

<p class="speaker"><span class="line" data-starttime="1488"><span class="speakerName">Paul Lewis</span>: Yeah, </span><span class="line" data-startTime="1488">you made it mad. </span></p>

<p class="speaker"><span class="line" data-starttime="1490"><span class="speakerName">Paul Irish</span>: This is </span><span class="line" data-startTime="1490">what I get for &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1492"><span class="speakerName">Paul Lewis</span>: Turning me off. </span><span class="line" data-startTime="1495">The browser sided with me. </span></p>

<p class="speaker"><span class="line" data-starttime="1497"><span class="speakerName">Paul Irish</span>: Oh. </span><span class="line" data-startTime="1497">Let's kill that one. </span><span class="line" data-startTime="1499">Oh, that was the one that </span><span class="line" data-startTime="1499">I didn't &mdash; oh, no. </span></p>

<p class="speaker"><span class="line" data-starttime="1502"><span class="speakerName">Paul Lewis</span>: You didn't </span><span class="line" data-startTime="1502">want that to happen. </span></p>

<p class="speaker"><span class="line" data-starttime="1504"><span class="speakerName">Paul Irish</span>: I didn't want </span><span class="line" data-startTime="1504">that to happen. </span></p>

<p class="speaker"><span class="line" data-starttime="1505"><span class="speakerName">Paul Lewis</span>: This goes to show, </span><span class="line" data-startTime="1505">profiling is not always the </span><span class="line" data-startTime="1507">easiest task [INAUDIBLE]. </span><span class="line" data-startTime="1510">Sometimes these things break. </span><span class="line" data-startTime="1512">All right. </span><span class="line" data-startTime="1513">That looked good, looked </span><span class="line" data-startTime="1513">like you had it there. </span></p>

<p class="speaker"><span class="line" data-starttime="1514"><span class="speakerName">Paul Irish</span>: All right. </span><span class="line" data-startTime="1514">I think I got it. </span><span class="line" data-startTime="1520">So let's give this a shot. </span><span class="line" data-startTime="1522">We've got Timeline open. </span><span class="line" data-startTime="1523">I got this. </span></p>

<p class="speaker"><span class="line" data-starttime="1525"><span class="speakerName">Paul Lewis</span>: Maybe you </span><span class="line" data-startTime="1525">have to press a key. </span></p>

<p class="speaker"><span class="line" data-starttime="1527"><span class="speakerName">Paul Irish</span>: Play with me. </span><span class="line" data-startTime="1529">This is &mdash; </span><span class="line" data-startTime="1530">translate is trying </span><span class="line" data-startTime="1530">to take over. </span><span class="line" data-startTime="1531">I don't want you, translate. </span></p>

<p class="speaker"><span class="line" data-starttime="1535"><span class="speakerName">Paul Lewis</span>: We might need </span><span class="line" data-startTime="1535">to leave this one, then. </span></p>

<p class="speaker"><span class="line" data-starttime="1539"><span class="speakerName">Paul Irish</span>: Leaving it. </span></p>

<p class="speaker"><span class="line" data-starttime="1540"><span class="speakerName">Paul Lewis</span>: All right. </span></p>

<p class="speaker"><span class="line" data-starttime="1542"><span class="speakerName">Paul Irish</span>: I just &mdash; </span><span class="line" data-startTime="1543">before a movie theater, there </span><span class="line" data-startTime="1543">was this preroll. </span><span class="line" data-startTime="1545">And it was advertising </span><span class="line" data-startTime="1545">movietickets.com. </span><span class="line" data-startTime="1546">And there was this really funny </span><span class="line" data-startTime="1546">ad, where the woman &mdash; </span><span class="line" data-startTime="1549">they're getting out </span><span class="line" data-startTime="1549">of the minivan. </span><span class="line" data-startTime="1550">And it's like a Mission </span><span class="line" data-startTime="1550">Impossible to get </span><span class="line" data-startTime="1552">to the movie tickets. </span><span class="line" data-startTime="1553">And then the kid falls getting </span><span class="line" data-startTime="1553">out of the minivan. </span><span class="line" data-startTime="1556">And the mom was like, leave </span><span class="line" data-startTime="1556">him, leave him. </span><span class="line" data-startTime="1559">And my mom really loves that </span><span class="line" data-startTime="1559">commercial, which &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1563"><span class="speakerName">Paul Lewis</span>: I'm seeing </span><span class="line" data-startTime="1563">so much about your </span><span class="line" data-startTime="1564">upbringing right now. </span><span class="line" data-startTime="1566">In that 20 seconds, I didn't </span><span class="line" data-startTime="1566">expect that, if I'm honest. </span><span class="line" data-startTime="1571">Folks, I hope you enjoyed </span><span class="line" data-startTime="1571">that as much as I did. </span><span class="line" data-startTime="1575">Well. </span></p>

<p class="speaker"><span class="line" data-starttime="1577"><span class="speakerName">Paul Irish</span>: It's there. </span></p>

<p class="speaker"><span class="line" data-starttime="1579"><span class="speakerName">Paul Lewis</span>: Yeah. </span><span class="line" data-startTime="1579">There's these paint </span><span class="line" data-startTime="1579">rectangles. </span></p>

<p class="speaker"><span class="line" data-starttime="1581"><span class="speakerName">Paul Irish</span>: Show Paint </span><span class="line" data-startTime="1581">Rectangles is on. </span></p>

<p class="speaker"><span class="line" data-starttime="1582"><span class="speakerName">Paul Lewis</span>: That's </span><span class="line" data-startTime="1582">probably why. </span><span class="line" data-startTime="1583">It's probably mad. </span></p>

<p class="speaker"><span class="line" data-starttime="1584"><span class="speakerName">Paul Irish</span>: Yeah, it's </span><span class="line" data-startTime="1584">really mad at us. </span></p>

<p class="speaker"><span class="line" data-starttime="1586"><span class="speakerName">Paul Lewis</span>: All right. </span></p>

<p class="speaker"><span class="line" data-starttime="1586"><span class="speakerName">Paul Irish</span>: All right. </span><span class="line" data-startTime="1587">So we're going to move </span><span class="line" data-startTime="1587">to something else. </span><span class="line" data-startTime="1588">This is Behzad, designer </span><span class="line" data-startTime="1588">and developer. </span><span class="line" data-startTime="1592">Let's take a look. </span><span class="line" data-startTime="1593">So you can &mdash; it says we can </span><span class="line" data-startTime="1593">use kind of the keys here. </span><span class="line" data-startTime="1597">Down. </span></p>

<p class="speaker"><span class="line" data-starttime="1598"><span class="speakerName">Paul Lewis</span>: This is looking </span><span class="line" data-startTime="1598">pretty good, right? </span><span class="line" data-startTime="1601">This is looking pretty &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1602"><span class="speakerName">Paul Irish</span>: Wow. </span><span class="line" data-startTime="1603">Wow. </span><span class="line" data-startTime="1604">Someone hire this man. </span><span class="line" data-startTime="1608">All right. </span><span class="line" data-startTime="1608">There's this kind of </span><span class="line" data-startTime="1608">playful, kind of &mdash; </span><span class="line" data-startTime="1611">the background is parallaxing </span><span class="line" data-startTime="1611">two directions as these kind </span><span class="line" data-startTime="1615">of play a little bit. </span></p>

<p class="speaker"><span class="line" data-starttime="1616"><span class="speakerName">Paul Lewis</span>: And I'm seeing &mdash; </span><span class="line" data-startTime="1617">when I'm watching, say, the </span><span class="line" data-startTime="1617">phone here in this image, it's </span><span class="line" data-startTime="1620">kind of janking around. </span><span class="line" data-startTime="1621">It doesn't feel like </span><span class="line" data-startTime="1621">it's smooth motion. </span></p>

<p class="speaker"><span class="line" data-starttime="1623"><span class="speakerName">Paul Irish</span>: I don't know. </span></p>

<p class="speaker"><span class="line" data-starttime="1624"><span class="speakerName">Paul Lewis</span>: I'm wondering </span><span class="line" data-startTime="1624">about this. </span></p>

<p class="speaker"><span class="line" data-starttime="1625"><span class="speakerName">Paul Irish</span>: Do you think </span><span class="line" data-startTime="1625">we can improve it? </span></p>

<p class="speaker"><span class="line" data-starttime="1626"><span class="speakerName">Paul Lewis</span>: Well, </span><span class="line" data-startTime="1626">I don't know. </span><span class="line" data-startTime="1627">Let's find out what </span><span class="line" data-startTime="1627">it's doing. </span></p>

<p class="speaker"><span class="line" data-starttime="1628"><span class="speakerName">Paul Irish</span>: Honestly, </span><span class="line" data-startTime="1628">I think it's &mdash; </span><span class="line" data-startTime="1629">OK. </span><span class="line" data-startTime="1629">So let's &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1631"><span class="speakerName">Paul Lewis</span>: See, I'm seeing </span><span class="line" data-startTime="1631">paints, right? </span></p>

<p class="speaker"><span class="line" data-starttime="1632"><span class="speakerName">Paul Irish</span>: It's all paint. </span><span class="line" data-startTime="1632">It's all paint. </span><span class="line" data-startTime="1634">Paint Recs is still on. </span><span class="line" data-startTime="1634">I'm going to make sure </span><span class="line" data-startTime="1634">that that's off. </span><span class="line" data-startTime="1636">We want that. </span><span class="line" data-startTime="1638">It's not going to </span><span class="line" data-startTime="1638">change anything. </span><span class="line" data-startTime="1639">It's all the same. </span><span class="line" data-startTime="1641">OK. </span><span class="line" data-startTime="1642">I'm using Command D. It's fast. </span><span class="line" data-startTime="1644">All right. </span><span class="line" data-startTime="1645">So we look in. </span><span class="line" data-startTime="1645">And we're all just &mdash; </span><span class="line" data-startTime="1645">we're in pain land. </span></p>

<p class="speaker"><span class="line" data-starttime="1648"><span class="speakerName">Paul Lewis</span>: Image resize! </span></p>

<p class="speaker"><span class="line" data-starttime="1648"><span class="speakerName">Paul Irish</span>: Image resize! </span></p>

<p class="speaker"><span class="line" data-starttime="1650"><span class="speakerName">Paul Lewis</span>: 50 milliseconds. </span></p>

<p class="speaker"><span class="line" data-starttime="1651"><span class="speakerName">Paul Irish</span>: Wow. </span></p>

<p class="speaker"><span class="line" data-starttime="1653"><span class="speakerName">Paul Lewis</span>: Who knew? </span></p>

<p class="speaker"><span class="line" data-starttime="1654"><span class="speakerName">Paul Irish</span>: Wow. </span><span class="line" data-startTime="1655">That's really good to know. </span><span class="line" data-startTime="1657">OK. </span><span class="line" data-startTime="1657">So image resize, unexpected. </span></p>

<p class="speaker"><span class="line" data-starttime="1660"><span class="speakerName">Paul Lewis</span>: So decoding and </span><span class="line" data-startTime="1660">resizing alike, there are </span><span class="line" data-startTime="1663">dependencies for paint. </span><span class="line" data-startTime="1664">So when Chrome hits something </span><span class="line" data-startTime="1664">that's it going to paint, it </span><span class="line" data-startTime="1668">goes, right, do I need </span><span class="line" data-startTime="1668">any images for this? </span><span class="line" data-startTime="1670">And it doesn't keep &mdash; </span><span class="line" data-startTime="1671">it keeps the PNG or the </span><span class="line" data-startTime="1671">JPEG in memory. </span><span class="line" data-startTime="1673">But it doesn't keep the bitmap </span><span class="line" data-startTime="1673">for that, the expanded, </span><span class="line" data-startTime="1677">decompressed version </span><span class="line" data-startTime="1677">of that in memory. </span><span class="line" data-startTime="1679">So it what it does, it goes </span><span class="line" data-startTime="1679">off on the fly and says, </span><span class="line" data-startTime="1681">right, decode and decompress </span><span class="line" data-startTime="1681">that image out to a bitmap. </span><span class="line" data-startTime="1684">And then resize it down. </span><span class="line" data-startTime="1686">So because we don't see a decode </span><span class="line" data-startTime="1686">here, something that </span><span class="line" data-startTime="1688">was already decoded in resident </span><span class="line" data-startTime="1688">memory, but it had to </span><span class="line" data-startTime="1691">be re-sized. </span></p>

<p class="speaker"><span class="line" data-starttime="1692"><span class="speakerName">Paul Irish</span>: Yeah. </span><span class="line" data-startTime="1693">So it's this image, clearly. </span></p>

<p class="speaker"><span class="line" data-starttime="1694"><span class="speakerName">Paul Lewis</span>: You think? </span></p>

<p class="speaker"><span class="line" data-starttime="1696"><span class="speakerName">Paul Irish</span>: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="1696"><span class="speakerName">Paul Lewis</span>: I'm down with it. </span></p>

<p class="speaker"><span class="line" data-starttime="1699"><span class="speakerName">Paul Irish</span>: I don't really </span><span class="line" data-startTime="1699">know where it is. </span><span class="line" data-startTime="1700">But it's in here. </span><span class="line" data-startTime="1702">Are you in here? </span><span class="line" data-startTime="1703">Yup. </span><span class="line" data-startTime="1704">I'm using H to kind </span><span class="line" data-startTime="1704">of navigate the </span><span class="line" data-startTime="1707">DOM and hide parts. </span><span class="line" data-startTime="1709">It's in there? </span><span class="line" data-startTime="1709">Got it. </span><span class="line" data-startTime="1711">OK. </span><span class="line" data-startTime="1713">So oh, yeah. </span><span class="line" data-startTime="1715">Naturally, 220 pixels. </span><span class="line" data-startTime="1718">I mean, it's a big image. </span></p>

<p class="speaker"><span class="line" data-starttime="1719"><span class="speakerName">Paul Lewis</span>: 2,200, right? </span></p>

<p class="speaker"><span class="line" data-starttime="1720"><span class="speakerName">Paul Irish</span>: Yes. </span><span class="line" data-startTime="1721">The larger the image, the more </span><span class="line" data-startTime="1721">expensive the resize will </span><span class="line" data-startTime="1724">cost, which makes sense. </span><span class="line" data-startTime="1728">But &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1729"><span class="speakerName">Paul Lewis</span>: And this doesn't </span><span class="line" data-startTime="1729">actually make &mdash; </span><span class="line" data-startTime="1730">I mean, for me, I was </span><span class="line" data-startTime="1730">looking at this. </span><span class="line" data-startTime="1731">And it's not resizing. </span><span class="line" data-startTime="1734">It doesn't seem to </span><span class="line" data-startTime="1734">be resizing. </span><span class="line" data-startTime="1735">As you were moving, it was </span><span class="line" data-startTime="1735">moving left and top or </span><span class="line" data-startTime="1738">translating. </span><span class="line" data-startTime="1738">But it wasn't resizing. </span><span class="line" data-startTime="1740">So I wonder why there's </span><span class="line" data-startTime="1740">a resize going on. </span></p>

<p class="speaker"><span class="line" data-starttime="1744"><span class="speakerName">Paul Irish</span>: So it's </span><span class="line" data-startTime="1744">definitely &mdash; </span><span class="line" data-startTime="1744">yeah, left and tops. </span></p>

<p class="speaker"><span class="line" data-starttime="1746"><span class="speakerName">Paul Lewis</span>: So maybe something </span><span class="line" data-startTime="1746">is resizing it. </span><span class="line" data-startTime="1747">But it seems unusual to need </span><span class="line" data-startTime="1747">to resize it at all. </span><span class="line" data-startTime="1750">I guess what I'm driving at is </span><span class="line" data-startTime="1750">it could be served up that </span><span class="line" data-startTime="1753">size potentially, and the </span><span class="line" data-startTime="1753">problem would be solved. </span></p>

<p class="speaker"><span class="line" data-starttime="1756"><span class="speakerName">Paul Irish</span>: Yeah, OK. </span><span class="line" data-startTime="1757">Let's &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1759"><span class="speakerName">Paul Lewis</span>: I mean, just looking </span><span class="line" data-startTime="1759">at this profile. </span><span class="line" data-startTime="1760">I mean, this is all </span><span class="line" data-startTime="1760">green, right? </span><span class="line" data-startTime="1762">This is all paint work </span><span class="line" data-startTime="1762">that's happening. </span></p>

<p class="speaker"><span class="line" data-starttime="1764"><span class="speakerName">Paul Irish</span>: Yeah, </span><span class="line" data-startTime="1764">but I think &mdash; </span><span class="line" data-startTime="1765">I mean, it's triggered </span><span class="line" data-startTime="1765">off a mouse move. </span><span class="line" data-startTime="1767">There's a mouse move that's </span><span class="line" data-startTime="1767">watching the work. </span><span class="line" data-startTime="1771">Command uh &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1773"><span class="speakerName">Paul Lewis</span>: Command </span><span class="line" data-startTime="1773">[INAUDIBLE]? </span><span class="line" data-startTime="1776">What are you doing? </span></p>

<p class="speaker"><span class="line" data-starttime="1777"><span class="speakerName">Paul Irish</span>: I'm really </span><span class="line" data-startTime="1777">interested in what happens </span><span class="line" data-startTime="1779">inside this image. </span></p>

<p class="speaker"><span class="line" data-starttime="1780"><span class="speakerName">Paul Lewis</span>: I don't blame you. </span><span class="line" data-startTime="1781">I'm fascinated, too. </span></p>

<p class="speaker"><span class="line" data-starttime="1782"><span class="speakerName">Paul Irish</span>: OK. </span></p>

<p class="speaker"><span class="line" data-starttime="1783"><span class="speakerName">Paul Lewis</span>: I'm just </span><span class="line" data-startTime="1783">trying to &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1783"><span class="speakerName">Paul Irish</span>: BG01. </span></p>

<p class="speaker"><span class="line" data-starttime="1784"><span class="speakerName">Paul Lewis</span>: All right. </span><span class="line" data-startTime="1785">Because you're going quick. </span><span class="line" data-startTime="1786">And I'm wondering if people </span><span class="line" data-startTime="1786">are going to follow what </span><span class="line" data-startTime="1788">you're doing. </span></p>

<p class="speaker"><span class="line" data-starttime="1789"><span class="speakerName">Paul Irish</span>: Well, OK. </span><span class="line" data-startTime="1789">So I just found &mdash; </span><span class="line" data-startTime="1790">we grabbed the image. </span></p>

<p class="speaker"><span class="line" data-starttime="1792"><span class="speakerName">Paul Lewis</span>: Can I &mdash; </span><span class="line" data-startTime="1793">he's got &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1794"><span class="speakerName">Paul Irish</span>: We're in the </span><span class="line" data-startTime="1794">mouse move, right? </span><span class="line" data-startTime="1795">We're in the mouse move, inside </span><span class="line" data-startTime="1795">this start screen. </span><span class="line" data-startTime="1797">So it looks like it's only just </span><span class="line" data-startTime="1797">mouse moves inside this </span><span class="line" data-startTime="1799">start screen, which </span><span class="line" data-startTime="1799">is good, rather </span><span class="line" data-startTime="1801">than the entire document. </span></p>

<p class="speaker"><span class="line" data-starttime="1801"><span class="speakerName">Paul Lewis</span>: Yup, yup, yup. </span></p>

<p class="speaker"><span class="line" data-starttime="1803"><span class="speakerName">Paul Irish</span>: But we re-grab </span><span class="line" data-startTime="1803">that element. </span><span class="line" data-startTime="1805">So we're doing a jQuery </span><span class="line" data-startTime="1805">traversal every single mouse </span><span class="line" data-startTime="1807">move, which we don't </span><span class="line" data-startTime="1807">need to, obviously. </span><span class="line" data-startTime="1810">We could cache that. </span></p>

<p class="speaker"><span class="line" data-starttime="1811"><span class="speakerName">Paul Lewis</span>: I'm seeing width and </span><span class="line" data-startTime="1811">height all over the place, </span><span class="line" data-startTime="1813">which feels like something </span><span class="line" data-startTime="1813">that wouldn't change. </span></p>

<p class="speaker"><span class="line" data-starttime="1815"><span class="speakerName">Paul Irish</span>: Width and height, </span><span class="line" data-startTime="1815">probably not going to change. </span></p>

<p class="speaker"><span class="line" data-starttime="1819"><span class="speakerName">Paul Lewis</span>: No. </span><span class="line" data-startTime="1819">I mean, that's only &mdash; </span><span class="line" data-startTime="1820">you could do those off of </span><span class="line" data-startTime="1820">requestAnimationFrame, off of </span><span class="line" data-startTime="1823">window resize. </span></p>

<p class="speaker"><span class="line" data-starttime="1824"><span class="speakerName">Paul Irish</span>: Then we just do a </span><span class="line" data-startTime="1824">bunch of math for the position </span><span class="line" data-startTime="1827">of the mouse and the current </span><span class="line" data-startTime="1827">width, height. </span><span class="line" data-startTime="1832">And then we just set the </span><span class="line" data-startTime="1832">left top to get the &mdash; </span><span class="line" data-startTime="1835">oh, it looks like he tried </span><span class="line" data-startTime="1835">some animation. </span><span class="line" data-startTime="1837">And that probably didn't </span><span class="line" data-startTime="1837">perform well. </span></p>

<p class="speaker"><span class="line" data-starttime="1838"><span class="speakerName">Paul Lewis</span>: It's interesting </span><span class="line" data-startTime="1838">that there's a &mdash; </span><span class="line" data-startTime="1839">oh, a failed 3D transform </span><span class="line" data-startTime="1839">document. </span></p>

<p class="speaker"><span class="line" data-starttime="1842"><span class="speakerName">Paul Irish</span>: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="1842"><span class="speakerName">Paul Lewis</span>: Yeah, I would love </span><span class="line" data-startTime="1842">to know why that was &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1845"><span class="speakerName">Paul Irish</span>: Come on. </span><span class="line" data-startTime="1847">Live edit, bro. </span><span class="line" data-startTime="1848">Live edit. </span></p>

<p class="speaker"><span class="line" data-starttime="1849"><span class="speakerName">Paul Lewis</span>: I would </span><span class="line" data-startTime="1849">love to know why &mdash; </span><span class="line" data-startTime="1851">that's smooth! </span></p>

<p class="speaker"><span class="line" data-starttime="1853"><span class="speakerName">Paul Irish</span>: That is smooth! </span></p>

<p class="speaker"><span class="line" data-starttime="1854"><span class="speakerName">Paul Lewis</span>: That's amazing. </span></p>

<p class="speaker"><span class="line" data-starttime="1855"><span class="speakerName">Paul Irish</span>: Let's go back. </span><span class="line" data-startTime="1855">OK, Timeline looked like this. </span><span class="line" data-startTime="1858">Command D. What the &mdash; </span><span class="line" data-startTime="1858">wait, wait. </span><span class="line" data-startTime="1860">There we go. </span><span class="line" data-startTime="1861">Blah, blah, blah, blah, blah. </span></p>

<p class="speaker"><span class="line" data-starttime="1862"><span class="speakerName">Paul Lewis</span>: That's &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1863"><span class="speakerName">Paul Irish</span>: Seems better. </span></p>

<p class="speaker"><span class="line" data-starttime="1863"><span class="speakerName">Paul Lewis</span>: That seems better. </span></p>

<p class="speaker"><span class="line" data-starttime="1864"><span class="speakerName">Paul Irish</span>: Seems better. </span></p>

<p class="speaker"><span class="line" data-starttime="1865"><span class="speakerName">Paul Lewis</span>: That's breaking </span><span class="line" data-startTime="1865">through less often. </span><span class="line" data-startTime="1868">Switch it back. </span><span class="line" data-startTime="1869">All right. </span><span class="line" data-startTime="1869">So we're seeing 60 </span><span class="line" data-startTime="1869">frames a second. </span><span class="line" data-startTime="1872">Boom. </span><span class="line" data-startTime="1874">Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="1875"><span class="speakerName">Paul Irish</span>: I bet this was </span><span class="line" data-startTime="1875">all set up for us. </span></p>

<p class="speaker"><span class="line" data-starttime="1876"><span class="speakerName">Paul Lewis</span>: I kno. </span><span class="line" data-startTime="1877">It genuinely wasn't. </span><span class="line" data-startTime="1878">That's the best bit of this. </span><span class="line" data-startTime="1879">OK, yeah </span></p>

<p class="speaker"><span class="line" data-starttime="1880"><span class="speakerName">Paul Irish</span>: I don't know </span><span class="line" data-startTime="1880">what's going on. </span></p>

<p class="speaker"><span class="line" data-starttime="1881"><span class="speakerName">Paul Lewis</span>: That doesn't </span><span class="line" data-startTime="1881">feel like &mdash; </span><span class="line" data-startTime="1883">all right. </span><span class="line" data-startTime="1884">Is that doing the right thing? </span><span class="line" data-startTime="1885">Did you save the change? </span></p>

<p class="speaker"><span class="line" data-starttime="1887"><span class="speakerName">Paul Irish</span>: Yeah, yeah, I did. </span></p>

<p class="speaker"><span class="line" data-starttime="1888"><span class="speakerName">Paul Lewis</span>: Are you sure? </span></p>

<p class="speaker"><span class="line" data-starttime="1889"><span class="speakerName">Paul Irish</span>: Yeah, I'm sure. </span></p>

<p class="speaker"><span class="line" data-starttime="1890"><span class="speakerName">Paul Lewis</span>: OK. </span></p>

<p class="speaker"><span class="line" data-starttime="1890"><span class="speakerName">Paul Irish</span>: Here, I'm going to &mdash; </span><span class="line" data-startTime="1890">this is probably a better </span><span class="line" data-startTime="1892">way to do it. </span></p>

<p class="speaker"><span class="line" data-starttime="1893"><span class="speakerName">Paul Lewis</span>: You're </span><span class="line" data-startTime="1893">going to relead? </span></p>

<p class="speaker"><span class="line" data-starttime="1894"><span class="speakerName">Paul Irish</span>: No, I'm </span><span class="line" data-startTime="1894">not reloading. </span><span class="line" data-startTime="1896">Start, move. </span><span class="line" data-startTime="1898">[HUMMING] </span><span class="line" data-startTime="1899">Come over here. </span><span class="line" data-startTime="1900">Sources, quick, quick, </span><span class="line" data-startTime="1900">quick, quick, quick. </span><span class="line" data-startTime="1903">Save, patch to the [INAUDIBLE]. </span><span class="line" data-startTime="1904">Come back. </span><span class="line" data-startTime="1905">And, and, go, and &mdash; </span><span class="line" data-startTime="1908">hard to say. </span></p>

<p class="speaker"><span class="line" data-starttime="1909"><span class="speakerName">Paul Lewis</span>: Very hard to say, </span><span class="line" data-startTime="1909">based on what you just did. </span></p>

<p class="speaker"><span class="line" data-starttime="1912"><span class="speakerName">Paul Irish</span>: It does &mdash; </span><span class="line" data-startTime="1912">I mean, at first glance, </span><span class="line" data-startTime="1912">it looked like &mdash; </span><span class="line" data-startTime="1916">I mean, you saw what </span><span class="line" data-startTime="1916">I did, right? </span></p>

<p class="speaker"><span class="line" data-starttime="1917"><span class="speakerName">Paul Lewis</span>: Yeah, yeah, yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="1917"><span class="speakerName">Paul Irish</span>: I mean, </span><span class="line" data-startTime="1917">it was just fast. </span></p>

<p class="speaker"><span class="line" data-starttime="1918"><span class="speakerName">Paul Lewis</span>: It was </span><span class="line" data-startTime="1918">just, [YELLS]. </span></p>

<p class="speaker"><span class="line" data-starttime="1920"><span class="speakerName">Paul Irish</span>: Yeah. </span><span class="line" data-startTime="1920">Well, sorry. </span><span class="line" data-startTime="1921">It does &mdash; </span><span class="line" data-startTime="1922">OK. </span></p>

<p class="speaker"><span class="line" data-starttime="1922"><span class="speakerName">Paul Lewis</span>: That's what it's </span><span class="line" data-startTime="1922">like working with Paul Irish. </span></p>

<p class="speaker"><span class="line" data-starttime="1924"><span class="speakerName">Paul Irish</span>: I think </span><span class="line" data-startTime="1924">I was making &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="1924"><span class="speakerName">Paul Lewis</span>: Some people </span><span class="line" data-startTime="1924">are slow. </span><span class="line" data-startTime="1926">Some people are fast. </span><span class="line" data-startTime="1926">And then there's Paul Irish. </span></p>

<p class="speaker"><span class="line" data-starttime="1928"><span class="speakerName">Paul Irish</span>: I &mdash; yeah. </span><span class="line" data-startTime="1929">So it looks like it actually </span><span class="line" data-startTime="1929">was more costly. </span></p>

<p class="speaker"><span class="line" data-starttime="1932"><span class="speakerName">Paul Lewis</span>: I would be </span><span class="line" data-startTime="1932">interested in spending a bit </span><span class="line" data-startTime="1935">more time on this if </span><span class="line" data-startTime="1935">I were the author. </span></p>

<p class="speaker"><span class="line" data-starttime="1936"><span class="speakerName">Paul Irish</span>: I think Behzad &mdash; </span><span class="line" data-startTime="1936">he tried it. </span><span class="line" data-startTime="1938">And he saw this. </span><span class="line" data-startTime="1938">And then he went back and went </span><span class="line" data-startTime="1938">like, I'm just going to set </span><span class="line" data-startTime="1941">left top, which is cray-cray </span><span class="line" data-startTime="1941">because &mdash; </span><span class="line" data-startTime="1943">[LAUGHING] </span></p>

<p class="speaker"><span class="line" data-starttime="1946"><span class="speakerName">Paul Lewis</span>: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="1946"><span class="speakerName">Paul Irish</span>: Anyways. </span></p>

<p class="speaker"><span class="line" data-starttime="1947"><span class="speakerName">Paul Lewis</span>: But I </span><span class="line" data-startTime="1947">still think &mdash; </span><span class="line" data-startTime="1948">for me, I would look at the </span><span class="line" data-startTime="1948">3D transform again. </span><span class="line" data-startTime="1951">It seems like that might be </span><span class="line" data-startTime="1951">the better option here. </span><span class="line" data-startTime="1955">It's hard to say for sure. </span><span class="line" data-startTime="1956">But it seems like it might </span><span class="line" data-startTime="1956">be worth trying. </span></p>

<p class="speaker"><span class="line" data-starttime="1960"><span class="speakerName">Paul Irish</span>: Yeah. </span><span class="line" data-startTime="1960">The other thing I think that's </span><span class="line" data-startTime="1960">probably important is &mdash; </span><span class="line" data-startTime="1966">we keep asking about the width </span><span class="line" data-startTime="1966">and height of this image. </span><span class="line" data-startTime="1969">And it might that which is </span><span class="line" data-startTime="1969">causing the size, like the </span><span class="line" data-startTime="1972">browser is not terribly </span><span class="line" data-startTime="1972">confident in what </span><span class="line" data-startTime="1976">the actual size is. </span><span class="line" data-startTime="1978">And so it's going </span><span class="line" data-startTime="1978">to ask again. </span></p>

<p class="speaker"><span class="line" data-starttime="1980"><span class="speakerName">Paul Lewis</span>: Yeah. </span><span class="line" data-startTime="1981">I mean, there's no reason to </span><span class="line" data-startTime="1981">keep querying the width and </span><span class="line" data-startTime="1983">height there. </span><span class="line" data-startTime="1984">I think that's definitely </span><span class="line" data-startTime="1984">something to take a look at. </span><span class="line" data-startTime="1989">That's monster. </span><span class="line" data-startTime="1989">That is monster big, isn't it? </span></p>

<p class="speaker"><span class="line" data-starttime="1992"><span class="speakerName">Paul Irish</span>: All right. </span><span class="line" data-startTime="1994">The other thing &mdash; </span><span class="line" data-startTime="1996">yeah. </span><span class="line" data-startTime="1997">We should &mdash; </span><span class="line" data-startTime="1997">you want to show a continuous </span><span class="line" data-startTime="1997">paint on any of this? </span></p>

<p class="speaker"><span class="line" data-starttime="2000"><span class="speakerName">Paul Lewis</span>: I don't know. </span></p>

<p class="speaker"><span class="line" data-starttime="2001"><span class="speakerName">Paul Irish</span>: So it's </span><span class="line" data-startTime="2001">hard to say. </span><span class="line" data-startTime="2002">So these paints are big. </span><span class="line" data-startTime="2004">And so we can go in and </span><span class="line" data-startTime="2004">turn on Continuous </span><span class="line" data-startTime="2007">Paint Mode down here. </span><span class="line" data-startTime="2009">And I'll just re-dock </span><span class="line" data-startTime="2009">my DevTools. </span><span class="line" data-startTime="2011">And so what it's going to do </span><span class="line" data-startTime="2011">is it's just going to paint </span><span class="line" data-startTime="2015">the page again and </span><span class="line" data-startTime="2015">again and again. </span><span class="line" data-startTime="2017">And up here in the top right </span><span class="line" data-startTime="2017">of the page, we'll see how </span><span class="line" data-startTime="2018">long it takes to paint. </span><span class="line" data-startTime="2020">And from here, we can just </span><span class="line" data-startTime="2020">toggle things on and off. </span><span class="line" data-startTime="2023">Or you can use the H key. </span><span class="line" data-startTime="2024">So I turned off the </span><span class="line" data-startTime="2024">background. </span><span class="line" data-startTime="2026">And the paint performance </span><span class="line" data-startTime="2026">improves a little bit. </span></p>

<p class="speaker"><span class="line" data-starttime="2029"><span class="speakerName">Paul Lewis</span>: It's not </span><span class="line" data-startTime="2029">noticeably so. </span></p>

<p class="speaker"><span class="line" data-starttime="2031"><span class="speakerName">Paul Irish</span>: Not dramatically. </span></p>

<p class="speaker"><span class="line" data-starttime="2031"><span class="speakerName">Paul Lewis</span>: So this </span><span class="line" data-startTime="2031">is &mdash; so this taps </span><span class="line" data-startTime="2033">into the other thing. </span><span class="line" data-startTime="2033">When we were talking about paint </span><span class="line" data-startTime="2033">areas before, that's </span><span class="line" data-startTime="2035">like part one. </span><span class="line" data-startTime="2037">Part two is paint complexity, </span><span class="line" data-startTime="2037">which is what this tool's </span><span class="line" data-startTime="2039">trying to show. </span><span class="line" data-startTime="2039">It's like if Chrome starts from </span><span class="line" data-startTime="2039">nothing, and it's got to </span><span class="line" data-startTime="2042">paint everything that's on </span><span class="line" data-startTime="2042">screen, how long does that </span><span class="line" data-startTime="2044">process take? </span><span class="line" data-startTime="2045">So it's kind of fluctuating, </span><span class="line" data-startTime="2045">what? </span><span class="line" data-startTime="2047">Roughly between somewhere </span><span class="line" data-startTime="2047">around the eight to </span><span class="line" data-startTime="2052">10 mark, I'd say. </span><span class="line" data-startTime="2054">Which means it's not </span><span class="line" data-startTime="2054">terribly complex to </span><span class="line" data-startTime="2056">repaint at this point. </span></p>

<p class="speaker"><span class="line" data-starttime="2059"><span class="speakerName">Paul Irish</span>: It's not that bad. </span><span class="line" data-startTime="2059">I mean, it could </span><span class="line" data-startTime="2059">be much better. </span></p>

<p class="speaker"><span class="line" data-starttime="2062"><span class="speakerName">Paul Lewis</span>: It could be worse. </span><span class="line" data-startTime="2062">But sometimes you'll see huge </span><span class="line" data-startTime="2062">spikes in the actual paint </span><span class="line" data-startTime="2066">time from when it's painting </span><span class="line" data-startTime="2066">from scratch. </span></p>

<p class="speaker"><span class="line" data-starttime="2069"><span class="speakerName">Paul Irish</span>: So I want </span><span class="line" data-startTime="2069">to try one thing. </span><span class="line" data-startTime="2071">Here. </span><span class="line" data-startTime="2072">We're going to turn on &mdash; </span><span class="line" data-startTime="2074">I like doing Composite Layer </span><span class="line" data-startTime="2074">Borders at the same time as </span><span class="line" data-startTime="2078">Paint Recs. </span></p>

<p class="speaker"><span class="line" data-starttime="2081"><span class="speakerName">Paul Lewis</span>: You've got Show </span><span class="line" data-startTime="2081">Paint Rectangles on. </span></p>

<p class="speaker"><span class="line" data-starttime="2083"><span class="speakerName">Paul Irish</span>: Do I? </span></p>

<p class="speaker"><span class="line" data-starttime="2084"><span class="speakerName">Paul Lewis</span>: I think. </span></p>

<p class="speaker"><span class="line" data-starttime="2084"><span class="speakerName">Paul Irish</span>: Yeah, yeah. </span><span class="line" data-startTime="2086">We have Show Paint Recs. </span></p>

<p class="speaker"><span class="line" data-starttime="2086"><span class="speakerName">Paul Lewis</span>: But you </span><span class="line" data-startTime="2086">haven't got &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2087"><span class="speakerName">Paul Irish</span>: Layer borders. </span></p>

<p class="speaker"><span class="line" data-starttime="2088"><span class="speakerName">Paul Lewis</span>: You need to switch </span><span class="line" data-startTime="2088">on the first layer &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2089"><span class="speakerName">Paul Irish</span>: Thank you. </span><span class="line" data-startTime="2089">Thank you. </span><span class="line" data-startTime="2090">Thank you. </span><span class="line" data-startTime="2092">OK. </span><span class="line" data-startTime="2093">Nothing's promoted. </span><span class="line" data-startTime="2094">This is what I was thinking. </span><span class="line" data-startTime="2095">I was thinking of promoting </span><span class="line" data-startTime="2095">these navs. </span><span class="line" data-startTime="2097">Terrible? </span></p>

<p class="speaker"><span class="line" data-starttime="2098"><span class="speakerName">Paul Lewis</span>: I don't know. </span></p>

<p class="speaker"><span class="line" data-starttime="2099"><span class="speakerName">Paul Irish</span>: I don't know. </span></p>

<p class="speaker"><span class="line" data-starttime="2099"><span class="speakerName">Paul Lewis</span>: Let's find out. </span></p>

<p class="speaker"><span class="line" data-starttime="2100"><span class="speakerName">Paul Irish</span>: All right. </span><span class="line" data-startTime="2103">This guy. </span><span class="line" data-startTime="2104">Yup, yup, yup. </span><span class="line" data-startTime="2106">Webkit transform &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2109"><span class="speakerName">Paul Lewis</span>: So the reason I </span><span class="line" data-startTime="2109">would assume you're doing this </span><span class="line" data-startTime="2111">is because it's over the </span><span class="line" data-startTime="2111">top of something else. </span></p>

<p class="speaker"><span class="line" data-starttime="2112"><span class="speakerName">Paul Irish</span>: It's opacity. </span></p>

<p class="speaker"><span class="line" data-starttime="2113"><span class="speakerName">Paul Lewis</span>: And you're concerned </span><span class="line" data-startTime="2113">that it's grouping </span><span class="line" data-startTime="2115">them together into a single </span><span class="line" data-startTime="2115">bitmap in memory. </span><span class="line" data-startTime="2119">And you want to break it </span><span class="line" data-startTime="2119">down to its own layer. </span></p>

<p class="speaker"><span class="line" data-starttime="2121"><span class="speakerName">Paul Irish</span>: Yeah. </span><span class="line" data-startTime="2121">Because in Timeline, we did </span><span class="line" data-startTime="2121">see a good amount of </span><span class="line" data-startTime="2124">compositing costs, like </span><span class="line" data-startTime="2124">this composite layers. </span><span class="line" data-startTime="2128">And I'm guessing that because </span><span class="line" data-startTime="2128">these nav items have an </span><span class="line" data-startTime="2132">opacity on them, it's having to </span><span class="line" data-startTime="2132">do the compositing against </span><span class="line" data-startTime="2137">the background on every </span><span class="line" data-startTime="2137">single move. </span><span class="line" data-startTime="2140">So I'm guessing that if we drop </span><span class="line" data-startTime="2140">them out into layers &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2142"><span class="speakerName">Paul Lewis</span>: Yup. </span><span class="line" data-startTime="2142">Then it's just &mdash; all it's got to </span><span class="line" data-startTime="2142">do is it's got to just let </span><span class="line" data-startTime="2145">the GPU deal with that for us. </span></p>

<p class="speaker"><span class="line" data-starttime="2148"><span class="speakerName">Paul Irish</span>: That seems </span><span class="line" data-startTime="2148">pretty nice-ish. </span></p>

<p class="speaker"><span class="line" data-starttime="2151"><span class="speakerName">Paul Lewis</span>: You want </span><span class="line" data-startTime="2151">to profile it? </span></p>

<p class="speaker"><span class="line" data-starttime="2153"><span class="speakerName">Paul Irish</span>: I'll profile it. </span></p>

<p class="speaker"><span class="line" data-starttime="2154"><span class="speakerName">Paul Lewis</span>: Don't guess it. </span></p>

<p class="speaker"><span class="line" data-starttime="2155"><span class="speakerName">Paul Irish</span>: Test it. </span></p>

<p class="speaker"><span class="line" data-starttime="2158"><span class="speakerName">Paul Lewis</span>: Perfect. </span><span class="line" data-startTime="2158">I couldn't have asked for &mdash; </span><span class="line" data-startTime="2158">you're just the best. </span></p>

<p class="speaker"><span class="line" data-starttime="2162"><span class="speakerName">Paul Irish</span>: All right. </span><span class="line" data-startTime="2163">I turned off those </span><span class="line" data-startTime="2163">two debug modes. </span><span class="line" data-startTime="2164">And I'll turn it back on. </span><span class="line" data-startTime="2166">Oh, come on! </span><span class="line" data-startTime="2168">Nailed it! </span><span class="line" data-startTime="2169">Yeah! </span></p>

<p class="speaker"><span class="line" data-starttime="2170"><span class="speakerName">Paul Lewis</span>: And that's </span><span class="line" data-startTime="2170">how we do it. </span></p>

<p class="speaker"><span class="line" data-starttime="2173"><span class="speakerName">Paul Irish</span>: That was good. </span></p>

<p class="speaker"><span class="line" data-starttime="2174"><span class="speakerName">Paul Lewis</span>: This is genuinely </span><span class="line" data-startTime="2174">how we do this. </span><span class="line" data-startTime="2178">This is why we didn't </span><span class="line" data-startTime="2178">look at these too </span><span class="line" data-startTime="2179">closely before we started. </span><span class="line" data-startTime="2181">Hey, do you want to talk about </span><span class="line" data-startTime="2181">the transparent frame thing a </span><span class="line" data-startTime="2183">little bit? </span></p>

<p class="speaker"><span class="line" data-starttime="2185"><span class="speakerName">Paul Irish</span>: Oh, yeah, yeah. </span><span class="line" data-startTime="2186">OK. </span><span class="line" data-startTime="2186">So I'm going to start. </span><span class="line" data-startTime="2189">And then you &mdash; </span><span class="line" data-startTime="2191">OK. </span><span class="line" data-startTime="2191">If you're in timeline a lot, </span><span class="line" data-startTime="2191">you're going to see &mdash; </span><span class="line" data-startTime="2195">so these vertical bars, right? </span><span class="line" data-startTime="2197">And there's color at the bottom </span><span class="line" data-startTime="2197">of them, of course. </span><span class="line" data-startTime="2202">But then there's empty space. </span><span class="line" data-startTime="2205">There is this little dark </span><span class="line" data-startTime="2205">gray area here. </span><span class="line" data-startTime="2207">And that represents </span><span class="line" data-startTime="2207">uninstrumented code. </span><span class="line" data-startTime="2209">So we know that Chrome is doing </span><span class="line" data-startTime="2209">work, but we're not </span><span class="line" data-startTime="2211">exactly sure what </span><span class="line" data-startTime="2211">kind of work. </span><span class="line" data-startTime="2212">We're improving that. </span></p>

<p class="speaker"><span class="line" data-starttime="2214"><span class="speakerName">Paul Lewis</span>: So gray should </span><span class="line" data-startTime="2214">disappear over time. </span></p>

<p class="speaker"><span class="line" data-starttime="2215"><span class="speakerName">Paul Irish</span>: Yeah. </span><span class="line" data-startTime="2216">But then there's this case where </span><span class="line" data-startTime="2216">there's this kind of </span><span class="line" data-startTime="2218">this empty area leading </span><span class="line" data-startTime="2218">up to the 60 fps line. </span></p>

<p class="speaker"><span class="line" data-starttime="2222"><span class="speakerName">Paul Lewis</span>: Now, we don't </span><span class="line" data-startTime="2222">care about those, right? </span></p>

<p class="speaker"><span class="line" data-starttime="2223"><span class="speakerName">Paul Irish</span>: It doesn't matter. </span><span class="line" data-startTime="2224">That part really is </span><span class="line" data-startTime="2224">not a big concern. </span><span class="line" data-startTime="2227">You are hitting your </span><span class="line" data-startTime="2227">frame budget. </span><span class="line" data-startTime="2228">And Chrome's responsibility here </span><span class="line" data-startTime="2228">is to deliver a frame on </span><span class="line" data-startTime="2231">the Vsync of the monitor, which </span><span class="line" data-startTime="2231">means every time the </span><span class="line" data-startTime="2234">monitor's going to bring a frame </span><span class="line" data-startTime="2234">to my eyes, it wants to </span><span class="line" data-startTime="2238">have something ready for it. </span></p>

<p class="speaker"><span class="line" data-starttime="2240"><span class="speakerName">Paul Lewis</span>: So this </span><span class="line" data-startTime="2240">is room to spare, </span><span class="line" data-startTime="2241">basically, what we're seeing. </span></p>

<p class="speaker"><span class="line" data-starttime="2242"><span class="speakerName">Paul Irish</span>: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="2243"><span class="speakerName">Paul Lewis</span>: Empty space is like </span><span class="line" data-startTime="2243">Chrome saying, I'm done. </span><span class="line" data-startTime="2245">I can chill out until the </span><span class="line" data-startTime="2245">end of this frame. </span><span class="line" data-startTime="2247">But then there's the odd </span><span class="line" data-startTime="2247">frame that we're </span><span class="line" data-startTime="2249">seeing here, which is &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2250"><span class="speakerName">Paul Irish</span>: This guy </span></p>

<p class="speaker"><span class="line" data-starttime="2251"><span class="speakerName">Paul Lewis</span>: Which is shooting </span><span class="line" data-startTime="2251">out of the top. </span></p>

<p class="speaker"><span class="line" data-starttime="2252"><span class="speakerName">Paul Irish</span>: And it is </span><span class="line" data-startTime="2252">all empty space. </span><span class="line" data-startTime="2256">And so there's two things </span><span class="line" data-startTime="2256">to look at here. </span><span class="line" data-startTime="2258">One is &mdash; </span><span class="line" data-startTime="2260">so you see these gray bars </span><span class="line" data-startTime="2260">that are kind of in my </span><span class="line" data-startTime="2263">Timeline view? </span></p>

<p class="speaker"><span class="line" data-starttime="2264"><span class="speakerName">Paul Lewis</span>: No, you can switch </span><span class="line" data-startTime="2264">those on, right? </span></p>

<p class="speaker"><span class="line" data-starttime="2265"><span class="speakerName">Paul Irish</span>: Yeah. </span><span class="line" data-startTime="2265">So inside Settings, somewhere </span><span class="line" data-startTime="2265">down here is showing CPU </span><span class="line" data-startTime="2272">activity on the ruler. </span><span class="line" data-startTime="2274">And so it's off by default. </span><span class="line" data-startTime="2275">You'll have to turn it on. </span><span class="line" data-startTime="2277">But here, you'll get an idea </span><span class="line" data-startTime="2277">of, is the CPU active? </span><span class="line" data-startTime="2280">If the CPU is active &mdash; maybe </span><span class="line" data-startTime="2280">something outside of Chrome is </span><span class="line" data-startTime="2283">doing a lot of work, which is </span><span class="line" data-startTime="2283">why Chrome had to slow down &mdash; </span><span class="line" data-startTime="2286">so you get an idea on what kind </span><span class="line" data-startTime="2286">of work is being done. </span></p>

<p class="speaker"><span class="line" data-starttime="2289"><span class="speakerName">Paul Lewis</span>: So the thing to do </span><span class="line" data-startTime="2289">here is to make sure &mdash; if </span><span class="line" data-startTime="2290">you're going to do these </span><span class="line" data-startTime="2290">profiles, and you see </span><span class="line" data-startTime="2292">something like this, and you </span><span class="line" data-startTime="2292">want to just rule out other </span><span class="line" data-startTime="2294">apps, do that. </span><span class="line" data-startTime="2295">Close them down. </span><span class="line" data-startTime="2296">Make sure Chrome is the only </span><span class="line" data-startTime="2296">thing that's running. </span><span class="line" data-startTime="2297">Ideally, if you can really </span><span class="line" data-startTime="2297">do it, just go </span><span class="line" data-startTime="2299">into Incognito Mode. </span><span class="line" data-startTime="2301">Make sure this is the </span><span class="line" data-startTime="2301">only thing that's </span><span class="line" data-startTime="2302">running in the tab. </span><span class="line" data-startTime="2303">So it's just as isolated </span><span class="line" data-startTime="2303">as it can be. </span></p>

<p class="speaker"><span class="line" data-starttime="2305"><span class="speakerName">Paul Irish</span>: Kill all of the </span><span class="line" data-startTime="2305">tabs, Incognito, no </span><span class="line" data-startTime="2307">extensions. </span></p>

<p class="speaker"><span class="line" data-starttime="2307"><span class="speakerName">Paul Lewis</span>: It's </span><span class="line" data-startTime="2307">the only thing. </span><span class="line" data-startTime="2307">Yeah, nothing. </span><span class="line" data-startTime="2309">So it's just running </span><span class="line" data-startTime="2309">by itself. </span><span class="line" data-startTime="2310">So that kind of, as best as you </span><span class="line" data-startTime="2310">can, is going to eliminate </span><span class="line" data-startTime="2313">the kind of vying for </span><span class="line" data-startTime="2313">the CPU's attention. </span></p>

<p class="speaker"><span class="line" data-starttime="2317"><span class="speakerName">Paul Irish</span>: But in this case, </span><span class="line" data-startTime="2317">I do not have CPU activity </span><span class="line" data-startTime="2320">exactly there. </span><span class="line" data-startTime="2321">I mean, it's right here. </span><span class="line" data-startTime="2322">Right here and right here. </span><span class="line" data-startTime="2326">So what's &mdash; </span><span class="line" data-startTime="2327">can you tell me more about </span><span class="line" data-startTime="2327">what's going on here? </span></p>

<p class="speaker"><span class="line" data-starttime="2329"><span class="speakerName">Paul Lewis</span>: Sometimes it's going </span><span class="line" data-startTime="2329">to be Chrome waiting on </span><span class="line" data-startTime="2334">GPU, the simple version </span><span class="line" data-startTime="2334">of this. </span><span class="line" data-startTime="2336">It's just Chrome saying, I need </span><span class="line" data-startTime="2336">the GPU to do its work, </span><span class="line" data-startTime="2340">do some composting for example, </span><span class="line" data-startTime="2340">just deal with some </span><span class="line" data-startTime="2343">stuff, finish its workload. </span><span class="line" data-startTime="2344">And that, at the moment, is </span><span class="line" data-startTime="2344">currently showing as empty. </span><span class="line" data-startTime="2347">So sometimes it's just </span><span class="line" data-startTime="2347">simply &mdash; and again, </span><span class="line" data-startTime="2349">it might not be &mdash; </span><span class="line" data-startTime="2350">we've only got one GPU normally </span><span class="line" data-startTime="2350">in these things. </span><span class="line" data-startTime="2352">So it might not be Chrome that's </span><span class="line" data-startTime="2352">waiting on the GPU. </span><span class="line" data-startTime="2355">But it might be something else </span><span class="line" data-startTime="2355">on your system that's actually </span><span class="line" data-startTime="2357">using the GPU. </span><span class="line" data-startTime="2358">So don't always assume </span><span class="line" data-startTime="2358">it's the browser. </span><span class="line" data-startTime="2360">But it can be waiting on </span><span class="line" data-startTime="2360">CPU and waiting on GPU. </span></p>

<p class="speaker"><span class="line" data-starttime="2363"><span class="speakerName">Paul Irish</span>: So one use case you </span><span class="line" data-startTime="2363">mentioned to me about this </span><span class="line" data-startTime="2364">was a lot of times in a WebGL </span><span class="line" data-startTime="2364">situation, you might be </span><span class="line" data-startTime="2368">uploading textures to the GPU. </span><span class="line" data-startTime="2370">Uploading textures to the GPU </span><span class="line" data-startTime="2370">generally can take a good </span><span class="line" data-startTime="2373">amount of time &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2374"><span class="speakerName">Paul Lewis</span>: Especially </span><span class="line" data-startTime="2374">on on mobile </span></p>

<p class="speaker"><span class="line" data-starttime="2375"><span class="speakerName">Paul Irish</span>:  &mdash; especially </span><span class="line" data-startTime="2375">on mobile. </span><span class="line" data-startTime="2376">So that might be an indication </span><span class="line" data-startTime="2376">of something that might be </span><span class="line" data-startTime="2380">happening here. </span><span class="line" data-startTime="2381">I should point out that this </span><span class="line" data-startTime="2381">is something that DevTools </span><span class="line" data-startTime="2383">will get better at. </span><span class="line" data-startTime="2383">And we'll be able to help give </span><span class="line" data-startTime="2383">you more insight into what </span><span class="line" data-startTime="2386">time is being absorbed </span><span class="line" data-startTime="2386">here and why. </span><span class="line" data-startTime="2389">For now, that's a &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2390"><span class="speakerName">Paul Lewis</span>: I don't think </span><span class="line" data-startTime="2390">there's anything as a </span><span class="line" data-startTime="2392">developer that's directly </span><span class="line" data-startTime="2392">actionable </span><span class="line" data-startTime="2394">typically here as well. </span><span class="line" data-startTime="2395">If you're not dealing with WebGL </span><span class="line" data-startTime="2395">or Canvas or something </span><span class="line" data-startTime="2399">that's super GPU heavy, then </span><span class="line" data-startTime="2399">the chances are, it's just </span><span class="line" data-startTime="2403">something to do with Chrome's </span><span class="line" data-startTime="2403">overhead, probably the most </span><span class="line" data-startTime="2407">likely candidate. </span></p>

<p class="speaker"><span class="line" data-starttime="2408"><span class="speakerName">Paul Irish</span>: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="2409"><span class="speakerName">Paul Lewis</span>: Yeah. </span></p>

<p class="speaker"><span class="line" data-starttime="2409"><span class="speakerName">Paul Irish</span>: I think that's &mdash; </span><span class="line" data-startTime="2410">I think we &mdash; </span><span class="line" data-startTime="2411">should we finish? </span></p>

<p class="speaker"><span class="line" data-starttime="2412"><span class="speakerName">Paul Lewis</span>: Yeah, </span><span class="line" data-startTime="2412">let's finish. </span></p>

<p class="speaker"><span class="line" data-starttime="2413"><span class="speakerName">Paul Irish</span>: Thank you very </span><span class="line" data-startTime="2413">much for watching. </span><span class="line" data-startTime="2415">If you want to dig in more into </span><span class="line" data-startTime="2415">these tools and what's </span><span class="line" data-startTime="2418">available, you can just </span><span class="line" data-startTime="2418">Google DevTools. </span><span class="line" data-startTime="2421">The Chrome DevTools </span><span class="line" data-startTime="2421">documentation will come up. </span><span class="line" data-startTime="2422">It talks a lot about Timeline, </span><span class="line" data-startTime="2422">continuous paint, </span><span class="line" data-startTime="2425">and things like that. </span><span class="line" data-startTime="2425">We also just posted about a </span><span class="line" data-startTime="2425">lot of the new features on </span><span class="line" data-startTime="2428">HTML5rocks.com, including &mdash; we </span><span class="line" data-startTime="2428">didn't show the flame chart. </span></p>

<p class="speaker"><span class="line" data-starttime="2432"><span class="speakerName">Paul Lewis</span>: You want to just &mdash; </span><span class="line" data-startTime="2433">give us a minute. </span><span class="line" data-startTime="2433">We'll show you a flame chart. </span></p>

<p class="speaker"><span class="line" data-starttime="2435"><span class="speakerName">Paul Irish</span>: Flame chart, </span><span class="line" data-startTime="2435">flame chart. </span></p>

<p class="speaker"><span class="line" data-starttime="2435"><span class="speakerName">Paul Lewis</span>: He loves </span><span class="line" data-startTime="2435">the flame chart. </span><span class="line" data-startTime="2436">I &mdash; to be fair, Paul requested </span><span class="line" data-startTime="2436">the flame chart. </span><span class="line" data-startTime="2440">It was his feature request. </span></p>

<p class="speaker"><span class="line" data-starttime="2442"><span class="speakerName">Paul Irish</span>: Come on. </span></p>

<p class="speaker"><span class="line" data-starttime="2442"><span class="speakerName">Paul Lewis</span>: He loved it. </span><span class="line" data-startTime="2443">He's so happy. </span><span class="line" data-startTime="2444">I'm so happy for him. </span></p>

<p class="speaker"><span class="line" data-starttime="2444"><span class="speakerName">Paul Irish</span>: It is </span><span class="line" data-startTime="2444">my feature area. </span></p>

<p class="speaker"><span class="line" data-starttime="2445"><span class="speakerName">Paul Lewis</span>: It's </span><span class="line" data-startTime="2445">just the best. </span></p>

<p class="speaker"><span class="line" data-starttime="2447"><span class="speakerName">Paul Irish</span>: I'll give a really </span><span class="line" data-startTime="2447">good example for the flame </span><span class="line" data-startTime="2449">char too because it's </span><span class="line" data-startTime="2449">just worth it. </span></p>

<p class="speaker"><span class="line" data-starttime="2453"><span class="speakerName">Paul Lewis</span>: Even </span><span class="line" data-startTime="2453">if he says so. </span></p>

<p class="speaker"><span class="line" data-starttime="2454"><span class="speakerName">Paul Irish</span>: Come over </span><span class="line" data-startTime="2454">to your MathJax. </span><span class="line" data-startTime="2455">It's a MathML polyfill. </span><span class="line" data-startTime="2458">We're going to bring up </span><span class="line" data-startTime="2458">DevTools really quick. </span><span class="line" data-startTime="2460">And I'm going to start </span><span class="line" data-startTime="2460">a CPU profile. </span><span class="line" data-startTime="2463">So flame chart is a </span><span class="line" data-startTime="2463">visualization of </span><span class="line" data-startTime="2465">a JavaScript profile. </span><span class="line" data-startTime="2468">Start, change to SVG rendering, </span><span class="line" data-startTime="2468">[STUTTERING] </span><span class="line" data-startTime="2471">go. </span><span class="line" data-startTime="2472">Change to HTML rendering, go. </span><span class="line" data-startTime="2474">SVG, go. </span><span class="line" data-startTime="2476">Boom, done. </span><span class="line" data-startTime="2477">Command D. OK, awesome. </span></p>

<p class="speaker"><span class="line" data-starttime="2479"><span class="speakerName">Paul Lewis</span>: Now, it won't be </span><span class="line" data-startTime="2479">flame chart by default, </span><span class="line" data-startTime="2480">though, right? </span><span class="line" data-startTime="2481">No. </span></p>

<p class="speaker"><span class="line" data-starttime="2482"><span class="speakerName">Paul Lewis</span>: You have </span><span class="line" data-startTime="2482">to switch this on. </span></p>

<p class="speaker"><span class="line" data-starttime="2482"><span class="speakerName">Paul Irish</span>: Yeah, yeah. </span><span class="line" data-startTime="2483">Thank you. </span><span class="line" data-startTime="2483">Down at the very bottom </span><span class="line" data-startTime="2483">is the toggle. </span><span class="line" data-startTime="2485">So it'll be probably </span><span class="line" data-startTime="2485">heavy bottom up. </span><span class="line" data-startTime="2487">And this is the one </span><span class="line" data-startTime="2487">that everyone's </span><span class="line" data-startTime="2489">used to seeing, right? </span></p>

<p class="speaker"><span class="line" data-starttime="2490"><span class="speakerName">Paul Lewis</span>: Which to be fair, is </span><span class="line" data-startTime="2490">pretty difficult for a lot </span><span class="line" data-startTime="2493">of people to kind understand </span><span class="line" data-startTime="2493">and get that. </span></p>

<p class="speaker"><span class="line" data-starttime="2495"><span class="speakerName">Paul Irish</span>: I think so too. </span><span class="line" data-startTime="2496">I think so too. </span></p>

<p class="speaker"><span class="line" data-starttime="2497"><span class="speakerName">Paul Lewis</span>: Which is why you </span><span class="line" data-startTime="2497">suggested the flame chart. </span></p>

<p class="speaker"><span class="line" data-starttime="2498"><span class="speakerName">Paul Irish</span>: Hey-o. </span> <span class="line" data-startTime="2498">Flame chart. </span> <span class="line" data-startTime="2500">So we've got a flame </span><span class="line" data-startTime="2500">chart here. </span> <span class="line" data-startTime="2501">So the cool thing here is </span><span class="line" data-startTime="2501">it's Timeline based. </span> <span class="line" data-startTime="2505">So we're seeing from the </span><span class="line" data-startTime="2505">beginning of my reporting to </span><span class="line" data-startTime="2507">the seven seconds </span><span class="line" data-startTime="2507">that I recorded. </span> <span class="line" data-startTime="2510">And we can see that in the </span><span class="line" data-startTime="2510">mini map &mdash; so this is the </span><span class="line" data-startTime="2514">first time that it's </span><span class="line" data-startTime="2514">changed to SVG. </span> <span class="line" data-startTime="2515">And I know because I've looked </span><span class="line" data-startTime="2515">at this before, there's a lot </span><span class="line" data-startTime="2519">of interrupted CPU activity. </span> <span class="line" data-startTime="2520">This is because there's network </span><span class="line" data-startTime="2520">activity kind of </span><span class="line" data-startTime="2522">interrupting this. </span> <span class="line" data-startTime="2523">That's something that &mdash; but once </span><span class="line" data-startTime="2523">I had it in place, you </span><span class="line" data-startTime="2526">can see it's just straight </span><span class="line" data-startTime="2526">up stuff going on. </span> <span class="line" data-startTime="2531">Let me try and maximize this </span><span class="line" data-startTime="2531">a little bit more. </span> <span class="line" data-startTime="2533">I'm going to have to </span><span class="line" data-startTime="2533">zoom out of touch. </span> <span class="line" data-startTime="2535">There is a lot of stuff </span><span class="line" data-startTime="2535">going on here. </span> <span class="line" data-startTime="2537">And the way to parse </span><span class="line" data-startTime="2537">these graphs is </span><span class="line" data-startTime="2540">y-axis is call stack. </span></p>

<p><span class="line" data-startTime="2543">Call stack is not a bad thing. </span> <span class="line" data-startTime="2545">It's not a bad thing that </span><span class="line" data-startTime="2545">your call stack </span><span class="line" data-startTime="2546">is necessarily deep. </span> <span class="line" data-startTime="2548">So height is not terribly </span><span class="line" data-startTime="2548">important. </span> <span class="line" data-startTime="2551">Width is what soaks up time. </span></p>

<p class="speaker"><span class="line" data-starttime="2553"><span class="speakerName">Paul Lewis</span>: Because this </span><span class="line" data-startTime="2553">is time, right? </span></p>

<p class="speaker"><span class="line" data-starttime="2554"><span class="speakerName">Paul Irish</span>: Yeah, exactly. </span><span class="line" data-startTime="2555">Tighter on the &mdash; </span></p>

<p class="speaker"><span class="line" data-starttime="2556"><span class="speakerName">Paul Lewis</span>: The longer </span><span class="line" data-startTime="2556">it is, right? </span></p>

<p class="speaker"><span class="line" data-starttime="2557"><span class="speakerName">Paul Irish</span>: Longer is worse. </span></p>

<p class="speaker"><span class="line" data-starttime="2560"><span class="speakerName">Paul Lewis</span>: Normally. </span><span class="line" data-startTime="2561">PAUL IRISH: [LAUGHS] </span><span class="line" data-startTime="2563">OK. </span><span class="line" data-startTime="2565">And so we can kind </span><span class="line" data-startTime="2565">of scroll in. </span><span class="line" data-startTime="2568">I can zoom by just going up </span><span class="line" data-startTime="2568">and down on the track pad. </span><span class="line" data-startTime="2571">I can also page just by </span><span class="line" data-startTime="2571">dragging over here. </span><span class="line" data-startTime="2575">And we can take a look at kind </span><span class="line" data-startTime="2575">of where my time was spent. </span><span class="line" data-startTime="2579">And the other nice thing is </span><span class="line" data-startTime="2579">that we can understand a </span><span class="line" data-startTime="2580">little bit about the execution </span><span class="line" data-startTime="2580">flow of the application by </span><span class="line" data-startTime="2584">seeing that things </span><span class="line" data-startTime="2584">started off. </span><span class="line" data-startTime="2585">We went into Set Mode rendering </span><span class="line" data-startTime="2585">in MathJax. </span><span class="line" data-startTime="2588">And we did a little bit of </span><span class="line" data-startTime="2588">prep work right here. </span><span class="line" data-startTime="2590">We moved into this </span><span class="line" data-startTime="2590">removeChild. </span><span class="line" data-startTime="2591">This is doing some SVG work. </span><span class="line" data-startTime="2592">This removeChild took six </span><span class="line" data-startTime="2592">milliseconds, which is a </span><span class="line" data-startTime="2594">pretty long time. </span></p>

<p class="speaker"><span class="line" data-starttime="2595"><span class="speakerName">Paul Lewis</span>: So I'll tell you </span><span class="line" data-startTime="2595">what because this is quite </span><span class="line" data-startTime="2596">different when you're looking </span><span class="line" data-startTime="2596">at these things and it's not </span><span class="line" data-startTime="2598">your own code. </span><span class="line" data-startTime="2599">If you run this against your </span><span class="line" data-startTime="2599">own code, you're going to </span><span class="line" data-startTime="2601">recognize the functions. </span><span class="line" data-startTime="2602">You're going to recognize </span><span class="line" data-startTime="2602">the objects. </span><span class="line" data-startTime="2604">You'll recognize everything </span><span class="line" data-startTime="2604">you see here. </span><span class="line" data-startTime="2604">And you're going to be like, </span><span class="line" data-startTime="2604">oh wow, I didn't realize it </span><span class="line" data-startTime="2607">was spending so long </span><span class="line" data-startTime="2607">doing that </span></p>

<p class="speaker"><span class="line" data-starttime="2608"><span class="speakerName">Paul Irish</span>: Yeah. </span><span class="line" data-startTime="2608">So flame chart. </span></p>

<p class="speaker"><span class="line" data-starttime="2610"><span class="speakerName">Paul Lewis</span>: Awesome. </span></p>

<p class="speaker"><span class="line" data-starttime="2611"><span class="speakerName">Paul Irish</span>: Good. </span><span class="line" data-startTime="2613">Very useful when you identify </span><span class="line" data-startTime="2613">that you are spending a lot of </span><span class="line" data-startTime="2616">time in JavaScript </span><span class="line" data-startTime="2616">in particular. </span><span class="line" data-startTime="2619">It's not appropriate when you </span><span class="line" data-startTime="2619">see that you're spending time </span><span class="line" data-startTime="2621">in paint, layout, recalc style, </span><span class="line" data-startTime="2621">things like that, but </span><span class="line" data-startTime="2624">should help quite a bit. </span></p>

<p class="speaker"><span class="line" data-starttime="2625"><span class="speakerName">Paul Lewis</span>: Which is </span><span class="line" data-startTime="2625">always the case. </span><span class="line" data-startTime="2626">Find your actual bottleneck </span><span class="line" data-startTime="2626">and fix that one, not the </span><span class="line" data-startTime="2628">thing you think is </span><span class="line" data-startTime="2628">the bottleneck. </span><span class="line" data-startTime="2630">PAUL IRISH: [SNAPS FINGERS] </span></p>

<p class="speaker"><span class="line" data-starttime="2631"><span class="speakerName">Paul Lewis</span>: Should </span><span class="line" data-startTime="2631">we close on that? </span></p>

<p class="speaker"><span class="line" data-starttime="2631"><span class="speakerName">Paul Irish</span>: Yes. </span></p>

<p class="speaker"><span class="line" data-starttime="2632"><span class="speakerName">Paul Lewis</span>: Boom. </span></p>

<p class="speaker"><span class="line" data-starttime="2632"><span class="speakerName">Paul Irish</span>: Boom. </span></p>

<p class="speaker"><span class="line" data-starttime="2633"><span class="speakerName">Paul Lewis</span>: Thank you. </span></p></div>