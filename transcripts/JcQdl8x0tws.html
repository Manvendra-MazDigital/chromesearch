<p class="speaker"><span class="line" data-starttime="30"><span class="speakerName">Pete LePage</span>: Welcome, everybody, </span><span class="line" data-startTime="30">to another edition </span><span class="line" data-startTime="32">of our "Chrome Apps Office </span><span class="line" data-startTime="32">Hours." We've got a really </span><span class="line" data-startTime="36">great show today with a special </span><span class="line" data-startTime="36">guest joining us from </span><span class="line" data-startTime="39">Mountain View. </span><span class="line" data-startTime="40">John McCutchan is going to be </span><span class="line" data-startTime="40">talking about using Native </span><span class="line" data-startTime="43">Client and Acceleration Modules </span><span class="line" data-startTime="43">within Chrome Apps. </span><span class="line" data-startTime="48">So really allowing you to take </span><span class="line" data-startTime="48">a whole bunch of the stuff </span><span class="line" data-startTime="51">that you're used to being able </span><span class="line" data-startTime="51">to do with Native Client and </span><span class="line" data-startTime="54">put that into a Chrome app. </span><span class="line" data-startTime="56">So, with that, John, I'll </span><span class="line" data-startTime="56">turn it over to you. </span><span class="line" data-startTime="58">I'll let you introduce yourself </span><span class="line" data-startTime="58">and talk about Chrome </span><span class="line" data-startTime="61">Apps a little bit. </span></p>

<p class="speaker"><span class="line" data-starttime="63"><span class="speakerName">John McCutchan</span>: Hey, everyone. </span> <span class="line" data-startTime="64">I'm John McCutchan, and I work </span><span class="line" data-startTime="64">on the Native Client team as a </span><span class="line" data-startTime="68">developer programs engineer. </span> <span class="line" data-startTime="70">And today I'm going to talk </span><span class="line" data-startTime="70">about how you can really </span><span class="line" data-startTime="72">accelerate the performance </span><span class="line" data-startTime="72">inside your Chrome Apps. </span> <span class="line" data-startTime="76">So what are Chrome </span><span class="line" data-startTime="76">Packaged Apps? </span><span class="line" data-startTime="80">I've taken this text snippet </span><span class="line" data-startTime="80">here straight off of the </span><span class="line" data-startTime="84">Chrome Apps developer website. </span> <span class="line" data-startTime="85">And it says that "Chrome apps </span><span class="line" data-startTime="85">deliver an experience as </span><span class="line" data-startTime="88">capable as a native app but </span><span class="line" data-startTime="88">as safe as a web page. </span> <span class="line" data-startTime="91">They're built with open web </span><span class="line" data-startTime="91">technologies, like HTML5, </span><span class="line" data-startTime="95">JavaScript, and CSS. </span> <span class="line" data-startTime="97">But they look and behave </span><span class="line" data-startTime="97">like native apps. </span> <span class="line" data-startTime="102">And they also have native-like </span><span class="line" data-startTime="102">capabilities." And in the </span><span class="line" data-startTime="104">lower right hand corner of the </span><span class="line" data-startTime="104">slide, you can see a screen </span><span class="line" data-startTime="107">shot of a Chrome Packaged App, </span><span class="line" data-startTime="107">which is launching from the </span><span class="line" data-startTime="110">Start menu, and looks and feels </span><span class="line" data-startTime="110">just like a native app. </span></p>

<p><span class="line" data-startTime="115">But the question remains is, </span><span class="line" data-startTime="115">how do they perform? </span><span class="line" data-startTime="119">Do they offer native </span><span class="line" data-startTime="119">performance, which you come to </span><span class="line" data-startTime="122">expect if something is </span><span class="line" data-startTime="122">a native application? </span><span class="line" data-startTime="125">Let's quickly run through </span><span class="line" data-startTime="125">and see how some </span><span class="line" data-startTime="127">common algorithms perform. </span> <span class="line" data-startTime="131">So right here we're looking </span><span class="line" data-startTime="131">at a graph showing the </span><span class="line" data-startTime="134">performance of C++ Bullet </span><span class="line" data-startTime="134">Physics engine, which is a 3D </span><span class="line" data-startTime="139">physics engine which has been </span><span class="line" data-startTime="139">used in many AAA video games. </span> <span class="line" data-startTime="143">Compared to the JavaScript </span><span class="line" data-startTime="143">performance of the same </span><span class="line" data-startTime="146">library, that would &mdash; </span><span class="line" data-startTime="149">you can't really see the native </span><span class="line" data-startTime="149">C++ performance on this </span><span class="line" data-startTime="152">graph because it's just </span><span class="line" data-startTime="152">so much faster. </span> <span class="line" data-startTime="155">But let me zoom in. </span> <span class="line" data-startTime="157">So you can start to see a </span><span class="line" data-startTime="157">clearer picture here. </span> <span class="line" data-startTime="162">We're seeing something that </span><span class="line" data-startTime="162">looks like maybe 10 or 100 </span><span class="line" data-startTime="165">times slower performance from </span><span class="line" data-startTime="165">the JavaScript side </span><span class="line" data-startTime="169">than the C++ side. </span></p>

<p><span class="line" data-startTime="171">And if we switch over and we </span><span class="line" data-startTime="171">look at GZIP decompression </span><span class="line" data-startTime="174">timings, again, we see </span><span class="line" data-startTime="174">the same story. </span> <span class="line" data-startTime="178">Native performance is remarkably </span><span class="line" data-startTime="178">fast compared to </span><span class="line" data-startTime="181">the JavaScript equivalent. </span> <span class="line" data-startTime="185">And again, we see that with the </span><span class="line" data-startTime="185">GZIP compression timings. </span> <span class="line" data-startTime="190">What's interesting here is that </span><span class="line" data-startTime="190">it's remarkable to me </span><span class="line" data-startTime="193">that you can do this </span><span class="line" data-startTime="193">in JavaScript. </span> <span class="line" data-startTime="195">But you can still do it so </span><span class="line" data-startTime="195">much faster outside of </span><span class="line" data-startTime="198">JavaScript. </span> <span class="line" data-startTime="200">So how do these Chrome Packaged </span><span class="line" data-startTime="200">Apps perform? </span><span class="line" data-startTime="203">Well, JavaScript applications </span><span class="line" data-startTime="203">are, on average, in order of </span><span class="line" data-startTime="206">magnitude, slower than </span><span class="line" data-startTime="206">native applications. </span> <span class="line" data-startTime="209">So while Chrome Apps are going </span><span class="line" data-startTime="209">to give us these native feel </span><span class="line" data-startTime="213">and functionality applications, </span><span class="line" data-startTime="213">they just can't </span><span class="line" data-startTime="217">overcome the performance gap </span><span class="line" data-startTime="217">between JavaScript and C++ </span><span class="line" data-startTime="221">without some help. </span></p>

<p><span class="line" data-startTime="223">So what if we could have the </span><span class="line" data-startTime="223">best of both worlds? </span><span class="line" data-startTime="226">A world where we have native </span><span class="line" data-startTime="226">performance where we really </span><span class="line" data-startTime="228">need it, but we get to write </span><span class="line" data-startTime="228">the majority of the </span><span class="line" data-startTime="232">application in JavaScript. </span> <span class="line" data-startTime="233">That's exactly what Native </span><span class="line" data-startTime="233">Client Acceleration </span><span class="line" data-startTime="235">Modules give you. </span> <span class="line" data-startTime="237">You have 90% of your application </span><span class="line" data-startTime="237">written in </span><span class="line" data-startTime="239">JavaScript. </span> <span class="line" data-startTime="240">This allows your development </span><span class="line" data-startTime="240">to be really flexible. </span></p>

<p><span class="line" data-startTime="243">You can do your UI </span><span class="line" data-startTime="243">in JavaScript. </span> <span class="line" data-startTime="245">Very fast iteration times. </span> <span class="line" data-startTime="246">It's a great developer </span><span class="line" data-startTime="246">experience. </span> <span class="line" data-startTime="249">Well, the remaining 10%, the 10% </span><span class="line" data-startTime="249">of your application where </span><span class="line" data-startTime="254">performance really matters, can </span><span class="line" data-startTime="254">be written in C++, often </span><span class="line" data-startTime="258">using off-the-shelf libraries </span><span class="line" data-startTime="258">that are already written for </span><span class="line" data-startTime="260">you that you just have to go </span><span class="line" data-startTime="260">and expose to JavaScript. </span> <span class="line" data-startTime="265">C++ gives you performance. </span> <span class="line" data-startTime="266">You can reuse existing code. </span> <span class="line" data-startTime="268">And these modules are reusable </span><span class="line" data-startTime="268">across many applications. </span></p>

<p><span class="line" data-startTime="272">You can imagine how many </span><span class="line" data-startTime="272">applications could benefit </span><span class="line" data-startTime="275">from fast decompression or </span><span class="line" data-startTime="275">compression algorithms. </span> <span class="line" data-startTime="279">So Native Client Acceleration </span><span class="line" data-startTime="279">Modules combined with Chrome </span><span class="line" data-startTime="282">Apps gives you 90% of Chrome App </span><span class="line" data-startTime="282">but the native performance </span><span class="line" data-startTime="286">where you really need it. </span> <span class="line" data-startTime="289">So what are Native Client </span><span class="line" data-startTime="289">Acceleration Modules? </span><span class="line" data-startTime="292">Simply put, they expose C++ </span><span class="line" data-startTime="292">libraries to the web. </span> <span class="line" data-startTime="296">They're Native Client programs </span><span class="line" data-startTime="296">that are designed to </span><span class="line" data-startTime="298">communicate with JavaScript. </span> <span class="line" data-startTime="299">They have no user interface </span><span class="line" data-startTime="299">at all. </span> <span class="line" data-startTime="301">They are effectively </span><span class="line" data-startTime="301">libraries. </span> <span class="line" data-startTime="303">And they're a combination </span><span class="line" data-startTime="303">of C++ and JavaScript. </span> <span class="line" data-startTime="308">So for those of you don't know, </span><span class="line" data-startTime="308">what is Native Client? </span><span class="line" data-startTime="312">Well, it's a secure </span><span class="line" data-startTime="312">C/C++ runtime and </span><span class="line" data-startTime="315">toolchain for the web. </span></p>

<p><span class="line" data-startTime="317">It runs existing C/C++ </span><span class="line" data-startTime="317">and C# code natively. </span> <span class="line" data-startTime="323">It's completely secure. </span> <span class="line" data-startTime="324">It's sandboxed. </span> <span class="line" data-startTime="325">It's safe. </span> <span class="line" data-startTime="326">And it's available within </span><span class="line" data-startTime="326">Chrome today. </span> <span class="line" data-startTime="329">What I'm hoping a lot of the </span><span class="line" data-startTime="329">Chrome App developers don't </span><span class="line" data-startTime="333">already know is that you can </span><span class="line" data-startTime="333">actually use Native Client in </span><span class="line" data-startTime="336">combination with your </span><span class="line" data-startTime="336">Chrome Apps. </span> <span class="line" data-startTime="339">And Native Client interacts with </span><span class="line" data-startTime="339">Chrome through a Pepper </span><span class="line" data-startTime="342">API, which exposes all sorts of </span><span class="line" data-startTime="342">functionality, like OpenGL, </span><span class="line" data-startTime="346">Gamepad support, Mouse Lock, </span><span class="line" data-startTime="346">Full Screen, et cetera. </span></p>

<p></p>

<p class="speaker"><span class="line" data-starttime="350"><span class="speakerName">Pete LePage</span>: For folks who don't </span><span class="line" data-startTime="350">know, what is Pepper? </span></p>

<p class="speaker"><span class="line" data-starttime="354"><span class="speakerName">John McCutchan</span>: Pepper is a </span><span class="line" data-startTime="354">plug-in interface to Chrome. </span><span class="line" data-startTime="357">And it exposes functionality to </span><span class="line" data-startTime="357">plug-ins that Chrome hosts. </span><span class="line" data-startTime="364">So Chrome hosts an OpenGL, </span><span class="line" data-startTime="364">a Gamepad library, some </span><span class="line" data-startTime="369">functionality to go </span><span class="line" data-startTime="369">full screen and </span><span class="line" data-startTime="372">come out of full screen. </span><span class="line" data-startTime="373">And plug-ins can access that. </span><span class="line" data-startTime="375">Native Client Modules are </span><span class="line" data-startTime="375">effectively sitting on top of </span><span class="line" data-startTime="379">the Pepper plug-in interface. </span><span class="line" data-startTime="381">So that's how they implement </span><span class="line" data-startTime="381">their functionality that </span><span class="line" data-startTime="384">depends on Chrome. </span></p>

<p class="speaker"><span class="line" data-starttime="386"><span class="speakerName">Pete LePage</span>: OK, cool. </span><span class="line" data-startTime="386">So you've got Native Client </span><span class="line" data-startTime="386">that interacts with the </span><span class="line" data-startTime="389">Pepper, so that way it's an easy </span><span class="line" data-startTime="389">way for developers to get </span><span class="line" data-startTime="393">access to these things? </span></p>

<p class="speaker"><span class="line" data-starttime="394"><span class="speakerName">John McCutchan</span>: Yes, yes. </span> <span class="line" data-startTime="396">It's very secure, very safe. </span> <span class="line" data-startTime="400">So if you wanted to develop a </span><span class="line" data-startTime="400">Native Client application, </span><span class="line" data-startTime="403">what's the workflow </span><span class="line" data-startTime="403">look like, then? </span><span class="line" data-startTime="405">You take your C++ code. </span> <span class="line" data-startTime="406">You run it through the Native </span><span class="line" data-startTime="406">Client compiler, </span><span class="line" data-startTime="409">which is just GCC. </span> <span class="line" data-startTime="411">And the output of that is a </span><span class="line" data-startTime="411">Native Client EXE and a </span><span class="line" data-startTime="414">manifest file. </span> <span class="line" data-startTime="415">The manifest file describes some </span><span class="line" data-startTime="415">dependencies that your </span><span class="line" data-startTime="418">application has and any </span><span class="line" data-startTime="418">other requirements. </span> <span class="line" data-startTime="422">And then you just insert </span><span class="line" data-startTime="422">an embed tag into your </span><span class="line" data-startTime="424">HTML, and that's it. </span> <span class="line" data-startTime="426">You go from a fully functional </span><span class="line" data-startTime="426">C++ program that is running </span><span class="line" data-startTime="432">securely at native performance </span><span class="line" data-startTime="432">inside of Chrome. </span> <span class="line" data-startTime="436">It accesses things like OpenGL </span><span class="line" data-startTime="436">through the Pepper API. </span></p>

<p><span class="line" data-startTime="439">So you can see a screen shot </span><span class="line" data-startTime="439">here of AirMech, which is a </span><span class="line" data-startTime="444">fully C++ game. </span> <span class="line" data-startTime="448">So what are Native Client </span><span class="line" data-startTime="448">Acceleration Modules? </span><span class="line" data-startTime="450">Because what I'm not really </span><span class="line" data-startTime="450">suggesting here is that you </span><span class="line" data-startTime="452">write an entire Chrome </span><span class="line" data-startTime="452">app in C++. </span> <span class="line" data-startTime="456">What I'm saying is that you </span><span class="line" data-startTime="456">extract the useful performance </span><span class="line" data-startTime="459">pieces of C++ and expose that </span><span class="line" data-startTime="459">to JavaScript so that your </span><span class="line" data-startTime="465">Chrome application can offload </span><span class="line" data-startTime="465">some of the really </span><span class="line" data-startTime="468">performance-intensive </span><span class="line" data-startTime="468">work to C++. </span> <span class="line" data-startTime="472">So the high-level view </span><span class="line" data-startTime="472">looks like this. </span></p>

<p><span class="line" data-startTime="475">On the left, we have the </span><span class="line" data-startTime="475">Chrome application. </span> <span class="line" data-startTime="477">Then we have a Native Client </span><span class="line" data-startTime="477">Acceleration Module JavaScript </span><span class="line" data-startTime="481">layer, which exposes the API </span><span class="line" data-startTime="481">to the Chrome application, </span><span class="line" data-startTime="485">some kind of message-passing </span><span class="line" data-startTime="485">magic. </span> <span class="line" data-startTime="487">And then on the C++ side, a </span><span class="line" data-startTime="487">Native Client Module that </span><span class="line" data-startTime="493">knows how to communicate with </span><span class="line" data-startTime="493">the JavaScript pair on the </span><span class="line" data-startTime="496">other side. </span></p>

<p class="speaker"><span class="line" data-starttime="498"><span class="speakerName">Pete LePage</span>: Now, John, I assume </span><span class="line" data-startTime="498">you're going to tell us </span><span class="line" data-startTime="500">where that magic comes from, </span><span class="line" data-startTime="500">and that I don't have to go </span><span class="line" data-startTime="503">figure that out myself. </span></p>

<p class="speaker"><span class="line" data-starttime="505"><span class="speakerName">John McCutchan</span>: Yes, yes. </span><span class="line" data-startTime="507">Later on in the talk, I'm going </span><span class="line" data-startTime="507">to talk about a library </span><span class="line" data-startTime="509">that I've written that makes </span><span class="line" data-startTime="509">this really easy. </span><span class="line" data-startTime="511">So you just have to handle </span><span class="line" data-startTime="511">the messages. </span><span class="line" data-startTime="514">And all the plumbing is </span><span class="line" data-startTime="514">taken care of for you. </span><span class="line" data-startTime="517">So I want to switch gears. </span></p>

<p class="speaker"><span class="line" data-starttime="518"><span class="speakerName">Pete LePage</span>: We can just get </span><span class="line" data-startTime="518">everything back and forth. </span><span class="line" data-startTime="520">Sorry. </span></p>

<p class="speaker"><span class="line" data-starttime="521"><span class="speakerName">John McCutchan</span>: No, no. </span> <span class="line" data-startTime="521">Please feel free to </span><span class="line" data-startTime="521">interrupt me. </span> <span class="line" data-startTime="524">So I want to switch gears and </span><span class="line" data-startTime="524">show a demo off here. </span> <span class="line" data-startTime="526">What I'm going to show is </span><span class="line" data-startTime="526">Bullet Physics, which is </span><span class="line" data-startTime="529">running in C++, combined </span><span class="line" data-startTime="529">with a front end as </span><span class="line" data-startTime="532">it's written in three.js. </span> <span class="line" data-startTime="534">All of this is sitting inside </span><span class="line" data-startTime="534">of a Chrome app. </span> <span class="line" data-startTime="538">So here I am. </span> <span class="line" data-startTime="540">Everything being drawn here </span><span class="line" data-startTime="540">has been expressed in </span><span class="line" data-startTime="543">JavaScript or HTML. </span> <span class="line" data-startTime="546">And if I start up the </span><span class="line" data-startTime="546">simulation, you can see here </span><span class="line" data-startTime="550">that I've got a Jenga pile. </span> <span class="line" data-startTime="552">Let me switch to </span><span class="line" data-startTime="552">maybe 10 rows. </span> <span class="line" data-startTime="556">I can pick up an object </span><span class="line" data-startTime="556">and start playing with </span><span class="line" data-startTime="558">it and move it around. </span> <span class="line" data-startTime="563">Let me move the screen. </span></p>

<p><span class="line" data-startTime="564">You can see that there's a </span><span class="line" data-startTime="564">simulation time counter. </span> <span class="line" data-startTime="566">And this is just reporting how </span><span class="line" data-startTime="566">long it takes the C++ code to </span><span class="line" data-startTime="571">update the physics simulation. </span> <span class="line" data-startTime="573">And right now we're looking at </span><span class="line" data-startTime="573">about 100, 150 microseconds. </span> <span class="line" data-startTime="576">If I switch over to 400 cubes, </span><span class="line" data-startTime="576">that's going to go up. </span> <span class="line" data-startTime="581">It's approaching three </span><span class="line" data-startTime="581">to four milliseconds. </span> <span class="line" data-startTime="583">Now keep in mind that the same </span><span class="line" data-startTime="583">program executing in </span><span class="line" data-startTime="587">JavaScript is an order </span><span class="line" data-startTime="587">of magnitude slower. </span> <span class="line" data-startTime="592">So we've been able to couple </span><span class="line" data-startTime="592">high-performance C++ physics </span><span class="line" data-startTime="596">simulations with an interactive </span><span class="line" data-startTime="596">JavaScript </span><span class="line" data-startTime="598">application sitting inside </span><span class="line" data-startTime="598">of a Chrome app. </span> <span class="line" data-startTime="601">Interactive to the point where </span><span class="line" data-startTime="601">I can grab objects, zoom in </span><span class="line" data-startTime="605">and zoom out, pick them </span><span class="line" data-startTime="605">up, move them </span><span class="line" data-startTime="607">around, play with them. </span></p>

<p><span class="line" data-startTime="609">It's all running at 60 hertz, </span><span class="line" data-startTime="609">something that's just not </span><span class="line" data-startTime="611">possible in an application </span><span class="line" data-startTime="611">entirely written in </span><span class="line" data-startTime="614">JavaScript. </span> <span class="line" data-startTime="618">I have a blog post on my </span><span class="line" data-startTime="618">website, which we'll link to </span><span class="line" data-startTime="621">after the show, which actually </span><span class="line" data-startTime="621">describes a file format where </span><span class="line" data-startTime="624">you can write your own scenes </span><span class="line" data-startTime="624">and then load them into the </span><span class="line" data-startTime="627">application. </span> <span class="line" data-startTime="629">So it's kind of a fun little </span><span class="line" data-startTime="629">physics playground. </span> <span class="line" data-startTime="641">So let's play a game. </span> <span class="line" data-startTime="645">What part of that was written </span><span class="line" data-startTime="645">in JavaScript? </span><span class="line" data-startTime="647">And what part of that </span><span class="line" data-startTime="647">was written in C++? </span><span class="line" data-startTime="650">So the main loop, JavaScript. </span></p>

<p><span class="line" data-startTime="653">Rendering, JavaScript. </span> <span class="line" data-startTime="656">Object selection, determining </span><span class="line" data-startTime="656">the rigid body that's under my </span><span class="line" data-startTime="661">mouse cursor, JavaScript. </span> <span class="line" data-startTime="663">Physics simulation, C++. </span> <span class="line" data-startTime="666">And scene loading is </span><span class="line" data-startTime="666">a combination of </span><span class="line" data-startTime="668">JavaScript and C++. </span> <span class="line" data-startTime="669">The JavaScript side is </span><span class="line" data-startTime="669">responsible for parsing the </span><span class="line" data-startTime="672">input file and structuring it </span><span class="line" data-startTime="672">in such a way that the C++ </span><span class="line" data-startTime="676">program expects, </span><span class="line" data-startTime="676">but that's it. </span> <span class="line" data-startTime="680">So it's kind of interesting. </span> <span class="line" data-startTime="681">We get this hyper fast </span><span class="line" data-startTime="681">physics simulation. </span> <span class="line" data-startTime="684">But most of our application </span><span class="line" data-startTime="684">was written in JavaScript. </span></p>

<p><span class="line" data-startTime="687">So it's very fun to </span><span class="line" data-startTime="687">play around with. </span> <span class="line" data-startTime="691">So how does this demo work </span><span class="line" data-startTime="691">at a really high level? </span><span class="line" data-startTime="694">Well, in the blue boxes we have </span><span class="line" data-startTime="694">messages that are passed. </span> <span class="line" data-startTime="699">And the arrows are expressing </span><span class="line" data-startTime="699">which direction they're going </span><span class="line" data-startTime="702">in, with the C++ module </span><span class="line" data-startTime="702">being on the right. </span> <span class="line" data-startTime="706">So at the initialization phase, </span><span class="line" data-startTime="706">a load scene message is </span><span class="line" data-startTime="711">sent to C++, which describes </span><span class="line" data-startTime="711">the scene, describes the </span><span class="line" data-startTime="714">initial state of the rigid </span><span class="line" data-startTime="714">bodies, and their shapes, and </span><span class="line" data-startTime="717">things like that. </span> <span class="line" data-startTime="717">And that gets sent over to the </span><span class="line" data-startTime="717">C++ module, which then </span><span class="line" data-startTime="720">actually loads the scene into </span><span class="line" data-startTime="720">the Bullet Physics simulation. </span> <span class="line" data-startTime="725">Then at a regular interval, the </span><span class="line" data-startTime="725">JavaScript code sends a </span><span class="line" data-startTime="729">message over to C++ that says, </span><span class="line" data-startTime="729">run the physics simulation, </span><span class="line" data-startTime="732">update where the objects are, </span><span class="line" data-startTime="732">and report back to me when </span><span class="line" data-startTime="736">you're done. </span></p>

<p><span class="line" data-startTime="737">So these are running in </span><span class="line" data-startTime="737">parallel, actually. </span> <span class="line" data-startTime="738">While the physics simulation is </span><span class="line" data-startTime="738">executing, Chrome and your </span><span class="line" data-startTime="741">JavaScript application are </span><span class="line" data-startTime="741">off doing something else. </span> <span class="line" data-startTime="744">It's running a separate thread, </span><span class="line" data-startTime="744">taking advantage of </span><span class="line" data-startTime="748">the many cores that </span><span class="line" data-startTime="748">we all have. </span></p>

<p class="speaker"><span class="line" data-starttime="751"><span class="speakerName">Pete LePage</span>: That's a real big </span><span class="line" data-startTime="751">advantage, too, because you're </span><span class="line" data-startTime="753">not necessarily going to block </span><span class="line" data-startTime="753">the UI thread in order to do </span><span class="line" data-startTime="757">any of that processing, which </span><span class="line" data-startTime="757">sometimes happens with </span><span class="line" data-startTime="759">applications when you're doing </span><span class="line" data-startTime="759">complex JavaScript. </span></p>

<p class="speaker"><span class="line" data-starttime="763"><span class="speakerName">John McCutchan</span>: Yeah, I mean </span><span class="line" data-startTime="763">that's why we have web </span><span class="line" data-startTime="765">workers, right? </span><span class="line" data-startTime="765">Web workers allow you to offload </span><span class="line" data-startTime="765">this heavy work in a </span><span class="line" data-startTime="769">way that doesn't block </span><span class="line" data-startTime="769">the UI thread. </span> <span class="line" data-startTime="771">Native Client Acceleration </span><span class="line" data-startTime="771">models work in the same way. </span> <span class="line" data-startTime="774">You could think of them </span><span class="line" data-startTime="774">as almost like a web </span><span class="line" data-startTime="777">worker, in a way. </span> <span class="line" data-startTime="778">But it just happens to be </span><span class="line" data-startTime="778">running C++ code and not </span><span class="line" data-startTime="781">JavaScript. </span> <span class="line" data-startTime="782">But just like with </span><span class="line" data-startTime="782">web workers. </span> <span class="line" data-startTime="784">You communicate through </span><span class="line" data-startTime="784">message passing. </span> <span class="line" data-startTime="787">You communicate with a Native </span><span class="line" data-startTime="787">Client Acceleration model </span><span class="line" data-startTime="789">through message passing. </span> <span class="line" data-startTime="792">So after this step simulation </span><span class="line" data-startTime="792">event is delivered, the </span><span class="line" data-startTime="796">physics simulation thread wakes </span><span class="line" data-startTime="796">up, runs its processing, </span><span class="line" data-startTime="799">and then spits back out a </span><span class="line" data-startTime="799">Float32Array containing the </span><span class="line" data-startTime="803">positions and orientations </span><span class="line" data-startTime="803">of all the rigid </span><span class="line" data-startTime="806">bodies in the scene. </span></p>

<p><span class="line" data-startTime="808">The JavaScript code takes that </span><span class="line" data-startTime="808">array and parses it and </span><span class="line" data-startTime="811">updates the rendering position </span><span class="line" data-startTime="811">of all objects. </span> <span class="line" data-startTime="814">And this just loops, as any </span><span class="line" data-startTime="814">interactive application does. </span> <span class="line" data-startTime="821">So what if you wanted to build </span><span class="line" data-startTime="821">your own Native Client </span><span class="line" data-startTime="822">Acceleration Module? </span><span class="line" data-startTime="824">I'm going to leave some of the </span><span class="line" data-startTime="824">details out of this, but this </span><span class="line" data-startTime="826">is going to paint the high level </span><span class="line" data-startTime="826">picture and give you a </span><span class="line" data-startTime="830">lot of pointers to where </span><span class="line" data-startTime="830">to look if you want to </span><span class="line" data-startTime="833">really get into it. </span> <span class="line" data-startTime="834">So building a Native Client </span><span class="line" data-startTime="834">Acceleration Module consists </span><span class="line" data-startTime="837">of three main components. </span> <span class="line" data-startTime="838">The first is you have to write </span><span class="line" data-startTime="838">your C++ glue layer that takes </span><span class="line" data-startTime="842">the messages and passes them </span><span class="line" data-startTime="842">to the C++ code that you </span><span class="line" data-startTime="845">already have written or you've </span><span class="line" data-startTime="845">downloaded off the web. </span></p>

<p><span class="line" data-startTime="848">You have to write a twin of that </span><span class="line" data-startTime="848">on the JavaScript side, </span><span class="line" data-startTime="852">which receives messages from C++ </span><span class="line" data-startTime="852">and also packages messages </span><span class="line" data-startTime="856">up to send to C++. </span> <span class="line" data-startTime="859">And then you have to determine </span><span class="line" data-startTime="859">what messages you want to send </span><span class="line" data-startTime="861">between the two worlds and what </span><span class="line" data-startTime="861">data should be included </span><span class="line" data-startTime="865">in each one. </span> <span class="line" data-startTime="868">So to make this really easy, </span><span class="line" data-startTime="868">I've created a pair of </span><span class="line" data-startTime="871">libraries called Native Client </span><span class="line" data-startTime="873">Acceleration Module Base library. </span> <span class="line" data-startTime="876">It's a C++ library and a </span><span class="line" data-startTime="876">JavaScript library that makes </span><span class="line" data-startTime="878">creating acceleration modules </span><span class="line" data-startTime="878">incredibly easy. </span> <span class="line" data-startTime="881">You just have to write the code </span><span class="line" data-startTime="882">that responds to messages. </span> <span class="line" data-startTime="884">You don't have to worry about </span><span class="line" data-startTime="884">how do messages get across? </span><span class="line" data-startTime="887">How do I queue them up? </span><span class="line" data-startTime="889">All you have to do is just </span><span class="line" data-startTime="889">implement a call back that </span><span class="line" data-startTime="892">says, hey, I got this </span><span class="line" data-startTime="892">type of message. </span> <span class="line" data-startTime="894">What should I do? </span><span class="line" data-startTime="895">You implement that little bit </span><span class="line" data-startTime="895">of logic, and the rest is </span><span class="line" data-startTime="898">taken care for you in the </span><span class="line" data-startTime="898">most performant way. </span> <span class="line" data-startTime="904">So let's talk about the </span><span class="line" data-startTime="904">structure of the messages. </span></p>

<p><span class="line" data-startTime="907">So messages are split </span><span class="line" data-startTime="907">into a header and </span><span class="line" data-startTime="909">then optional frames. </span> <span class="line" data-startTime="910">The header is just a JSON </span><span class="line" data-startTime="910">object, which has a command </span><span class="line" data-startTime="915">name, a request ID, which is </span><span class="line" data-startTime="915">just the unique ID of this </span><span class="line" data-startTime="919">specific request, and then a </span><span class="line" data-startTime="919">frames count, which is either </span><span class="line" data-startTime="923">0 if there's no auxiliary </span><span class="line" data-startTime="923">frames, or some positive </span><span class="line" data-startTime="927">integer expressing the frames. </span> <span class="line" data-startTime="930">You can see the structure </span><span class="line" data-startTime="930">of the message on </span><span class="line" data-startTime="932">the right hand side. </span> <span class="line" data-startTime="933">The JSON message header </span><span class="line" data-startTime="933">is always present. </span> <span class="line" data-startTime="936">And that's in red. </span> <span class="line" data-startTime="938">The frames in blue </span><span class="line" data-startTime="938">are optional. </span> <span class="line" data-startTime="940">And these frames are interpreted </span><span class="line" data-startTime="940">entirely by your </span><span class="line" data-startTime="943">message handler. </span> <span class="line" data-startTime="944">They're just a bag of either </span><span class="line" data-startTime="944">strings or raw </span><span class="line" data-startTime="949">bytes in a byte array. </span> <span class="line" data-startTime="953">The Native Client Source Model </span><span class="line" data-startTime="953">base library doesn't know </span><span class="line" data-startTime="955">what's in these at all. </span></p>

<p><span class="line" data-startTime="956">It just knows how to collect </span><span class="line" data-startTime="956">them and aggregate them into </span><span class="line" data-startTime="959">the larger meta message. </span> <span class="line" data-startTime="964">So coming back to the Bullet </span><span class="line" data-startTime="964">Physics demo, this is the </span><span class="line" data-startTime="967">messages that we've defined. </span> <span class="line" data-startTime="969">So JavaScript can send a load </span><span class="line" data-startTime="969">scene message to C++. </span> <span class="line" data-startTime="973">It can send a step scene </span><span class="line" data-startTime="973">message to C++. </span> <span class="line" data-startTime="976">And it can also send a pick </span><span class="line" data-startTime="976">up or drop object message. </span> <span class="line" data-startTime="980">You saw that I was picking the </span><span class="line" data-startTime="980">objects, and I said that the </span><span class="line" data-startTime="983">selection was being done </span><span class="line" data-startTime="983">in JavaScript, </span><span class="line" data-startTime="985">which is entirely true. </span> <span class="line" data-startTime="988">The JavaScript code figures out </span><span class="line" data-startTime="988">what's under your mouse </span><span class="line" data-startTime="991">cursor and then sends that index </span><span class="line" data-startTime="991">over to the C++ world </span><span class="line" data-startTime="994">and says, physics simulation, </span><span class="line" data-startTime="994">grab that object, and pretend </span><span class="line" data-startTime="998">that I'm holding it. </span> <span class="line" data-startTime="1000">Inside the step scene message </span><span class="line" data-startTime="1000">is the position of my mouse </span><span class="line" data-startTime="1004">cursor at the time. </span> <span class="line" data-startTime="1005">So that's how I'm able to </span><span class="line" data-startTime="1005">interactively play with the </span><span class="line" data-startTime="1009">physics object while the </span><span class="line" data-startTime="1009">scene is simulating. </span> <span class="line" data-startTime="1013">Finally, there's one message </span><span class="line" data-startTime="1013">that comes from C++ to </span><span class="line" data-startTime="1016">JavaScript. </span></p>

<p><span class="line" data-startTime="1017">And that's the scene update </span><span class="line" data-startTime="1017">message, which includes the </span><span class="line" data-startTime="1020">updated position and </span><span class="line" data-startTime="1020">orientation of </span><span class="line" data-startTime="1022">all the rigid bodies. </span> <span class="line" data-startTime="1026">On the C++ side, a Native Client </span><span class="line" data-startTime="1026">Acceleration Module </span><span class="line" data-startTime="1030">based library requires that you </span><span class="line" data-startTime="1031">implement just three functions. </span> <span class="line" data-startTime="1033">One is an initialization </span><span class="line" data-startTime="1033">routine, which just includes </span><span class="line" data-startTime="1037">all your module start </span><span class="line" data-startTime="1037">up stuff. </span> <span class="line" data-startTime="1038">This is just going to be called </span><span class="line" data-startTime="1038">automatically when your </span><span class="line" data-startTime="1040">Acceleration Module is </span><span class="line" data-startTime="1040">first initialized. </span> <span class="line" data-startTime="1043">There is a heartbeat method </span><span class="line" data-startTime="1043">which you can implement, which </span><span class="line" data-startTime="1046">just gets called at 60 hertz. </span> <span class="line" data-startTime="1048">So if you have to do anything </span><span class="line" data-startTime="1048">regularly inside of your </span><span class="line" data-startTime="1051">acceleration module, this is </span><span class="line" data-startTime="1051">where you put that logic. </span> <span class="line" data-startTime="1054">And then finally, the handle </span><span class="line" data-startTime="1054">message callback, which is </span><span class="line" data-startTime="1057">called whenever a message is </span><span class="line" data-startTime="1057">delivered from JavaScript. </span> <span class="line" data-startTime="1061">And this is where you put your </span><span class="line" data-startTime="1061">application-specific logic, </span><span class="line" data-startTime="1066">which is like, hey, I just </span><span class="line" data-startTime="1066">got a step scene message. </span></p>

<p><span class="line" data-startTime="1068">Let me go and trigger the </span><span class="line" data-startTime="1068">physics simulation thread and </span><span class="line" data-startTime="1071">let it run. </span> <span class="line" data-startTime="1073">You don't have to worry about </span><span class="line" data-startTime="1073">packaging up messages or </span><span class="line" data-startTime="1076">parsing them in any way. </span> <span class="line" data-startTime="1077">You just have to implement </span><span class="line" data-startTime="1077">the logic. </span> <span class="line" data-startTime="1081">On the JavaScript side, </span><span class="line" data-startTime="1081">it's really natural. </span> <span class="line" data-startTime="1084">If you want to respond to </span><span class="line" data-startTime="1084">something like, hey, the scene </span><span class="line" data-startTime="1086">was updated, you just go </span><span class="line" data-startTime="1086">Add Event Listener. </span> <span class="line" data-startTime="1088">Or when you're done, you could </span><span class="line" data-startTime="1088">go Remove Event Listener. </span> <span class="line" data-startTime="1091">So from the JavaScript </span><span class="line" data-startTime="1091">programmer's prospective, this </span><span class="line" data-startTime="1094">feels very natural. </span> <span class="line" data-startTime="1094">An Acceleration Module is just </span><span class="line" data-startTime="1094">some element that you can add </span><span class="line" data-startTime="1098">an event listener to. </span> <span class="line" data-startTime="1099">And the events are the </span><span class="line" data-startTime="1099">messages coming </span><span class="line" data-startTime="1101">from the C++ module. </span> <span class="line" data-startTime="1103">And if you want to send a </span><span class="line" data-startTime="1103">message to C++, there's a </span><span class="line" data-startTime="1106">single method, Send Message, </span><span class="line" data-startTime="1106">which just takes the command </span><span class="line" data-startTime="1109">name and some frames. </span> <span class="line" data-startTime="1112">It's very straightforward. </span></p>

<p><span class="line" data-startTime="1113">I'm calling out in grey to scene </span><span class="line" data-startTime="1113">NaClAM.js At the end of </span><span class="line" data-startTime="1117">the talk, there will be a link </span><span class="line" data-startTime="1117">to the GitHub repository, </span><span class="line" data-startTime="1120">which includes this library. </span> <span class="line" data-startTime="1122">And you can dig in from there. </span> <span class="line" data-startTime="1127">So wrapping up, NaCl </span><span class="line" data-startTime="1127">acceleration models bring </span><span class="line" data-startTime="1132">native performance to web </span><span class="line" data-startTime="1132">applications and Chrome </span><span class="line" data-startTime="1134">applications. </span> <span class="line" data-startTime="1136">It's really straightforward to </span><span class="line" data-startTime="1136">use if you're a web developer. </span> <span class="line" data-startTime="1139">And, like I said, you get 90% </span><span class="line" data-startTime="1139">of your application as a </span><span class="line" data-startTime="1143">Chrome app written in JavaScript </span><span class="line" data-startTime="1143">and HTML5. </span> <span class="line" data-startTime="1147">And that last 10% where the </span><span class="line" data-startTime="1147">performance really matters, </span><span class="line" data-startTime="1149">you get from C++. </span> <span class="line" data-startTime="1152">And you get native performance, </span><span class="line" data-startTime="1152">in order of </span><span class="line" data-startTime="1155">magnitude faster than what's </span><span class="line" data-startTime="1155">possible through JavaScript. </span></p>

<p><span class="line" data-startTime="1159">So hopefully you're really </span><span class="line" data-startTime="1159">interested in this. </span> <span class="line" data-startTime="1161">You want to get involved. </span> <span class="line" data-startTime="1162">So the first step to building </span><span class="line" data-startTime="1162">a Native Client Acceleration </span><span class="line" data-startTime="1165">Module is to go and grab the </span><span class="line" data-startTime="1165">Native Client SDK from </span><span class="line" data-startTime="1169">gonacl.com. </span> <span class="line" data-startTime="1171">You can try out the Bullet </span><span class="line" data-startTime="1171">Physics demo by going to the </span><span class="line" data-startTime="1173">link on the slide. </span> <span class="line" data-startTime="1174">And you can join the Native </span><span class="line" data-startTime="1174">Client discussion thread by </span><span class="line" data-startTime="1177">going to the final link </span><span class="line" data-startTime="1177">on the slide. </span> <span class="line" data-startTime="1183">After you've gotten the SDK </span><span class="line" data-startTime="1183">running, you can go and grab </span><span class="line" data-startTime="1186">the NaClAMBase framework </span><span class="line" data-startTime="1186">from the GitHub </span><span class="line" data-startTime="1189">repository on the slide. </span> <span class="line" data-startTime="1190">And this includes the complete </span><span class="line" data-startTime="1190">source code to the Bullet </span><span class="line" data-startTime="1193">Physics demo that </span><span class="line" data-startTime="1193">I demonstrated. </span></p>

<p><span class="line" data-startTime="1195">So you can build that yourself </span><span class="line" data-startTime="1195">and play around with it and </span><span class="line" data-startTime="1197">add new features. </span> <span class="line" data-startTime="1198">It's a great place to start. </span> <span class="line" data-startTime="1203">So included inside the base </span><span class="line" data-startTime="1203">repository are three example </span><span class="line" data-startTime="1207">Native Client Acceleration </span><span class="line" data-startTime="1207">Modules &mdash; </span><span class="line" data-startTime="1208">the Bullet Physics one; an image </span><span class="line" data-startTime="1208">processing one, which </span><span class="line" data-startTime="1211">takes a set of pixels from a </span><span class="line" data-startTime="1211">canvas object, does something </span><span class="line" data-startTime="1216">with it, and then sends it back </span><span class="line" data-startTime="1216">over to JavaScript and it </span><span class="line" data-startTime="1218">gets displayed again; and </span><span class="line" data-startTime="1218">then a Zlib compress </span><span class="line" data-startTime="1221">and decompress module. </span></p>

<p><span class="line" data-startTime="1223">These are just example modules </span><span class="line" data-startTime="1223">that you may use as a jumping </span><span class="line" data-startTime="1227">off point or just as a template </span><span class="line" data-startTime="1227">to create your own </span><span class="line" data-startTime="1230">and expose new libraries that </span><span class="line" data-startTime="1230">I haven't exposed yet. </span> <span class="line" data-startTime="1236">So Chrome Apps plus Native </span><span class="line" data-startTime="1236">Client Acceleration Modules </span><span class="line" data-startTime="1238">give you native performance </span><span class="line" data-startTime="1238">where it counts, which is </span><span class="line" data-startTime="1242">really exciting, because Chrome </span><span class="line" data-startTime="1242">Apps already offer </span><span class="line" data-startTime="1245">native feeling and native </span><span class="line" data-startTime="1245">functionality with them. </span> <span class="line" data-startTime="1249">But it's just missing that </span><span class="line" data-startTime="1249">final piece, which is </span><span class="line" data-startTime="1251">performance. </span> <span class="line" data-startTime="1253">Luckily, though, most </span><span class="line" data-startTime="1253">applications only need </span><span class="line" data-startTime="1255">performance in a very small </span><span class="line" data-startTime="1255">chunk of their code. </span> <span class="line" data-startTime="1257">And this is where Native </span><span class="line" data-startTime="1257">Client Acceleration </span><span class="line" data-startTime="1258">Modules come in. </span></p>

<p><span class="line" data-startTime="1260">Again, 90% of your application </span><span class="line" data-startTime="1260">is written </span><span class="line" data-startTime="1263">increase in Chrome Apps. </span> <span class="line" data-startTime="1265">The last little bit </span><span class="line" data-startTime="1265">is written in C++. </span> <span class="line" data-startTime="1270">So time for questions. </span> <span class="line" data-startTime="1271">But make sure you follow </span><span class="line" data-startTime="1271">me on Twitter. </span> <span class="line" data-startTime="1273">You can check out my blog </span><span class="line" data-startTime="1273">or read my code. </span> <span class="line" data-startTime="1275">And if there's a Native Client </span><span class="line" data-startTime="1275">Acceleration Module that you </span><span class="line" data-startTime="1278">really want exposed, and maybe </span><span class="line" data-startTime="1278">you're not the greatest C++ </span><span class="line" data-startTime="1281">programmer, hit me up on G+. </span> <span class="line" data-startTime="1283">And if it's a good idea, I'll </span><span class="line" data-startTime="1283">be happy to do it for you. </span></p>

<p class="speaker"><span class="line" data-starttime="1287"><span class="speakerName">Pete LePage</span>: Cool. </span> <span class="line" data-startTime="1288">Well, thanks, John. </span> <span class="line" data-startTime="1289">That's some pretty neat stuff. </span> <span class="line" data-startTime="1291">And I think not only is it good </span><span class="line" data-startTime="1291">for things where you're </span><span class="line" data-startTime="1294">just really trying to </span><span class="line" data-startTime="1294">improve performance. </span> <span class="line" data-startTime="1296">But it's really good for when </span><span class="line" data-startTime="1296">you've got to do stuff that's </span><span class="line" data-startTime="1300">maybe complex or you've already </span><span class="line" data-startTime="1300">got libraries written </span><span class="line" data-startTime="1303">in other languages, where you </span><span class="line" data-startTime="1303">just want to be able to reuse </span><span class="line" data-startTime="1307">that across applications. </span> <span class="line" data-startTime="1309">One company I was talking to </span><span class="line" data-startTime="1309">a couple of weeks ago was </span><span class="line" data-startTime="1312">saying, look, we have this </span><span class="line" data-startTime="1312">really great sync library that </span><span class="line" data-startTime="1314">we use in our native </span><span class="line" data-startTime="1314">apps for mobile. </span> <span class="line" data-startTime="1318">And we really want to be able to </span><span class="line" data-startTime="1318">use that sync library to be </span><span class="line" data-startTime="1321">able to sync data between the </span><span class="line" data-startTime="1321">client and the application. </span></p>

<p><span class="line" data-startTime="1326">This is a perfect solution for </span><span class="line" data-startTime="1326">them to be able to do that. </span></p>

<p class="speaker"><span class="line" data-starttime="1330"><span class="speakerName">John McCutchan</span>: Yeah. </span><span class="line" data-startTime="1330">Absolutely. </span><span class="line" data-startTime="1331">I think you really hit the nail </span><span class="line" data-startTime="1331">on the head when you said </span><span class="line" data-startTime="1334">you have this existing </span><span class="line" data-startTime="1334">code base. </span><span class="line" data-startTime="1336">A lot of applications that are </span><span class="line" data-startTime="1336">interested in coming to the </span><span class="line" data-startTime="1339">web, they already have a large </span><span class="line" data-startTime="1339">part of their application </span><span class="line" data-startTime="1343">written in C++ or some </span><span class="line" data-startTime="1343">other language. </span><span class="line" data-startTime="1345">And so the only thing that you </span><span class="line" data-startTime="1345">have to add on here is this </span><span class="line" data-startTime="1348">message-passing logic. </span></p>

<p class="speaker"><span class="line" data-starttime="1350"><span class="speakerName">Pete LePage</span>: Yep. </span><span class="line" data-startTime="1352">Cool. </span><span class="line" data-startTime="1352">Well, why don't we take some of </span><span class="line" data-startTime="1352">the questions that people </span><span class="line" data-startTime="1354">have posted to our Google </span><span class="line" data-startTime="1354">Moderator, and I'll have a </span><span class="line" data-startTime="1357">look at some of the YouTube </span><span class="line" data-startTime="1357">questions as well. </span><span class="line" data-startTime="1359">But Max West wants to know, "can </span><span class="line" data-startTime="1359">NaCl Acceleration Modules </span><span class="line" data-startTime="1365">be used to encrypt streaming </span><span class="line" data-startTime="1365">files, like media, audio, </span><span class="line" data-startTime="1368">video, and that kind </span><span class="line" data-startTime="1368">of thing?" </span></p>

<p class="speaker"><span class="line" data-starttime="1370"><span class="speakerName">John McCutchan</span>: Absolutely. </span><span class="line" data-startTime="1373">And there's another talk which </span><span class="line" data-startTime="1373">we'll link to afterwards which </span><span class="line" data-startTime="1375">includes a measurement of the </span><span class="line" data-startTime="1375">latency in the throughput of </span><span class="line" data-startTime="1380">transmitting data. </span><span class="line" data-startTime="1381">And the throughput right now </span><span class="line" data-startTime="1381">is about 400 megabytes per </span><span class="line" data-startTime="1385">second on my machine. </span><span class="line" data-startTime="1387">So that's round trip. </span><span class="line" data-startTime="1389">So that's from JavaScript into </span><span class="line" data-startTime="1389">Native Client Acceleration </span><span class="line" data-startTime="1392">Module and then back into </span><span class="line" data-startTime="1392">JavaScript at 400 megabytes </span><span class="line" data-startTime="1395">per second. </span></p>

<p class="speaker"><span class="line" data-starttime="1397"><span class="speakerName">Pete LePage</span>: That's </span><span class="line" data-startTime="1397">pretty serious. </span><span class="line" data-startTime="1400">I'm trying to think what </span><span class="line" data-startTime="1400">you'd need for video. </span><span class="line" data-startTime="1402">But I'd be willing to bet that's </span><span class="line" data-startTime="1402">probably pretty close, </span><span class="line" data-startTime="1405">if not good enough. </span></p>

<p class="speaker"><span class="line" data-starttime="1406"><span class="speakerName">John McCutchan</span>: Back of the </span><span class="line" data-startTime="1406">envelope, I think you can do a </span><span class="line" data-startTime="1410">1024 uncompressed image with 32 </span><span class="line" data-startTime="1410">bits per pixel at 60 hertz. </span><span class="line" data-startTime="1418">And that's about 260 megs. </span><span class="line" data-startTime="1421">So you still some </span><span class="line" data-startTime="1421">room left over. </span><span class="line" data-startTime="1423">And of course, when you're </span><span class="line" data-startTime="1423">dealing with video, it's </span><span class="line" data-startTime="1425">already compressed. </span></p>

<p class="speaker"><span class="line" data-starttime="1427"><span class="speakerName">Pete LePage</span>: Right. </span><span class="line" data-startTime="1427">Yeah, that's true. </span><span class="line" data-startTime="1429">All right. </span><span class="line" data-startTime="1430">Next, Rob from Missoula wants </span><span class="line" data-startTime="1430">to know, "is it possible to </span><span class="line" data-startTime="1433">compile existing libraries </span><span class="line" data-startTime="1433">written in C# or Java to be </span><span class="line" data-startTime="1437">used in NaCl in a Chrome app?" </span><span class="line" data-startTime="1437">And I know you touched on C# </span><span class="line" data-startTime="1442">and said that the </span><span class="line" data-startTime="1442">answer was yes. </span><span class="line" data-startTime="1443">But what about Java? </span></p>

<p class="speaker"><span class="line" data-starttime="1445"><span class="speakerName">John McCutchan</span>: I don't know </span><span class="line" data-startTime="1445">if that's possible today. </span><span class="line" data-startTime="1447">But C# absolutely does work. </span></p>

<p class="speaker"><span class="line" data-starttime="1453"><span class="speakerName">Pete LePage</span>: So you said to </span><span class="line" data-startTime="1453">compile the stuff, people need </span><span class="line" data-startTime="1455">to grab their GCC compiler. </span><span class="line" data-startTime="1457">Where can they find </span><span class="line" data-startTime="1457">the great &mdash; </span><span class="line" data-startTime="1461">I just want to go </span><span class="line" data-startTime="1461">through this. </span><span class="line" data-startTime="1462">Are the docs up on the Chrome </span><span class="line" data-startTime="1462">Developer website? </span></p>

<p class="speaker"><span class="line" data-starttime="1466"><span class="speakerName">John McCutchan</span>: So for Native </span><span class="line" data-startTime="1466">Client, you want to go to </span><span class="line" data-startTime="1467">gonacl.com. </span><span class="line" data-startTime="1469">And that's going to explain </span><span class="line" data-startTime="1469">everything you need to know </span><span class="line" data-startTime="1471">about developing with </span><span class="line" data-startTime="1471">Native Client. </span><span class="line" data-startTime="1473">And right now, for Native Client </span><span class="line" data-startTime="1473">Acceleration Modules, </span><span class="line" data-startTime="1475">the best place is to hit up the </span><span class="line" data-startTime="1475">GitHub repository, which </span><span class="line" data-startTime="1479">has a lot of example code. </span><span class="line" data-startTime="1482">We're going to be working to add </span><span class="line" data-startTime="1482">some stuff to the Chrome </span><span class="line" data-startTime="1485">Apps documentation. </span></p>

<p class="speaker"><span class="line" data-starttime="1487"><span class="speakerName">Pete LePage</span>: And that's </span><span class="line" data-startTime="1487">on the GitHub </span><span class="line" data-startTime="1488">repository that you posted? </span><span class="line" data-startTime="1490">Or is that in the Google Chrome </span><span class="line" data-startTime="1490">GitHub repository? </span></p>

<p class="speaker"><span class="line" data-starttime="1493"><span class="speakerName">John McCutchan</span>: That's in my </span><span class="line" data-startTime="1493">own GitHub repository. </span><span class="line" data-startTime="1495">And we'll post a link after </span><span class="line" data-startTime="1495">the show as well. </span></p>

<p class="speaker"><span class="line" data-starttime="1498"><span class="speakerName">Pete LePage</span>: OK. </span><span class="line" data-startTime="1498">We'll get a post up on our </span><span class="line" data-startTime="1498">Chrome Developers page that </span><span class="line" data-startTime="1503">you can go and have a look at. </span><span class="line" data-startTime="1506">GT from India wants to know </span><span class="line" data-startTime="1506">whether the media source </span><span class="line" data-startTime="1509">extension APIs are going to be </span><span class="line" data-startTime="1509">supported with Chrome for </span><span class="line" data-startTime="1512">Android beta or the latest? </span><span class="line" data-startTime="1514">We're not really focusing on </span><span class="line" data-startTime="1514">some of the Chrome for Android </span><span class="line" data-startTime="1517">stuff today. </span><span class="line" data-startTime="1519">But that's something that I </span><span class="line" data-startTime="1519">believe we want to support. </span><span class="line" data-startTime="1523">But I don't want to give you a </span><span class="line" data-startTime="1523">complete answer right now, GT, </span><span class="line" data-startTime="1526">because I'm not actually 100% </span><span class="line" data-startTime="1526">sure on the answer there. </span><span class="line" data-startTime="1530">And then, John, last one for </span><span class="line" data-startTime="1530">you, and then we'll sign off. </span><span class="line" data-startTime="1533">But "when will we be able to </span><span class="line" data-startTime="1533">have multiple OpenGL contacts </span><span class="line" data-startTime="1537">in NaCl and use them off </span><span class="line" data-startTime="1537">the main thread?" </span></p>

<p class="speaker"><span class="line" data-starttime="1541"><span class="speakerName">John McCutchan</span>: So calling </span><span class="line" data-startTime="1541">off of the main </span><span class="line" data-startTime="1542">thread is coming soon. </span><span class="line" data-startTime="1546">I'm not entirely sure on </span><span class="line" data-startTime="1546">the specific Chrome </span><span class="line" data-startTime="1550">and NaCl SDK release. </span><span class="line" data-startTime="1552">But it's coming really soon with </span><span class="line" data-startTime="1552">the ability to make all </span><span class="line" data-startTime="1556">sorts of Pepper calls off </span><span class="line" data-startTime="1556">of the main thread. </span><span class="line" data-startTime="1559">With respect to multiple OpenGL </span><span class="line" data-startTime="1559">contacts, I am not sure </span><span class="line" data-startTime="1563">when that is coming, </span></p>

<p class="speaker"><span class="line" data-starttime="1566"><span class="speakerName">Pete LePage</span>: All right. </span> <span class="line" data-startTime="1566">Well, cool. </span> <span class="line" data-startTime="1568">Thanks for those answers. </span> <span class="line" data-startTime="1569">And thanks for a really </span><span class="line" data-startTime="1569">interesting </span><span class="line" data-startTime="1570">presentation today. </span> <span class="line" data-startTime="1572">I didn't realize how this could </span><span class="line" data-startTime="1572">solve a lot of problems </span><span class="line" data-startTime="1576">for people who already have </span><span class="line" data-startTime="1576">existing code bases, or maybe </span><span class="line" data-startTime="1580">who are looking for places where </span><span class="line" data-startTime="1580">they just want to get </span><span class="line" data-startTime="1584">that a little bit of extra </span><span class="line" data-startTime="1584">performance that they can't </span><span class="line" data-startTime="1586">get because JavaScript V8 is </span><span class="line" data-startTime="1586">fast but maybe isn't quite </span><span class="line" data-startTime="1592">where they need it to be in </span><span class="line" data-startTime="1592">order to do some rather </span><span class="line" data-startTime="1594">complex calculations. </span> <span class="line" data-startTime="1597">Thanks for joining us. </span> <span class="line" data-startTime="1598">And thanks to everybody for </span><span class="line" data-startTime="1598">watching this week. </span></p>

<p><span class="line" data-startTime="1600">We'll be back next week. </span> <span class="line" data-startTime="1603">I'll be live from </span><span class="line" data-startTime="1603">Mountain View. </span> <span class="line" data-startTime="1605">And we'll have Paul </span><span class="line" data-startTime="1605">Kinlan joining me. </span> <span class="line" data-startTime="1607">We're going to do just a fun &mdash; </span><span class="line" data-startTime="1610">we're not going to plan </span><span class="line" data-startTime="1610">a topic for next week. </span> <span class="line" data-startTime="1613">We want to take your </span><span class="line" data-startTime="1613">questions. </span> <span class="line" data-startTime="1614">We want to open it up </span><span class="line" data-startTime="1614">to you to just chat. </span> <span class="line" data-startTime="1618">We're going to show off </span><span class="line" data-startTime="1618">some really cool </span><span class="line" data-startTime="1620">demos, some neat stuff. </span> <span class="line" data-startTime="1621">I think I've got one up my </span><span class="line" data-startTime="1621">sleeve that hopefully I'll be </span><span class="line" data-startTime="1625">able to get some stuff done </span><span class="line" data-startTime="1625">before then so that you guys </span><span class="line" data-startTime="1628">can go and check out some </span><span class="line" data-startTime="1628">really cool stuff. </span> <span class="line" data-startTime="1630">Thanks for joining us, John. </span> <span class="line" data-startTime="1632">Thank you very much. </span></p>

<p><span class="line" data-startTime="1633">And Louis, thanks </span><span class="line" data-startTime="1633">for producing. </span></p>

<p class="speaker"><span class="line" data-starttime="1634"><span class="speakerName">John McCutchan</span>: Thanks, </span><span class="line" data-startTime="1634">everyone. </span></p>

<p class="speaker"><span class="line" data-starttime="1635"><span class="speakerName">Pete LePage</span>: And have a </span><span class="line" data-startTime="1635">great week, everybody. </span><span class="line" data-startTime="1637">Thank you. </span></p>